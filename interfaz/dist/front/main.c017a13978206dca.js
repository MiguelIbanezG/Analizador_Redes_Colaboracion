(self.webpackChunkfront=self.webpackChunkfront||[]).push([[179],{827:(na,ee,U)=>{"use strict";let B=null,I=1;function N(t){const i=B;return B=t,i}function y(t){if((!p(t)||t.dirty)&&(t.dirty||t.lastCleanEpoch!==I)){if(!t.producerMustRecompute(t)&&!d(t))return t.dirty=!1,void(t.lastCleanEpoch=I);t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=I}}function d(t){_(t);for(let i=0;i<t.producerNode.length;i++){const e=t.producerNode[i],n=t.producerLastReadVersion[i];if(n!==e.version||(y(e),n!==e.version))return!0}return!1}function f(t,i){if(function O(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}(t),_(t),1===t.liveConsumerNode.length)for(let n=0;n<t.producerNode.length;n++)f(t.producerNode[n],t.producerIndexOfThis[n]);const e=t.liveConsumerNode.length-1;if(t.liveConsumerNode[i]=t.liveConsumerNode[e],t.liveConsumerIndexOfThis[i]=t.liveConsumerIndexOfThis[e],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,i<t.liveConsumerNode.length){const n=t.liveConsumerIndexOfThis[i],r=t.liveConsumerNode[i];_(r),r.producerIndexOfThis[n]=i}}function p(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function _(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}let re=null;function We(t){return"function"==typeof t}function qt(t){const e=t(n=>{Error.call(n),n.stack=(new Error).stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}const si=qt(t=>function(e){t(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((n,r)=>`${r+1}) ${n.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e});function kt(t,i){if(t){const e=t.indexOf(i);0<=e&&t.splice(e,1)}}class nt{constructor(i){this.initialTeardown=i,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let i;if(!this.closed){this.closed=!0;const{_parentage:e}=this;if(e)if(this._parentage=null,Array.isArray(e))for(const s of e)s.remove(this);else e.remove(this);const{initialTeardown:n}=this;if(We(n))try{n()}catch(s){i=s instanceof si?s.errors:[s]}const{_finalizers:r}=this;if(r){this._finalizers=null;for(const s of r)try{hi(s)}catch(o){i=i??[],o instanceof si?i=[...i,...o.errors]:i.push(o)}}if(i)throw new si(i)}}add(i){var e;if(i&&i!==this)if(this.closed)hi(i);else{if(i instanceof nt){if(i.closed||i._hasParent(this))return;i._addParent(this)}(this._finalizers=null!==(e=this._finalizers)&&void 0!==e?e:[]).push(i)}}_hasParent(i){const{_parentage:e}=this;return e===i||Array.isArray(e)&&e.includes(i)}_addParent(i){const{_parentage:e}=this;this._parentage=Array.isArray(e)?(e.push(i),e):e?[e,i]:i}_removeParent(i){const{_parentage:e}=this;e===i?this._parentage=null:Array.isArray(e)&&kt(e,i)}remove(i){const{_finalizers:e}=this;e&&kt(e,i),i instanceof nt&&i._removeParent(this)}}nt.EMPTY=(()=>{const t=new nt;return t.closed=!0,t})();const Kt=nt.EMPTY;function _i(t){return t instanceof nt||t&&"closed"in t&&We(t.remove)&&We(t.add)&&We(t.unsubscribe)}function hi(t){We(t)?t():t.unsubscribe()}const Ft={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},lt={setTimeout(t,i,...e){const{delegate:n}=lt;return n?.setTimeout?n.setTimeout(t,i,...e):setTimeout(t,i,...e)},clearTimeout(t){const{delegate:i}=lt;return(i?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Ve(t){lt.setTimeout(()=>{const{onUnhandledError:i}=Ft;if(!i)throw t;i(t)})}function $e(){}const st=Qe("C",void 0,void 0);function Qe(t,i,e){return{kind:t,value:i,error:e}}let oi=null;function Zr(t){if(Ft.useDeprecatedSynchronousErrorHandling){const i=!oi;if(i&&(oi={errorThrown:!1,error:null}),t(),i){const{errorThrown:e,error:n}=oi;if(oi=null,e)throw n}}else t()}class Hs extends nt{constructor(i){super(),this.isStopped=!1,i?(this.destination=i,_i(i)&&i.add(this)):this.destination=ll}static create(i,e,n){return new zs(i,e,n)}next(i){this.isStopped?fo(function Jt(t){return Qe("N",t,void 0)}(i),this):this._next(i)}error(i){this.isStopped?fo(function Ot(t){return Qe("E",void 0,t)}(i),this):(this.isStopped=!0,this._error(i))}complete(){this.isStopped?fo(st,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(i){this.destination.next(i)}_error(i){try{this.destination.error(i)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ra=Function.prototype.bind;function Hi(t,i){return ra.call(t,i)}class ho{constructor(i){this.partialObserver=i}next(i){const{partialObserver:e}=this;if(e.next)try{e.next(i)}catch(n){Kr(n)}}error(i){const{partialObserver:e}=this;if(e.error)try{e.error(i)}catch(n){Kr(n)}else Kr(i)}complete(){const{partialObserver:i}=this;if(i.complete)try{i.complete()}catch(e){Kr(e)}}}class zs extends Hs{constructor(i,e,n){let r;if(super(),We(i)||!i)r={next:i??void 0,error:e??void 0,complete:n??void 0};else{let s;this&&Ft.useDeprecatedNextContext?(s=Object.create(i),s.unsubscribe=()=>this.unsubscribe(),r={next:i.next&&Hi(i.next,s),error:i.error&&Hi(i.error,s),complete:i.complete&&Hi(i.complete,s)}):r=i}this.destination=new ho(r)}}function Kr(t){Ft.useDeprecatedSynchronousErrorHandling?function uo(t){Ft.useDeprecatedSynchronousErrorHandling&&oi&&(oi.errorThrown=!0,oi.error=t)}(t):Ve(t)}function fo(t,i){const{onStoppedNotification:e}=Ft;e&&lt.setTimeout(()=>e(t,i))}const ll={closed:!0,next:$e,error:function ai(t){throw t},complete:$e},dr="function"==typeof Symbol&&Symbol.observable||"@@observable";function ur(t){return t}function sa(t){return 0===t.length?ur:1===t.length?t[0]:function(e){return t.reduce((n,r)=>r(n),e)}}let Qt=(()=>{class t{constructor(e){e&&(this._subscribe=e)}lift(e){const n=new t;return n.source=this,n.operator=e,n}subscribe(e,n,r){const s=function qc(t){return t&&t instanceof Hs||function go(t){return t&&We(t.next)&&We(t.error)&&We(t.complete)}(t)&&_i(t)}(e)?e:new zs(e,n,r);return Zr(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(e){try{return this._subscribe(e)}catch(n){e.error(n)}}forEach(e,n){return new(n=mo(n))((r,s)=>{const o=new zs({next:a=>{try{e(a)}catch(l){s(l),o.unsubscribe()}},error:s,complete:r});this.subscribe(o)})}_subscribe(e){var n;return null===(n=this.source)||void 0===n?void 0:n.subscribe(e)}[dr](){return this}pipe(...e){return sa(e)(this)}toPromise(e){return new(e=mo(e))((n,r)=>{let s;this.subscribe(o=>s=o,o=>r(o),()=>n(s))})}}return t.create=i=>new t(i),t})();function mo(t){var i;return null!==(i=t??Ft.Promise)&&void 0!==i?i:Promise}const js=qt(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let ni=(()=>{class t extends Qt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(e){const n=new tt(this,this);return n.operator=e,n}_throwIfClosed(){if(this.closed)throw new js}next(e){Zr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const n of this.currentObservers)n.next(e)}})}error(e){Zr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=e;const{observers:n}=this;for(;n.length;)n.shift().error(e)}})}complete(){Zr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:e}=this;for(;e.length;)e.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var e;return(null===(e=this.observers)||void 0===e?void 0:e.length)>0}_trySubscribe(e){return this._throwIfClosed(),super._trySubscribe(e)}_subscribe(e){return this._throwIfClosed(),this._checkFinalizedStatuses(e),this._innerSubscribe(e)}_innerSubscribe(e){const{hasError:n,isStopped:r,observers:s}=this;return n||r?Kt:(this.currentObservers=null,s.push(e),new nt(()=>{this.currentObservers=null,kt(s,e)}))}_checkFinalizedStatuses(e){const{hasError:n,thrownError:r,isStopped:s}=this;n?e.error(r):s&&e.complete()}asObservable(){const e=new Qt;return e.source=this,e}}return t.create=(i,e)=>new tt(i,e),t})();class tt extends ni{constructor(i,e){super(),this.destination=i,this.source=e}next(i){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.next)||void 0===n||n.call(e,i)}error(i){var e,n;null===(n=null===(e=this.destination)||void 0===e?void 0:e.error)||void 0===n||n.call(e,i)}complete(){var i,e;null===(e=null===(i=this.destination)||void 0===i?void 0:i.complete)||void 0===e||e.call(i)}_subscribe(i){var e,n;return null!==(n=null===(e=this.source)||void 0===e?void 0:e.subscribe(i))&&void 0!==n?n:Kt}}class Dn extends ni{constructor(i){super(),this._value=i}get value(){return this.getValue()}_subscribe(i){const e=super._subscribe(i);return!e.closed&&i.next(this._value),e}getValue(){const{hasError:i,thrownError:e,_value:n}=this;if(i)throw e;return this._throwIfClosed(),n}next(i){super.next(this._value=i)}}function cl(t){return We(t?.lift)}function $t(t){return i=>{if(cl(i))return i.lift(function(e){try{return t(e,this)}catch(n){this.error(n)}});throw new TypeError("Unable to lift unknown Observable type")}}function li(t,i,e,n,r){return new ci(t,i,e,n,r)}class ci extends Hs{constructor(i,e,n,r,s,o){super(i),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=e?function(a){try{e(a)}catch(l){i.error(l)}}:super._next,this._error=r?function(a){try{r(a)}catch(l){i.error(l)}finally{this.unsubscribe()}}:super._error,this._complete=n?function(){try{n()}catch(a){i.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var i;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:e}=this;super.unsubscribe(),!e&&(null===(i=this.onFinalize)||void 0===i||i.call(this))}}}function mt(t,i){return $t((e,n)=>{let r=0;e.subscribe(li(n,s=>{n.next(t.call(i,s,r++))}))})}function Lt(t){for(let i in t)if(t[i]===Lt)return i;throw Error("Could not find renamed property on target object.")}function vn(t,i){for(const e in i)i.hasOwnProperty(e)&&!t.hasOwnProperty(e)&&(t[e]=i[e])}function Wt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Wt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;const i=t.toString();if(null==i)return""+i;const e=i.indexOf("\n");return-1===e?i:i.substring(0,e)}function In(t,i){return null==t||""===t?null===i?"":i:null==i||""===i?t:t+" "+i}const kn=Lt({__forward_ref__:Lt});function St(t){return t.__forward_ref__=St,t.toString=function(){return Wt(this())},t}function it(t){return ds(t)?t():t}function ds(t){return"function"==typeof t&&t.hasOwnProperty(kn)&&t.__forward_ref__===St}function hr(t){return t&&!!t.\u0275providers}const fr="https://g.co/ng/security#xss";class Pe extends Error{constructor(i,e){super(function Dr(t,i){return`NG0${Math.abs(t)}${i?": "+i:""}`}(i,e)),this.code=i}}const tr=Lt({\u0275cmp:Lt}),us=Lt({\u0275dir:Lt}),Qr=Lt({\u0275pipe:Lt}),Sn=Lt({\u0275mod:Lt}),yn=Lt({\u0275fac:Lt}),Pn=Lt({__NG_ELEMENT_ID__:Lt}),Ht=Lt({__NG_ENV_ID__:Lt});function at(t){return"string"==typeof t?t:null==t?"":String(t)}function hs(t,i){throw new Pe(-201,!1)}function ie(t,i){null==t&&function le(t,i,e,n){throw new Error(`ASSERTION ERROR: ${t}`+(null==n?"":` [Expected=> ${e} ${n} ${i} <=Actual]`))}(i,t,null,"!=")}function ke(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ht(t){return{providers:t.providers||[],imports:t.imports||[]}}function Mn(t){return Jc(t,gl)||Jc(t,Nh)}function Jc(t,i){return t.hasOwnProperty(i)?t[i]:null}function ml(t){return t&&(t.hasOwnProperty(ed)||t.hasOwnProperty(Lg))?t[ed]:null}const gl=Lt({\u0275prov:Lt}),ed=Lt({\u0275inj:Lt}),Nh=Lt({ngInjectableDef:Lt}),Lg=Lt({ngInjectorDef:Lt});var Tt=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(Tt||{});let td;function Fh(){return td}function Rn(t){const i=td;return td=t,i}function Lh(t,i,e){const n=Mn(t);return n&&"root"==n.providedIn?void 0===n.value?n.value=n.factory():n.value:e&Tt.Optional?null:void 0!==i?i:void hs(Wt(t))}const fi=globalThis;class Ne{constructor(i,e){this._desc=i,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=ke({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const vo={},ad="__NG_DI_FLAG__",ua="ngTempTokenPath",ld=/\n/gm,qr="__source";let bo;function Un(t){const i=bo;return bo=t,i}function zg(t,i=Tt.Default){if(void 0===bo)throw new Pe(-203,!1);return null===bo?Lh(t,void 0,i):bo.get(t,i&Tt.Optional?null:void 0,i)}function Te(t,i=Tt.Default){return(Fh()||zg)(it(t),i)}function He(t,i=Tt.Default){return Te(t,bl(i))}function bl(t){return typeof t>"u"||"number"==typeof t?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function dd(t){const i=[];for(let e=0;e<t.length;e++){const n=it(t[e]);if(Array.isArray(n)){if(0===n.length)throw new Pe(900,!1);let r,s=Tt.Default;for(let o=0;o<n.length;o++){const a=n[o],l=ud(a);"number"==typeof l?-1===l?r=a.token:s|=l:r=a}i.push(Te(r,s))}else i.push(Te(n))}return i}function ms(t,i){return t[ad]=i,t.prototype[ad]=i,t}function ud(t){return t[ad]}function Jr(t){return{toString:t}.toString()}var _l=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(_l||{}),pr=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(pr||{});const Mr={},zt=[];function zh(t,i,e){let n=t.length;for(;;){const r=t.indexOf(i,e);if(-1===r)return r;if(0===r||t.charCodeAt(r-1)<=32){const s=i.length;if(r+s===n||t.charCodeAt(r+s)<=32)return r}e=r+1}}function hd(t,i,e){let n=0;for(;n<e.length;){const r=e[n];if("number"==typeof r){if(0!==r)break;n++;const s=e[n++],o=e[n++],a=e[n++];t.setAttribute(i,o,a,s)}else{const s=r,o=e[++n];jh(s)?t.setProperty(i,s,o):t.setAttribute(i,s,o),n++}}return n}function fd(t){return 3===t||4===t||6===t}function jh(t){return 64===t.charCodeAt(0)}function Us(t,i){if(null!==i&&0!==i.length)if(null===t||0===t.length)t=i.slice();else{let e=-1;for(let n=0;n<i.length;n++){const r=i[n];"number"==typeof r?e=r:0===e||Uh(t,e,r,null,-1===e||2===e?i[++n]:null)}}return t}function Uh(t,i,e,n,r){let s=0,o=t.length;if(-1===i)o=-1;else for(;s<t.length;){const a=t[s++];if("number"==typeof a){if(a===i){o=-1;break}if(a>i){o=s-1;break}}}for(;s<t.length;){const a=t[s];if("number"==typeof a)break;if(a===e){if(null===n)return void(null!==r&&(t[s+1]=r));if(n===t[s+1])return void(t[s+2]=r)}s++,null!==n&&s++,null!==r&&s++}-1!==o&&(t.splice(o,0,i),s=o+1),t.splice(s++,0,e),null!==n&&t.splice(s++,0,n),null!==r&&t.splice(s++,0,r)}const $h="ng-template";function Ug(t,i,e){let n=0,r=!0;for(;n<t.length;){let s=t[n++];if("string"==typeof s&&r){const o=t[n++];if(e&&"class"===s&&-1!==zh(o.toLowerCase(),i,0))return!0}else{if(1===s){for(;n<t.length&&"string"==typeof(s=t[n++]);)if(s.toLowerCase()===i)return!0;return!1}"number"==typeof s&&(r=!1)}}return!1}function Wh(t){return 4===t.type&&t.value!==$h}function Yh(t,i,e){return i===(4!==t.type||e?t.value:$h)}function $g(t,i,e){let n=4;const r=t.attrs||[],s=function Xh(t){for(let i=0;i<t.length;i++)if(fd(t[i]))return i;return t.length}(r);let o=!1;for(let a=0;a<i.length;a++){const l=i[a];if("number"!=typeof l){if(!o)if(4&n){if(n=2|1&n,""!==l&&!Yh(t,l,e)||""===l&&1===i.length){if(ir(n))return!1;o=!0}}else{const u=8&n?l:i[++a];if(8&n&&null!==t.attrs){if(!Ug(t.attrs,u,e)){if(ir(n))return!1;o=!0}continue}const R=Mi(8&n?"class":l,r,Wh(t),e);if(-1===R){if(ir(n))return!1;o=!0;continue}if(""!==u){let z;z=R>s?"":r[R+1].toLowerCase();const G=8&n?z:null;if(G&&-1!==zh(G,u,0)||2&n&&u!==z){if(ir(n))return!1;o=!0}}}}else{if(!o&&!ir(n)&&!ir(l))return!1;if(o&&ir(l))continue;o=!1,n=l|1&n}}return ir(n)||o}function ir(t){return 0==(1&t)}function Mi(t,i,e,n){if(null===i)return-1;let r=0;if(n||!e){let s=!1;for(;r<i.length;){const o=i[r];if(o===t)return r;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=i[++r];for(;"string"==typeof a;)a=i[++r];continue}if(4===o)break;if(0===o){r+=4;continue}}r+=s?1:2}return-1}return function Yg(t,i){let e=t.indexOf(4);if(e>-1)for(e++;e<t.length;){const n=t[e];if("number"==typeof n)return-1;if(n===i)return e;e++}return-1}(i,t)}function Gh(t,i,e=!1){for(let n=0;n<i.length;n++)if($g(t,i[n],e))return!0;return!1}function Gg(t,i){e:for(let e=0;e<i.length;e++){const n=i[e];if(t.length===n.length){for(let r=0;r<t.length;r++)if(t[r]!==n[r])continue e;return!0}}return!1}function Zh(t,i){return t?":not("+i.trim()+")":i}function ha(t){let i=t[0],e=1,n=2,r="",s=!1;for(;e<t.length;){let o=t[e];if("string"==typeof o)if(2&n){const a=t[++e];r+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&n?r+="."+o:4&n&&(r+=" "+o);else""!==r&&!ir(o)&&(i+=Zh(s,r),r=""),n=o,s=s||!ir(n);e++}return""!==r&&(i+=Zh(s,r)),i}function nr(t){return Jr(()=>{const i=Kh(t),e={...i,decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===_l.OnPush,directiveDefs:null,pipeDefs:null,dependencies:i.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||pr.Emulated,styles:t.styles||zt,_:null,schemas:t.schemas||null,tView:null,id:""};Qh(e);const n=t.dependencies;return e.directiveDefs=Cl(n,!1),e.pipeDefs=Cl(n,!0),e.id=function Qg(t){let i=0;const e=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(const r of e)i=Math.imul(31,i)+r.charCodeAt(0)<<0;return i+=2147483648,"c"+i}(e),e})}function wl(t){return bt(t)||Fi(t)}function pd(t){return null!==t}function jt(t){return Jr(()=>({type:t.type,bootstrap:t.bootstrap||zt,declarations:t.declarations||zt,imports:t.imports||zt,exports:t.exports||zt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function md(t,i){if(null==t)return Mr;const e={};for(const n in t)if(t.hasOwnProperty(n)){let r=t[n],s=r;Array.isArray(r)&&(s=r[1],r=r[0]),e[r]=n,i&&(i[r]=s)}return e}function ct(t){return Jr(()=>{const i=Kh(t);return Qh(i),i})}function bn(t){return{type:t.type,name:t.name,factory:null,pure:!1!==t.pure,standalone:!0===t.standalone,onDestroy:t.type.prototype.ngOnDestroy||null}}function bt(t){return t[tr]||null}function Fi(t){return t[us]||null}function an(t){return t[Qr]||null}function _n(t,i){const e=t[Sn]||null;if(!e&&!0===i)throw new Error(`Type ${Wt(t)} does not have '\u0275mod' property.`);return e}function Kh(t){const i={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:i,inputTransforms:null,inputConfig:t.inputs||Mr,exportAs:t.exportAs||null,standalone:!0===t.standalone,signals:!0===t.signals,selectors:t.selectors||zt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:md(t.inputs,i),outputs:md(t.outputs),debugInfo:null}}function Qh(t){t.features?.forEach(i=>i(t))}function Cl(t,i){if(!t)return null;const e=i?an:wl;return()=>("function"==typeof t?t():t).map(n=>e(n)).filter(pd)}const Ii=0,je=1,rt=2,Ci=3,mr=4,pi=5,ln=6,$s=7,mi=8,wn=9,Tr=10,ft=11,fa=12,qh=13,_o=14,Ti=15,pa=16,wo=17,Or=18,ma=19,Jh=20,vs=21,xl=22,es=23,pt=25,gd=1,Ar=7,Co=9,Li=10;var xo=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t[t.HasChildViewsToRefresh=4]="HasChildViewsToRefresh",t}(xo||{});function Qi(t){return Array.isArray(t)&&"object"==typeof t[gd]}function $i(t){return Array.isArray(t)&&!0===t[gd]}function Dl(t){return 0!=(4&t.flags)}function Ws(t){return t.componentOffset>-1}function Sl(t){return 1==(1&t.flags)}function gr(t){return!!t.template}function vd(t){return 0!=(512&t[rt])}function Gs(t,i){return t.hasOwnProperty(yn)?t[yn]:null}class Ue{constructor(i,e,n){this.previousValue=i,this.currentValue=e,this.firstChange=n}isFirstChange(){return this.firstChange}}function Tn(){return rf}function rf(t){return t.type.prototype.ngOnChanges&&(t.setInput=gi),sf}function sf(){const t=wd(this),i=t?.current;if(i){const e=t.previous;if(e===Mr)t.previous=i;else for(let n in i)e[n]=i[n];t.current=null,this.ngOnChanges(i)}}function gi(t,i,e,n){const r=this.declaredInputs[e],s=wd(t)||function Cd(t,i){return t[va]=i}(t,{previous:Mr,current:null}),o=s.current||(s.current={}),a=s.previous,l=a[r];o[r]=new Ue(l&&l.currentValue,i,a===Mr),t[n]=i}Tn.ngInherit=!0;const va="__ngSimpleChanges__";function wd(t){return t[va]||null}const Ir=function(t,i,e){};let kr=!1;function vi(t){for(;Array.isArray(t);)t=t[Ii];return t}function Eo(t,i){return vi(i[t])}function On(t,i){return vi(i[t.index])}function Xs(t,i){return t.data[i]}function Do(t,i){return t[i]}function $n(t,i){const e=i[t];return Qi(e)?e:e[Ii]}function Dd(t){return 128==(128&t[rt])}function Pr(t,i){return null==i?null:t[i]}function df(t){t[wo]=0}function av(t){1024&t[rt]||(t[rt]|=1024,Dd(t)&&ya(t))}function hf(t){return 9216&t[rt]||t[es]?.dirty}function Sd(t){hf(t)?ya(t):64&t[rt]&&(function rv(){return kr}()?(t[rt]|=1024,ya(t)):t[Tr].changeDetectionScheduler?.notify())}function ya(t){t[Tr].changeDetectionScheduler?.notify();let i=t[Ci];for(;null!==i&&!($i(i)&&i[rt]&xo.HasChildViewsToRefresh||Qi(i)&&8192&i[rt]);){if($i(i))i[rt]|=xo.HasChildViewsToRefresh;else if(i[rt]|=8192,!Dd(i))break;i=i[Ci]}}function Ml(t,i){if(256==(256&t[rt]))throw new Pe(911,!1);null===t[vs]&&(t[vs]=[]),t[vs].push(i)}const ut={lFrame:RC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function pf(){return ut.bindingsEnabled}function So(){return null!==ut.skipHydrationRootTNode}function De(){return ut.lFrame.lView}function At(){return ut.lFrame.tView}function Yt(t){return ut.lFrame.contextLView=t,t[mi]}function Pt(t){return ut.lFrame.contextLView=null,t}function Gt(){let t=Rt();for(;null!==t&&64===t.type;)t=t.parent;return t}function Rt(){return ut.lFrame.currentTNode}function H(t,i){const e=ut.lFrame;e.currentTNode=t,e.isParent=i}function K(){return ut.lFrame.isParent}function J(){ut.lFrame.isParent=!1}function ot(){const t=ut.lFrame;let i=t.bindingRootIndex;return-1===i&&(i=t.bindingRootIndex=t.tView.bindingStartIndex),i}function Vi(){return ut.lFrame.bindingIndex++}function Wn(t){const i=ut.lFrame,e=i.bindingIndex;return i.bindingIndex=i.bindingIndex+t,e}function gf(t,i){const e=ut.lFrame;e.bindingIndex=e.bindingRootIndex=t,_a(i)}function _a(t){ut.lFrame.currentDirectiveIndex=t}function IC(){return ut.lFrame.currentQueryIndex}function gv(t){ut.lFrame.currentQueryIndex=t}function DN(t){const i=t[je];return 2===i.type?i.declTNode:1===i.type?t[pi]:null}function kC(t,i,e){if(e&Tt.SkipSelf){let r=i,s=t;for(;!(r=r.parent,null!==r||e&Tt.Host||(r=DN(s),null===r||(s=s[_o],10&r.type))););if(null===r)return!1;i=r,t=s}const n=ut.lFrame=PC();return n.currentTNode=i,n.lView=t,!0}function vv(t){const i=PC(),e=t[je];ut.lFrame=i,i.currentTNode=e.firstChild,i.lView=t,i.tView=e,i.contextLView=t,i.bindingIndex=e.bindingStartIndex,i.inI18n=!1}function PC(){const t=ut.lFrame,i=null===t?null:t.child;return null===i?RC(t):i}function RC(t){const i={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return null!==t&&(t.child=i),i}function NC(){const t=ut.lFrame;return ut.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}const FC=NC;function yv(){const t=NC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Nn(){return ut.lFrame.selectedIndex}function wa(t){ut.lFrame.selectedIndex=t}function Oi(){const t=ut.lFrame;return Xs(t.tView,t.selectedIndex)}let BC=!0;function vf(){return BC}function Mo(t){BC=t}function yf(t,i){for(let e=i.directiveStart,n=i.directiveEnd;e<n;e++){const s=t.data[e].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:l,ngAfterViewChecked:u,ngOnDestroy:w}=s;o&&(t.contentHooks??=[]).push(-e,o),a&&((t.contentHooks??=[]).push(e,a),(t.contentCheckHooks??=[]).push(e,a)),l&&(t.viewHooks??=[]).push(-e,l),u&&((t.viewHooks??=[]).push(e,u),(t.viewCheckHooks??=[]).push(e,u)),null!=w&&(t.destroyHooks??=[]).push(e,w)}}function bf(t,i,e){VC(t,i,3,e)}function _f(t,i,e,n){(3&t[rt])===e&&VC(t,i,e,n)}function bv(t,i){let e=t[rt];(3&e)===i&&(e&=16383,e+=1,t[rt]=e)}function VC(t,i,e,n){const s=n??-1,o=i.length-1;let a=0;for(let l=void 0!==n?65535&t[wo]:0;l<o;l++)if("number"==typeof i[l+1]){if(a=i[l],null!=n&&a>=n)break}else i[l]<0&&(t[wo]+=65536),(a<s||-1==s)&&(kN(t,e,i,l),t[wo]=(4294901760&t[wo])+l+2),l++}function HC(t,i){Ir(4,t,i);const e=N(null);try{i.call(t)}finally{N(e),Ir(5,t,i)}}function kN(t,i,e,n){const r=e[n]<0,s=e[n+1],a=t[r?-e[n]:e[n]];r?t[rt]>>14<t[wo]>>16&&(3&t[rt])===i&&(t[rt]+=16384,HC(a,s)):HC(a,s)}const Tl=-1;class Md{constructor(i,e,n){this.factory=i,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}function wv(t){return t!==Tl}function Td(t){return 32767&t}function Od(t,i){let e=function LN(t){return t>>16}(t),n=i;for(;e>0;)n=n[_o],e--;return n}let Cv=!0;function wf(t){const i=Cv;return Cv=t,i}const zC=255,jC=5;let BN=0;const _s={};function Cf(t,i){const e=UC(t,i);if(-1!==e)return e;const n=i[je];n.firstCreatePass&&(t.injectorIndex=i.length,xv(n.data,t),xv(i,null),xv(n.blueprint,null));const r=xf(t,i),s=t.injectorIndex;if(wv(r)){const o=Td(r),a=Od(r,i),l=a[je].data;for(let u=0;u<8;u++)i[s+u]=a[o+u]|l[o+u]}return i[s+8]=r,s}function xv(t,i){t.push(0,0,0,0,0,0,0,0,i)}function UC(t,i){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null===i[t.injectorIndex+8]?-1:t.injectorIndex}function xf(t,i){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;let e=0,n=null,r=i;for(;null!==r;){if(n=KC(r),null===n)return Tl;if(e++,r=r[_o],-1!==n.injectorIndex)return n.injectorIndex|e<<16}return Tl}function Ev(t,i,e){!function VN(t,i,e){let n;"string"==typeof e?n=e.charCodeAt(0)||0:e.hasOwnProperty(Pn)&&(n=e[Pn]),null==n&&(n=e[Pn]=BN++);const r=n&zC;i.data[t+(r>>jC)]|=1<<r}(t,i,e)}function $C(t,i,e){if(e&Tt.Optional||void 0!==t)return t;hs()}function WC(t,i,e,n){if(e&Tt.Optional&&void 0===n&&(n=null),!(e&(Tt.Self|Tt.Host))){const r=t[wn],s=Rn(void 0);try{return r?r.get(i,n,e&Tt.Optional):Lh(i,n,e&Tt.Optional)}finally{Rn(s)}}return $C(n,0,e)}function YC(t,i,e,n=Tt.Default,r){if(null!==t){if(2048&i[rt]&&!(n&Tt.Self)){const o=function $N(t,i,e,n,r){let s=t,o=i;for(;null!==s&&null!==o&&2048&o[rt]&&!(512&o[rt]);){const a=GC(s,o,e,n|Tt.Self,_s);if(a!==_s)return a;let l=s.parent;if(!l){const u=o[Jh];if(u){const w=u.get(e,_s,n);if(w!==_s)return w}l=KC(o),o=o[_o]}s=l}return r}(t,i,e,n,_s);if(o!==_s)return o}const s=GC(t,i,e,n,_s);if(s!==_s)return s}return WC(i,e,n,r)}function GC(t,i,e,n,r){const s=function jN(t){if("string"==typeof t)return t.charCodeAt(0)||0;const i=t.hasOwnProperty(Pn)?t[Pn]:void 0;return"number"==typeof i?i>=0?i&zC:UN:i}(e);if("function"==typeof s){if(!kC(i,t,n))return n&Tt.Host?$C(r,0,n):WC(i,e,n,r);try{let o;if(o=s(n),null!=o||n&Tt.Optional)return o;hs()}finally{FC()}}else if("number"==typeof s){let o=null,a=UC(t,i),l=Tl,u=n&Tt.Host?i[Ti][pi]:null;for((-1===a||n&Tt.SkipSelf)&&(l=-1===a?xf(t,i):i[a+8],l!==Tl&&ZC(n,!1)?(o=i[je],a=Td(l),i=Od(l,i)):a=-1);-1!==a;){const w=i[je];if(XC(s,a,w.data)){const R=zN(a,i,e,o,n,u);if(R!==_s)return R}l=i[a+8],l!==Tl&&ZC(n,i[je].data[a+8]===u)&&XC(s,a,i)?(o=w,a=Td(l),i=Od(l,i)):a=-1}}return r}function zN(t,i,e,n,r,s){const o=i[je],a=o.data[t+8],w=Ef(a,o,e,null==n?Ws(a)&&Cv:n!=o&&0!=(3&a.type),r&Tt.Host&&s===a);return null!==w?Ca(i,o,w,a):_s}function Ef(t,i,e,n,r){const s=t.providerIndexes,o=i.data,a=1048575&s,l=t.directiveStart,w=s>>20,z=r?a+w:t.directiveEnd;for(let G=n?a:a+w;G<z;G++){const X=o[G];if(G<l&&e===X||G>=l&&X.type===e)return G}if(r){const G=o[l];if(G&&gr(G)&&G.type===e)return l}return null}function Ca(t,i,e,n){let r=t[e];const s=i.data;if(function PN(t){return t instanceof Md}(r)){const o=r;o.resolving&&function oa(t,i){const e=i?`. Dependency path: ${i.join(" > ")} > ${t}`:"";throw new Pe(-200,`Circular dependency in DI detected for ${t}${e}`)}(function gt(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():at(t)}(s[e]));const a=wf(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Rn(o.injectImpl):null;kC(t,n,Tt.Default);try{r=t[e]=o.factory(void 0,s,t,n),i.firstCreatePass&&e>=n.directiveStart&&function IN(t,i,e){const{ngOnChanges:n,ngOnInit:r,ngDoCheck:s}=i.type.prototype;if(n){const o=rf(i);(e.preOrderHooks??=[]).push(t,o),(e.preOrderCheckHooks??=[]).push(t,o)}r&&(e.preOrderHooks??=[]).push(0-t,r),s&&((e.preOrderHooks??=[]).push(t,s),(e.preOrderCheckHooks??=[]).push(t,s))}(e,s[e],i)}finally{null!==u&&Rn(u),wf(a),o.resolving=!1,FC()}}return r}function XC(t,i,e){return!!(e[i+(t>>jC)]&1<<t)}function ZC(t,i){return!(t&Tt.Self||t&Tt.Host&&i)}class cn{constructor(i,e){this._tNode=i,this._lView=e}get(i,e,n){return YC(this._tNode,this._lView,i,bl(n),e)}}function UN(){return new cn(Gt(),De())}function Cn(t){return Jr(()=>{const i=t.prototype.constructor,e=i[yn]||Dv(i),n=Object.prototype;let r=Object.getPrototypeOf(t.prototype).constructor;for(;r&&r!==n;){const s=r[yn]||Dv(r);if(s&&s!==e)return s;r=Object.getPrototypeOf(r)}return s=>new s})}function Dv(t){return ds(t)?()=>{const i=Dv(it(t));return i&&i()}:Gs(t)}function KC(t){const i=t[je],e=i.type;return 2===e?i.declTNode:1===e?t[pi]:null}const kl="__parameters__";function Rl(t,i,e){return Jr(()=>{const n=function Sv(t){return function(...e){if(t){const n=t(...e);for(const r in n)this[r]=n[r]}}}(i);function r(...s){if(this instanceof r)return n.apply(this,s),this;const o=new r(...s);return a.annotation=o,a;function a(l,u,w){const R=l.hasOwnProperty(kl)?l[kl]:Object.defineProperty(l,kl,{value:[]})[kl];for(;R.length<=w;)R.push(null);return(R[w]=R[w]||[]).push(o),l}}return e&&(r.prototype=Object.create(e.prototype)),r.prototype.ngMetadataName=t,r.annotationCls=r,r})}function Fl(t,i){t.forEach(e=>Array.isArray(e)?Fl(e,i):i(e))}function qC(t,i,e){i>=t.length?t.push(e):t.splice(i,0,e)}function Sf(t,i){return i>=t.length-1?t.pop():t.splice(i,1)[0]}function Id(t,i){const e=[];for(let n=0;n<t;n++)e.push(i);return e}function vr(t,i,e){let n=Ll(t,i);return n>=0?t[1|n]=e:(n=~n,function JC(t,i,e,n){let r=t.length;if(r==i)t.push(e,n);else if(1===r)t.push(n,t[0]),t[0]=e;else{for(r--,t.push(t[r-1],t[r]);r>i;)t[r]=t[r-2],r--;t[i]=e,t[i+1]=n}}(t,n,i,e)),n}function Tv(t,i){const e=Ll(t,i);if(e>=0)return t[1|e]}function Ll(t,i){return function ex(t,i,e){let n=0,r=t.length>>e;for(;r!==n;){const s=n+(r-n>>1),o=t[s<<e];if(i===o)return s<<e;o>i?r=s:n=s+1}return~(r<<e)}(t,i,1)}const Tf=ms(Rl("Optional"),8),Of=ms(Rl("SkipSelf"),4),xa=new Ne("ENVIRONMENT_INITIALIZER"),rx=new Ne("INJECTOR",-1),Iv=new Ne("INJECTOR_DEF_TYPES");class If{get(i,e=vo){if(e===vo){const n=new Error(`NullInjectorError: No provider for ${Wt(i)}!`);throw n.name="NullInjectorError",n}return e}}function hF(...t){return{\u0275providers:sx(0,t),\u0275fromNgModule:!0}}function sx(t,...i){const e=[],n=new Set;let r;const s=o=>{e.push(o)};return Fl(i,o=>{const a=o;kf(a,s,[],n)&&(r||=[],r.push(a))}),void 0!==r&&ox(r,s),e}function ox(t,i){for(let e=0;e<t.length;e++){const{ngModule:n,providers:r}=t[e];Pv(r,s=>{i(s,n)})}}function kf(t,i,e,n){if(!(t=it(t)))return!1;let r=null,s=ml(t);const o=!s&&bt(t);if(s||o){if(o&&!o.standalone)return!1;r=t}else{const l=t.ngModule;if(s=ml(l),!s)return!1;r=l}const a=n.has(r);if(o){if(a)return!1;if(n.add(r),o.dependencies){const l="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of l)kf(u,i,e,n)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;n.add(r);try{Fl(s.imports,w=>{kf(w,i,e,n)&&(u||=[],u.push(w))})}finally{}void 0!==u&&ox(u,i)}if(!a){const u=Gs(r)||(()=>new r);i({provide:r,useFactory:u,deps:zt},r),i({provide:Iv,useValue:r,multi:!0},r),i({provide:xa,useValue:()=>Te(r),multi:!0},r)}const l=s.providers;if(null!=l&&!a){const u=t;Pv(l,w=>{i(w,u)})}}}return r!==t&&void 0!==t.providers}function Pv(t,i){for(let e of t)hr(e)&&(e=e.\u0275providers),Array.isArray(e)?Pv(e,i):i(e)}const fF=Lt({provide:String,useValue:Lt});function Rv(t){return null!==t&&"object"==typeof t&&fF in t}function Ea(t){return"function"==typeof t}const Nv=new Ne("Set Injector scope."),Pf={},mF={};let Fv;function Rf(){return void 0===Fv&&(Fv=new If),Fv}class yr{}class Vl extends yr{get destroyed(){return this._destroyed}constructor(i,e,n,r){super(),this.parent=e,this.source=n,this.scopes=r,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Bv(i,o=>this.processProvider(o)),this.records.set(rx,Hl(void 0,this)),r.has("environment")&&this.records.set(yr,Hl(void 0,this));const s=this.records.get(Nv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(Iv,zt,Tt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const e of this._ngOnDestroyHooks)e.ngOnDestroy();const i=this._onDestroyHooks;this._onDestroyHooks=[];for(const e of i)e()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(i){return this.assertNotDestroyed(),this._onDestroyHooks.push(i),()=>this.removeOnDestroy(i)}runInContext(i){this.assertNotDestroyed();const e=Un(this),n=Rn(void 0);try{return i()}finally{Un(e),Rn(n)}}get(i,e=vo,n=Tt.Default){if(this.assertNotDestroyed(),i.hasOwnProperty(Ht))return i[Ht](this);n=bl(n);const s=Un(this),o=Rn(void 0);try{if(!(n&Tt.SkipSelf)){let l=this.records.get(i);if(void 0===l){const u=function _F(t){return"function"==typeof t||"object"==typeof t&&t instanceof Ne}(i)&&Mn(i);l=u&&this.injectableDefInScope(u)?Hl(Lv(i),Pf):null,this.records.set(i,l)}if(null!=l)return this.hydrate(i,l)}return(n&Tt.Self?Rf():this.parent).get(i,e=n&Tt.Optional&&e===vo?null:e)}catch(a){if("NullInjectorError"===a.name){if((a[ua]=a[ua]||[]).unshift(Wt(i)),s)throw a;return function jg(t,i,e,n){const r=t[ua];throw i[qr]&&r.unshift(i[qr]),t.message=function Hh(t,i,e,n=null){t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.slice(2):t;let r=Wt(i);if(Array.isArray(i))r=i.map(Wt).join(" -> ");else if("object"==typeof i){let s=[];for(let o in i)if(i.hasOwnProperty(o)){let a=i[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):Wt(a)))}r=`{${s.join(", ")}}`}return`${e}${n?"("+n+")":""}[${r}]: ${t.replace(ld,"\n  ")}`}("\n"+t.message,r,e,n),t.ngTokenPath=r,t[ua]=null,t}(a,i,"R3InjectorError",this.source)}throw a}finally{Rn(o),Un(s)}}resolveInjectorInitializers(){const i=Un(this),e=Rn(void 0);try{const r=this.get(xa,zt,Tt.Self);for(const s of r)s()}finally{Un(i),Rn(e)}}toString(){const i=[],e=this.records;for(const n of e.keys())i.push(Wt(n));return`R3Injector[${i.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Pe(205,!1)}processProvider(i){let e=Ea(i=it(i))?i:it(i&&i.provide);const n=function vF(t){return Rv(t)?Hl(void 0,t.useValue):Hl(cx(t),Pf)}(i);if(Ea(i)||!0!==i.multi)this.records.get(e);else{let r=this.records.get(e);r||(r=Hl(void 0,Pf,!0),r.factory=()=>dd(r.multi),this.records.set(e,r)),e=i,r.multi.push(i)}this.records.set(e,n)}hydrate(i,e){return e.value===Pf&&(e.value=mF,e.value=e.factory()),"object"==typeof e.value&&e.value&&function bF(t){return null!==t&&"object"==typeof t&&"function"==typeof t.ngOnDestroy}(e.value)&&this._ngOnDestroyHooks.add(e.value),e.value}injectableDefInScope(i){if(!i.providedIn)return!1;const e=it(i.providedIn);return"string"==typeof e?"any"===e||this.scopes.has(e):this.injectorDefTypes.has(e)}removeOnDestroy(i){const e=this._onDestroyHooks.indexOf(i);-1!==e&&this._onDestroyHooks.splice(e,1)}}function Lv(t){const i=Mn(t),e=null!==i?i.factory:Gs(t);if(null!==e)return e;if(t instanceof Ne)throw new Pe(204,!1);if(t instanceof Function)return function gF(t){const i=t.length;if(i>0)throw Id(i,"?"),new Pe(204,!1);const e=function Fg(t){return t&&(t[gl]||t[Nh])||null}(t);return null!==e?()=>e.factory(t):()=>new t}(t);throw new Pe(204,!1)}function cx(t,i,e){let n;if(Ea(t)){const r=it(t);return Gs(r)||Lv(r)}if(Rv(t))n=()=>it(t.useValue);else if(function lx(t){return!(!t||!t.useFactory)}(t))n=()=>t.useFactory(...dd(t.deps||[]));else if(function ax(t){return!(!t||!t.useExisting)}(t))n=()=>Te(it(t.useExisting));else{const r=it(t&&(t.useClass||t.provide));if(!function yF(t){return!!t.deps}(t))return Gs(r)||Lv(r);n=()=>new r(...dd(t.deps))}return n}function Hl(t,i,e=!1){return{factory:t,value:i,multi:e?[]:void 0}}function Bv(t,i){for(const e of t)Array.isArray(e)?Bv(e,i):e&&hr(e)?Bv(e.\u0275providers,i):i(e)}function To(t,i){t instanceof Vl&&t.assertNotDestroyed();const n=Un(t),r=Rn(void 0);try{return i()}finally{Un(n),Rn(r)}}function fx(t,i=null,e=null,n){const r=px(t,i,e,n);return r.resolveInjectorInitializers(),r}function px(t,i=null,e=null,n,r=new Set){const s=[e||zt,hF(t)];return n=n||("object"==typeof t?void 0:Wt(t)),new Vl(s,i||Rf(),n||null,r)}let zv,un=(()=>{class t{static#e=this.THROW_IF_NOT_FOUND=vo;static#t=this.NULL=new If;static create(e,n){if(Array.isArray(e))return fx({name:""},n,e,"");{const r=e.name??"";return fx({name:r},e.parent,e.providers,r)}}static#i=this.\u0275prov=ke({token:t,providedIn:"any",factory:()=>Te(rx)});static#n=this.__NG_ELEMENT_ID__=-1}return t})();const Ff=new Ne("AppId",{providedIn:"root",factory:()=>OF}),OF="ng",gx=new Ne("Platform Initializer"),ws=new Ne("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),AF=new Ne("AnimationModuleType"),jv=new Ne("CSP nonce",{providedIn:"root",factory:()=>function Ao(){if(void 0!==zv)return zv;if(typeof document<"u")return document;throw new Pe(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});function Lf(t){return t.ownerDocument.defaultView}function br(t){return t instanceof Function?t():t}function zf(t){return 128==(128&t.flags)}var Po=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Po||{});const Gv=new Map;let jF=0;const Zv="__ngContext__";function Fn(t,i){Qi(i)?(t[Zv]=i[ma],function $F(t){Gv.set(t[ma],t)}(i)):t[Zv]=i}let Kv;function Qv(t,i){return Kv(t,i)}function Ld(t){const i=t[Ci];return $i(i)?i[Ci]:i}function Rx(t){return Fx(t[fa])}function Nx(t){return Fx(t[mr])}function Fx(t){for(;null!==t&&!$i(t);)t=t[mr];return t}function jl(t,i,e,n,r){if(null!=n){let s,o=!1;$i(n)?s=n:Qi(n)&&(o=!0,n=n[Ii]);const a=vi(n);0===t&&null!==e?null==r?Hx(i,e,a):Da(i,e,a,r||null,!0):1===t&&null!==e?Da(i,e,a,r||null,!0):2===t?function Xf(t,i,e){const n=Yf(t,i);n&&function cL(t,i,e,n){t.removeChild(i,e,n)}(t,n,i,e)}(i,a,o):3===t&&i.destroyNode(a),null!=s&&function hL(t,i,e,n,r){const s=e[Ar];s!==vi(e)&&jl(i,t,n,s,r);for(let a=Li;a<e.length;a++){const l=e[a];Hd(l[je],l,t,i,n,s)}}(i,t,s,e,r)}}function $f(t,i,e){return t.createElement(i,e)}function Bx(t,i){const e=t[Co],n=e.indexOf(i);e.splice(n,1)}function Bd(t,i){if(t.length<=Li)return;const e=Li+i,n=t[e];if(n){const r=n[pa];null!==r&&r!==t&&Bx(r,n),i>0&&(t[e-1][mr]=n[mr]);const s=Sf(t,Li+i);!function tL(t,i){Hd(t,i,i[ft],2,null,null),i[Ii]=null,i[pi]=null}(n[je],n);const o=s[Or];null!==o&&o.detachView(s[je]),n[Ci]=null,n[mr]=null,n[rt]&=-129}return n}function Wf(t,i){if(!(256&i[rt])){const e=i[ft];e.destroyNode&&Hd(t,i,e,3,null,null),function rL(t){let i=t[fa];if(!i)return Jv(t[je],t);for(;i;){let e=null;if(Qi(i))e=i[fa];else{const n=i[Li];n&&(e=n)}if(!e){for(;i&&!i[mr]&&i!==t;)Qi(i)&&Jv(i[je],i),i=i[Ci];null===i&&(i=t),Qi(i)&&Jv(i[je],i),e=i&&i[mr]}i=e}}(i)}}function Jv(t,i){if(!(256&i[rt])){i[rt]&=-129,i[rt]|=256,i[es]&&function v(t){if(_(t),p(t))for(let i=0;i<t.producerNode.length;i++)f(t.producerNode[i],t.producerIndexOfThis[i]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}(i[es]),function lL(t,i){let e;if(null!=t&&null!=(e=t.destroyHooks))for(let n=0;n<e.length;n+=2){const r=i[e[n]];if(!(r instanceof Md)){const s=e[n+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=r[s[o]],l=s[o+1];Ir(4,a,l);try{l.call(a)}finally{Ir(5,a,l)}}else{Ir(4,r,s);try{s.call(r)}finally{Ir(5,r,s)}}}}}(t,i),function aL(t,i){const e=t.cleanup,n=i[$s];if(null!==e)for(let s=0;s<e.length-1;s+=2)if("string"==typeof e[s]){const o=e[s+3];o>=0?n[o]():n[-o].unsubscribe(),s+=2}else e[s].call(n[e[s+1]]);null!==n&&(i[$s]=null);const r=i[vs];if(null!==r){i[vs]=null;for(let s=0;s<r.length;s++)(0,r[s])()}}(t,i),1===i[je].type&&i[ft].destroy();const e=i[pa];if(null!==e&&$i(i[Ci])){e!==i[Ci]&&Bx(e,i);const n=i[Or];null!==n&&n.detachView(t)}!function WF(t){Gv.delete(t[ma])}(i)}}function ey(t,i,e){return function Vx(t,i,e){let n=i;for(;null!==n&&40&n.type;)n=(i=n).parent;if(null===n)return e[Ii];{const{componentOffset:r}=n;if(r>-1){const{encapsulation:s}=t.data[n.directiveStart+r];if(s===pr.None||s===pr.Emulated)return null}return On(n,e)}}(t,i.parent,e)}function Da(t,i,e,n,r){t.insertBefore(i,e,n,r)}function Hx(t,i,e){t.appendChild(i,e)}function zx(t,i,e,n,r){null!==n?Da(t,i,e,n,r):Hx(t,i,e)}function Yf(t,i){return t.parentNode(i)}function jx(t,i,e){return $x(t,i,e)}let ty,Kf,$x=function Ux(t,i,e){return 40&t.type?On(t,e):null};function Gf(t,i,e,n){const r=ey(t,n,i),s=i[ft],a=jx(n.parent||i[pi],n,i);if(null!=r)if(Array.isArray(e))for(let l=0;l<e.length;l++)zx(s,r,e[l],a,!1);else zx(s,r,e,a,!1);void 0!==ty&&ty(s,n,i,e,r)}function Vd(t,i){if(null!==i){const e=i.type;if(3&e)return On(i,t);if(4&e)return iy(-1,t[i.index]);if(8&e){const n=i.child;if(null!==n)return Vd(t,n);{const r=t[i.index];return $i(r)?iy(-1,r):vi(r)}}if(32&e)return Qv(i,t)()||vi(t[i.index]);{const n=Yx(t,i);return null!==n?Array.isArray(n)?n[0]:Vd(Ld(t[Ti]),n):Vd(t,i.next)}}return null}function Yx(t,i){return null!==i?t[Ti][pi].projection[i.projection]:null}function iy(t,i){const e=Li+t+1;if(e<i.length){const n=i[e],r=n[je].firstChild;if(null!==r)return Vd(n,r)}return i[Ar]}function ny(t,i,e,n,r,s,o){for(;null!=e;){const a=n[e.index],l=e.type;if(o&&0===i&&(a&&Fn(vi(a),n),e.flags|=2),32!=(32&e.flags))if(8&l)ny(t,i,e.child,n,r,s,!1),jl(i,t,r,a,s);else if(32&l){const u=Qv(e,n);let w;for(;w=u();)jl(i,t,r,w,s);jl(i,t,r,a,s)}else 16&l?Xx(t,i,n,e,r,s):jl(i,t,r,a,s);e=o?e.projectionNext:e.next}}function Hd(t,i,e,n,r,s){ny(e,n,t.firstChild,i,r,s,!1)}function Xx(t,i,e,n,r,s){const o=e[Ti],l=o[pi].projection[n.projection];if(Array.isArray(l))for(let u=0;u<l.length;u++)jl(i,t,r,l[u],s);else{let u=l;const w=o[Ci];zf(n)&&(u.flags|=128),ny(t,i,u,w,r,s,!0)}}function Zx(t,i,e){""===e?t.removeAttribute(i,"class"):t.setAttribute(i,"class",e)}function Kx(t,i,e){const{mergedAttrs:n,classes:r,styles:s}=e;null!==n&&hd(t,i,n),null!==r&&Zx(t,i,r),null!==s&&function pL(t,i,e){t.setAttribute(i,"style",e)}(t,i,s)}function Jx(t){return function sy(){if(void 0===Kf&&(Kf=null,fi.trustedTypes))try{Kf=fi.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Kf}()?.createScriptURL(t)||t}class eE{constructor(i){this.changingThisBreaksApplicationSecurity=i}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${fr})`}}function Ro(t){return t instanceof eE?t.changingThisBreaksApplicationSecurity:t}function zd(t,i){const e=function xL(t){return t instanceof eE&&t.getTypeName()||null}(t);if(null!=e&&e!==i){if("ResourceURL"===e&&"URL"===i)return!0;throw new Error(`Required a safe ${i}, got a ${e} (see ${fr})`)}return e===i}const ML=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var $l=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}($l||{});function aE(t){const i=Ud();return i?i.sanitize($l.URL,t)||"":zd(t,"URL")?Ro(t):function oy(t){return(t=String(t)).match(ML)?t:"unsafe:"+t}(at(t))}function lE(t){const i=Ud();if(i)return Jx(i.sanitize($l.RESOURCE_URL,t)||"");if(zd(t,"ResourceURL"))return Jx(Ro(t));throw new Pe(904,!1)}function Ud(){const t=De();return t&&t[Tr].sanitizer}class HL{}let dE=(t,i,e)=>null;function vy(t,i,e=!1){return dE(t,i,e)}class ZL{}class fE{}class QL{resolveComponentFactory(i){throw function KL(t){const i=Error(`No component factory found for ${Wt(t)}.`);return i.ngComponent=t,i}(i)}}let Gl=(()=>{class t{static#e=this.NULL=new QL}return t})();function qL(){return Xl(Gt(),De())}function Xl(t,i){return new ki(On(t,i))}let ki=(()=>{class t{constructor(e){this.nativeElement=e}static#e=this.__NG_ELEMENT_ID__=qL}return t})();function JL(t){return t instanceof ki?t.nativeElement:t}class np{}let _r=(()=>{class t{constructor(){this.destroyNode=null}static#e=this.__NG_ELEMENT_ID__=()=>function e2(){const t=De(),e=$n(Gt().index,t);return(Qi(e)?e:t)[ft]}()}return t})(),t2=(()=>{class t{static#e=this.\u0275prov=ke({token:t,providedIn:"root",factory:()=>null})}return t})();const _y={};function mE(t){const i=N(null);try{return t()}finally{N(i)}}function rp(t){return!!wy(t)&&(Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t)}function wy(t){return null!==t&&("function"==typeof t||"object"==typeof t)}class gE{constructor(){}supports(i){return rp(i)}create(i){return new a2(i)}}const o2=(t,i)=>i;class a2{constructor(i){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=i||o2}forEachItem(i){let e;for(e=this._itHead;null!==e;e=e._next)i(e)}forEachOperation(i){let e=this._itHead,n=this._removalsHead,r=0,s=null;for(;e||n;){const o=!n||e&&e.currentIndex<yE(n,r,s)?e:n,a=yE(o,r,s),l=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{s||(s=[]);const u=a-r,w=l-r;if(u!=w){for(let z=0;z<u;z++){const G=z<s.length?s[z]:s[z]=0,X=G+z;w<=X&&X<u&&(s[z]=G+1)}s[o.previousIndex]=w-u}}a!==l&&i(o,a,l)}}forEachPreviousItem(i){let e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)i(e)}forEachAddedItem(i){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)i(e)}forEachMovedItem(i){let e;for(e=this._movesHead;null!==e;e=e._nextMoved)i(e)}forEachRemovedItem(i){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)i(e)}forEachIdentityChange(i){let e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)i(e)}diff(i){if(null==i&&(i=[]),!rp(i))throw new Pe(900,!1);return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let r,s,o,e=this._itHead,n=!1;if(Array.isArray(i)){this.length=i.length;for(let a=0;a<this.length;a++)s=i[a],o=this._trackByFn(a,s),null!==e&&Object.is(e.trackById,o)?(n&&(e=this._verifyReinsertion(e,s,o,a)),Object.is(e.item,s)||this._addIdentityChange(e,s)):(e=this._mismatch(e,s,o,a),n=!0),e=e._next}else r=0,function s2(t,i){if(Array.isArray(t))for(let e=0;e<t.length;e++)i(t[e]);else{const e=t[Symbol.iterator]();let n;for(;!(n=e.next()).done;)i(n.value)}}(i,a=>{o=this._trackByFn(r,a),null!==e&&Object.is(e.trackById,o)?(n&&(e=this._verifyReinsertion(e,a,o,r)),Object.is(e.item,a)||this._addIdentityChange(e,a)):(e=this._mismatch(e,a,o,r),n=!0),e=e._next,r++}),this.length=r;return this._truncate(e),this.collection=i,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let i;for(i=this._previousItHead=this._itHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._additionsHead;null!==i;i=i._nextAdded)i.previousIndex=i.currentIndex;for(this._additionsHead=this._additionsTail=null,i=this._movesHead;null!==i;i=i._nextMoved)i.previousIndex=i.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(i,e,n,r){let s;return null===i?s=this._itTail:(s=i._prev,this._remove(i)),null!==(i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(i.item,e)||this._addIdentityChange(i,e),this._reinsertAfter(i,s,r)):null!==(i=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Object.is(i.item,e)||this._addIdentityChange(i,e),this._moveAfter(i,s,r)):i=this._addAfter(new l2(e,n),s,r),i}_verifyReinsertion(i,e,n,r){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==s?i=this._reinsertAfter(s,i._prev,r):i.currentIndex!=r&&(i.currentIndex=r,this._addToMoves(i,r)),i}_truncate(i){for(;null!==i;){const e=i._next;this._addToRemovals(this._unlink(i)),i=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(i,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(i);const r=i._prevRemoved,s=i._nextRemoved;return null===r?this._removalsHead=s:r._nextRemoved=s,null===s?this._removalsTail=r:s._prevRemoved=r,this._insertAfter(i,e,n),this._addToMoves(i,n),i}_moveAfter(i,e,n){return this._unlink(i),this._insertAfter(i,e,n),this._addToMoves(i,n),i}_addAfter(i,e,n){return this._insertAfter(i,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=i:this._additionsTail._nextAdded=i,i}_insertAfter(i,e,n){const r=null===e?this._itHead:e._next;return i._next=r,i._prev=e,null===r?this._itTail=i:r._prev=i,null===e?this._itHead=i:e._next=i,null===this._linkedRecords&&(this._linkedRecords=new vE),this._linkedRecords.put(i),i.currentIndex=n,i}_remove(i){return this._addToRemovals(this._unlink(i))}_unlink(i){null!==this._linkedRecords&&this._linkedRecords.remove(i);const e=i._prev,n=i._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,i}_addToMoves(i,e){return i.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=i:this._movesTail._nextMoved=i),i}_addToRemovals(i){return null===this._unlinkedRecords&&(this._unlinkedRecords=new vE),this._unlinkedRecords.put(i),i.currentIndex=null,i._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=i,i._prevRemoved=null):(i._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=i),i}_addIdentityChange(i,e){return i.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=i:this._identityChangesTail._nextIdentityChange=i,i}}class l2{constructor(i,e){this.item=i,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class c2{constructor(){this._head=null,this._tail=null}add(i){null===this._head?(this._head=this._tail=i,i._nextDup=null,i._prevDup=null):(this._tail._nextDup=i,i._prevDup=this._tail,i._nextDup=null,this._tail=i)}get(i,e){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Object.is(n.trackById,i))return n;return null}remove(i){const e=i._prevDup,n=i._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head}}class vE{constructor(){this.map=new Map}put(i){const e=i.trackById;let n=this.map.get(e);n||(n=new c2,this.map.set(e,n)),n.add(i)}get(i,e){const r=this.map.get(i);return r?r.get(i,e):null}remove(i){const e=i.trackById;return this.map.get(e).remove(i)&&this.map.delete(e),i}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function yE(t,i,e){const n=t.previousIndex;if(null===n)return n;let r=0;return e&&n<e.length&&(r=e[n]),n+i+r}class bE{constructor(){}supports(i){return i instanceof Map||wy(i)}create(){return new d2}}class d2{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(i){let e;for(e=this._mapHead;null!==e;e=e._next)i(e)}forEachPreviousItem(i){let e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)i(e)}forEachChangedItem(i){let e;for(e=this._changesHead;null!==e;e=e._nextChanged)i(e)}forEachAddedItem(i){let e;for(e=this._additionsHead;null!==e;e=e._nextAdded)i(e)}forEachRemovedItem(i){let e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)i(e)}diff(i){if(i){if(!(i instanceof Map||wy(i)))throw new Pe(900,!1)}else i=new Map;return this.check(i)?this:null}onDestroy(){}check(i){this._reset();let e=this._mapHead;if(this._appendAfter=null,this._forEach(i,(n,r)=>{if(e&&e.key===r)this._maybeAddToChanges(e,n),this._appendAfter=e,e=e._next;else{const s=this._getOrCreateRecordForKey(r,n);e=this._insertBeforeOrAppend(e,s)}}),e){e._prev&&(e._prev._next=null),this._removalsHead=e;for(let n=e;null!==n;n=n._nextRemoved)n===this._mapHead&&(this._mapHead=null),this._records.delete(n.key),n._nextRemoved=n._next,n.previousValue=n.currentValue,n.currentValue=null,n._prev=null,n._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(i,e){if(i){const n=i._prev;return e._next=i,e._prev=n,i._prev=e,n&&(n._next=e),i===this._mapHead&&(this._mapHead=e),this._appendAfter=i,i}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null}_getOrCreateRecordForKey(i,e){if(this._records.has(i)){const r=this._records.get(i);this._maybeAddToChanges(r,e);const s=r._prev,o=r._next;return s&&(s._next=o),o&&(o._prev=s),r._next=null,r._prev=null,r}const n=new u2(i);return this._records.set(i,n),n.currentValue=e,this._addToAdditions(n),n}_reset(){if(this.isDirty){let i;for(this._previousMapHead=this._mapHead,i=this._previousMapHead;null!==i;i=i._next)i._nextPrevious=i._next;for(i=this._changesHead;null!==i;i=i._nextChanged)i.previousValue=i.currentValue;for(i=this._additionsHead;null!=i;i=i._nextAdded)i.previousValue=i.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(i,e){Object.is(e,i.currentValue)||(i.previousValue=i.currentValue,i.currentValue=e,this._addToChanges(i))}_addToAdditions(i){null===this._additionsHead?this._additionsHead=this._additionsTail=i:(this._additionsTail._nextAdded=i,this._additionsTail=i)}_addToChanges(i){null===this._changesHead?this._changesHead=this._changesTail=i:(this._changesTail._nextChanged=i,this._changesTail=i)}_forEach(i,e){i instanceof Map?i.forEach(e):Object.keys(i).forEach(n=>e(i[n],n))}}class u2{constructor(i){this.key=i,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function _E(){return new sp([new gE])}let sp=(()=>{class t{static#e=this.\u0275prov=ke({token:t,providedIn:"root",factory:_E});constructor(e){this.factories=e}static create(e,n){if(null!=n){const r=n.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||_E()),deps:[[t,new Of,new Tf]]}}find(e){const n=this.factories.find(r=>r.supports(e));if(null!=n)return n;throw new Pe(901,!1)}}return t})();function wE(){return new Yd([new bE])}let Yd=(()=>{class t{static#e=this.\u0275prov=ke({token:t,providedIn:"root",factory:wE});constructor(e){this.factories=e}static create(e,n){if(n){const r=n.factories.slice();e=e.concat(r)}return new t(e)}static extend(e){return{provide:t,useFactory:n=>t.create(e,n||wE()),deps:[[t,new Of,new Tf]]}}find(e){const n=this.factories.find(r=>r.supports(e));if(n)return n;throw new Pe(901,!1)}}return t})();function Gd(t,i,e,n,r=!1){for(;null!==e;){const s=i[e.index];null!==s&&n.push(vi(s)),$i(s)&&CE(s,n);const o=e.type;if(8&o)Gd(t,i,e.child,n);else if(32&o){const a=Qv(e,i);let l;for(;l=a();)n.push(l)}else if(16&o){const a=Yx(i,e);if(Array.isArray(a))n.push(...a);else{const l=Ld(i[Ti]);Gd(l[je],l,a,n,!0)}}e=r?e.projectionNext:e.next}return n}function CE(t,i){for(let e=Li;e<t.length;e++){const n=t[e],r=n[je].firstChild;null!==r&&Gd(n[je],n,r,i)}t[Ar]!==t[Ii]&&i.push(t[Ar])}let xE=[];const g2={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{},consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{ya(t.lView)},consumerOnSignalRead(){this.lView[es]=this}};function Cy(t){return t.ngOriginalError}class Ks{constructor(){this._console=console}handleError(i){const e=this._findOriginalError(i);this._console.error("ERROR",i),e&&this._console.error("ORIGINAL ERROR",e)}_findOriginalError(i){let e=i&&Cy(i);for(;e&&Cy(e);)e=Cy(e);return e||null}}const DE=new Ne("",{providedIn:"root",factory:()=>He(Ks).handleError.bind(void 0)}),ME=new Ne("",{providedIn:"root",factory:()=>!1}),vt={};function Xe(t){IE(At(),De(),Nn()+t,!1)}function IE(t,i,e,n){if(!n)if(3==(3&i[rt])){const s=t.preOrderCheckHooks;null!==s&&bf(i,s,e)}else{const s=t.preOrderHooks;null!==s&&_f(i,s,0,e)}wa(e)}function Ce(t,i=Tt.Default){const e=De();return null===e?Te(t,i):YC(Gt(),e,it(t),i)}function ap(t,i,e,n,r,s,o,a,l,u,w){const R=i.blueprint.slice();return R[Ii]=r,R[rt]=204|n,(null!==u||t&&2048&t[rt])&&(R[rt]|=2048),df(R),R[Ci]=R[_o]=t,R[mi]=e,R[Tr]=o||t&&t[Tr],R[ft]=a||t&&t[ft],R[wn]=l||t&&t[wn]||null,R[pi]=s,R[ma]=function UF(){return jF++}(),R[ln]=w,R[Jh]=u,R[Ti]=2==i.type?t[Ti]:R,R}function Zl(t,i,e,n,r){let s=t.data[i];if(null===s)s=function xy(t,i,e,n,r){const s=Rt(),o=K(),l=t.data[i]=function O2(t,i,e,n,r,s){let o=i?i.injectorIndex:-1,a=0;return So()&&(a|=128),{type:e,index:n,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:r,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:i,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,e,i,n,r);return null===t.firstChild&&(t.firstChild=l),null!==s&&(o?null==s.child&&null!==l.parent&&(s.child=l):null===s.next&&(s.next=l,l.prev=s)),l}(t,i,e,n,r),function ba(){return ut.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=e,s.value=n,s.attrs=r;const o=function k(){const t=ut.lFrame,i=t.currentTNode;return t.isParent?i:i.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return H(s,!0),s}function Xd(t,i,e,n){if(0===e)return-1;const r=i.length;for(let s=0;s<e;s++)i.push(n),t.blueprint.push(n),t.data.push(null);return r}function PE(t,i,e,n,r){const s=Nn(),o=2&n;try{wa(-1),o&&i.length>pt&&IE(t,i,pt,!1),Ir(o?2:0,r),e(n,r)}finally{wa(s),Ir(o?3:1,r)}}function Ey(t,i,e){if(Dl(i)){const n=N(null);try{const s=i.directiveEnd;for(let o=i.directiveStart;o<s;o++){const a=t.data[o];a.contentQueries&&a.contentQueries(1,e[o],o)}}finally{N(n)}}}function Dy(t,i,e){pf()&&(function F2(t,i,e,n){const r=e.directiveStart,s=e.directiveEnd;Ws(e)&&function U2(t,i,e){const n=On(i,t),r=RE(e);let o=16;e.signals?o=4096:e.onPush&&(o=64);const a=lp(t,ap(t,r,null,o,n,i,null,t[Tr].rendererFactory.createRenderer(n,e),null,null,null));t[i.index]=a}(i,e,t.data[r+e.componentOffset]),t.firstCreatePass||Cf(e,i),Fn(n,i);const o=e.initialInputs;for(let a=r;a<s;a++){const l=t.data[a],u=Ca(i,t,a,e);Fn(u,i),null!==o&&$2(0,a-r,u,l,0,o),gr(l)&&($n(e.index,i)[mi]=Ca(i,t,a,e))}}(t,i,e,On(e,i)),64==(64&e.flags)&&VE(t,i,e))}function Sy(t,i,e=On){const n=i.localNames;if(null!==n){let r=i.index+1;for(let s=0;s<n.length;s+=2){const o=n[s+1],a=-1===o?e(i,t):t[o];t[r++]=a}}}function RE(t){const i=t.tView;return null===i||i.incompleteFirstPass?t.tView=My(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):i}function My(t,i,e,n,r,s,o,a,l,u,w){const R=pt+n,z=R+r,G=function x2(t,i){const e=[];for(let n=0;n<i;n++)e.push(n<t?null:vt);return e}(R,z),X="function"==typeof u?u():u;return G[je]={type:t,blueprint:G,template:e,queries:null,viewQuery:a,declTNode:i,data:G.slice().fill(null,R),bindingStartIndex:R,expandoStartIndex:z,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:l,consts:X,incompleteFirstPass:!1,ssrId:w}}let NE=t=>null;function FE(t,i,e,n){for(let r in t)if(t.hasOwnProperty(r)){e=null===e?{}:e;const s=t[r];null===n?LE(e,i,r,s):n.hasOwnProperty(r)&&LE(e,i,n[r],s)}return e}function LE(t,i,e,n){t.hasOwnProperty(e)?t[e].push(i,n):t[e]=[i,n]}function Ty(t,i,e,n){if(pf()){const r=null===n?null:{"":-1},s=function B2(t,i){const e=t.directiveRegistry;let n=null,r=null;if(e)for(let s=0;s<e.length;s++){const o=e[s];if(Gh(i,o.selectors,!1))if(n||(n=[]),gr(o))if(null!==o.findHostDirectiveDefs){const a=[];r=r||new Map,o.findHostDirectiveDefs(o,a,r),n.unshift(...a,o),Oy(t,i,a.length)}else n.unshift(o),Oy(t,i,0);else r=r||new Map,o.findHostDirectiveDefs?.(o,n,r),n.push(o)}return null===n?null:[n,r]}(t,e);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&BE(t,i,e,o,r,a),r&&function V2(t,i,e){if(i){const n=t.localNames=[];for(let r=0;r<i.length;r+=2){const s=e[i[r+1]];if(null==s)throw new Pe(-301,!1);n.push(i[r],s)}}}(e,n,r)}e.mergedAttrs=Us(e.mergedAttrs,e.attrs)}function BE(t,i,e,n,r,s){for(let u=0;u<n.length;u++)Ev(Cf(e,i),t,n[u].type);!function z2(t,i,e){t.flags|=1,t.directiveStart=i,t.directiveEnd=i+e,t.providerIndexes=i}(e,t.data.length,n.length);for(let u=0;u<n.length;u++){const w=n[u];w.providersResolver&&w.providersResolver(w)}let o=!1,a=!1,l=Xd(t,i,n.length,null);for(let u=0;u<n.length;u++){const w=n[u];e.mergedAttrs=Us(e.mergedAttrs,w.hostAttrs),j2(t,e,i,l,w),H2(l,w,r),null!==w.contentQueries&&(e.flags|=4),(null!==w.hostBindings||null!==w.hostAttrs||0!==w.hostVars)&&(e.flags|=64);const R=w.type.prototype;!o&&(R.ngOnChanges||R.ngOnInit||R.ngDoCheck)&&((t.preOrderHooks??=[]).push(e.index),o=!0),!a&&(R.ngOnChanges||R.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(e.index),a=!0),l++}!function A2(t,i,e){const r=i.directiveEnd,s=t.data,o=i.attrs,a=[];let l=null,u=null;for(let w=i.directiveStart;w<r;w++){const R=s[w],z=e?e.get(R):null,X=z?z.outputs:null;l=FE(R.inputs,w,l,z?z.inputs:null),u=FE(R.outputs,w,u,X);const Q=null===l||null===o||Wh(i)?null:W2(l,w,o);a.push(Q)}null!==l&&(l.hasOwnProperty("class")&&(i.flags|=8),l.hasOwnProperty("style")&&(i.flags|=16)),i.initialInputs=a,i.inputs=l,i.outputs=u}(t,e,s)}function VE(t,i,e){const n=e.directiveStart,r=e.directiveEnd,s=e.index,o=function pv(){return ut.lFrame.currentDirectiveIndex}();try{wa(s);for(let a=n;a<r;a++){const l=t.data[a],u=i[a];_a(a),(null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs)&&L2(l,u)}}finally{wa(-1),_a(o)}}function L2(t,i){null!==t.hostBindings&&t.hostBindings(1,i)}function Oy(t,i,e){i.componentOffset=e,(t.components??=[]).push(i.index)}function H2(t,i,e){if(e){if(i.exportAs)for(let n=0;n<i.exportAs.length;n++)e[i.exportAs[n]]=t;gr(i)&&(e[""]=t)}}function j2(t,i,e,n,r){t.data[n]=r;const s=r.factory||(r.factory=Gs(r.type)),o=new Md(s,gr(r),Ce);t.blueprint[n]=o,e[n]=o,function R2(t,i,e,n,r){const s=r.hostBindings;if(s){let o=t.hostBindingOpCodes;null===o&&(o=t.hostBindingOpCodes=[]);const a=~i.index;(function N2(t){let i=t.length;for(;i>0;){const e=t[--i];if("number"==typeof e&&e<0)return e}return 0})(o)!=a&&o.push(a),o.push(e,n,s)}}(t,i,n,Xd(t,e,r.hostVars,vt),r)}function Cs(t,i,e,n,r,s){const o=On(t,i);!function Ay(t,i,e,n,r,s,o){if(null==s)t.removeAttribute(i,r,e);else{const a=null==o?at(s):o(s,n||"",r);t.setAttribute(i,r,a,e)}}(i[ft],o,s,t.value,e,n,r)}function $2(t,i,e,n,r,s){const o=s[i];if(null!==o)for(let a=0;a<o.length;)HE(n,e,o[a++],o[a++],o[a++])}function HE(t,i,e,n,r){const s=N(null);try{const o=t.inputTransforms;null!==o&&o.hasOwnProperty(n)&&(r=o[n].call(i,r)),null!==t.setInput?t.setInput(i,r,e,n):i[n]=r}finally{N(s)}}function W2(t,i,e){let n=null,r=0;for(;r<e.length;){const s=e[r];if(0!==s)if(5!==s){if("number"==typeof s)break;if(t.hasOwnProperty(s)){null===n&&(n=[]);const o=t[s];for(let a=0;a<o.length;a+=2)if(o[a]===i){n.push(s,o[a+1],e[r+1]);break}}r+=2}else r+=2;else r+=4}return n}function zE(t,i,e,n){return[t,!0,0,i,null,n,null,e,null,null]}function jE(t,i){const e=t.contentQueries;if(null!==e){const n=N(null);try{for(let r=0;r<e.length;r+=2){const o=e[r+1];if(-1!==o){const a=t.data[o];gv(e[r]),a.contentQueries(2,i[o],o)}}}finally{N(n)}}}function lp(t,i){return t[fa]?t[qh][mr]=i:t[fa]=i,t[qh]=i,i}function Iy(t,i,e){gv(0);const n=N(null);try{i(t,e)}finally{N(n)}}function UE(t){return t[$s]||(t[$s]=[])}function $E(t){return t.cleanup||(t.cleanup=[])}function cp(t,i){const e=t[wn],n=e?e.get(Ks,null):null;n&&n.handleError(i)}function ky(t,i,e,n,r){for(let s=0;s<e.length;){const o=e[s++],a=e[s++];HE(t.data[o],i[o],n,a,r)}}function X2(t,i,e,n){const r=i[rt];if(256==(256&r))return;i[Tr].inlineEffectRunner?.flush(),vv(i);let o=null,a=null;(function Z2(t){return 2!==t.type})(t)&&(a=function f2(t){return t[es]??function p2(t){const i=xE.pop()??Object.create(g2);return i.lView=t,i}(t)}(i),o=function m(t){return t&&(t.nextProducerIndex=0),N(t)}(a));try{df(i),function Bi(t){return ut.lFrame.bindingIndex=t}(t.bindingStartIndex),null!==e&&PE(t,i,e,2,n);const l=3==(3&r);if(l){const R=t.preOrderCheckHooks;null!==R&&bf(i,R,null)}else{const R=t.preOrderHooks;null!==R&&_f(i,R,0,null),bv(i,0)}if(function K2(t){for(let i=Rx(t);null!==i;i=Nx(i)){if(!(i[rt]&xo.HasTransplantedViews))continue;const e=i[Co];for(let n=0;n<e.length;n++){av(e[n])}}}(i),YE(i,0),null!==t.contentQueries&&jE(t,i),l){const R=t.contentCheckHooks;null!==R&&bf(i,R)}else{const R=t.contentHooks;null!==R&&_f(i,R,1),bv(i,1)}!function C2(t,i){const e=t.hostBindingOpCodes;if(null!==e)try{for(let n=0;n<e.length;n++){const r=e[n];if(r<0)wa(~r);else{const s=r,o=e[++n],a=e[++n];gf(o,s),a(2,i[s])}}}finally{wa(-1)}}(t,i);const u=t.components;null!==u&&XE(i,u,0);const w=t.viewQuery;if(null!==w&&Iy(2,w,n),l){const R=t.viewCheckHooks;null!==R&&bf(i,R)}else{const R=t.viewHooks;null!==R&&_f(i,R,2),bv(i,2)}if(!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),i[xl]){for(const R of i[xl])R();i[xl]=null}i[rt]&=-73}catch(l){throw ya(i),l}finally{null!==a&&(function h(t,i){if(N(i),t&&void 0!==t.producerNode&&void 0!==t.producerIndexOfThis&&void 0!==t.producerLastReadVersion){if(p(t))for(let e=t.nextProducerIndex;e<t.producerNode.length;e++)f(t.producerNode[e],t.producerIndexOfThis[e]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}(a,o),function m2(t){t.lView[es]!==t&&(t.lView=null,xE.push(t))}(a)),yv()}}function YE(t,i){for(let e=Rx(t);null!==e;e=Nx(e)){e[rt]&=~xo.HasChildViewsToRefresh;for(let n=Li;n<e.length;n++)GE(e[n],i)}}function Q2(t,i,e){GE($n(i,t),e)}function GE(t,i){Dd(t)&&Ry(t,i)}function Ry(t,i){const n=t[je],r=t[rt],s=t[es];let o=!!(0===i&&16&r);if(o||=!!(64&r&&0===i),o||=!!(1024&r),o||=!(!s?.dirty||!d(s)),s&&(s.dirty=!1),t[rt]&=-9217,o)X2(n,t,n.template,t[mi]);else if(8192&r){YE(t,1);const a=n.components;null!==a&&XE(t,a,1)}}function XE(t,i,e){for(let n=0;n<i.length;n++)Q2(t,i[n],e)}function Zd(t){for(t[Tr].changeDetectionScheduler?.notify();t;){t[rt]|=64;const i=Ld(t);if(vd(t)&&!i)return t;t=i}return null}class Kd{get rootNodes(){const i=this._lView,e=i[je];return Gd(e,i,e.firstChild,[])}constructor(i,e,n=!0){this._lView=i,this._cdRefInjectingView=e,this.notifyErrorHandler=n,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[mi]}set context(i){this._lView[mi]=i}get destroyed(){return 256==(256&this._lView[rt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const i=this._lView[Ci];if($i(i)){const e=i[8],n=e?e.indexOf(this):-1;n>-1&&(Bd(i,n),Sf(e,n))}this._attachedToViewContainer=!1}Wf(this._lView[je],this._lView)}onDestroy(i){Ml(this._lView,i)}markForCheck(){Zd(this._cdRefInjectingView||this._lView)}detach(){this._lView[rt]&=-129}reattach(){Sd(this._lView),this._lView[rt]|=128}detectChanges(){this._lView[rt]|=1024,function Py(t,i=!0){const e=t[Tr],n=e.rendererFactory,r=e.afterRenderEventManager;n.begin?.(),r?.begin();try{!function G2(t){Ry(t,0);let i=0;for(;hf(t);){if(100===i)throw new Pe(103,!1);i++,Ry(t,1)}}(t)}catch(o){throw i&&cp(t,o),o}finally{n.end?.(),e.inlineEffectRunner?.flush(),r?.end()}}(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Pe(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function nL(t,i){Hd(t,i,i[ft],2,null,null)}(this._lView[je],this._lView)}attachToAppRef(i){if(this._attachedToViewContainer)throw new Pe(902,!1);this._appRef=i,Sd(this._lView)}}let Kl=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=q2}return t})();function q2(t){return function J2(t,i,e){if(Ws(t)&&!e){const n=$n(t.index,i);return new Kd(n,n)}return 47&t.type?new Kd(i[Ti],i):null}(Gt(),De(),16==(16&t))}let dp=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=nB;static#t=this.__NG_ENV_ID__=e=>e}return t})();class iB extends dp{constructor(i){super(),this._lView=i}onDestroy(i){return Ml(this._lView,i),()=>function ts(t,i){if(null===t[vs])return;const e=t[vs].indexOf(i);-1!==e&&t[vs].splice(e,1)}(this._lView,i)}}function nB(){return new iB(De())}const ZE=new Set;function Sa(t){ZE.has(t)||(ZE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function Ny(t){return i=>{setTimeout(t,void 0,i)}}const It=class dB extends ni{constructor(i=!1){super(),this.__isAsync=i}emit(i){super.next(i)}subscribe(i,e,n){let r=i,s=e||(()=>null),o=n;if(i&&"object"==typeof i){const l=i;r=l.next?.bind(l),s=l.error?.bind(l),o=l.complete?.bind(l)}this.__isAsync&&(s=Ny(s),r&&(r=Ny(r)),o&&(o=Ny(o)));const a=super.subscribe({next:r,error:s,complete:o});return i instanceof nt&&i.add(a),a}};function KE(...t){}class xt{constructor({enableLongStackTrace:i=!1,shouldCoalesceEventChangeDetection:e=!1,shouldCoalesceRunChangeDetection:n=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new It(!1),this.onMicrotaskEmpty=new It(!1),this.onStable=new It(!1),this.onError=new It(!1),typeof Zone>"u")throw new Pe(908,!1);Zone.assertZonePatched();const r=this;r._nesting=0,r._outer=r._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(r._inner=r._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(r._inner=r._inner.fork(Zone.longStackTraceZoneSpec)),r.shouldCoalesceEventChangeDetection=!n&&e,r.shouldCoalesceRunChangeDetection=n,r.lastRequestAnimationFrameId=-1,r.nativeRequestAnimationFrame=function uB(){const t="function"==typeof fi.requestAnimationFrame;let i=fi[t?"requestAnimationFrame":"setTimeout"],e=fi[t?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&i&&e){const n=i[Zone.__symbol__("OriginalDelegate")];n&&(i=n);const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,function pB(t){const i=()=>{!function fB(t){t.isCheckStableRunning||-1!==t.lastRequestAnimationFrameId||(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(fi,()=>{t.fakeTopEventTask||(t.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{t.lastRequestAnimationFrameId=-1,Ly(t),t.isCheckStableRunning=!0,Fy(t),t.isCheckStableRunning=!1},void 0,()=>{},()=>{})),t.fakeTopEventTask.invoke()}),Ly(t))}(t)};t._inner=t._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(e,n,r,s,o,a)=>{if(function gB(t){return!(!Array.isArray(t)||1!==t.length)&&!0===t[0].data?.__ignore_ng_zone__}(a))return e.invokeTask(r,s,o,a);try{return QE(t),e.invokeTask(r,s,o,a)}finally{(t.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||t.shouldCoalesceRunChangeDetection)&&i(),qE(t)}},onInvoke:(e,n,r,s,o,a,l)=>{try{return QE(t),e.invoke(r,s,o,a,l)}finally{t.shouldCoalesceRunChangeDetection&&i(),qE(t)}},onHasTask:(e,n,r,s)=>{e.hasTask(r,s),n===r&&("microTask"==s.change?(t._hasPendingMicrotasks=s.microTask,Ly(t),Fy(t)):"macroTask"==s.change&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(e,n,r,s)=>(e.handleError(r,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}(r)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!xt.isInAngularZone())throw new Pe(909,!1)}static assertNotInAngularZone(){if(xt.isInAngularZone())throw new Pe(909,!1)}run(i,e,n){return this._inner.run(i,e,n)}runTask(i,e,n,r){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+r,i,hB,KE,KE);try{return s.runTask(o,e,n)}finally{s.cancelTask(o)}}runGuarded(i,e,n){return this._inner.runGuarded(i,e,n)}runOutsideAngular(i){return this._outer.run(i)}}const hB={};function Fy(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Ly(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&-1!==t.lastRequestAnimationFrameId)}function QE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function qE(t){t._nesting--,Fy(t)}class mB{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new It,this.onMicrotaskEmpty=new It,this.onStable=new It,this.onError=new It}run(i,e,n){return i.apply(e,n)}runGuarded(i,e,n){return i.apply(e,n)}runOutsideAngular(i){return i()}runTask(i,e,n,r){return i.apply(e,n)}}var Ma=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ma||{});const JE={destroy(){}};function tD(t,i){!i&&function Vv(t){if(!Fh()&&!function cd(){return bo}())throw new Pe(-203,!1)}();const e=i?.injector??He(un);if(!function Io(t){return"browser"===(t??He(un)).get(ws)}(e))return JE;Sa("NgAfterNextRender");const n=e.get(up),r=n.handler??=new nD,s=i?.phase??Ma.MixedReadWrite,o=()=>{r.unregister(l),a()},a=e.get(dp).onDestroy(o),l=new iD(e,s,()=>{o(),t()});return r.register(l),{destroy:o}}class iD{constructor(i,e,n){this.phase=e,this.callbackFn=n,this.zone=i.get(xt),this.errorHandler=i.get(Ks,null,{optional:!0})}invoke(){try{this.zone.runOutsideAngular(this.callbackFn)}catch(i){this.errorHandler?.handleError(i)}}}class nD{constructor(){this.executingCallbacks=!1,this.buckets={[Ma.EarlyRead]:new Set,[Ma.Write]:new Set,[Ma.MixedReadWrite]:new Set,[Ma.Read]:new Set},this.deferredCallbacks=new Set}validateBegin(){if(this.executingCallbacks)throw new Pe(102,!1)}register(i){(this.executingCallbacks?this.deferredCallbacks:this.buckets[i.phase]).add(i)}unregister(i){this.buckets[i.phase].delete(i),this.deferredCallbacks.delete(i)}execute(){this.executingCallbacks=!0;for(const i of Object.values(this.buckets))for(const e of i)e.invoke();this.executingCallbacks=!1;for(const i of this.deferredCallbacks)this.buckets[i.phase].add(i);this.deferredCallbacks.clear()}destroy(){for(const i of Object.values(this.buckets))i.clear();this.deferredCallbacks.clear()}}let up=(()=>{class t{constructor(){this.renderDepth=0,this.handler=null,this.internalCallbacks=[]}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){if(this.renderDepth--,0===this.renderDepth){for(const e of this.internalCallbacks)e();this.internalCallbacks.length=0,this.handler?.execute()}}ngOnDestroy(){this.handler?.destroy(),this.handler=null,this.internalCallbacks.length=0}static#e=this.\u0275prov=ke({token:t,providedIn:"root",factory:()=>new t})}return t})();function bB(t,i){const e=$n(i,t),n=e[je];!function _B(t,i){for(let e=i.length;e<t.blueprint.length;e++)i.push(t.blueprint[e])}(n,e);const r=e[Ii];null!==r&&null===e[ln]&&(e[ln]=vy(r,e[wn])),By(n,e,e[mi])}function By(t,i,e){vv(i);try{const n=t.viewQuery;null!==n&&Iy(1,n,e);const r=t.template;null!==r&&PE(t,i,r,1,e),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&jE(t,i),t.staticViewQueries&&Iy(2,t.viewQuery,e);const s=t.components;null!==s&&function wB(t,i){for(let e=0;e<i.length;e++)bB(t,i[e])}(i,s)}catch(n){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),n}finally{i[rt]&=-5,yv()}}function hp(t,i,e){let n=e?t.styles:null,r=e?t.classes:null,s=0;if(null!==i)for(let o=0;o<i.length;o++){const a=i[o];"number"==typeof a?s=a:1==s?r=In(r,a):2==s&&(n=In(n,a+": "+i[++o]+";"))}e?t.styles=n:t.stylesWithoutHost=n,e?t.classes=r:t.classesWithoutHost=r}class rD extends Gl{constructor(i){super(),this.ngModule=i}resolveComponentFactory(i){const e=bt(i);return new Qd(e,this.ngModule)}}function sD(t){const i=[];for(let e in t)t.hasOwnProperty(e)&&i.push({propName:t[e],templateName:e});return i}class xB{constructor(i,e){this.injector=i,this.parentInjector=e}get(i,e,n){n=bl(n);const r=this.injector.get(i,_y,n);return r!==_y||e===_y?r:this.parentInjector.get(i,e,n)}}class Qd extends fE{get inputs(){const i=this.componentDef,e=i.inputTransforms,n=sD(i.inputs);if(null!==e)for(const r of n)e.hasOwnProperty(r.propName)&&(r.transform=e[r.propName]);return n}get outputs(){return sD(this.componentDef.outputs)}constructor(i,e){super(),this.componentDef=i,this.ngModule=e,this.componentType=i.type,this.selector=function Xg(t){return t.map(ha).join(",")}(i.selectors),this.ngContentSelectors=i.ngContentSelectors?i.ngContentSelectors:[],this.isBoundToModule=!!e}create(i,e,n,r){let s=(r=r||this.ngModule)instanceof yr?r:r?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new xB(i,s):i,a=o.get(np,null);if(null===a)throw new Pe(407,!1);const R={rendererFactory:a,sanitizer:o.get(t2,null),inlineEffectRunner:null,afterRenderEventManager:o.get(up,null),changeDetectionScheduler:o.get(HL,null)},z=a.createRenderer(null,this.componentDef),G=this.componentDef.selectors[0][0]||"div",X=n?function E2(t,i,e,n){const s=n.get(ME,!1)||e===pr.ShadowDom,o=t.selectRootElement(i,s);return function D2(t){NE(t)}(o),o}(z,n,this.componentDef.encapsulation,o):$f(z,G,function CB(t){const i=t.toLowerCase();return"svg"===i?"svg":"math"===i?"math":null}(G));let Q=512;this.componentDef.signals?Q|=4096:this.componentDef.onPush||(Q|=16);let ne=null;null!==X&&(ne=vy(X,o,!0));const ae=My(0,null,null,1,0,null,null,null,null,null,null),ce=ap(null,ae,null,Q,null,null,R,z,o,null,ne);let fe,ye;vv(ce);try{const me=this.componentDef;let Ie,ze=null;me.findHostDirectiveDefs?(Ie=[],ze=new Map,me.findHostDirectiveDefs(me,Ie,ze),Ie.push(me)):Ie=[me];const Ke=function DB(t,i){const e=t[je],n=pt;return t[n]=i,Zl(e,n,2,"#host",null)}(ce,X),et=function SB(t,i,e,n,r,s,o){const a=r[je];!function MB(t,i,e,n){for(const r of t)i.mergedAttrs=Us(i.mergedAttrs,r.hostAttrs);null!==i.mergedAttrs&&(hp(i,i.mergedAttrs,!0),null!==e&&Kx(n,e,i))}(n,t,i,o);let l=null;null!==i&&(l=vy(i,r[wn]));const u=s.rendererFactory.createRenderer(i,e);let w=16;e.signals?w=4096:e.onPush&&(w=64);const R=ap(r,RE(e),null,w,r[t.index],t,s,u,null,null,l);return a.firstCreatePass&&Oy(a,t,n.length-1),lp(r,R),r[t.index]=R}(Ke,X,me,Ie,ce,R,z);ye=Xs(ae,pt),X&&function OB(t,i,e,n){if(n)hd(t,e,["ng-version","17.0.8"]);else{const{attrs:r,classes:s}=function Zg(t){const i=[],e=[];let n=1,r=2;for(;n<t.length;){let s=t[n];if("string"==typeof s)2===r?""!==s&&i.push(s,t[++n]):8===r&&e.push(s);else{if(!ir(r))break;r=s}n++}return{attrs:i,classes:e}}(i.selectors[0]);r&&hd(t,e,r),s&&s.length>0&&Zx(t,e,s.join(" "))}}(z,me,X,n),void 0!==e&&function AB(t,i,e){const n=t.projection=[];for(let r=0;r<i.length;r++){const s=e[r];n.push(null!=s?Array.from(s):null)}}(ye,this.ngContentSelectors,e),fe=function TB(t,i,e,n,r,s){const o=Gt(),a=r[je],l=On(o,r);BE(a,r,o,e,null,n);for(let w=0;w<e.length;w++)Fn(Ca(r,a,o.directiveStart+w,o),r);VE(a,r,o),l&&Fn(l,r);const u=Ca(r,a,o.directiveStart+o.componentOffset,o);if(t[mi]=r[mi]=u,null!==s)for(const w of s)w(u,i);return Ey(a,o,t),u}(et,me,Ie,ze,ce,[IB]),By(ae,ce,null)}finally{yv()}return new EB(this.componentType,fe,Xl(ye,ce),ce,ye)}}class EB extends ZL{constructor(i,e,n,r,s){super(),this.location=n,this._rootLView=r,this._tNode=s,this.previousInputValues=null,this.instance=e,this.hostView=this.changeDetectorRef=new Kd(r,void 0,!1),this.componentType=i}setInput(i,e){const n=this._tNode.inputs;let r;if(null!==n&&(r=n[i])){if(this.previousInputValues??=new Map,this.previousInputValues.has(i)&&Object.is(this.previousInputValues.get(i),e))return;const s=this._rootLView;ky(s[je],s,r,i,e),this.previousInputValues.set(i,e),Zd($n(this._tNode.index,s))}}get injector(){return new cn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(i){this.hostView.onDestroy(i)}}function IB(){const t=Gt();yf(De()[je],t)}function di(t){let i=function oD(t){return Object.getPrototypeOf(t.prototype).constructor}(t.type),e=!0;const n=[t];for(;i;){let r;if(gr(t))r=i.\u0275cmp||i.\u0275dir;else{if(i.\u0275cmp)throw new Pe(903,!1);r=i.\u0275dir}if(r){if(e){n.push(r);const o=t;o.inputs=fp(t.inputs),o.inputTransforms=fp(t.inputTransforms),o.declaredInputs=fp(t.declaredInputs),o.outputs=fp(t.outputs);const a=r.hostBindings;a&&NB(t,a);const l=r.viewQuery,u=r.contentQueries;if(l&&PB(t,l),u&&RB(t,u),vn(t.inputs,r.inputs),vn(t.declaredInputs,r.declaredInputs),vn(t.outputs,r.outputs),null!==r.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),vn(o.inputTransforms,r.inputTransforms)),gr(r)&&r.data.animation){const w=t.data;w.animation=(w.animation||[]).concat(r.data.animation)}}const s=r.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(t),a===di&&(e=!1)}}i=Object.getPrototypeOf(i)}!function kB(t){let i=0,e=null;for(let n=t.length-1;n>=0;n--){const r=t[n];r.hostVars=i+=r.hostVars,r.hostAttrs=Us(r.hostAttrs,e=Us(e,r.hostAttrs))}}(n)}function fp(t){return t===Mr?{}:t===zt?[]:t}function PB(t,i){const e=t.viewQuery;t.viewQuery=e?(n,r)=>{i(n,r),e(n,r)}:i}function RB(t,i){const e=t.contentQueries;t.contentQueries=e?(n,r,s)=>{i(n,r,s),e(n,r,s)}:i}function NB(t,i){const e=t.hostBindings;t.hostBindings=e?(n,r)=>{i(n,r),e(n,r)}:i}function Vy(t){const i=t.inputConfig,e={};for(const n in i)if(i.hasOwnProperty(n)){const r=i[n];Array.isArray(r)&&r[2]&&(e[n]=r[2])}t.inputTransforms=e}function qi(t,i,e){return!Object.is(t[i],e)&&(t[i]=e,!0)}function Fr(t,i,e,n){const r=De();return qi(r,Vi(),i)&&(At(),Cs(Oi(),r,t,i,e,n)),Fr}function mp(t,i){return t<<17|i<<2}function No(t){return t>>17&32767}function Hy(t){return 2|t}function Oa(t){return(131068&t)>>2}function zy(t,i){return-131069&t|i<<2}function jy(t){return 1|t}function bD(t,i,e,n,r){const s=t[e+1],o=null===i;let a=n?No(s):Oa(s),l=!1;for(;0!==a&&(!1===l||o);){const w=t[a+1];YB(t[a],i)&&(l=!0,t[a+1]=n?jy(w):Hy(w)),a=n?No(w):Oa(w)}l&&(t[e+1]=n?Hy(s):jy(s))}function YB(t,i){return null===t||null==i||(Array.isArray(t)?t[1]:t)===i||!(!Array.isArray(t)||"string"!=typeof i)&&Ll(t,i)>=0}const hn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _D(t){return t.substring(hn.key,hn.keyEnd)}function wD(t,i){const e=hn.textEnd;return e===i?-1:(i=hn.keyEnd=function KB(t,i,e){for(;i<e&&t.charCodeAt(i)>32;)i++;return i}(t,hn.key=i,e),oc(t,i,e))}function oc(t,i,e){for(;i<e&&t.charCodeAt(i)<=32;)i++;return i}function Je(t,i,e){const n=De();return qi(n,Vi(),i)&&function wr(t,i,e,n,r,s,o,a){const l=On(i,e);let w,u=i.inputs;!a&&null!=u&&(w=u[n])?(ky(t,e,w,n,r),Ws(i)&&function k2(t,i){const e=$n(i,t);16&e[rt]||(e[rt]|=64)}(e,i.index)):3&i.type&&(n=function I2(t){return"class"===t?"className":"for"===t?"htmlFor":"formaction"===t?"formAction":"innerHtml"===t?"innerHTML":"readonly"===t?"readOnly":"tabindex"===t?"tabIndex":t}(n),r=null!=o?o(r,i.value||"",n):r,s.setProperty(l,n,r))}(At(),Oi(),n,t,i,n[ft],e,!1),Je}function Uy(t,i,e,n,r){const o=r?"class":"style";ky(t,e,i.inputs[o],o,n)}function gp(t,i){return function is(t,i,e,n){const r=De(),s=At(),o=Wn(2);s.firstUpdatePass&&OD(s,t,o,n),i!==vt&&qi(r,o,i)&&ID(s,s.data[Nn()],r,r[ft],t,r[o+1]=function aV(t,i){return null==t||""===t||("string"==typeof i?t+=i:"object"==typeof t&&(t=Wt(Ro(t)))),t}(i,e),n,o)}(t,i,null,!0),gp}function MD(t){!function ns(t,i,e,n){const r=At(),s=Wn(2);r.firstUpdatePass&&OD(r,null,s,n);const o=De();if(e!==vt&&qi(o,s,e)){const a=r.data[Nn()];if(PD(a,n)&&!TD(r,s)){let l=n?a.classesWithoutHost:a.stylesWithoutHost;null!==l&&(e=In(l,e||"")),Uy(r,a,o,e,n)}else!function oV(t,i,e,n,r,s,o,a){r===vt&&(r=zt);let l=0,u=0,w=0<r.length?r[0]:null,R=0<s.length?s[0]:null;for(;null!==w||null!==R;){const z=l<r.length?r[l+1]:void 0,G=u<s.length?s[u+1]:void 0;let Q,X=null;w===R?(l+=2,u+=2,z!==G&&(X=R,Q=G)):null===R||null!==w&&w<R?(l+=2,X=w):(u+=2,X=R,Q=G),null!==X&&ID(t,i,e,n,X,Q,o,a),w=l<r.length?r[l]:null,R=u<s.length?s[u]:null}}(r,a,o,o[ft],o[s+1],o[s+1]=function rV(t,i,e){if(null==e||""===e)return zt;const n=[],r=Ro(e);if(Array.isArray(r))for(let s=0;s<r.length;s++)t(n,r[s],!0);else if("object"==typeof r)for(const s in r)r.hasOwnProperty(s)&&t(n,s,r[s]);else"string"==typeof r&&i(n,r);return n}(t,i,e),n,s)}}(sV,Ds,t,!0)}function Ds(t,i){for(let e=function XB(t){return function xD(t){hn.key=0,hn.keyEnd=0,hn.value=0,hn.valueEnd=0,hn.textEnd=t.length}(t),wD(t,oc(t,0,hn.textEnd))}(i);e>=0;e=wD(i,e))vr(t,_D(i),!0)}function TD(t,i){return i>=t.expandoStartIndex}function OD(t,i,e,n){const r=t.data;if(null===r[e+1]){const s=r[Nn()],o=TD(t,e);PD(s,n)&&null===i&&!o&&(i=!1),i=function eV(t,i,e,n){const r=function mv(t){const i=ut.lFrame.currentDirectiveIndex;return-1===i?null:t[i]}(t);let s=n?i.residualClasses:i.residualStyles;if(null===r)0===(n?i.classBindings:i.styleBindings)&&(e=Jd(e=$y(null,t,i,e,n),i.attrs,n),s=null);else{const o=i.directiveStylingLast;if(-1===o||t[o]!==r)if(e=$y(r,t,i,e,n),null===s){let l=function tV(t,i,e){const n=e?i.classBindings:i.styleBindings;if(0!==Oa(n))return t[No(n)]}(t,i,n);void 0!==l&&Array.isArray(l)&&(l=$y(null,t,i,l[1],n),l=Jd(l,i.attrs,n),function iV(t,i,e,n){t[No(e?i.classBindings:i.styleBindings)]=n}(t,i,n,l))}else s=function nV(t,i,e){let n;const r=i.directiveEnd;for(let s=1+i.directiveStylingLast;s<r;s++)n=Jd(n,t[s].hostAttrs,e);return Jd(n,i.attrs,e)}(t,i,n)}return void 0!==s&&(n?i.residualClasses=s:i.residualStyles=s),e}(r,s,i,n),function $B(t,i,e,n,r,s){let o=s?i.classBindings:i.styleBindings,a=No(o),l=Oa(o);t[n]=e;let w,u=!1;if(Array.isArray(e)?(w=e[1],(null===w||Ll(e,w)>0)&&(u=!0)):w=e,r)if(0!==l){const z=No(t[a+1]);t[n+1]=mp(z,a),0!==z&&(t[z+1]=zy(t[z+1],n)),t[a+1]=function jB(t,i){return 131071&t|i<<17}(t[a+1],n)}else t[n+1]=mp(a,0),0!==a&&(t[a+1]=zy(t[a+1],n)),a=n;else t[n+1]=mp(l,0),0===a?a=n:t[l+1]=zy(t[l+1],n),l=n;u&&(t[n+1]=Hy(t[n+1])),bD(t,w,n,!0),bD(t,w,n,!1),function WB(t,i,e,n,r){const s=r?t.residualClasses:t.residualStyles;null!=s&&"string"==typeof i&&Ll(s,i)>=0&&(e[n+1]=jy(e[n+1]))}(i,w,t,n,s),o=mp(a,l),s?i.classBindings=o:i.styleBindings=o}(r,s,i,e,o,n)}}function $y(t,i,e,n,r){let s=null;const o=e.directiveEnd;let a=e.directiveStylingLast;for(-1===a?a=e.directiveStart:a++;a<o&&(s=i[a],n=Jd(n,s.hostAttrs,r),s!==t);)a++;return null!==t&&(e.directiveStylingLast=a),n}function Jd(t,i,e){const n=e?1:2;let r=-1;if(null!==i)for(let s=0;s<i.length;s++){const o=i[s];"number"==typeof o?r=o:r===n&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),vr(t,o,!!e||i[++s]))}return void 0===t?null:t}function sV(t,i,e){const n=String(i);""!==n&&!n.includes(" ")&&vr(t,n,e)}function ID(t,i,e,n,r,s,o,a){if(!(3&i.type))return;const l=t.data,u=l[a+1],w=function UB(t){return 1==(1&t)}(u)?kD(l,i,e,r,Oa(u),o):void 0;vp(w)||(vp(s)||function zB(t){return 2==(2&t)}(u)&&(s=kD(l,null,e,r,a,o)),function fL(t,i,e,n,r){if(i)r?t.addClass(e,n):t.removeClass(e,n);else{let s=-1===n.indexOf("-")?void 0:Po.DashCase;null==r?t.removeStyle(e,n,s):("string"==typeof r&&r.endsWith("!important")&&(r=r.slice(0,-10),s|=Po.Important),t.setStyle(e,n,r,s))}}(n,o,Eo(Nn(),e),r,s))}function kD(t,i,e,n,r,s){const o=null===i;let a;for(;r>0;){const l=t[r],u=Array.isArray(l),w=u?l[1]:l,R=null===w;let z=e[r+1];z===vt&&(z=R?zt:void 0);let G=R?Tv(z,n):w===n?z:void 0;if(u&&!vp(G)&&(G=Tv(l,n)),vp(G)&&(a=G,o))return a;const X=t[r+1];r=o?No(X):Oa(X)}if(null!==i){let l=s?i.residualClasses:i.residualStyles;null!=l&&(a=Tv(l,n))}return a}function vp(t){return void 0!==t}function PD(t,i){return 0!=(t.flags&(i?8:16))}function lc(t,i){return!i||null===i.firstChild||zf(t)}function su(t,i,e,n=!0){const r=i[je];if(function sL(t,i,e,n){const r=Li+n,s=e.length;n>0&&(e[r-1][mr]=i),n<s-Li?(i[mr]=e[r],qC(e,Li+n,i)):(e.push(i),i[mr]=null),i[Ci]=e;const o=i[pa];null!==o&&e!==o&&function oL(t,i){const e=t[Co];i[Ti]!==i[Ci][Ci][Ti]&&(t[rt]|=xo.HasTransplantedViews),null===e?t[Co]=[i]:e.push(i)}(o,i);const a=i[Or];null!==a&&a.insertView(t),Sd(i),i[rt]|=128}(r,i,t,e),n){const o=iy(e,t),a=i[ft],l=Yf(a,t[Ar]);null!==l&&function iL(t,i,e,n,r,s){n[Ii]=r,n[pi]=i,Hd(t,n,e,1,r,s)}(r,t[pi],a,i,l,o)}const s=i[ln];null!==s&&null!==s.firstChild&&(s.firstChild=null)}let Lr=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=zV}return t})();function zV(){return YD(Gt(),De())}const jV=Lr,$D=class extends jV{constructor(i,e,n){super(),this._lContainer=i,this._hostTNode=e,this._hostLView=n}get element(){return Xl(this._hostTNode,this._hostLView)}get injector(){return new cn(this._hostTNode,this._hostLView)}get parentInjector(){const i=xf(this._hostTNode,this._hostLView);if(wv(i)){const e=Od(i,this._hostLView),n=Td(i);return new cn(e[je].data[n+8],e)}return new cn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(i){const e=WD(this._lContainer);return null!==e&&e[i]||null}get length(){return this._lContainer.length-Li}createEmbeddedView(i,e,n){let r,s;"number"==typeof n?r=n:null!=n&&(r=n.index,s=n.injector);const a=i.createEmbeddedViewImpl(e||{},s,null);return this.insertImpl(a,r,lc(this._hostTNode,null)),a}createComponent(i,e,n,r,s){const o=i&&!function Ad(t){return"function"==typeof t}(i);let a;if(o)a=e;else{const X=e||{};a=X.index,n=X.injector,r=X.projectableNodes,s=X.environmentInjector||X.ngModuleRef}const l=o?i:new Qd(bt(i)),u=n||this.parentInjector;if(!s&&null==l.ngModule){const Q=(o?u:this.parentInjector).get(yr,null);Q&&(s=Q)}bt(l.componentType??{});const G=l.create(u,r,null,s);return this.insertImpl(G.hostView,a,lc(this._hostTNode,null)),G}insert(i,e){return this.insertImpl(i,e,!0)}insertImpl(i,e,n){const r=i._lView;if(function ov(t){return $i(t[Ci])}(r)){const a=this.indexOf(i);if(-1!==a)this.detach(a);else{const l=r[Ci],u=new $D(l,l[pi],l[Ci]);u.detach(u.indexOf(i))}}const s=this._adjustIndex(e),o=this._lContainer;return su(o,r,s,n),i.attachToViewContainerRef(),qC(Jy(o),s,i),i}move(i,e){return this.insert(i,e)}indexOf(i){const e=WD(this._lContainer);return null!==e?e.indexOf(i):-1}remove(i){const e=this._adjustIndex(i,-1),n=Bd(this._lContainer,e);n&&(Sf(Jy(this._lContainer),e),Wf(n[je],n))}detach(i){const e=this._adjustIndex(i,-1),n=Bd(this._lContainer,e);return n&&null!=Sf(Jy(this._lContainer),e)?new Kd(n):null}_adjustIndex(i,e=0){return i??this.length+e}};function WD(t){return t[8]}function Jy(t){return t[8]||(t[8]=[])}function YD(t,i){let e;const n=i[t.index];return $i(n)?e=n:(e=zE(n,i,null,t),i[t.index]=e,lp(i,e)),GD(e,i,t,n),new $D(e,t,i)}let GD=function ZD(t,i,e,n){if(t[Ar])return;let r;r=8&e.type?vi(n):function UV(t,i){const e=t[ft],n=e.createComment(""),r=On(i,t);return Da(e,Yf(e,r),n,function dL(t,i){return t.nextSibling(i)}(e,r),!1),n}(i,e),t[Ar]=r},eb=(t,i,e)=>!1;function ei(t,i,e,n,r,s,o,a){const l=De(),u=At(),w=t+pt,R=u.firstCreatePass?function GV(t,i,e,n,r,s,o,a,l){const u=i.consts,w=Zl(i,t,4,o||null,Pr(u,a));Ty(i,e,w,Pr(u,l)),yf(i,w);const R=w.tView=My(2,w,n,r,s,i.directiveRegistry,i.pipeRegistry,null,i.schemas,u,null);return null!==i.queries&&(i.queries.template(i,w),R.queries=i.queries.embeddedTView(w)),w}(w,u,l,i,e,n,r,s,o):u.data[w];H(R,!1);const z=KD(u,l,R,t);vf()&&Gf(u,l,z,R),Fn(z,l);const G=zE(z,l,z,R);return l[w]=G,lp(l,G),function XD(t,i,e){return eb(t,i,e)}(G,R,l),Sl(R)&&Dy(u,l,R),null!=o&&Sy(l,R,a),ei}let KD=function QD(t,i,e,n){return Mo(!0),i[ft].createComment("")};function ge(t,i,e,n){const r=De(),s=At(),o=pt+t,a=r[ft],l=s.firstCreatePass?function FH(t,i,e,n,r,s){const o=i.consts,l=Zl(i,t,2,n,Pr(o,r));return Ty(i,e,l,Pr(o,s)),null!==l.attrs&&hp(l,l.attrs,!1),null!==l.mergedAttrs&&hp(l,l.mergedAttrs,!0),null!==i.queries&&i.queries.elementStart(i,l),l}(o,s,r,i,e,n):s.data[o],u=_S(s,r,l,a,i,t);r[o]=u;const w=Sl(l);return H(l,!0),Kx(a,u,l),32!=(32&l.flags)&&vf()&&Gf(s,r,u,l),0===function lv(){return ut.lFrame.elementDepthCount}()&&Fn(u,r),function cv(){ut.lFrame.elementDepthCount++}(),w&&(Dy(s,r,l),Ey(s,l,r)),null!==n&&Sy(r,l),ge}function pe(){let t=Gt();K()?J():(t=t.parent,H(t,!1));const i=t;(function bs(t){return ut.skipHydrationRootTNode===t})(i)&&function fv(){ut.skipHydrationRootTNode=null}(),function dv(){ut.lFrame.elementDepthCount--}();const e=At();return e.firstCreatePass&&(yf(e,t),Dl(t)&&e.queries.elementEnd(t)),null!=i.classesWithoutHost&&function NN(t){return 0!=(8&t.flags)}(i)&&Uy(e,i,De(),i.classesWithoutHost,!0),null!=i.stylesWithoutHost&&function FN(t){return 0!=(16&t.flags)}(i)&&Uy(e,i,De(),i.stylesWithoutHost,!1),pe}function Ge(t,i,e,n){return ge(t,i,e,n),pe(),Ge}let _S=(t,i,e,n,r,s)=>(Mo(!0),$f(n,r,function LC(){return ut.lFrame.currentNamespace}()));function en(){return De()}const gc="en-US";let MS=gc;function pu(t){return!!t&&"function"==typeof t.then}function qS(t){return!!t&&"function"==typeof t.subscribe}function yt(t,i,e,n){const r=De(),s=At(),o=Gt();return function eM(t,i,e,n,r,s,o){const a=Sl(n),u=t.firstCreatePass&&$E(t),w=i[mi],R=UE(i);let z=!0;if(3&n.type||o){const Q=On(n,i),ne=o?o(Q):Q,ae=R.length,ce=o?ye=>o(vi(ye[n.index])):n.index;let fe=null;if(!o&&a&&(fe=function Bz(t,i,e,n){const r=t.cleanup;if(null!=r)for(let s=0;s<r.length-1;s+=2){const o=r[s];if(o===e&&r[s+1]===n){const a=i[$s],l=r[s+2];return a.length>l?a[l]:null}"string"==typeof o&&(s+=2)}return null}(t,i,r,n.index)),null!==fe)(fe.__ngLastListenerFn__||fe).__ngNextListenerFn__=s,fe.__ngLastListenerFn__=s,z=!1;else{s=iM(n,i,w,s,!1);const ye=e.listen(ne,r,s);R.push(s,ye),u&&u.push(r,ce,ae,ae+1)}}else s=iM(n,i,w,s,!1);const G=n.outputs;let X;if(z&&null!==G&&(X=G[r])){const Q=X.length;if(Q)for(let ne=0;ne<Q;ne+=2){const me=i[X[ne]][X[ne+1]].subscribe(s),Ie=R.length;R.push(s,me),u&&u.push(r,n.index,Ie,-(Ie+1))}}}(s,r,r[ft],o,t,i,n),yt}function tM(t,i,e,n){try{return Ir(6,i,e),!1!==e(n)}catch(r){return cp(t,r),!1}finally{Ir(7,i,e)}}function iM(t,i,e,n,r){return function s(o){if(o===Function)return n;Zd(t.componentOffset>-1?$n(t.index,i):i);let l=tM(i,e,n,o),u=s.__ngNextListenerFn__;for(;u;)l=tM(i,e,u,o)&&l,u=u.__ngNextListenerFn__;return r&&!1===l&&o.preventDefault(),l}}function wt(t=1){return function SN(t){return(ut.lFrame.contextLView=function uf(t,i){for(;t>0;)i=i[_o],t--;return i}(t,ut.lFrame.contextLView))[mi]}(t)}function Vz(t,i){let e=null;const n=function Wg(t){const i=t.attrs;if(null!=i){const e=i.indexOf(5);if(!(1&e))return i[e+1]}return null}(t);for(let r=0;r<i.length;r++){const s=i[r];if("*"!==s){if(null===n?Gh(t,s,!0):Gg(n,s))return r}else e=r}return e}function gb(t){return Do(function oe(){return ut.lFrame.contextLView}(),pt+t)}function Se(t,i=""){const e=De(),n=At(),r=t+pt,s=n.firstCreatePass?Zl(n,r,1,i,null):n.data[r],o=xM(n,e,s,i,t);e[r]=o,vf()&&Gf(n,e,o,s),H(s,!1)}let xM=(t,i,e,n,r)=>(Mo(!0),function Uf(t,i){return t.createText(i)}(i[ft],n));function mu(t){return Vr("",t,""),mu}function Vr(t,i,e){const n=De(),r=function ql(t,i,e,n){return qi(t,Vi(),e)?i+at(e)+n:vt}(n,t,i,e);return r!==vt&&function Qs(t,i,e){const n=Eo(i,t);!function Lx(t,i,e){t.setValue(i,e)}(t[ft],n,e)}(n,Nn(),r),Vr}function vb(t,i,e,n,r){if(t=it(t),Array.isArray(t))for(let s=0;s<t.length;s++)vb(t[s],i,e,n,r);else{const s=At(),o=De(),a=Gt();let l=Ea(t)?t:it(t.provide);const u=cx(t),w=1048575&a.providerIndexes,R=a.directiveStart,z=a.providerIndexes>>20;if(Ea(t)||!t.multi){const G=new Md(u,r,Ce),X=bb(l,i,r?w:w+z,R);-1===X?(Ev(Cf(a,o),s,l),yb(s,t,i.length),i.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(G),o.push(G)):(e[X]=G,o[X]=G)}else{const G=bb(l,i,w+z,R),X=bb(l,i,w,w+z),ne=X>=0&&e[X];if(r&&!ne||!r&&!(G>=0&&e[G])){Ev(Cf(a,o),s,l);const ae=function t3(t,i,e,n,r){const s=new Md(t,e,Ce);return s.multi=[],s.index=i,s.componentProviders=0,kM(s,r,n&&!e),s}(r?e3:Jz,e.length,r,n,u);!r&&ne&&(e[X].providerFactory=ae),yb(s,t,i.length,0),i.push(l),a.directiveStart++,a.directiveEnd++,r&&(a.providerIndexes+=1048576),e.push(ae),o.push(ae)}else yb(s,t,G>-1?G:X,kM(e[r?X:G],u,!r&&n));!r&&n&&ne&&e[X].componentProviders++}}}function yb(t,i,e,n){const r=Ea(i),s=function pF(t){return!!t.useClass}(i);if(r||s){const l=(s?it(i.useClass):i).prototype.ngOnDestroy;if(l){const u=t.destroyHooks||(t.destroyHooks=[]);if(!r&&i.multi){const w=u.indexOf(e);-1===w?u.push(e,[n,l]):u[w+1].push(n,l)}else u.push(e,l)}}}function kM(t,i,e){return e&&t.componentProviders++,t.multi.push(i)-1}function bb(t,i,e,n){for(let r=e;r<n;r++)if(i[r]===t)return r;return-1}function Jz(t,i,e,n){return _b(this.multi,[])}function e3(t,i,e,n){const r=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Ca(e,e[je],this.providerFactory.index,n);s=a.slice(0,o),_b(r,s);for(let l=o;l<a.length;l++)s.push(a[l])}else s=[],_b(r,s);return s}function _b(t,i){for(let e=0;e<t.length;e++)i.push((0,t[e])());return i}function Ai(t,i=[]){return e=>{e.providersResolver=(n,r)=>function qz(t,i,e){const n=At();if(n.firstCreatePass){const r=gr(t);vb(e,n.data,n.blueprint,r,!0),vb(i,n.data,n.blueprint,r,!1)}}(n,r?r(t):t,i)}}class ka{}class PM{}class wb extends ka{constructor(i,e,n){super(),this._parent=e,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new rD(this);const r=_n(i);this._bootstrapComponents=br(r.bootstrap),this._r3Injector=px(i,e,[{provide:ka,useValue:this},{provide:Gl,useValue:this.componentFactoryResolver},...n],Wt(i),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(i)}get injector(){return this._r3Injector}destroy(){const i=this._r3Injector;!i.destroyed&&i.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(i){this.destroyCbs.push(i)}}class Cb extends PM{constructor(i){super(),this.moduleType=i}create(i){return new wb(this.moduleType,i,[])}}class RM extends ka{constructor(i){super(),this.componentFactoryResolver=new rD(this),this.instance=null;const e=new Vl([...i.providers,{provide:ka,useValue:this},{provide:Gl,useValue:this.componentFactoryResolver}],i.parent||Rf(),i.debugName,new Set(["environment"]));this.injector=e,i.runEnvironmentInitializers&&e.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(i){this.injector.onDestroy(i)}}function xb(t,i,e=null){return new RM({providers:t,parent:i,debugName:e,runEnvironmentInitializers:!0}).injector}let s3=(()=>{class t{constructor(e){this._injector=e,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(e){if(!e.standalone)return null;if(!this.cachedInjectors.has(e)){const n=sx(0,e.type),r=n.length>0?xb([n],this._injector,`Standalone[${e.type.name}]`):null;this.cachedInjectors.set(e,r)}return this.cachedInjectors.get(e)}ngOnDestroy(){try{for(const e of this.cachedInjectors.values())null!==e&&e.destroy()}finally{this.cachedInjectors.clear()}}static#e=this.\u0275prov=ke({token:t,providedIn:"environment",factory:()=>new t(Te(yr))})}return t})();function Eb(t){Sa("NgStandalone"),t.getStandaloneInjector=i=>i.get(s3).getOrCreateStandaloneInjector(t)}function UM(t,i,e,n,r,s){const o=i+e;return qi(t,o,r)?function xs(t,i,e){return t[i]=e}(t,o+1,s?n.call(s,r):n(r)):function gu(t,i){const e=t[i];return e===vt?void 0:e}(t,o+1)}function Sb(t,i){const e=At();let n;const r=t+pt;e.firstCreatePass?(n=function D3(t,i){if(i)for(let e=i.length-1;e>=0;e--){const n=i[e];if(t===n.name)return n}}(i,e.pipeRegistry),e.data[r]=n,n.onDestroy&&(e.destroyHooks??=[]).push(r,n.onDestroy)):n=e.data[r];const s=n.factory||(n.factory=Gs(n.type)),a=Rn(Ce);try{const l=wf(!1),u=s();return wf(l),function Hz(t,i,e,n){e>=t.data.length&&(t.data[e]=null,t.blueprint[e]=null),i[e]=n}(e,De(),r,u),u}finally{Rn(a)}}function Mb(t,i,e){const n=t+pt,r=De(),s=Do(r,n);return function vu(t,i){return t[je].data[i].pure}(r,n)?UM(r,ot(),i,s.transform,e,s):s.transform(e)}function A3(){return this._results[Symbol.iterator]()}class Tb{static#e=Symbol.iterator;get changes(){return this._changes??=new It}constructor(i=!1){this._emitDistinctChangesOnly=i,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=void 0,this.length=0,this.first=void 0,this.last=void 0;const e=Tb.prototype;e[Symbol.iterator]||(e[Symbol.iterator]=A3)}get(i){return this._results[i]}map(i){return this._results.map(i)}filter(i){return this._results.filter(i)}find(i){return this._results.find(i)}reduce(i,e){return this._results.reduce(i,e)}forEach(i){this._results.forEach(i)}some(i){return this._results.some(i)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(i,e){this.dirty=!1;const n=function rr(t){return t.flat(Number.POSITIVE_INFINITY)}(i);(this._changesDetected=!function ZN(t,i,e){if(t.length!==i.length)return!1;for(let n=0;n<t.length;n++){let r=t[n],s=i[n];if(e&&(r=e(r),s=e(s)),s!==r)return!1}return!0}(this._results,n,e))&&(this._results=n,this.length=n.length,this.last=n[this.length-1],this.first=n[0])}notifyOnChanges(){void 0!==this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){void 0!==this._changes&&(this._changes.complete(),this._changes.unsubscribe())}}let Ss=(()=>{class t{static#e=this.__NG_ELEMENT_ID__=P3}return t})();const I3=Ss,k3=class extends I3{constructor(i,e,n){super(),this._declarationLView=i,this._declarationTContainer=e,this.elementRef=n}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(i,e){return this.createEmbeddedViewImpl(i,e)}createEmbeddedViewImpl(i,e,n){const r=function ru(t,i,e,n){const r=i.tView,a=ap(t,r,e,4096&t[rt]?4096:16,null,i,null,null,null,n?.injector??null,n?.dehydratedView??null);a[pa]=t[i.index];const u=t[Or];return null!==u&&(a[Or]=u.createEmbeddedView(r)),By(r,a,e),a}(this._declarationLView,this._declarationTContainer,i,{injector:e,dehydratedView:n});return new Kd(r)}};function P3(){return Pp(Gt(),De())}function Pp(t,i){return 4&t.type?new k3(i,t,Xl(t,i)):null}class Ob{constructor(i){this.queryList=i,this.matches=null}clone(){return new Ob(this.queryList)}setDirty(){this.queryList.setDirty()}}class Ab{constructor(i=[]){this.queries=i}createEmbeddedView(i){const e=i.queries;if(null!==e){const n=null!==i.contentQueries?i.contentQueries[0]:e.length,r=[];for(let s=0;s<n;s++){const o=e.getByIndex(s);r.push(this.queries[o.indexInDeclarationView].clone())}return new Ab(r)}return null}insertView(i){this.dirtyQueriesWithMatches(i)}detachView(i){this.dirtyQueriesWithMatches(i)}dirtyQueriesWithMatches(i){for(let e=0;e<this.queries.length;e++)null!==JM(i,e).matches&&this.queries[e].setDirty()}}class XM{constructor(i,e,n=null){this.predicate=i,this.flags=e,this.read=n}}class Ib{constructor(i=[]){this.queries=i}elementStart(i,e){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(i,e)}elementEnd(i){for(let e=0;e<this.queries.length;e++)this.queries[e].elementEnd(i)}embeddedTView(i){let e=null;for(let n=0;n<this.length;n++){const r=null!==e?e.length:0,s=this.getByIndex(n).embeddedTView(i,r);s&&(s.indexInDeclarationView=n,null!==e?e.push(s):e=[s])}return null!==e?new Ib(e):null}template(i,e){for(let n=0;n<this.queries.length;n++)this.queries[n].template(i,e)}getByIndex(i){return this.queries[i]}get length(){return this.queries.length}track(i){this.queries.push(i)}}class kb{constructor(i,e=-1){this.metadata=i,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}elementStart(i,e){this.isApplyingToNode(e)&&this.matchTNode(i,e)}elementEnd(i){this._declarationNodeIndex===i.index&&(this._appliesToNextNode=!1)}template(i,e){this.elementStart(i,e)}embeddedTView(i,e){return this.isApplyingToNode(i)?(this.crossesNgTemplate=!0,this.addMatch(-i.index,e),new kb(this.metadata)):null}isApplyingToNode(i){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const e=this._declarationNodeIndex;let n=i.parent;for(;null!==n&&8&n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(i,e){const n=this.metadata.predicate;if(Array.isArray(n))for(let r=0;r<n.length;r++){const s=n[r];this.matchTNodeWithReadOption(i,e,R3(e,s)),this.matchTNodeWithReadOption(i,e,Ef(e,i,s,!1,!1))}else n===Ss?4&e.type&&this.matchTNodeWithReadOption(i,e,-1):this.matchTNodeWithReadOption(i,e,Ef(e,i,n,!1,!1))}matchTNodeWithReadOption(i,e,n){if(null!==n){const r=this.metadata.read;if(null!==r)if(r===ki||r===Lr||r===Ss&&4&e.type)this.addMatch(e.index,-2);else{const s=Ef(e,i,r,!1,!1);null!==s&&this.addMatch(e.index,s)}else this.addMatch(e.index,n)}}addMatch(i,e){null===this.matches?this.matches=[i,e]:this.matches.push(i,e)}}function R3(t,i){const e=t.localNames;if(null!==e)for(let n=0;n<e.length;n+=2)if(e[n]===i)return e[n+1];return null}function F3(t,i,e,n){return-1===e?function N3(t,i){return 11&t.type?Xl(t,i):4&t.type?Pp(t,i):null}(i,t):-2===e?function L3(t,i,e){return e===ki?Xl(i,t):e===Ss?Pp(i,t):e===Lr?YD(i,t):void 0}(t,i,n):Ca(t,t[je],e,i)}function ZM(t,i,e,n){const r=i[Or].queries[n];if(null===r.matches){const s=t.data,o=e.matches,a=[];for(let l=0;l<o.length;l+=2){const u=o[l];a.push(u<0?null:F3(i,s[u],o[l+1],e.metadata.read))}r.matches=a}return r.matches}function Pb(t,i,e,n){const r=t.queries.getByIndex(e),s=r.matches;if(null!==s){const o=ZM(t,i,r,e);for(let a=0;a<s.length;a+=2){const l=s[a];if(l>0)n.push(o[a/2]);else{const u=s[a+1],w=i[-l];for(let R=Li;R<w.length;R++){const z=w[R];z[pa]===z[Ci]&&Pb(z[je],z,u,n)}if(null!==w[Co]){const R=w[Co];for(let z=0;z<R.length;z++){const G=R[z];Pb(G[je],G,u,n)}}}}}return n}function yu(t){const i=De(),e=At(),n=IC();gv(n+1);const r=JM(e,n);if(t.dirty&&function ys(t){return 4==(4&t[rt])}(i)===(2==(2&r.metadata.flags))){if(null===r.matches)t.reset([]);else{const s=r.crossesNgTemplate?Pb(e,i,n,[]):ZM(e,i,r,n);t.reset(s,JL),t.notifyOnChanges()}return!0}return!1}function Rp(t,i,e){const n=At();n.firstCreatePass&&(qM(n,new XM(t,i,e),-1),2==(2&i)&&(n.staticViewQueries=!0)),QM(n,De(),i)}function bu(){return function B3(t,i){return t[Or].queries[i].queryList}(De(),IC())}function QM(t,i,e){const n=new Tb(4==(4&e));(function T2(t,i,e,n){const r=UE(i);r.push(e),t.firstCreatePass&&$E(t).push(n,r.length-1)})(t,i,n,n.destroy),null===i[Or]&&(i[Or]=new Ab),i[Or].queries.push(new Ob(n))}function qM(t,i,e){null===t.queries&&(t.queries=new Ib),t.queries.track(new kb(i,e))}function JM(t,i){return t.queries.getByIndex(i)}function Rb(t,i){return Pp(t,i)}let mT=(()=>{class t{log(e){console.log(e)}warn(e){console.warn(e)}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();class aj{constructor(i,e){this.ngModuleFactory=i,this.componentFactories=e}}let gT=(()=>{class t{compileModuleSync(e){return new Cb(e)}compileModuleAsync(e){return Promise.resolve(this.compileModuleSync(e))}compileModuleAndAllComponentsSync(e){const n=this.compileModuleSync(e),s=br(_n(e).declarations).reduce((o,a)=>{const l=bt(a);return l&&o.push(new Qd(l)),o},[]);return new aj(n,s)}compileModuleAndAllComponentsAsync(e){return Promise.resolve(this.compileModuleAndAllComponentsSync(e))}clearCache(){}clearCacheFor(e){}getModuleId(e){}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),wu=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Dn(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);const e=this.taskId++;return this.pendingTasks.add(e),e}remove(e){this.pendingTasks.delete(e),0===this.pendingTasks.size&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const wT=new Ne(""),Lp=new Ne("");let jb,Hb=(()=>{class t{constructor(e,n,r){this._ngZone=e,this.registry=n,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,jb||(function kj(t){jb=t}(r),r.addToWindow(n)),this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{xt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(n=>!n.updateCb||!n.updateCb(e)||(clearTimeout(n.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,n,r){let s=-1;n&&n>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),e(this._didWork,this.getPendingTasks())},n)),this._callbacks.push({doneCb:e,timeoutId:s,updateCb:r})}whenStable(e,n,r){if(r&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(e,n,r),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(e){this.registry.registerApplication(e,this)}unregisterApplication(e){this.registry.unregisterApplication(e)}findProviders(e,n,r){return[]}static#e=this.\u0275fac=function(n){return new(n||t)(Te(xt),Te(zb),Te(Lp))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac})}return t})(),zb=(()=>{class t{constructor(){this._applications=new Map}registerApplication(e,n){this._applications.set(e,n)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,n=!0){return jb?.findTestabilityInTree(this,e,n)??null}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Ub=new Ne("Application Initializer");let $b=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,n)=>{this.resolve=e,this.reject=n}),this.appInits=He(Ub,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const e=[];for(const r of this.appInits){const s=r();if(pu(s))e.push(s);else if(qS(s)){const o=new Promise((a,l)=>{s.subscribe({complete:a,error:l})});e.push(o)}}const n=()=>{this.done=!0,this.resolve()};Promise.all(e).then(()=>{n()}).catch(r=>{this.reject(r)}),0===e.length&&n(),this.initialized=!0}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Wb=new Ne("appBootstrapListener");function ET(t,i){return Array.isArray(i)?i.reduce(ET,t):{...t,...i}}let Lo=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=He(DE),this.componentTypes=[],this.components=[],this.isStable=He(wu).hasPendingTasks.pipe(mt(e=>!e)),this._injector=He(yr)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(e,n){const r=e instanceof fE;if(!this._injector.get($b).done)throw!r&&function gs(t){const i=bt(t)||Fi(t)||an(t);return null!==i&&i.standalone}(e),new Pe(405,!1);let o;o=r?e:this._injector.get(Gl).resolveComponentFactory(e),this.componentTypes.push(o.componentType);const a=function Rj(t){return t.isBoundToModule}(o)?void 0:this._injector.get(ka),u=o.create(un.NULL,[],n||o.selector,a),w=u.location.nativeElement,R=u.injector.get(wT,null);return R?.registerApplication(w),u.onDestroy(()=>{this.detachView(u.hostView),Bp(this.components,u),R?.unregisterApplication(w)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new Pe(101,!1);try{this._runningTick=!0;for(let e of this._views)e.detectChanges()}catch(e){this.internalErrorHandler(e)}finally{this._runningTick=!1}}attachView(e){const n=e;this._views.push(n),n.attachToAppRef(this)}detachView(e){const n=e;Bp(this._views,n),n.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e);const n=this._injector.get(Wb,[]);[...this._bootstrapListeners,...n].forEach(r=>r(e))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(e=>e()),this._views.slice().forEach(e=>e.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(e){return this._destroyListeners.push(e),()=>Bp(this._destroyListeners,e)}destroy(){if(this._destroyed)throw new Pe(406,!1);const e=this._injector;e.destroy&&!e.destroyed&&e.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Bp(t,i){const e=t.indexOf(i);e>-1&&t.splice(e,1)}let Fj=(()=>{class t{constructor(){this.zone=He(xt),this.applicationRef=He(Lo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Lj(){const t=He(xt),i=He(Ks);return e=>t.runOutsideAngular(()=>i.handleError(e))}let Vj=(()=>{class t{constructor(){this.subscription=new nt,this.initialized=!1,this.zone=He(xt),this.pendingTasks=He(wu)}initialize(){if(this.initialized)return;this.initialized=!0;let e=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(e=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{xt.assertNotInAngularZone(),queueMicrotask(()=>{null!==e&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(e),e=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{xt.assertInAngularZone(),e??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const Ms=new Ne("LocaleId",{providedIn:"root",factory:()=>He(Ms,Tt.Optional|Tt.SkipSelf)||function Hj(){return typeof $localize<"u"&&$localize.locale||gc}()}),Yb=new Ne("PlatformDestroyListeners");let TT=(()=>{class t{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,n){const r=function vB(t="zone.js",i){return"noop"===t?new mB:"zone.js"===t?new xt(i):t}(n?.ngZone,function MT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}({eventCoalescing:n?.ngZoneEventCoalescing,runCoalescing:n?.ngZoneRunCoalescing}));return r.run(()=>{const s=function r3(t,i,e){return new wb(t,i,e)}(e.moduleType,this.injector,function ST(t){return[{provide:xt,useFactory:t},{provide:xa,multi:!0,useFactory:()=>{const i=He(Fj,{optional:!0});return()=>i.initialize()}},{provide:xa,multi:!0,useFactory:()=>{const i=He(Vj);return()=>{i.initialize()}}},{provide:DE,useFactory:Lj}]}(()=>r)),o=s.injector.get(Ks,null);return r.runOutsideAngular(()=>{const a=r.onError.subscribe({next:l=>{o.handleError(l)}});s.onDestroy(()=>{Bp(this._modules,s),a.unsubscribe()})}),function xT(t,i,e){try{const n=e();return pu(n)?n.catch(r=>{throw i.runOutsideAngular(()=>t.handleError(r)),r}):n}catch(n){throw i.runOutsideAngular(()=>t.handleError(n)),n}}(o,r,()=>{const a=s.injector.get($b);return a.runInitializers(),a.donePromise.then(()=>(function TS(t){ie(t,"Expected localeId to be defined"),"string"==typeof t&&(MS=t.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Ms,gc)||gc),this._moduleDoBootstrap(s),s))})})}bootstrapModule(e,n=[]){const r=ET({},n);return function Pj(t,i,e){const n=new Cb(e);return Promise.resolve(n)}(0,0,e).then(s=>this.bootstrapModuleFactory(s,r))}_moduleDoBootstrap(e){const n=e.injector.get(Lo);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(r=>n.bootstrap(r));else{if(!e.instance.ngDoBootstrap)throw new Pe(-403,!1);e.instance.ngDoBootstrap(n)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Pe(404,!1);this._modules.slice().forEach(n=>n.destroy()),this._destroyListeners.forEach(n=>n());const e=this._injector.get(Yb,null);e&&(e.forEach(n=>n()),e.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static#e=this.\u0275fac=function(n){return new(n||t)(Te(un))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),Bo=null;const OT=new Ne("AllowMultipleToken");function AT(t,i,e=[]){const n=`Platform: ${i}`,r=new Ne(n);return(s=[])=>{let o=Gb();if(!o||o.injector.get(OT,!1)){const a=[...e,...s,{provide:r,useValue:!0}];t?t(a):function Uj(t){if(Bo&&!Bo.get(OT,!1))throw new Pe(400,!1);(function CT(){!function de(t){re=t}(()=>{throw new Pe(600,!1)})})(),Bo=t;const i=t.get(TT);(function kT(t){t.get(gx,null)?.forEach(e=>e())})(t)}(function IT(t=[],i){return un.create({name:i,providers:[{provide:Nv,useValue:"platform"},{provide:Yb,useValue:new Set([()=>Bo=null])},...t]})}(a,n))}return function $j(t){const i=Gb();if(!i)throw new Pe(401,!1);return i}()}}function Gb(){return Bo?.get(TT)??null}const Kj=AT(null,"core",[]);let Qj=(()=>{class t{constructor(e){}static#e=this.\u0275fac=function(n){return new(n||t)(Te(Lo))};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({})}return t})();function Na(t){return"boolean"==typeof t?t:null!=t&&"false"!==t}let i_=null;function Vo(){return i_}class DU{}const ri=new Ne("DocumentToken");let n_=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:()=>He(MU),providedIn:"platform"})}return t})();const SU=new Ne("Location Initialized");let MU=(()=>{class t extends n_{constructor(){super(),this._doc=He(ri),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Vo().getBaseHref(this._doc)}onPopState(e){const n=Vo().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){const n=Vo().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,r){this._history.pushState(e,n,r)}replaceState(e,n,r){this._history.replaceState(e,n,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:()=>new t,providedIn:"platform"})}return t})();function r_(t,i){if(0==t.length)return i;if(0==i.length)return t;let e=0;return t.endsWith("/")&&e++,i.startsWith("/")&&e++,2==e?t+i.substring(1):1==e?t+i:t+"/"+i}function tO(t){const i=t.match(/#|\?|$/),e=i&&i.index||t.length;return t.slice(0,e-("/"===t[e-1]?1:0))+t.slice(e)}function qs(t){return t&&"?"!==t[0]?"?"+t:t}let Fa=(()=>{class t{historyGo(e){throw new Error("Not implemented")}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:()=>He(nO),providedIn:"root"})}return t})();const iO=new Ne("appBaseHref");let nO=(()=>{class t extends Fa{constructor(e,n){super(),this._platformLocation=e,this._removeListenerFns=[],this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??He(ri).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return r_(this._baseHref,e)}path(e=!1){const n=this._platformLocation.pathname+qs(this._platformLocation.search),r=this._platformLocation.hash;return r&&e?`${n}${r}`:n}pushState(e,n,r,s){const o=this.prepareExternalUrl(r+qs(s));this._platformLocation.pushState(e,n,o)}replaceState(e,n,r,s){const o=this.prepareExternalUrl(r+qs(s));this._platformLocation.replaceState(e,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(n){return new(n||t)(Te(n_),Te(iO,8))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),TU=(()=>{class t extends Fa{constructor(e,n){super(),this._platformLocation=e,this._baseHref="",this._removeListenerFns=[],null!=n&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash;return null==n&&(n="#"),n.length>0?n.substring(1):n}prepareExternalUrl(e){const n=r_(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,r,s){let o=this.prepareExternalUrl(r+qs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(e,n,o)}replaceState(e,n,r,s){let o=this.prepareExternalUrl(r+qs(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(e,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static#e=this.\u0275fac=function(n){return new(n||t)(Te(n_),Te(iO,8))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac})}return t})(),_c=(()=>{class t{constructor(e){this._subject=new It,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=e;const n=this._locationStrategy.getBaseHref();this._basePath=function IU(t){if(new RegExp("^(https?:)?//").test(t)){const[,e]=t.split(/\/\/[^\/]+/);return e}return t}(tO(rO(n))),this._locationStrategy.onPopState(r=>{this._subject.emit({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+qs(n))}normalize(e){return t.stripTrailingSlash(function AU(t,i){if(!t||!i.startsWith(t))return i;const e=i.substring(t.length);return""===e||["/",";","?","#"].includes(e[0])?e:i}(this._basePath,rO(e)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",r=null){this._locationStrategy.pushState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qs(n)),r)}replaceState(e,n="",r=null){this._locationStrategy.replaceState(r,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+qs(n)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)})),()=>{const n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(r=>r(e,n))}subscribe(e,n,r){return this._subject.subscribe({next:e,error:n,complete:r})}static#e=this.normalizeQueryParams=qs;static#t=this.joinWithSlash=r_;static#i=this.stripTrailingSlash=tO;static#n=this.\u0275fac=function(n){return new(n||t)(Te(Fa))};static#r=this.\u0275prov=ke({token:t,factory:()=>function OU(){return new _c(Te(Fa))}(),providedIn:"root"})}return t})();function rO(t){return t.replace(/\/index.html$/,"")}function fO(t,i){i=encodeURIComponent(i);for(const e of t.split(";")){const n=e.indexOf("="),[r,s]=-1==n?[e,""]:[e.slice(0,n),e.slice(n+1)];if(r.trim()===i)return decodeURIComponent(s)}return null}const p_=/\s+/,pO=[];let mO=(()=>{class t{constructor(e,n,r,s){this._iterableDiffers=e,this._keyValueDiffers=n,this._ngEl=r,this._renderer=s,this.initialClasses=pO,this.stateMap=new Map}set klass(e){this.initialClasses=null!=e?e.trim().split(p_):pO}set ngClass(e){this.rawClass="string"==typeof e?e.trim().split(p_):e}ngDoCheck(){for(const n of this.initialClasses)this._updateState(n,!0);const e=this.rawClass;if(Array.isArray(e)||e instanceof Set)for(const n of e)this._updateState(n,!0);else if(null!=e)for(const n of Object.keys(e))this._updateState(n,!!e[n]);this._applyStateDiff()}_updateState(e,n){const r=this.stateMap.get(e);void 0!==r?(r.enabled!==n&&(r.changed=!0,r.enabled=n),r.touched=!0):this.stateMap.set(e,{enabled:n,changed:!0,touched:!0})}_applyStateDiff(){for(const e of this.stateMap){const n=e[0],r=e[1];r.changed?(this._toggleClass(n,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(n,!1),this.stateMap.delete(n)),r.touched=!1}}_toggleClass(e,n){(e=e.trim()).length>0&&e.split(p_).forEach(r=>{n?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(sp),Ce(Yd),Ce(ki),Ce(_r))};static#t=this.\u0275dir=ct({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0})}return t})();class g${constructor(i,e,n,r){this.$implicit=i,this.ngForOf=e,this.index=n,this.count=r}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let m_=(()=>{class t{set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}constructor(e,n,r){this._viewContainer=e,this._template=n,this._differs=r,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const e=this._ngForOf;!this._differ&&e&&(this._differ=this._differs.find(e).create(this.ngForTrackBy))}if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const n=this._viewContainer;e.forEachOperation((r,s,o)=>{if(null==r.previousIndex)n.createEmbeddedView(this._template,new g$(r.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)n.remove(null===s?void 0:s);else if(null!==s){const a=n.get(s);n.move(a,o),vO(a,r)}});for(let r=0,s=n.length;r<s;r++){const a=n.get(r).context;a.index=r,a.count=s,a.ngForOf=this._ngForOf}e.forEachIdentityChange(r=>{vO(n.get(r.currentIndex),r)})}static ngTemplateContextGuard(e,n){return!0}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(Lr),Ce(Ss),Ce(sp))};static#t=this.\u0275dir=ct({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}return t})();function vO(t,i){t.context.$implicit=i.item}let Ho=(()=>{class t{constructor(e,n){this._viewContainer=e,this._context=new v$,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){yO("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){yO("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,n){return!0}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(Lr),Ce(Ss))};static#t=this.\u0275dir=ct({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}return t})();class v${constructor(){this.$implicit=null,this.ngIf=null}}function yO(t,i){if(i&&!i.createEmbeddedView)throw new Error(`${t} must be a TemplateRef, but received '${Wt(i)}'.`)}class w${createSubscription(i,e){return mE(()=>i.subscribe({next:e,error:n=>{throw n}}))}dispose(i){mE(()=>i.unsubscribe())}}class C${createSubscription(i,e){return i.then(e,n=>{throw n})}dispose(i){}}const x$=new C$,E$=new w$;let _O=(()=>{class t{constructor(e){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=e}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,n=>this._updateLatestValue(e,n))}_selectStrategy(e){if(pu(e))return x$;if(qS(e))return E$;throw function ss(t,i){return new Pe(2100,!1)}()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,n){e===this._obj&&(this._latestValue=n,this._ref.markForCheck())}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(Kl,16))};static#t=this.\u0275pipe=bn({name:"async",type:t,pure:!1,standalone:!0})}return t})(),wO=(()=>{class t{transform(e){return JSON.stringify(e,null,2)}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275pipe=bn({name:"json",type:t,pure:!1,standalone:!0})}return t})(),La=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({})}return t})();const xO="browser";function __(t){return t===xO}function EO(t){return"server"===t}let $$=(()=>{class t{static#e=this.\u0275prov=ke({token:t,providedIn:"root",factory:()=>new W$(Te(ri),window)})}return t})();class W${constructor(i,e){this.document=i,this.window=e,this.offset=()=>[0,0]}setOffset(i){this.offset=Array.isArray(i)?()=>i:i}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(i){this.supportsScrolling()&&this.window.scrollTo(i[0],i[1])}scrollToAnchor(i){if(!this.supportsScrolling())return;const e=function Y$(t,i){const e=t.getElementById(i)||t.getElementsByName(i)[0];if(e)return e;if("function"==typeof t.createTreeWalker&&t.body&&"function"==typeof t.body.attachShadow){const n=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT);let r=n.currentNode;for(;r;){const s=r.shadowRoot;if(s){const o=s.getElementById(i)||s.querySelector(`[name="${i}"]`);if(o)return o}r=n.nextNode()}}return null}(this.document,i);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(i){this.supportsScrolling()&&(this.window.history.scrollRestoration=i)}scrollToElement(i){const e=i.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],r-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class DO{}class g5 extends DU{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class x_ extends g5{static makeCurrent(){!function EU(t){i_||(i_=t)}(new x_)}onAndCancel(i,e,n){return i.addEventListener(e,n),()=>{i.removeEventListener(e,n)}}dispatchEvent(i,e){i.dispatchEvent(e)}remove(i){i.parentNode&&i.parentNode.removeChild(i)}createElement(i,e){return(e=e||this.getDefaultDocument()).createElement(i)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(i){return i.nodeType===Node.ELEMENT_NODE}isShadowRoot(i){return i instanceof DocumentFragment}getGlobalEventTarget(i,e){return"window"===e?window:"document"===e?i:"body"===e?i.body:null}getBaseHref(i){const e=function v5(){return Tu=Tu||document.querySelector("base"),Tu?Tu.getAttribute("href"):null}();return null==e?null:function y5(t){return new URL(t,document.baseURI).pathname}(e)}resetBaseElement(){Tu=null}getUserAgent(){return window.navigator.userAgent}getCookie(i){return fO(document.cookie,i)}}let Tu=null,_5=(()=>{class t{build(){return new XMLHttpRequest}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac})}return t})();const E_=new Ne("EventManagerPlugins");let OO=(()=>{class t{constructor(e,n){this._zone=n,this._eventNameToPlugin=new Map,e.forEach(r=>{r.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,r){return this._findPluginFor(n).addEventListener(e,n,r)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(s=>s.supports(e)),!n)throw new Pe(5101,!1);return this._eventNameToPlugin.set(e,n),n}static#e=this.\u0275fac=function(n){return new(n||t)(Te(E_),Te(xt))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac})}return t})();class AO{constructor(i){this._doc=i}}const D_="ng-app-id";let IO=(()=>{class t{constructor(e,n,r,s={}){this.doc=e,this.appId=n,this.nonce=r,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=EO(s),this.resetHostNodes()}addStyles(e){for(const n of e)1===this.changeUsageCount(n,1)&&this.onStyleAdded(n)}removeStyles(e){for(const n of e)this.changeUsageCount(n,-1)<=0&&this.onStyleRemoved(n)}ngOnDestroy(){const e=this.styleNodesInDOM;e&&(e.forEach(n=>n.remove()),e.clear());for(const n of this.getAllStyles())this.onStyleRemoved(n);this.resetHostNodes()}addHost(e){this.hostNodes.add(e);for(const n of this.getAllStyles())this.addStyleToHost(e,n)}removeHost(e){this.hostNodes.delete(e)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(e){for(const n of this.hostNodes)this.addStyleToHost(n,e)}onStyleRemoved(e){const n=this.styleRef;n.get(e)?.elements?.forEach(r=>r.remove()),n.delete(e)}collectServerRenderedStyles(){const e=this.doc.head?.querySelectorAll(`style[${D_}="${this.appId}"]`);if(e?.length){const n=new Map;return e.forEach(r=>{null!=r.textContent&&n.set(r.textContent,r)}),n}return null}changeUsageCount(e,n){const r=this.styleRef;if(r.has(e)){const s=r.get(e);return s.usage+=n,s.usage}return r.set(e,{usage:n,elements:[]}),n}getStyleElement(e,n){const r=this.styleNodesInDOM,s=r?.get(n);if(s?.parentNode===e)return r.delete(n),s.removeAttribute(D_),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=n,this.platformIsServer&&o.setAttribute(D_,this.appId),e.appendChild(o),o}}addStyleToHost(e,n){const r=this.getStyleElement(e,n),s=this.styleRef,o=s.get(n)?.elements;o?o.push(r):s.set(n,{elements:[r],usage:1})}resetHostNodes(){const e=this.hostNodes;e.clear(),e.add(this.doc.head)}static#e=this.\u0275fac=function(n){return new(n||t)(Te(ri),Te(Ff),Te(jv,8),Te(ws))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac})}return t})();const S_={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},M_=/%COMP%/g,E5=new Ne("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!0});function PO(t,i){return i.map(e=>e.replace(M_,t))}let RO=(()=>{class t{constructor(e,n,r,s,o,a,l,u=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=r,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=l,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=EO(a),this.defaultRenderer=new T_(e,o,l,this.platformIsServer)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===pr.ShadowDom&&(n={...n,encapsulation:pr.Emulated});const r=this.getOrCreateRenderer(e,n);return r instanceof FO?r.applyToHost(e):r instanceof O_&&r.applyStyles(),r}getOrCreateRenderer(e,n){const r=this.rendererByCompId;let s=r.get(n.id);if(!s){const o=this.doc,a=this.ngZone,l=this.eventManager,u=this.sharedStylesHost,w=this.removeStylesOnCompDestroy,R=this.platformIsServer;switch(n.encapsulation){case pr.Emulated:s=new FO(l,u,n,this.appId,w,o,a,R);break;case pr.ShadowDom:return new T5(l,u,e,n,o,a,this.nonce,R);default:s=new O_(l,u,n,w,o,a,R)}r.set(n.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static#e=this.\u0275fac=function(n){return new(n||t)(Te(OO),Te(IO),Te(Ff),Te(E5),Te(ri),Te(ws),Te(xt),Te(jv))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac})}return t})();class T_{constructor(i,e,n,r){this.eventManager=i,this.doc=e,this.ngZone=n,this.platformIsServer=r,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(i,e){return e?this.doc.createElementNS(S_[e]||e,i):this.doc.createElement(i)}createComment(i){return this.doc.createComment(i)}createText(i){return this.doc.createTextNode(i)}appendChild(i,e){(NO(i)?i.content:i).appendChild(e)}insertBefore(i,e,n){i&&(NO(i)?i.content:i).insertBefore(e,n)}removeChild(i,e){i&&i.removeChild(e)}selectRootElement(i,e){let n="string"==typeof i?this.doc.querySelector(i):i;if(!n)throw new Pe(-5104,!1);return e||(n.textContent=""),n}parentNode(i){return i.parentNode}nextSibling(i){return i.nextSibling}setAttribute(i,e,n,r){if(r){e=r+":"+e;const s=S_[r];s?i.setAttributeNS(s,e,n):i.setAttribute(e,n)}else i.setAttribute(e,n)}removeAttribute(i,e,n){if(n){const r=S_[n];r?i.removeAttributeNS(r,e):i.removeAttribute(`${n}:${e}`)}else i.removeAttribute(e)}addClass(i,e){i.classList.add(e)}removeClass(i,e){i.classList.remove(e)}setStyle(i,e,n,r){r&(Po.DashCase|Po.Important)?i.style.setProperty(e,n,r&Po.Important?"important":""):i.style[e]=n}removeStyle(i,e,n){n&Po.DashCase?i.style.removeProperty(e):i.style[e]=""}setProperty(i,e,n){null!=i&&(i[e]=n)}setValue(i,e){i.nodeValue=e}listen(i,e,n){if("string"==typeof i&&!(i=Vo().getGlobalEventTarget(this.doc,i)))throw new Error(`Unsupported event target ${i} for event ${e}`);return this.eventManager.addEventListener(i,e,this.decoratePreventDefault(n))}decoratePreventDefault(i){return e=>{if("__ngUnwrap__"===e)return i;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>i(e)):i(e))&&e.preventDefault()}}}function NO(t){return"TEMPLATE"===t.tagName&&void 0!==t.content}class T5 extends T_{constructor(i,e,n,r,s,o,a,l){super(i,s,o,l),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=PO(r.id,r.styles);for(const w of u){const R=document.createElement("style");a&&R.setAttribute("nonce",a),R.textContent=w,this.shadowRoot.appendChild(R)}}nodeOrShadowRoot(i){return i===this.hostEl?this.shadowRoot:i}appendChild(i,e){return super.appendChild(this.nodeOrShadowRoot(i),e)}insertBefore(i,e,n){return super.insertBefore(this.nodeOrShadowRoot(i),e,n)}removeChild(i,e){return super.removeChild(this.nodeOrShadowRoot(i),e)}parentNode(i){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(i)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class O_ extends T_{constructor(i,e,n,r,s,o,a,l){super(i,s,o,a),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=r,this.styles=l?PO(l,n.styles):n.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class FO extends O_{constructor(i,e,n,r,s,o,a,l){const u=r+"-"+n.id;super(i,e,n,s,o,a,l,u),this.contentAttr=function D5(t){return"_ngcontent-%COMP%".replace(M_,t)}(u),this.hostAttr=function S5(t){return"_nghost-%COMP%".replace(M_,t)}(u)}applyToHost(i){this.applyStyles(),this.setAttribute(i,this.hostAttr,"")}createElement(i,e){const n=super.createElement(i,e);return super.setAttribute(n,this.contentAttr,""),n}}let O5=(()=>{class t extends AO{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,r){return e.addEventListener(n,r,!1),()=>this.removeEventListener(e,n,r)}removeEventListener(e,n,r){return e.removeEventListener(n,r)}static#e=this.\u0275fac=function(n){return new(n||t)(Te(ri))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac})}return t})();const LO=["alt","control","meta","shift"],A5={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},I5={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey};let k5=(()=>{class t extends AO{constructor(e){super(e)}supports(e){return null!=t.parseEventName(e)}addEventListener(e,n,r){const s=t.parseEventName(n),o=t.eventCallback(s.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Vo().onAndCancel(e,s.domEventName,o))}static parseEventName(e){const n=e.toLowerCase().split("."),r=n.shift();if(0===n.length||"keydown"!==r&&"keyup"!==r)return null;const s=t._normalizeKey(n.pop());let o="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),o="code."),LO.forEach(u=>{const w=n.indexOf(u);w>-1&&(n.splice(w,1),o+=u+".")}),o+=s,0!=n.length||0===s.length)return null;const l={};return l.domEventName=r,l.fullKey=o,l}static matchEventFullKeyCode(e,n){let r=A5[e.key]||e.key,s="";return n.indexOf("code.")>-1&&(r=e.code,s="code."),!(null==r||!r)&&(r=r.toLowerCase()," "===r?r="space":"."===r&&(r="dot"),LO.forEach(o=>{o!==r&&(0,I5[o])(e)&&(s+=o+".")}),s+=r,s===n)}static eventCallback(e,n,r){return s=>{t.matchEventFullKeyCode(s,e)&&r.runGuarded(()=>n(s))}}static _normalizeKey(e){return"esc"===e?"escape":e}static#e=this.\u0275fac=function(n){return new(n||t)(Te(ri))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac})}return t})();const F5=AT(Kj,"browser",[{provide:ws,useValue:xO},{provide:gx,useValue:function P5(){x_.makeCurrent()},multi:!0},{provide:ri,useFactory:function N5(){return function TF(t){zv=t}(document),document},deps:[]}]),L5=new Ne(""),HO=[{provide:Lp,useClass:class b5{addToWindow(i){fi.getAngularTestability=(n,r=!0)=>{const s=i.findTestabilityInTree(n,r);if(null==s)throw new Pe(5103,!1);return s},fi.getAllAngularTestabilities=()=>i.getAllTestabilities(),fi.getAllAngularRootElements=()=>i.getAllRootElements(),fi.frameworkStabilizers||(fi.frameworkStabilizers=[]),fi.frameworkStabilizers.push(n=>{const r=fi.getAllAngularTestabilities();let s=r.length,o=!1;const a=function(l){o=o||l,s--,0==s&&n(o)};r.forEach(l=>{l.whenStable(a)})})}findTestabilityInTree(i,e,n){return null==e?null:i.getTestability(e)??(n?Vo().isShadowRoot(e)?this.findTestabilityInTree(i,e.host,!0):this.findTestabilityInTree(i,e.parentElement,!0):null)}},deps:[]},{provide:wT,useClass:Hb,deps:[xt,zb,Lp]},{provide:Hb,useClass:Hb,deps:[xt,zb,Lp]}],zO=[{provide:Nv,useValue:"root"},{provide:Ks,useFactory:function R5(){return new Ks},deps:[]},{provide:E_,useClass:O5,multi:!0,deps:[ri,xt,ws]},{provide:E_,useClass:k5,multi:!0,deps:[ri]},RO,IO,OO,{provide:np,useExisting:RO},{provide:DO,useClass:_5,deps:[]},[]];let B5=(()=>{class t{constructor(e){}static withServerTransition(e){return{ngModule:t,providers:[{provide:Ff,useValue:e.appId}]}}static#e=this.\u0275fac=function(n){return new(n||t)(Te(L5,12))};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({providers:[...zO,...HO],imports:[La,Qj]})}return t})(),jO=(()=>{class t{constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static#e=this.\u0275fac=function(n){return new(n||t)(Te(ri))};static#t=this.\u0275prov=ke({token:t,factory:function(n){let r=null;return r=n?new n:function H5(){return new jO(Te(ri))}(),r},providedIn:"root"})}return t})();function YO(t,i,e,n,r,s,o){try{var a=t[s](o),l=a.value}catch(u){return void e(u)}a.done?i(l):Promise.resolve(l).then(n,r)}function jr(t){return function(){var i=this,e=arguments;return new Promise(function(n,r){var s=t.apply(i,e);function o(l){YO(s,n,r,o,a,"next",l)}function a(l){YO(s,n,r,o,a,"throw",l)}o(void 0)})}}function GO(t){return t&&We(t.schedule)}function I_(t){return t[t.length-1]}function XO(t){return We(I_(t))?t.pop():void 0}function Ou(t){return GO(I_(t))?t.pop():void 0}function jo(t){return this instanceof jo?(this.v=t,this):new jo(t)}function qO(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e,i=t[Symbol.asyncIterator];return i?i.call(t):(t=function N_(t){var i="function"==typeof Symbol&&Symbol.iterator,e=i&&t[i],n=0;if(e)return e.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(i?"Object is not iterable.":"Symbol.iterator is not defined.")}(t),e={},n("next"),n("throw"),n("return"),e[Symbol.asyncIterator]=function(){return this},e);function n(s){e[s]=t[s]&&function(o){return new Promise(function(a,l){!function r(s,o,a,l){Promise.resolve(l).then(function(u){s({value:u,done:a})},o)}(a,l,(o=t[s](o)).done,o.value)})}}}typeof window<"u"&&window,"function"==typeof SuppressedError&&SuppressedError;const F_=t=>t&&"number"==typeof t.length&&"function"!=typeof t;function JO(t){return We(t?.then)}function e1(t){return We(t[dr])}function t1(t){return Symbol.asyncIterator&&We(t?.[Symbol.asyncIterator])}function n1(t){return new TypeError(`You provided ${null!==t&&"object"==typeof t?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const r1=function fW(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function s1(t){return We(t?.[r1])}function o1(t){return function QO(t,i,e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r,n=e.apply(t,i||[]),s=[];return r={},o("next"),o("throw"),o("return"),r[Symbol.asyncIterator]=function(){return this},r;function o(z){n[z]&&(r[z]=function(G){return new Promise(function(X,Q){s.push([z,G,X,Q])>1||a(z,G)})})}function a(z,G){try{!function l(z){z.value instanceof jo?Promise.resolve(z.value.v).then(u,w):R(s[0][2],z)}(n[z](G))}catch(X){R(s[0][3],X)}}function u(z){a("next",z)}function w(z){a("throw",z)}function R(z,G){z(G),s.shift(),s.length&&a(s[0][0],s[0][1])}}(this,arguments,function*(){const e=t.getReader();try{for(;;){const{value:n,done:r}=yield jo(e.read());if(r)return yield jo(void 0);yield yield jo(n)}}finally{e.releaseLock()}})}function a1(t){return We(t?.getReader)}function ar(t){if(t instanceof Qt)return t;if(null!=t){if(e1(t))return function pW(t){return new Qt(i=>{const e=t[dr]();if(We(e.subscribe))return e.subscribe(i);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(t);if(F_(t))return function mW(t){return new Qt(i=>{for(let e=0;e<t.length&&!i.closed;e++)i.next(t[e]);i.complete()})}(t);if(JO(t))return function gW(t){return new Qt(i=>{t.then(e=>{i.closed||(i.next(e),i.complete())},e=>i.error(e)).then(null,Ve)})}(t);if(t1(t))return l1(t);if(s1(t))return function vW(t){return new Qt(i=>{for(const e of t)if(i.next(e),i.closed)return;i.complete()})}(t);if(a1(t))return function yW(t){return l1(o1(t))}(t)}throw n1(t)}function l1(t){return new Qt(i=>{(function bW(t,i){var e,n,r,s;return function ZO(t,i,e,n){return new(e||(e=Promise))(function(s,o){function a(w){try{u(n.next(w))}catch(R){o(R)}}function l(w){try{u(n.throw(w))}catch(R){o(R)}}function u(w){w.done?s(w.value):function r(s){return s instanceof e?s:new e(function(o){o(s)})}(w.value).then(a,l)}u((n=n.apply(t,i||[])).next())})}(this,void 0,void 0,function*(){try{for(e=qO(t);!(n=yield e.next()).done;)if(i.next(n.value),i.closed)return}catch(o){r={error:o}}finally{try{n&&!n.done&&(s=e.return)&&(yield s.call(e))}finally{if(r)throw r.error}}i.complete()})})(t,i).catch(e=>i.error(e))})}function to(t,i,e,n=0,r=!1){const s=i.schedule(function(){e(),r?t.add(this.schedule(null,n)):this.unsubscribe()},n);if(t.add(s),!r)return s}function c1(t,i=0){return $t((e,n)=>{e.subscribe(li(n,r=>to(n,t,()=>n.next(r),i),()=>to(n,t,()=>n.complete(),i),r=>to(n,t,()=>n.error(r),i)))})}function d1(t,i=0){return $t((e,n)=>{n.add(t.schedule(()=>e.subscribe(n),i))})}function u1(t,i){if(!t)throw new Error("Iterable cannot be null");return new Qt(e=>{to(e,i,()=>{const n=t[Symbol.asyncIterator]();to(e,i,()=>{n.next().then(r=>{r.done?e.complete():e.next(r.value)})},0,!0)})})}function nn(t,i){return i?function DW(t,i){if(null!=t){if(e1(t))return function _W(t,i){return ar(t).pipe(d1(i),c1(i))}(t,i);if(F_(t))return function CW(t,i){return new Qt(e=>{let n=0;return i.schedule(function(){n===t.length?e.complete():(e.next(t[n++]),e.closed||this.schedule())})})}(t,i);if(JO(t))return function wW(t,i){return ar(t).pipe(d1(i),c1(i))}(t,i);if(t1(t))return u1(t,i);if(s1(t))return function xW(t,i){return new Qt(e=>{let n;return to(e,i,()=>{n=t[r1](),to(e,i,()=>{let r,s;try{({value:r,done:s}=n.next())}catch(o){return void e.error(o)}s?e.complete():e.next(r)},0,!0)}),()=>We(n?.return)&&n.return()})}(t,i);if(a1(t))return function EW(t,i){return u1(o1(t),i)}(t,i)}throw n1(t)}(t,i):ar(t)}function dt(...t){return nn(t,Ou(t))}function xn(t,i,e=1/0){return We(i)?xn((n,r)=>mt((s,o)=>i(n,s,r,o))(ar(t(n,r))),e):("number"==typeof i&&(e=i),$t((n,r)=>function SW(t,i,e,n,r,s,o,a){const l=[];let u=0,w=0,R=!1;const z=()=>{R&&!l.length&&!u&&i.complete()},G=Q=>u<n?X(Q):l.push(Q),X=Q=>{s&&i.next(Q),u++;let ne=!1;ar(e(Q,w++)).subscribe(li(i,ae=>{r?.(ae),s?G(ae):i.next(ae)},()=>{ne=!0},void 0,()=>{if(ne)try{for(u--;l.length&&u<n;){const ae=l.shift();o?to(i,o,()=>X(ae)):X(ae)}z()}catch(ae){i.error(ae)}}))};return t.subscribe(li(i,G,()=>{R=!0,z()})),()=>{a?.()}}(n,r,t,e)))}function Cc(t,i){return We(i)?xn(t,i,1):xn(t,1)}function Kn(t,i){return $t((e,n)=>{let r=0;e.subscribe(li(n,s=>t.call(i,s,r++)&&n.next(s)))})}function Au(t){return $t((i,e)=>{try{i.subscribe(e)}finally{e.add(t)}})}function lr(t,i){return $t((e,n)=>{let r=null,s=0,o=!1;const a=()=>o&&!r&&n.complete();e.subscribe(li(n,l=>{r?.unsubscribe();let u=0;const w=s++;ar(t(l,w)).subscribe(r=li(n,R=>n.next(i?i(l,R,w,u++):R),()=>{r=null,a()}))},()=>{o=!0,a()}))})}class sm{}class om{}class Ur{constructor(i){this.normalizedNames=new Map,this.lazyUpdate=null,i?"string"==typeof i?this.lazyInit=()=>{this.headers=new Map,i.split("\n").forEach(e=>{const n=e.indexOf(":");if(n>0){const r=e.slice(0,n),s=r.toLowerCase(),o=e.slice(n+1).trim();this.maybeSetNormalizedName(r,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&i instanceof Headers?(this.headers=new Map,i.forEach((e,n)=>{this.setHeaderEntries(n,e)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(i).forEach(([e,n])=>{this.setHeaderEntries(e,n)})}:this.headers=new Map}has(i){return this.init(),this.headers.has(i.toLowerCase())}get(i){this.init();const e=this.headers.get(i.toLowerCase());return e&&e.length>0?e[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(i){return this.init(),this.headers.get(i.toLowerCase())||null}append(i,e){return this.clone({name:i,value:e,op:"a"})}set(i,e){return this.clone({name:i,value:e,op:"s"})}delete(i,e){return this.clone({name:i,value:e,op:"d"})}maybeSetNormalizedName(i,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,i)}init(){this.lazyInit&&(this.lazyInit instanceof Ur?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(i=>this.applyUpdate(i)),this.lazyUpdate=null))}copyFrom(i){i.init(),Array.from(i.headers.keys()).forEach(e=>{this.headers.set(e,i.headers.get(e)),this.normalizedNames.set(e,i.normalizedNames.get(e))})}clone(i){const e=new Ur;return e.lazyInit=this.lazyInit&&this.lazyInit instanceof Ur?this.lazyInit:this,e.lazyUpdate=(this.lazyUpdate||[]).concat([i]),e}applyUpdate(i){const e=i.name.toLowerCase();switch(i.op){case"a":case"s":let n=i.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(i.name,e);const r=("a"===i.op?this.headers.get(e):void 0)||[];r.push(...n),this.headers.set(e,r);break;case"d":const s=i.value;if(s){let o=this.headers.get(e);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}}setHeaderEntries(i,e){const n=(Array.isArray(e)?e:[e]).map(s=>s.toString()),r=i.toLowerCase();this.headers.set(r,n),this.maybeSetNormalizedName(i,r)}forEach(i){this.init(),Array.from(this.normalizedNames.keys()).forEach(e=>i(this.normalizedNames.get(e),this.headers.get(e)))}}class MW{encodeKey(i){return h1(i)}encodeValue(i){return h1(i)}decodeKey(i){return decodeURIComponent(i)}decodeValue(i){return decodeURIComponent(i)}}const OW=/%(\d[a-f0-9])/gi,AW={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function h1(t){return encodeURIComponent(t).replace(OW,(i,e)=>AW[e]??i)}function am(t){return`${t}`}class Ts{constructor(i={}){if(this.updates=null,this.cloneFrom=null,this.encoder=i.encoder||new MW,i.fromString){if(i.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function TW(t,i){const e=new Map;return t.length>0&&t.replace(/^\?/,"").split("&").forEach(r=>{const s=r.indexOf("="),[o,a]=-1==s?[i.decodeKey(r),""]:[i.decodeKey(r.slice(0,s)),i.decodeValue(r.slice(s+1))],l=e.get(o)||[];l.push(a),e.set(o,l)}),e}(i.fromString,this.encoder)}else i.fromObject?(this.map=new Map,Object.keys(i.fromObject).forEach(e=>{const n=i.fromObject[e],r=Array.isArray(n)?n.map(am):[am(n)];this.map.set(e,r)})):this.map=null}has(i){return this.init(),this.map.has(i)}get(i){this.init();const e=this.map.get(i);return e?e[0]:null}getAll(i){return this.init(),this.map.get(i)||null}keys(){return this.init(),Array.from(this.map.keys())}append(i,e){return this.clone({param:i,value:e,op:"a"})}appendAll(i){const e=[];return Object.keys(i).forEach(n=>{const r=i[n];Array.isArray(r)?r.forEach(s=>{e.push({param:n,value:s,op:"a"})}):e.push({param:n,value:r,op:"a"})}),this.clone(e)}set(i,e){return this.clone({param:i,value:e,op:"s"})}delete(i,e){return this.clone({param:i,value:e,op:"d"})}toString(){return this.init(),this.keys().map(i=>{const e=this.encoder.encodeKey(i);return this.map.get(i).map(n=>e+"="+this.encoder.encodeValue(n)).join("&")}).filter(i=>""!==i).join("&")}clone(i){const e=new Ts({encoder:this.encoder});return e.cloneFrom=this.cloneFrom||this,e.updates=(this.updates||[]).concat(i),e}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(i=>this.map.set(i,this.cloneFrom.map.get(i))),this.updates.forEach(i=>{switch(i.op){case"a":case"s":const e=("a"===i.op?this.map.get(i.param):void 0)||[];e.push(am(i.value)),this.map.set(i.param,e);break;case"d":if(void 0===i.value){this.map.delete(i.param);break}{let n=this.map.get(i.param)||[];const r=n.indexOf(am(i.value));-1!==r&&n.splice(r,1),n.length>0?this.map.set(i.param,n):this.map.delete(i.param)}}}),this.cloneFrom=this.updates=null)}}class IW{constructor(){this.map=new Map}set(i,e){return this.map.set(i,e),this}get(i){return this.map.has(i)||this.map.set(i,i.defaultValue()),this.map.get(i)}delete(i){return this.map.delete(i),this}has(i){return this.map.has(i)}keys(){return this.map.keys()}}function f1(t){return typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer}function p1(t){return typeof Blob<"u"&&t instanceof Blob}function m1(t){return typeof FormData<"u"&&t instanceof FormData}class Iu{constructor(i,e,n,r){let s;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=i.toUpperCase(),function kW(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,s=r):s=n,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers||(this.headers=new Ur),this.context||(this.context=new IW),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{const a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new Ts,this.urlWithParams=e}serializeBody(){return null===this.body?null:f1(this.body)||p1(this.body)||m1(this.body)||function PW(t){return typeof URLSearchParams<"u"&&t instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Ts?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||m1(this.body)?null:p1(this.body)?this.body.type||null:f1(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Ts?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(i={}){const e=i.method||this.method,n=i.url||this.url,r=i.responseType||this.responseType,s=void 0!==i.body?i.body:this.body,o=void 0!==i.withCredentials?i.withCredentials:this.withCredentials,a=void 0!==i.reportProgress?i.reportProgress:this.reportProgress;let l=i.headers||this.headers,u=i.params||this.params;const w=i.context??this.context;return void 0!==i.setHeaders&&(l=Object.keys(i.setHeaders).reduce((R,z)=>R.set(z,i.setHeaders[z]),l)),i.setParams&&(u=Object.keys(i.setParams).reduce((R,z)=>R.set(z,i.setParams[z]),u)),new Iu(e,n,s,{params:u,headers:l,context:w,reportProgress:a,responseType:r,withCredentials:o})}}var Uo=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}(Uo||{});class L_{constructor(i,e=200,n="OK"){this.headers=i.headers||new Ur,this.status=void 0!==i.status?i.status:e,this.statusText=i.statusText||n,this.url=i.url||null,this.ok=this.status>=200&&this.status<300}}class lm extends L_{constructor(i={}){super(i),this.type=Uo.ResponseHeader}clone(i={}){return new lm({headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class Ba extends L_{constructor(i={}){super(i),this.type=Uo.Response,this.body=void 0!==i.body?i.body:null}clone(i={}){return new Ba({body:void 0!==i.body?i.body:this.body,headers:i.headers||this.headers,status:void 0!==i.status?i.status:this.status,statusText:i.statusText||this.statusText,url:i.url||this.url||void 0})}}class xc extends L_{constructor(i){super(i,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${i.url||"(unknown url)"}`:`Http failure response for ${i.url||"(unknown url)"}: ${i.status} ${i.statusText}`,this.error=i.error||null}}function B_(t,i){return{body:i,headers:t.headers,context:t.context,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials,transferCache:t.transferCache}}let cm=(()=>{class t{constructor(e){this.handler=e}request(e,n,r={}){let s;if(e instanceof Iu)s=e;else{let l,u;l=r.headers instanceof Ur?r.headers:new Ur(r.headers),r.params&&(u=r.params instanceof Ts?r.params:new Ts({fromObject:r.params})),s=new Iu(e,n,void 0!==r.body?r.body:null,{headers:l,context:r.context,params:u,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache})}const o=dt(s).pipe(Cc(l=>this.handler.handle(l)));if(e instanceof Iu||"events"===r.observe)return o;const a=o.pipe(Kn(l=>l instanceof Ba));switch(r.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(mt(l=>{if(null!==l.body&&!(l.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return l.body}));case"blob":return a.pipe(mt(l=>{if(null!==l.body&&!(l.body instanceof Blob))throw new Error("Response is not a Blob.");return l.body}));case"text":return a.pipe(mt(l=>{if(null!==l.body&&"string"!=typeof l.body)throw new Error("Response is not a string.");return l.body}));default:return a.pipe(mt(l=>l.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${r.observe}}`)}}delete(e,n={}){return this.request("DELETE",e,n)}get(e,n={}){return this.request("GET",e,n)}head(e,n={}){return this.request("HEAD",e,n)}jsonp(e,n){return this.request("JSONP",e,{params:(new Ts).append(n,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,n={}){return this.request("OPTIONS",e,n)}patch(e,n,r={}){return this.request("PATCH",e,B_(r,n))}post(e,n,r={}){return this.request("POST",e,B_(r,n))}put(e,n,r={}){return this.request("PUT",e,B_(r,n))}static#e=this.\u0275fac=function(n){return new(n||t)(Te(sm))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac})}return t})();function v1(t,i){return i(t)}function BW(t,i){return(e,n)=>i.intercept(e,{handle:r=>t(r,n)})}const HW=new Ne(""),ku=new Ne(""),y1=new Ne(""),b1=new Ne("");function zW(){let t=null;return(i,e)=>{null===t&&(t=(He(HW,{optional:!0})??[]).reduceRight(BW,v1));const n=He(wu),r=n.add();return t(i,e).pipe(Au(()=>n.remove(r)))}}let _1=(()=>{class t extends sm{constructor(e,n){super(),this.backend=e,this.injector=n,this.chain=null,this.pendingTasks=He(wu);const r=He(b1,{optional:!0});this.backend=r??e}handle(e){if(null===this.chain){const r=Array.from(new Set([...this.injector.get(ku),...this.injector.get(y1,[])]));this.chain=r.reduceRight((s,o)=>function VW(t,i,e){return(n,r)=>To(e,()=>i(n,s=>t(s,r)))}(s,o,this.injector),v1)}const n=this.pendingTasks.add();return this.chain(e,r=>this.backend.handle(r)).pipe(Au(()=>this.pendingTasks.remove(n)))}static#e=this.\u0275fac=function(n){return new(n||t)(Te(om),Te(yr))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac})}return t})();const YW=/^\)\]\}',?\n/;let C1=(()=>{class t{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Pe(-2800,!1);const n=this.xhrFactory;return(n.\u0275loadImpl?nn(n.\u0275loadImpl()):dt(null)).pipe(lr(()=>new Qt(s=>{const o=n.build();if(o.open(e.method,e.urlWithParams),e.withCredentials&&(o.withCredentials=!0),e.headers.forEach((Q,ne)=>o.setRequestHeader(Q,ne.join(","))),e.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const Q=e.detectContentTypeHeader();null!==Q&&o.setRequestHeader("Content-Type",Q)}if(e.responseType){const Q=e.responseType.toLowerCase();o.responseType="json"!==Q?Q:"text"}const a=e.serializeBody();let l=null;const u=()=>{if(null!==l)return l;const Q=o.statusText||"OK",ne=new Ur(o.getAllResponseHeaders()),ae=function GW(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(o)||e.url;return l=new lm({headers:ne,status:o.status,statusText:Q,url:ae}),l},w=()=>{let{headers:Q,status:ne,statusText:ae,url:ce}=u(),fe=null;204!==ne&&(fe=typeof o.response>"u"?o.responseText:o.response),0===ne&&(ne=fe?200:0);let ye=ne>=200&&ne<300;if("json"===e.responseType&&"string"==typeof fe){const me=fe;fe=fe.replace(YW,"");try{fe=""!==fe?JSON.parse(fe):null}catch(Ie){fe=me,ye&&(ye=!1,fe={error:Ie,text:fe})}}ye?(s.next(new Ba({body:fe,headers:Q,status:ne,statusText:ae,url:ce||void 0})),s.complete()):s.error(new xc({error:fe,headers:Q,status:ne,statusText:ae,url:ce||void 0}))},R=Q=>{const{url:ne}=u(),ae=new xc({error:Q,status:o.status||0,statusText:o.statusText||"Unknown Error",url:ne||void 0});s.error(ae)};let z=!1;const G=Q=>{z||(s.next(u()),z=!0);let ne={type:Uo.DownloadProgress,loaded:Q.loaded};Q.lengthComputable&&(ne.total=Q.total),"text"===e.responseType&&o.responseText&&(ne.partialText=o.responseText),s.next(ne)},X=Q=>{let ne={type:Uo.UploadProgress,loaded:Q.loaded};Q.lengthComputable&&(ne.total=Q.total),s.next(ne)};return o.addEventListener("load",w),o.addEventListener("error",R),o.addEventListener("timeout",R),o.addEventListener("abort",R),e.reportProgress&&(o.addEventListener("progress",G),null!==a&&o.upload&&o.upload.addEventListener("progress",X)),o.send(a),s.next({type:Uo.Sent}),()=>{o.removeEventListener("error",R),o.removeEventListener("abort",R),o.removeEventListener("load",w),o.removeEventListener("timeout",R),e.reportProgress&&(o.removeEventListener("progress",G),null!==a&&o.upload&&o.upload.removeEventListener("progress",X)),o.readyState!==o.DONE&&o.abort()}})))}static#e=this.\u0275fac=function(n){return new(n||t)(Te(DO))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac})}return t})();const z_=new Ne("XSRF_ENABLED"),x1=new Ne("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),E1=new Ne("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class D1{}let KW=(()=>{class t{constructor(e,n,r){this.doc=e,this.platform=n,this.cookieName=r,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=fO(e,this.cookieName),this.lastCookieString=e),this.lastToken}static#e=this.\u0275fac=function(n){return new(n||t)(Te(ri),Te(ws),Te(x1))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac})}return t})();function QW(t,i){const e=t.url.toLowerCase();if(!He(z_)||"GET"===t.method||"HEAD"===t.method||e.startsWith("http://")||e.startsWith("https://"))return i(t);const n=He(D1).getToken(),r=He(E1);return null!=n&&!t.headers.has(r)&&(t=t.clone({headers:t.headers.set(r,n)})),i(t)}var $o=function(t){return t[t.Interceptors=0]="Interceptors",t[t.LegacyInterceptors=1]="LegacyInterceptors",t[t.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",t[t.NoXsrfProtection=3]="NoXsrfProtection",t[t.JsonpSupport=4]="JsonpSupport",t[t.RequestsMadeViaParent=5]="RequestsMadeViaParent",t[t.Fetch=6]="Fetch",t}($o||{});function qW(...t){const i=[cm,C1,_1,{provide:sm,useExisting:_1},{provide:om,useExisting:C1},{provide:ku,useValue:QW,multi:!0},{provide:z_,useValue:!0},{provide:D1,useClass:KW}];for(const e of t)i.push(...e.\u0275providers);return function kv(t){return{\u0275providers:t}}(i)}const S1=new Ne("LEGACY_INTERCEPTOR_FN");function JW(){return function Va(t,i){return{\u0275kind:t,\u0275providers:i}}($o.LegacyInterceptors,[{provide:S1,useFactory:zW},{provide:ku,useExisting:S1,multi:!0}])}let j_,M1=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({providers:[qW(JW())]})}return t})();try{j_=typeof Intl<"u"&&Intl.v8BreakIterator}catch{j_=!1}let Pu,za,Ha=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?__(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!j_)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(n){return new(n||t)(Te(ws))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Ru(t){return function o4(){if(null==Pu&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Pu=!0}))}finally{Pu=Pu||!1}return Pu}()?t:!!t.capture}function a4(){if(null==za){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return za=!1,za;if("scrollBehavior"in document.documentElement.style)za=!0;else{const t=Element.prototype.scrollTo;za=!!t&&!/\{\s*\[native code\]\s*\}/.test(t.toString())}}return za}function hm(t){return t.composedPath?t.composedPath()[0]:t.target}function $_(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}function fm(t){return Array.isArray(t)?t:[t]}function rn(t){return null==t?"":"string"==typeof t?t:`${t}px`}function Y_(t){return t instanceof ki?t.nativeElement:t}const{isArray:y4}=Array,{getPrototypeOf:b4,prototype:_4,keys:w4}=Object;function L1(t){if(1===t.length){const i=t[0];if(y4(i))return{args:i,keys:null};if(function C4(t){return t&&"object"==typeof t&&b4(t)===_4}(i)){const e=w4(i);return{args:e.map(n=>i[n]),keys:e}}}return{args:t,keys:null}}const{isArray:x4}=Array;function G_(t){return mt(i=>function E4(t,i){return x4(i)?t(...i):t(i)}(t,i))}function B1(t,i){return t.reduce((e,n,r)=>(e[n]=i[r],e),{})}function pm(...t){const i=Ou(t),e=XO(t),{args:n,keys:r}=L1(t);if(0===n.length)return nn([],i);const s=new Qt(function D4(t,i,e=ur){return n=>{V1(i,()=>{const{length:r}=t,s=new Array(r);let o=r,a=r;for(let l=0;l<r;l++)V1(i,()=>{const u=nn(t[l],i);let w=!1;u.subscribe(li(n,R=>{s[l]=R,w||(w=!0,a--),a||n.next(e(s.slice()))},()=>{--o||n.complete()}))},n)},n)}}(n,i,r?o=>B1(r,o):ur));return e?s.pipe(G_(e)):s}function V1(t,i,e){t?to(e,t,i):i()}function Dc(t=1/0){return xn(ur,t)}function Nu(...t){return function S4(){return Dc(1)}()(nn(t,Ou(t)))}const Os=new Qt(t=>t.complete());function Qn(t){return t<=0?()=>Os:$t((i,e)=>{let n=0;i.subscribe(li(e,r=>{++n<=t&&(e.next(r),t<=n&&e.complete())}))})}class O4 extends nt{constructor(i,e){super()}schedule(i,e=0){return this}}const mm={setInterval(t,i,...e){const{delegate:n}=mm;return n?.setInterval?n.setInterval(t,i,...e):setInterval(t,i,...e)},clearInterval(t){const{delegate:i}=mm;return(i?.clearInterval||clearInterval)(t)},delegate:void 0};class X_ extends O4{constructor(i,e){super(i,e),this.scheduler=i,this.work=e,this.pending=!1}schedule(i,e=0){var n;if(this.closed)return this;this.state=i;const r=this.id,s=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(s,r,e)),this.pending=!0,this.delay=e,this.id=null!==(n=this.id)&&void 0!==n?n:this.requestAsyncId(s,this.id,e),this}requestAsyncId(i,e,n=0){return mm.setInterval(i.flush.bind(i,this),n)}recycleAsyncId(i,e,n=0){if(null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&mm.clearInterval(e)}execute(i,e){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(i,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(i,e){let r,n=!1;try{this.work(i)}catch(s){n=!0,r=s||new Error("Scheduled action threw falsy error")}if(n)return this.unsubscribe(),r}unsubscribe(){if(!this.closed){const{id:i,scheduler:e}=this,{actions:n}=e;this.work=this.state=this.scheduler=null,this.pending=!1,kt(n,this),null!=i&&(this.id=this.recycleAsyncId(e,i,null)),this.delay=null,super.unsubscribe()}}}const H1={now:()=>(H1.delegate||Date).now(),delegate:void 0};class Fu{constructor(i,e=Fu.now){this.schedulerActionCtor=i,this.now=e}schedule(i,e=0,n){return new this.schedulerActionCtor(this,i).schedule(n,e)}}Fu.now=H1.now;class Z_ extends Fu{constructor(i,e=Fu.now){super(i,e),this.actions=[],this._active=!1}flush(i){const{actions:e}=this;if(this._active)return void e.push(i);let n;this._active=!0;do{if(n=i.execute(i.state,i.delay))break}while(i=e.shift());if(this._active=!1,n){for(;i=e.shift();)i.unsubscribe();throw n}}}const gm=new Z_(X_),A4=gm;function K_(...t){const i=Ou(t);return $t((e,n)=>{(i?Nu(t,e,i):Nu(t,e)).subscribe(n)})}function Q_(t){return $t((i,e)=>{ar(t).subscribe(li(e,()=>e.complete(),$e)),!e.closed&&i.subscribe(e)})}const z1=new Set;let ja,k4=(()=>{class t{constructor(e,n){this._platform=e,this._nonce=n,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):R4}matchMedia(e){return(this._platform.WEBKIT||this._platform.BLINK)&&function P4(t,i){if(!z1.has(t))try{ja||(ja=document.createElement("style"),i&&(ja.nonce=i),ja.setAttribute("type","text/css"),document.head.appendChild(ja)),ja.sheet&&(ja.sheet.insertRule(`@media ${t} {body{ }}`,0),z1.add(t))}catch(e){console.error(e)}}(e,this._nonce),this._matchMedia(e)}static#e=this.\u0275fac=function(n){return new(n||t)(Te(Ha),Te(jv,8))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function R4(t){return{matches:"all"===t||""===t,media:t,addListener:()=>{},removeListener:()=>{}}}let N4=(()=>{class t{constructor(e,n){this._mediaMatcher=e,this._zone=n,this._queries=new Map,this._destroySubject=new ni}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return j1(fm(e)).some(r=>this._registerQuery(r).mql.matches)}observe(e){let s=pm(j1(fm(e)).map(o=>this._registerQuery(o).observable));return s=Nu(s.pipe(Qn(1)),s.pipe(function T4(t){return Kn((i,e)=>t<=e)}(1),function I4(t,i=gm){return $t((e,n)=>{let r=null,s=null,o=null;const a=()=>{if(r){r.unsubscribe(),r=null;const u=s;s=null,n.next(u)}};function l(){const u=o+t,w=i.now();if(w<u)return r=this.schedule(void 0,u-w),void n.add(r);a()}e.subscribe(li(n,u=>{s=u,o=i.now(),r||(r=i.schedule(l,t),n.add(r))},()=>{a(),n.complete()},void 0,()=>{s=r=null}))})}(0))),s.pipe(mt(o=>{const a={matches:!1,breakpoints:{}};return o.forEach(({matches:l,query:u})=>{a.matches=a.matches||l,a.breakpoints[u]=l}),a}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const n=this._mediaMatcher.matchMedia(e),s={observable:new Qt(o=>{const a=l=>this._zone.run(()=>o.next(l));return n.addListener(a),()=>{n.removeListener(a)}}).pipe(K_(n),mt(({matches:o})=>({query:e,matches:o})),Q_(this._destroySubject)),mql:n};return this._queries.set(e,s),s}static#e=this.\u0275fac=function(n){return new(n||t)(Te(k4),Te(xt))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function j1(t){return t.map(i=>i.split(",")).reduce((i,e)=>i.concat(e)).map(i=>i.trim())}const G1="cdk-high-contrast-black-on-white",X1="cdk-high-contrast-white-on-black",J_="cdk-high-contrast-active";let Y4=(()=>{class t{constructor(e,n){this._platform=e,this._document=n,this._breakpointSubscription=He(N4).observe("(forced-colors: active)").subscribe(()=>{this._hasCheckedHighContrastMode&&(this._hasCheckedHighContrastMode=!1,this._applyBodyHighContrastModeCssClasses())})}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const n=this._document.defaultView||window,r=n&&n.getComputedStyle?n.getComputedStyle(e):null,s=(r&&r.backgroundColor||"").replace(/ /g,"");switch(e.remove(),s){case"rgb(0,0,0)":case"rgb(45,50,54)":case"rgb(32,32,32)":return 2;case"rgb(255,255,255)":case"rgb(255,250,239)":return 1}return 0}ngOnDestroy(){this._breakpointSubscription.unsubscribe()}_applyBodyHighContrastModeCssClasses(){if(!this._hasCheckedHighContrastMode&&this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove(J_,G1,X1),this._hasCheckedHighContrastMode=!0;const n=this.getHighContrastMode();1===n?e.add(J_,G1):2===n&&e.add(J_,X1)}}static#e=this.\u0275fac=function(n){return new(n||t)(Te(Ha),Te(ri))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const G4=new Ne("cdk-dir-doc",{providedIn:"root",factory:function X4(){return He(ri)}}),Z4=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let Z1=(()=>{class t{constructor(e){this.value="ltr",this.change=new It,e&&(this.value=function K4(t){const i=t?.toLowerCase()||"";return"auto"===i&&typeof navigator<"u"&&navigator?.language?Z4.test(navigator.language)?"rtl":"ltr":"rtl"===i?"rtl":"ltr"}((e.body?e.body.dir:null)||(e.documentElement?e.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}static#e=this.\u0275fac=function(n){return new(n||t)(Te(G4,8))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Lu=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({})}return t})();const q4=new Ne("mat-sanity-checks",{providedIn:"root",factory:function Q4(){return!0}});let As=(()=>{class t{constructor(e,n,r){this._sanityChecks=n,this._document=r,this._hasDoneGlobalChecks=!1,e._applyBodyHighContrastModeCssClasses(),this._hasDoneGlobalChecks||(this._hasDoneGlobalChecks=!0)}_checkIsEnabled(e){return!$_()&&("boolean"==typeof this._sanityChecks?this._sanityChecks:!!this._sanityChecks[e])}static#e=this.\u0275fac=function(n){return new(n||t)(Te(Y4),Te(q4,8),Te(ri))};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({imports:[Lu,Lu]})}return t})();const q1=Ru({passive:!0,capture:!0});class tY{constructor(){this._events=new Map,this._delegateEventHandler=i=>{const e=hm(i);e&&this._events.get(i.type)?.forEach((n,r)=>{(r===e||r.contains(e))&&n.forEach(s=>s.handleEvent(i))})}}addHandler(i,e,n,r){const s=this._events.get(e);if(s){const o=s.get(n);o?o.add(r):s.set(n,new Set([r]))}else this._events.set(e,new Map([[n,new Set([r])]])),i.runOutsideAngular(()=>{document.addEventListener(e,this._delegateEventHandler,q1)})}removeHandler(i,e,n){const r=this._events.get(i);if(!r)return;const s=r.get(e);s&&(s.delete(n),0===s.size&&r.delete(e),0===r.size&&(this._events.delete(i),document.removeEventListener(i,this._delegateEventHandler,q1)))}}class e0{static#e=this._eventManager=new tY;constructor(i,e,n,r){this._target=i,this._ngZone=e,this._platform=r,this._isPointerDown=!1,this._activeRipples=new Map,this._pointerUpEventsRegistered=!1,r.isBrowser&&(this._containerElement=Y_(n))}fadeInRipple(i,e,n={}){const r=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),s={...J1,...n.animation},o=n.radius||function nY(t,i,e){const n=Math.max(Math.abs(t-e.left),Math.abs(t-e.right)),r=Math.max(Math.abs(i-e.top),Math.abs(i-e.bottom));return Math.sqrt(n*n+r*r)}(i,e,r),a=i-r.left,l=e-r.top,u=s.enterDuration,w=document.createElement("div");w.classList.add("mat-ripple-element"),w.style.left=a-o+"px",w.style.top=l-o+"px",w.style.height=2*o+"px",w.style.width=2*o+"px",null!=n.color&&(w.style.backgroundColor=n.color),w.style.transitionDuration=`${u}ms`,this._containerElement.appendChild(w);const R=window.getComputedStyle(w),G=R.transitionDuration,X="none"===R.transitionProperty||"0s"===G||"0s, 0s"===G||0===r.width&&0===r.height,Q=new eY(this,w,n,X);w.style.transform="scale3d(1, 1, 1)",Q.state=0,n.persistent||(this._mostRecentTransientRipple=Q);return!X&&(u||s.exitDuration)&&this._ngZone.runOutsideAngular(()=>{const ae=()=>this._finishRippleTransition(Q),ce=()=>this._destroyRipple(Q);w.addEventListener("transitionend",ae),w.addEventListener("transitioncancel",ce)}),this._activeRipples.set(Q,null),(X||!u)&&this._finishRippleTransition(Q),Q}fadeOutRipple(i){if(2===i.state||3===i.state)return;const e=i.element,n={...J1,...i.config.animation};e.style.transitionDuration=`${n.exitDuration}ms`,e.style.opacity="0",i.state=2,(i._animationForciblyDisabledThroughCss||!n.exitDuration)&&this._finishRippleTransition(i)}fadeOutAll(){this._getActiveRipples().forEach(i=>i.fadeOut())}fadeOutAllNonPersistent(){this._getActiveRipples().forEach(i=>{i.config.persistent||i.fadeOut()})}setupTriggerEvents(i){const e=Y_(i);!this._platform.isBrowser||!e||e===this._triggerElement||(this._removeTriggerEvents(),this._triggerElement=e,tA.forEach(n=>{e0._eventManager.addHandler(this._ngZone,n,e,this)}))}handleEvent(i){"mousedown"===i.type?this._onMousedown(i):"touchstart"===i.type?this._onTouchStart(i):this._onPointerUp(),this._pointerUpEventsRegistered||(this._ngZone.runOutsideAngular(()=>{iA.forEach(e=>{this._triggerElement.addEventListener(e,this,eA)})}),this._pointerUpEventsRegistered=!0)}_finishRippleTransition(i){0===i.state?this._startFadeOutTransition(i):2===i.state&&this._destroyRipple(i)}_startFadeOutTransition(i){const e=i===this._mostRecentTransientRipple,{persistent:n}=i.config;i.state=1,!n&&(!e||!this._isPointerDown)&&i.fadeOut()}_destroyRipple(i){const e=this._activeRipples.get(i)??null;this._activeRipples.delete(i),this._activeRipples.size||(this._containerRect=null),i===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),i.state=3,null!==e&&(i.element.removeEventListener("transitionend",e.onTransitionEnd),i.element.removeEventListener("transitioncancel",e.onTransitionCancel)),i.element.remove()}_onMousedown(i){const e=function U4(t){return 0===t.buttons||0===t.detail}(i),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;!this._target.rippleDisabled&&!e&&!n&&(this._isPointerDown=!0,this.fadeInRipple(i.clientX,i.clientY,this._target.rippleConfig))}_onTouchStart(i){if(!this._target.rippleDisabled&&!function $4(t){const i=t.touches&&t.touches[0]||t.changedTouches&&t.changedTouches[0];return!(!i||-1!==i.identifier||null!=i.radiusX&&1!==i.radiusX||null!=i.radiusY&&1!==i.radiusY)}(i)){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const e=i.changedTouches;if(e)for(let n=0;n<e.length;n++)this.fadeInRipple(e[n].clientX,e[n].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._getActiveRipples().forEach(i=>{!i.config.persistent&&(1===i.state||i.config.terminateOnPointerUp&&0===i.state)&&i.fadeOut()}))}_getActiveRipples(){return Array.from(this._activeRipples.keys())}_removeTriggerEvents(){const i=this._triggerElement;i&&(tA.forEach(e=>e0._eventManager.removeHandler(e,i,this)),this._pointerUpEventsRegistered&&iA.forEach(e=>i.removeEventListener(e,this,eA)))}}let rY=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({imports:[As,As]})}return t})(),sY=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({imports:[As]})}return t})(),vm=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({imports:[rY,As,sY]})}return t})();const cY=["addListener","removeListener"],dY=["addEventListener","removeEventListener"],uY=["on","off"];function Wo(t,i,e,n){if(We(e)&&(n=e,e=void 0),n)return Wo(t,i,e).pipe(G_(n));const[r,s]=function pY(t){return We(t.addEventListener)&&We(t.removeEventListener)}(t)?dY.map(o=>a=>t[o](i,a,e)):function hY(t){return We(t.addListener)&&We(t.removeListener)}(t)?cY.map(nA(t,i)):function fY(t){return We(t.on)&&We(t.off)}(t)?uY.map(nA(t,i)):[];if(!r&&F_(t))return xn(o=>Wo(o,i,e))(ar(t));if(!r)throw new TypeError("Invalid event target");return new Qt(o=>{const a=(...l)=>o.next(1<l.length?l:l[0]);return r(a),()=>s(a)})}function nA(t,i){return e=>n=>t[e](i,n)}const Vu={schedule(t){let i=requestAnimationFrame,e=cancelAnimationFrame;const{delegate:n}=Vu;n&&(i=n.requestAnimationFrame,e=n.cancelAnimationFrame);const r=i(s=>{e=void 0,t(s)});return new nt(()=>e?.(r))},requestAnimationFrame(...t){const{delegate:i}=Vu;return(i?.requestAnimationFrame||requestAnimationFrame)(...t)},cancelAnimationFrame(...t){const{delegate:i}=Vu;return(i?.cancelAnimationFrame||cancelAnimationFrame)(...t)},delegate:void 0},t0=new class gY extends Z_{flush(i){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;i=i||n.shift();do{if(r=i.execute(i.state,i.delay))break}while((i=n[0])&&i.id===e&&n.shift());if(this._active=!1,r){for(;(i=n[0])&&i.id===e&&n.shift();)i.unsubscribe();throw r}}}(class mY extends X_{constructor(i,e){super(i,e),this.scheduler=i,this.work=e}requestAsyncId(i,e,n=0){return null!==n&&n>0?super.requestAsyncId(i,e,n):(i.actions.push(this),i._scheduled||(i._scheduled=Vu.requestAnimationFrame(()=>i.flush(void 0))))}recycleAsyncId(i,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(i,e,n);const{actions:s}=i;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(Vu.cancelAnimationFrame(e),i._scheduled=void 0)}});let n0,vY=1;const ym={};function rA(t){return t in ym&&(delete ym[t],!0)}const yY={setImmediate(t){const i=vY++;return ym[i]=!0,n0||(n0=Promise.resolve()),n0.then(()=>rA(i)&&t()),i},clearImmediate(t){rA(t)}},{setImmediate:bY,clearImmediate:_Y}=yY,bm={setImmediate(...t){const{delegate:i}=bm;return(i?.setImmediate||bY)(...t)},clearImmediate(t){const{delegate:i}=bm;return(i?.clearImmediate||_Y)(t)},delegate:void 0};new class CY extends Z_{flush(i){this._active=!0;const e=this._scheduled;this._scheduled=void 0;const{actions:n}=this;let r;i=i||n.shift();do{if(r=i.execute(i.state,i.delay))break}while((i=n[0])&&i.id===e&&n.shift());if(this._active=!1,r){for(;(i=n[0])&&i.id===e&&n.shift();)i.unsubscribe();throw r}}}(class wY extends X_{constructor(i,e){super(i,e),this.scheduler=i,this.work=e}requestAsyncId(i,e,n=0){return null!==n&&n>0?super.requestAsyncId(i,e,n):(i.actions.push(this),i._scheduled||(i._scheduled=bm.setImmediate(i.flush.bind(i,void 0))))}recycleAsyncId(i,e,n=0){var r;if(null!=n?n>0:this.delay>0)return super.recycleAsyncId(i,e,n);const{actions:s}=i;null!=e&&(null===(r=s[s.length-1])||void 0===r?void 0:r.id)!==e&&(bm.clearImmediate(e),i._scheduled===e&&(i._scheduled=void 0))}});function aA(t,i=gm){return function xY(t){return $t((i,e)=>{let n=!1,r=null,s=null,o=!1;const a=()=>{if(s?.unsubscribe(),s=null,n){n=!1;const u=r;r=null,e.next(u)}o&&e.complete()},l=()=>{s=null,o&&e.complete()};i.subscribe(li(e,u=>{n=!0,r=u,s||ar(t(u)).subscribe(s=li(e,a,l))},()=>{o=!0,(!n||!s||s.closed)&&e.complete()}))})}(()=>function oA(t=0,i,e=A4){let n=-1;return null!=i&&(GO(i)?e=i:n=i),new Qt(r=>{let s=function EY(t){return t instanceof Date&&!isNaN(t)}(t)?+t-e.now():t;s<0&&(s=0);let o=0;return e.schedule(function(){r.closed||(r.next(o++),0<=n?this.schedule(void 0,n):r.complete())},s)})}(t,i))}let SY=(()=>{class t{constructor(e,n,r){this._ngZone=e,this._platform=n,this._scrolled=new ni,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=r}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const n=this.scrollContainers.get(e);n&&(n.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new Qt(n=>{this._globalSubscription||this._addGlobalListener();const r=e>0?this._scrolled.pipe(aA(e)).subscribe(n):this._scrolled.subscribe(n);return this._scrolledCount++,()=>{r.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):dt()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,n)=>this.deregister(n)),this._scrolled.complete()}ancestorScrolled(e,n){const r=this.getAncestorScrollContainers(e);return this.scrolled(n).pipe(Kn(s=>!s||r.indexOf(s)>-1))}getAncestorScrollContainers(e){const n=[];return this.scrollContainers.forEach((r,s)=>{this._scrollableContainsElement(s,e)&&n.push(s)}),n}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(e,n){let r=Y_(n),s=e.getElementRef().nativeElement;do{if(r==s)return!0}while(r=r.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Wo(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}static#e=this.\u0275fac=function(n){return new(n||t)(Te(xt),Te(Ha),Te(ri,8))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),r0=(()=>{class t{constructor(e,n,r){this._platform=e,this._change=new ni,this._changeListener=s=>{this._change.next(s)},this._document=r,n.runOutsideAngular(()=>{if(e.isBrowser){const s=this._getWindow();s.addEventListener("resize",this._changeListener),s.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:n,height:r}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+r,right:e.left+n,height:r,width:n}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._document,n=this._getWindow(),r=e.documentElement,s=r.getBoundingClientRect();return{top:-s.top||e.body.scrollTop||n.scrollY||r.scrollTop||0,left:-s.left||e.body.scrollLeft||n.scrollX||r.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(aA(e)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}static#e=this.\u0275fac=function(n){return new(n||t)(Te(Ha),Te(xt),Te(ri,8))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),s0=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({})}return t})(),lA=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({imports:[Lu,s0,Lu,s0]})}return t})();class o0{attach(i){return this._attachedHost=i,i.attach(this)}detach(){let i=this._attachedHost;null!=i&&(this._attachedHost=null,i.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(i){this._attachedHost=i}}class TY extends o0{constructor(i,e,n,r,s){super(),this.component=i,this.viewContainerRef=e,this.injector=n,this.componentFactoryResolver=r,this.projectableNodes=s}}class cA extends o0{constructor(i,e,n,r){super(),this.templateRef=i,this.viewContainerRef=e,this.context=n,this.injector=r}get origin(){return this.templateRef.elementRef}attach(i,e=this.context){return this.context=e,super.attach(i)}detach(){return this.context=void 0,super.detach()}}class OY extends o0{constructor(i){super(),this.element=i instanceof ki?i.nativeElement:i}}class AY{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(i){return i instanceof TY?(this._attachedPortal=i,this.attachComponentPortal(i)):i instanceof cA?(this._attachedPortal=i,this.attachTemplatePortal(i)):this.attachDomPortal&&i instanceof OY?(this._attachedPortal=i,this.attachDomPortal(i)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(i){this._disposeFn=i}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class IY extends AY{constructor(i,e,n,r,s){super(),this.outletElement=i,this._componentFactoryResolver=e,this._appRef=n,this._defaultInjector=r,this.attachDomPortal=o=>{const a=o.element,l=this._document.createComment("dom-portal");a.parentNode.insertBefore(l,a),this.outletElement.appendChild(a),this._attachedPortal=o,super.setDisposeFn(()=>{l.parentNode&&l.parentNode.replaceChild(a,l)})},this._document=s}attachComponentPortal(i){const n=(i.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(i.component);let r;return i.viewContainerRef?(r=i.viewContainerRef.createComponent(n,i.viewContainerRef.length,i.injector||i.viewContainerRef.injector,i.projectableNodes||void 0),this.setDisposeFn(()=>r.destroy())):(r=n.create(i.injector||this._defaultInjector||un.NULL),this._appRef.attachView(r.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(r.hostView),r.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(r)),this._attachedPortal=i,r}attachTemplatePortal(i){let e=i.viewContainerRef,n=e.createEmbeddedView(i.templateRef,i.context,{injector:i.injector});return n.rootNodes.forEach(r=>this.outletElement.appendChild(r)),n.detectChanges(),this.setDisposeFn(()=>{let r=e.indexOf(n);-1!==r&&e.remove(r)}),this._attachedPortal=i,n}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(i){return i.hostView.rootNodes[0]}}let kY=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({})}return t})();function Sc(...t){const i=Ou(t),e=function W5(t,i){return"number"==typeof I_(t)?t.pop():i}(t,1/0),n=t;return n.length?1===n.length?ar(n[0]):Dc(e)(nn(n,i)):Os}const dA=a4();class PY{constructor(i,e){this._viewportRuler=i,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=e}attach(){}enable(){if(this._canBeEnabled()){const i=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=i.style.left||"",this._previousHTMLStyles.top=i.style.top||"",i.style.left=rn(-this._previousScrollPosition.left),i.style.top=rn(-this._previousScrollPosition.top),i.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const i=this._document.documentElement,n=i.style,r=this._document.body.style,s=n.scrollBehavior||"",o=r.scrollBehavior||"";this._isEnabled=!1,n.left=this._previousHTMLStyles.left,n.top=this._previousHTMLStyles.top,i.classList.remove("cdk-global-scrollblock"),dA&&(n.scrollBehavior=r.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),dA&&(n.scrollBehavior=s,r.scrollBehavior=o)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,n=this._viewportRuler.getViewportSize();return e.scrollHeight>n.height||e.scrollWidth>n.width}}class RY{constructor(i,e,n,r){this._scrollDispatcher=i,this._ngZone=e,this._viewportRuler=n,this._config=r,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(i){this._overlayRef=i}enable(){if(this._scrollSubscription)return;const i=this._scrollDispatcher.scrolled(0).pipe(Kn(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=i.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=i.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class uA{enable(){}disable(){}attach(){}}function a0(t,i){return i.some(e=>t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right)}function hA(t,i){return i.some(e=>t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right)}class NY{constructor(i,e,n,r){this._scrollDispatcher=i,this._viewportRuler=e,this._ngZone=n,this._config=r,this._scrollSubscription=null}attach(i){this._overlayRef=i}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:n,height:r}=this._viewportRuler.getViewportSize();a0(e,[{width:n,height:r,bottom:r,right:n,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let FY=(()=>{class t{constructor(e,n,r,s){this._scrollDispatcher=e,this._viewportRuler=n,this._ngZone=r,this.noop=()=>new uA,this.close=o=>new RY(this._scrollDispatcher,this._ngZone,this._viewportRuler,o),this.block=()=>new PY(this._viewportRuler,this._document),this.reposition=o=>new NY(this._scrollDispatcher,this._viewportRuler,this._ngZone,o),this._document=s}static#e=this.\u0275fac=function(n){return new(n||t)(Te(SY),Te(r0),Te(xt),Te(ri))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class fA{constructor(i){if(this.scrollStrategy=new uA,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,i){const e=Object.keys(i);for(const n of e)void 0!==i[n]&&(this[n]=i[n])}}}class LY{constructor(i,e){this.connectionPair=i,this.scrollableViewProperties=e}}let pA=(()=>{class t{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const n=this._attachedOverlays.indexOf(e);n>-1&&this._attachedOverlays.splice(n,1),0===this._attachedOverlays.length&&this.detach()}static#e=this.\u0275fac=function(n){return new(n||t)(Te(ri))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),BY=(()=>{class t extends pA{constructor(e,n){super(e),this._ngZone=n,this._keydownListener=r=>{const s=this._attachedOverlays;for(let o=s.length-1;o>-1;o--)if(s[o]._keydownEvents.observers.length>0){const a=s[o]._keydownEvents;this._ngZone?this._ngZone.run(()=>a.next(r)):a.next(r);break}}}add(e){super.add(e),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}static#e=this.\u0275fac=function(n){return new(n||t)(Te(ri),Te(xt,8))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),VY=(()=>{class t extends pA{constructor(e,n,r){super(e),this._platform=n,this._ngZone=r,this._cursorStyleIsSet=!1,this._pointerDownListener=s=>{this._pointerDownEventTarget=hm(s)},this._clickListener=s=>{const o=hm(s),a="click"===s.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:o;this._pointerDownEventTarget=null;const l=this._attachedOverlays.slice();for(let u=l.length-1;u>-1;u--){const w=l[u];if(w._outsidePointerEvents.observers.length<1||!w.hasAttached())continue;if(w.overlayElement.contains(o)||w.overlayElement.contains(a))break;const R=w._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>R.next(s)):R.next(s)}}}add(e){if(super.add(e),!this._isAttached){const n=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(n)):this._addEventListeners(n),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=n.style.cursor,n.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const e=this._document.body;e.removeEventListener("pointerdown",this._pointerDownListener,!0),e.removeEventListener("click",this._clickListener,!0),e.removeEventListener("auxclick",this._clickListener,!0),e.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(e.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(e){e.addEventListener("pointerdown",this._pointerDownListener,!0),e.addEventListener("click",this._clickListener,!0),e.addEventListener("auxclick",this._clickListener,!0),e.addEventListener("contextmenu",this._clickListener,!0)}static#e=this.\u0275fac=function(n){return new(n||t)(Te(ri),Te(Ha),Te(xt,8))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),mA=(()=>{class t{constructor(e,n){this._platform=n,this._document=e}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e="cdk-overlay-container";if(this._platform.isBrowser||$_()){const r=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let s=0;s<r.length;s++)r[s].remove()}const n=this._document.createElement("div");n.classList.add(e),$_()?n.setAttribute("platform","test"):this._platform.isBrowser||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}static#e=this.\u0275fac=function(n){return new(n||t)(Te(ri),Te(Ha))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class HY{constructor(i,e,n,r,s,o,a,l,u,w=!1){this._portalOutlet=i,this._host=e,this._pane=n,this._config=r,this._ngZone=s,this._keyboardDispatcher=o,this._document=a,this._location=l,this._outsideClickDispatcher=u,this._animationsDisabled=w,this._backdropElement=null,this._backdropClick=new ni,this._attachments=new ni,this._detachments=new ni,this._locationChanges=nt.EMPTY,this._backdropClickHandler=R=>this._backdropClick.next(R),this._backdropTransitionendHandler=R=>{this._disposeBackdrop(R.target)},this._keydownEvents=new ni,this._outsidePointerEvents=new ni,r.scrollStrategy&&(this._scrollStrategy=r.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=r.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(i){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const e=this._portalOutlet.attach(i);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Qn(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof e?.onDestroy&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const i=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),i}dispose(){const i=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,i&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(i){i!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=i,this.hasAttached()&&(i.attach(this),this.updatePosition()))}updateSize(i){this._config={...this._config,...i},this._updateElementSize()}setDirection(i){this._config={...this._config,direction:i},this._updateElementDirection()}addPanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!0)}removePanelClass(i){this._pane&&this._toggleClasses(this._pane,i,!1)}getDirection(){const i=this._config.direction;return i?"string"==typeof i?i:i.value:"ltr"}updateScrollStrategy(i){i!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=i,this.hasAttached()&&(i.attach(this),i.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const i=this._pane.style;i.width=rn(this._config.width),i.height=rn(this._config.height),i.minWidth=rn(this._config.minWidth),i.minHeight=rn(this._config.minHeight),i.maxWidth=rn(this._config.maxWidth),i.maxHeight=rn(this._config.maxHeight)}_togglePointerEvents(i){this._pane.style.pointerEvents=i?"":"none"}_attachBackdrop(){const i="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(i)})}):this._backdropElement.classList.add(i)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const i=this._backdropElement;if(i){if(this._animationsDisabled)return void this._disposeBackdrop(i);i.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{i.addEventListener("transitionend",this._backdropTransitionendHandler)}),i.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(i)},500))}}_toggleClasses(i,e,n){const r=fm(e||[]).filter(s=>!!s);r.length&&(n?i.classList.add(...r):i.classList.remove(...r))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const i=this._ngZone.onStable.pipe(Q_(Sc(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),i.unsubscribe())})})}_disposeScrollStrategy(){const i=this._scrollStrategy;i&&(i.disable(),i.detach&&i.detach())}_disposeBackdrop(i){i&&(i.removeEventListener("click",this._backdropClickHandler),i.removeEventListener("transitionend",this._backdropTransitionendHandler),i.remove(),this._backdropElement===i&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const gA="cdk-overlay-connected-position-bounding-box",zY=/([A-Za-z%]+)$/;class jY{get positions(){return this._preferredPositions}constructor(i,e,n,r,s){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=s,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new ni,this._resizeSubscription=nt.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(i)}attach(i){this._validatePositions(),i.hostElement.classList.add(gA),this._overlayRef=i,this._boundingBox=i.hostElement,this._pane=i.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const i=this._originRect,e=this._overlayRect,n=this._viewportRect,r=this._containerRect,s=[];let o;for(let a of this._preferredPositions){let l=this._getOriginPoint(i,r,a),u=this._getOverlayPoint(l,e,a),w=this._getOverlayFit(u,e,n,a);if(w.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(a,l);this._canFitWithFlexibleDimensions(w,u,n)?s.push({position:a,origin:l,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(l,a)}):(!o||o.overlayFit.visibleArea<w.visibleArea)&&(o={overlayFit:w,overlayPoint:u,originPoint:l,position:a,overlayRect:e})}if(s.length){let a=null,l=-1;for(const u of s){const w=u.boundingBoxRect.width*u.boundingBoxRect.height*(u.position.weight||1);w>l&&(l=w,a=u)}return this._isPushed=!1,void this._applyPosition(a.position,a.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(o.position,o.originPoint);this._applyPosition(o.position,o.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&Ua(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(gA),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const i=this._lastPosition;if(i){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._getOriginPoint(this._originRect,this._containerRect,i);this._applyPosition(i,e)}else this.apply()}withScrollableContainers(i){return this._scrollables=i,this}withPositions(i){return this._preferredPositions=i,-1===i.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(i){return this._viewportMargin=i,this}withFlexibleDimensions(i=!0){return this._hasFlexibleDimensions=i,this}withGrowAfterOpen(i=!0){return this._growAfterOpen=i,this}withPush(i=!0){return this._canPush=i,this}withLockedPosition(i=!0){return this._positionLocked=i,this}setOrigin(i){return this._origin=i,this}withDefaultOffsetX(i){return this._offsetX=i,this}withDefaultOffsetY(i){return this._offsetY=i,this}withTransformOriginOn(i){return this._transformOriginSelector=i,this}_getOriginPoint(i,e,n){let r,s;if("center"==n.originX)r=i.left+i.width/2;else{const o=this._isRtl()?i.right:i.left,a=this._isRtl()?i.left:i.right;r="start"==n.originX?o:a}return e.left<0&&(r-=e.left),s="center"==n.originY?i.top+i.height/2:"top"==n.originY?i.top:i.bottom,e.top<0&&(s-=e.top),{x:r,y:s}}_getOverlayPoint(i,e,n){let r,s;return r="center"==n.overlayX?-e.width/2:"start"===n.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,s="center"==n.overlayY?-e.height/2:"top"==n.overlayY?0:-e.height,{x:i.x+r,y:i.y+s}}_getOverlayFit(i,e,n,r){const s=yA(e);let{x:o,y:a}=i,l=this._getOffset(r,"x"),u=this._getOffset(r,"y");l&&(o+=l),u&&(a+=u);let z=0-a,G=a+s.height-n.height,X=this._subtractOverflows(s.width,0-o,o+s.width-n.width),Q=this._subtractOverflows(s.height,z,G),ne=X*Q;return{visibleArea:ne,isCompletelyWithinViewport:s.width*s.height===ne,fitsInViewportVertically:Q===s.height,fitsInViewportHorizontally:X==s.width}}_canFitWithFlexibleDimensions(i,e,n){if(this._hasFlexibleDimensions){const r=n.bottom-e.y,s=n.right-e.x,o=vA(this._overlayRef.getConfig().minHeight),a=vA(this._overlayRef.getConfig().minWidth);return(i.fitsInViewportVertically||null!=o&&o<=r)&&(i.fitsInViewportHorizontally||null!=a&&a<=s)}return!1}_pushOverlayOnScreen(i,e,n){if(this._previousPushAmount&&this._positionLocked)return{x:i.x+this._previousPushAmount.x,y:i.y+this._previousPushAmount.y};const r=yA(e),s=this._viewportRect,o=Math.max(i.x+r.width-s.width,0),a=Math.max(i.y+r.height-s.height,0),l=Math.max(s.top-n.top-i.y,0),u=Math.max(s.left-n.left-i.x,0);let w=0,R=0;return w=r.width<=s.width?u||-o:i.x<this._viewportMargin?s.left-n.left-i.x:0,R=r.height<=s.height?l||-a:i.y<this._viewportMargin?s.top-n.top-i.y:0,this._previousPushAmount={x:w,y:R},{x:i.x+w,y:i.y+R}}_applyPosition(i,e){if(this._setTransformOrigin(i),this._setOverlayElementStyles(e,i),this._setBoundingBoxStyles(e,i),i.panelClass&&this._addPanelClasses(i.panelClass),this._lastPosition=i,this._positionChanges.observers.length){const n=this._getScrollVisibility(),r=new LY(i,n);this._positionChanges.next(r)}this._isInitialRender=!1}_setTransformOrigin(i){if(!this._transformOriginSelector)return;const e=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,r=i.overlayY;n="center"===i.overlayX?"center":this._isRtl()?"start"===i.overlayX?"right":"left":"start"===i.overlayX?"left":"right";for(let s=0;s<e.length;s++)e[s].style.transformOrigin=`${n} ${r}`}_calculateBoundingBoxRect(i,e){const n=this._viewportRect,r=this._isRtl();let s,o,a,w,R,z;if("top"===e.overlayY)o=i.y,s=n.height-o+this._viewportMargin;else if("bottom"===e.overlayY)a=n.height-i.y+2*this._viewportMargin,s=n.height-a+this._viewportMargin;else{const G=Math.min(n.bottom-i.y+n.top,i.y),X=this._lastBoundingBoxSize.height;s=2*G,o=i.y-G,s>X&&!this._isInitialRender&&!this._growAfterOpen&&(o=i.y-X/2)}if("end"===e.overlayX&&!r||"start"===e.overlayX&&r)z=n.width-i.x+this._viewportMargin,w=i.x-this._viewportMargin;else if("start"===e.overlayX&&!r||"end"===e.overlayX&&r)R=i.x,w=n.right-i.x;else{const G=Math.min(n.right-i.x+n.left,i.x),X=this._lastBoundingBoxSize.width;w=2*G,R=i.x-G,w>X&&!this._isInitialRender&&!this._growAfterOpen&&(R=i.x-X/2)}return{top:o,left:R,bottom:a,right:z,width:w,height:s}}_setBoundingBoxStyles(i,e){const n=this._calculateBoundingBoxRect(i,e);!this._isInitialRender&&!this._growAfterOpen&&(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const r={};if(this._hasExactPosition())r.top=r.left="0",r.bottom=r.right=r.maxHeight=r.maxWidth="",r.width=r.height="100%";else{const s=this._overlayRef.getConfig().maxHeight,o=this._overlayRef.getConfig().maxWidth;r.height=rn(n.height),r.top=rn(n.top),r.bottom=rn(n.bottom),r.width=rn(n.width),r.left=rn(n.left),r.right=rn(n.right),r.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",r.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",s&&(r.maxHeight=rn(s)),o&&(r.maxWidth=rn(o))}this._lastBoundingBoxSize=n,Ua(this._boundingBox.style,r)}_resetBoundingBoxStyles(){Ua(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){Ua(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(i,e){const n={},r=this._hasExactPosition(),s=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(r){const w=this._viewportRuler.getViewportScrollPosition();Ua(n,this._getExactOverlayY(e,i,w)),Ua(n,this._getExactOverlayX(e,i,w))}else n.position="static";let a="",l=this._getOffset(e,"x"),u=this._getOffset(e,"y");l&&(a+=`translateX(${l}px) `),u&&(a+=`translateY(${u}px)`),n.transform=a.trim(),o.maxHeight&&(r?n.maxHeight=rn(o.maxHeight):s&&(n.maxHeight="")),o.maxWidth&&(r?n.maxWidth=rn(o.maxWidth):s&&(n.maxWidth="")),Ua(this._pane.style,n)}_getExactOverlayY(i,e,n){let r={top:"",bottom:""},s=this._getOverlayPoint(e,this._overlayRect,i);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),"bottom"===i.overlayY?r.bottom=this._document.documentElement.clientHeight-(s.y+this._overlayRect.height)+"px":r.top=rn(s.y),r}_getExactOverlayX(i,e,n){let o,r={left:"",right:""},s=this._getOverlayPoint(e,this._overlayRect,i);return this._isPushed&&(s=this._pushOverlayOnScreen(s,this._overlayRect,n)),o=this._isRtl()?"end"===i.overlayX?"left":"right":"end"===i.overlayX?"right":"left","right"===o?r.right=this._document.documentElement.clientWidth-(s.x+this._overlayRect.width)+"px":r.left=rn(s.x),r}_getScrollVisibility(){const i=this._getOriginRect(),e=this._pane.getBoundingClientRect(),n=this._scrollables.map(r=>r.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:hA(i,n),isOriginOutsideView:a0(i,n),isOverlayClipped:hA(e,n),isOverlayOutsideView:a0(e,n)}}_subtractOverflows(i,...e){return e.reduce((n,r)=>n-Math.max(r,0),i)}_getNarrowedViewportRect(){const i=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+i-this._viewportMargin,bottom:n.top+e-this._viewportMargin,width:i-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(i,e){return"x"===e?null==i.offsetX?this._offsetX:i.offsetX:null==i.offsetY?this._offsetY:i.offsetY}_validatePositions(){}_addPanelClasses(i){this._pane&&fm(i).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(i=>{this._pane.classList.remove(i)}),this._appliedPanelClasses=[])}_getOriginRect(){const i=this._origin;if(i instanceof ki)return i.nativeElement.getBoundingClientRect();if(i instanceof Element)return i.getBoundingClientRect();const e=i.width||0,n=i.height||0;return{top:i.y,bottom:i.y+n,left:i.x,right:i.x+e,height:n,width:e}}}function Ua(t,i){for(let e in i)i.hasOwnProperty(e)&&(t[e]=i[e]);return t}function vA(t){if("number"!=typeof t&&null!=t){const[i,e]=t.split(zY);return e&&"px"!==e?null:parseFloat(i)}return t||null}function yA(t){return{top:Math.floor(t.top),right:Math.floor(t.right),bottom:Math.floor(t.bottom),left:Math.floor(t.left),width:Math.floor(t.width),height:Math.floor(t.height)}}const bA="cdk-global-overlay-wrapper";class UY{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(i){const e=i.getConfig();this._overlayRef=i,this._width&&!e.width&&i.updateSize({width:this._width}),this._height&&!e.height&&i.updateSize({height:this._height}),i.hostElement.classList.add(bA),this._isDisposed=!1}top(i=""){return this._bottomOffset="",this._topOffset=i,this._alignItems="flex-start",this}left(i=""){return this._xOffset=i,this._xPosition="left",this}bottom(i=""){return this._topOffset="",this._bottomOffset=i,this._alignItems="flex-end",this}right(i=""){return this._xOffset=i,this._xPosition="right",this}start(i=""){return this._xOffset=i,this._xPosition="start",this}end(i=""){return this._xOffset=i,this._xPosition="end",this}width(i=""){return this._overlayRef?this._overlayRef.updateSize({width:i}):this._width=i,this}height(i=""){return this._overlayRef?this._overlayRef.updateSize({height:i}):this._height=i,this}centerHorizontally(i=""){return this.left(i),this._xPosition="center",this}centerVertically(i=""){return this.top(i),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:r,height:s,maxWidth:o,maxHeight:a}=n,l=!("100%"!==r&&"100vw"!==r||o&&"100%"!==o&&"100vw"!==o),u=!("100%"!==s&&"100vh"!==s||a&&"100%"!==a&&"100vh"!==a),w=this._xPosition,R=this._xOffset,z="rtl"===this._overlayRef.getConfig().direction;let G="",X="",Q="";l?Q="flex-start":"center"===w?(Q="center",z?X=R:G=R):z?"left"===w||"end"===w?(Q="flex-end",G=R):("right"===w||"start"===w)&&(Q="flex-start",X=R):"left"===w||"start"===w?(Q="flex-start",G=R):("right"===w||"end"===w)&&(Q="flex-end",X=R),i.position=this._cssPosition,i.marginLeft=l?"0":G,i.marginTop=u?"0":this._topOffset,i.marginBottom=this._bottomOffset,i.marginRight=l?"0":X,e.justifyContent=Q,e.alignItems=u?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const i=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,n=e.style;e.classList.remove(bA),n.justifyContent=n.alignItems=i.marginTop=i.marginBottom=i.marginLeft=i.marginRight=i.position="",this._overlayRef=null,this._isDisposed=!0}}let $Y=(()=>{class t{constructor(e,n,r,s){this._viewportRuler=e,this._document=n,this._platform=r,this._overlayContainer=s}global(){return new UY}flexibleConnectedTo(e){return new jY(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static#e=this.\u0275fac=function(n){return new(n||t)(Te(r0),Te(ri),Te(Ha),Te(mA))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),WY=0,Mc=(()=>{class t{constructor(e,n,r,s,o,a,l,u,w,R,z,G){this.scrollStrategies=e,this._overlayContainer=n,this._componentFactoryResolver=r,this._positionBuilder=s,this._keyboardDispatcher=o,this._injector=a,this._ngZone=l,this._document=u,this._directionality=w,this._location=R,this._outsideClickDispatcher=z,this._animationsModuleType=G}create(e){const n=this._createHostElement(),r=this._createPaneElement(n),s=this._createPortalOutlet(r),o=new fA(e);return o.direction=o.direction||this._directionality.value,new HY(s,n,r,o,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(e){const n=this._document.createElement("div");return n.id="cdk-overlay-"+WY++,n.classList.add("cdk-overlay-pane"),e.appendChild(n),n}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Lo)),new IY(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}static#e=this.\u0275fac=function(n){return new(n||t)(Te(FY),Te(mA),Te(Gl),Te($Y),Te(BY),Te(un),Te(xt),Te(ri),Te(Z1),Te(_c),Te(VY),Te(AF,8))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const XY={provide:new Ne("cdk-connected-overlay-scroll-strategy",{providedIn:"root",factory:()=>{const t=He(Mc);return()=>t.scrollStrategies.reposition()}}),deps:[Mc],useFactory:function GY(t){return()=>t.scrollStrategies.reposition()}};let ZY=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({providers:[Mc,XY],imports:[Lu,kY,lA,lA]})}return t})();function c0(t){return new Qt(i=>{ar(t()).subscribe(i)})}let CA=(()=>{class t{constructor(e,n){this._renderer=e,this._elementRef=n,this.onChange=r=>{},this.onTouched=()=>{}}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(_r),Ce(ki))};static#t=this.\u0275dir=ct({type:t})}return t})(),$a=(()=>{class t extends CA{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Cn(t)))(r||t)}})();static#t=this.\u0275dir=ct({type:t,features:[di]})}return t})();const os=new Ne("NgValueAccessor"),tG={provide:os,useExisting:St(()=>d0),multi:!0};let d0=(()=>{class t extends $a{writeValue(e){this.setProperty("checked",e)}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Cn(t)))(r||t)}})();static#t=this.\u0275dir=ct({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(n,r){1&n&&yt("change",function(o){return r.onChange(o.target.checked)})("blur",function(){return r.onTouched()})},features:[Ai([tG]),di]})}return t})();const iG={provide:os,useExisting:St(()=>Hu),multi:!0},rG=new Ne("CompositionEventMode");let Hu=(()=>{class t extends CA{constructor(e,n,r){super(e,n),this._compositionMode=r,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function nG(){const t=Vo()?Vo().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}())}writeValue(e){this.setProperty("value",e??"")}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(_r),Ce(ki),Ce(rG,8))};static#t=this.\u0275dir=ct({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,r){1&n&&yt("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[Ai([iG]),di]})}return t})();const Ln=new Ne("NgValidators"),Go=new Ne("NgAsyncValidators");function kA(t){return null!=t}function PA(t){return pu(t)?nn(t):t}function RA(t){let i={};return t.forEach(e=>{i=null!=e?{...i,...e}:i}),0===Object.keys(i).length?null:i}function NA(t,i){return i.map(e=>e(t))}function FA(t){return t.map(i=>function oG(t){return!t.validate}(i)?i:e=>i.validate(e))}function u0(t){return null!=t?function LA(t){if(!t)return null;const i=t.filter(kA);return 0==i.length?null:function(e){return RA(NA(e,i))}}(FA(t)):null}function h0(t){return null!=t?function BA(t){if(!t)return null;const i=t.filter(kA);return 0==i.length?null:function(e){return function eG(...t){const i=XO(t),{args:e,keys:n}=L1(t),r=new Qt(s=>{const{length:o}=e;if(!o)return void s.complete();const a=new Array(o);let l=o,u=o;for(let w=0;w<o;w++){let R=!1;ar(e[w]).subscribe(li(s,z=>{R||(R=!0,u--),a[w]=z},()=>l--,void 0,()=>{(!l||!R)&&(u||s.next(n?B1(n,a):a),s.complete())}))}});return i?r.pipe(G_(i)):r}(NA(e,i).map(PA)).pipe(mt(RA))}}(FA(t)):null}function VA(t,i){return null===t?[i]:Array.isArray(t)?[...t,i]:[t,i]}function f0(t){return t?Array.isArray(t)?t:[t]:[]}function Cm(t,i){return Array.isArray(t)?t.includes(i):t===i}function jA(t,i){const e=f0(i);return f0(t).forEach(r=>{Cm(e,r)||e.push(r)}),e}function UA(t,i){return f0(i).filter(e=>!Cm(t,e))}class $A{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(i){this._rawValidators=i||[],this._composedValidatorFn=u0(this._rawValidators)}_setAsyncValidators(i){this._rawAsyncValidators=i||[],this._composedAsyncValidatorFn=h0(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(i){this._onDestroyCallbacks.push(i)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(i=>i()),this._onDestroyCallbacks=[]}reset(i=void 0){this.control&&this.control.reset(i)}hasError(i,e){return!!this.control&&this.control.hasError(i,e)}getError(i,e){return this.control?this.control.getError(i,e):null}}class qn extends $A{get formDirective(){return null}get path(){return null}}class Xo extends $A{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class WA{constructor(i){this._cd=i}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let p0=(()=>{class t extends WA{constructor(e){super(e)}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(Xo,2))};static#t=this.\u0275dir=ct({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,r){2&n&&gp("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[di]})}return t})();const zu="VALID",Em="INVALID",Oc="PENDING",ju="DISABLED";function Dm(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}class ZA{constructor(i,e){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(i),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(i){this._rawValidators=this._composedValidatorFn=i}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(i){this._rawAsyncValidators=this._composedAsyncValidatorFn=i}get parent(){return this._parent}get valid(){return this.status===zu}get invalid(){return this.status===Em}get pending(){return this.status==Oc}get disabled(){return this.status===ju}get enabled(){return this.status!==ju}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(i){this._assignValidators(i)}setAsyncValidators(i){this._assignAsyncValidators(i)}addValidators(i){this.setValidators(jA(i,this._rawValidators))}addAsyncValidators(i){this.setAsyncValidators(jA(i,this._rawAsyncValidators))}removeValidators(i){this.setValidators(UA(i,this._rawValidators))}removeAsyncValidators(i){this.setAsyncValidators(UA(i,this._rawAsyncValidators))}hasValidator(i){return Cm(this._rawValidators,i)}hasAsyncValidator(i){return Cm(this._rawAsyncValidators,i)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(i={}){this.touched=!0,this._parent&&!i.onlySelf&&this._parent.markAsTouched(i)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(i=>i.markAllAsTouched())}markAsUntouched(i={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}markAsDirty(i={}){this.pristine=!1,this._parent&&!i.onlySelf&&this._parent.markAsDirty(i)}markAsPristine(i={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}markAsPending(i={}){this.status=Oc,!1!==i.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!i.onlySelf&&this._parent.markAsPending(i)}disable(i={}){const e=this._parentMarkedDirty(i.onlySelf);this.status=ju,this.errors=null,this._forEachChild(n=>{n.disable({...i,onlySelf:!0})}),this._updateValue(),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...i,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!0))}enable(i={}){const e=this._parentMarkedDirty(i.onlySelf);this.status=zu,this._forEachChild(n=>{n.enable({...i,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent}),this._updateAncestors({...i,skipPristineCheck:e}),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(i){this._parent&&!i.onlySelf&&(this._parent.updateValueAndValidity(i),i.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(i){this._parent=i}getRawValue(){return this.value}updateValueAndValidity(i={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zu||this.status===Oc)&&this._runAsyncValidator(i.emitEvent)),!1!==i.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!i.onlySelf&&this._parent.updateValueAndValidity(i)}_updateTreeValidity(i={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(i)),this.updateValueAndValidity({onlySelf:!0,emitEvent:i.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?ju:zu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(i){if(this.asyncValidator){this.status=Oc,this._hasOwnPendingAsyncValidator=!0;const e=PA(this.asyncValidator(this));this._asyncValidationSubscription=e.subscribe(n=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(n,{emitEvent:i})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(i,e={}){this.errors=i,this._updateControlsErrors(!1!==e.emitEvent)}get(i){let e=i;return null==e||(Array.isArray(e)||(e=e.split(".")),0===e.length)?null:e.reduce((n,r)=>n&&n._find(r),this)}getError(i,e){const n=e?this.get(e):this;return n&&n.errors?n.errors[i]:null}hasError(i,e){return!!this.getError(i,e)}get root(){let i=this;for(;i._parent;)i=i._parent;return i}_updateControlsErrors(i){this.status=this._calculateStatus(),i&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(i)}_initObservables(){this.valueChanges=new It,this.statusChanges=new It}_calculateStatus(){return this._allControlsDisabled()?ju:this.errors?Em:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Oc)?Oc:this._anyControlsHaveStatus(Em)?Em:zu}_anyControlsHaveStatus(i){return this._anyControls(e=>e.status===i)}_anyControlsDirty(){return this._anyControls(i=>i.dirty)}_anyControlsTouched(){return this._anyControls(i=>i.touched)}_updatePristine(i={}){this.pristine=!this._anyControlsDirty(),this._parent&&!i.onlySelf&&this._parent._updatePristine(i)}_updateTouched(i={}){this.touched=this._anyControlsTouched(),this._parent&&!i.onlySelf&&this._parent._updateTouched(i)}_registerOnCollectionChange(i){this._onCollectionChange=i}_setUpdateStrategy(i){Dm(i)&&null!=i.updateOn&&(this._updateOn=i.updateOn)}_parentMarkedDirty(i){return!i&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(i){return null}_assignValidators(i){this._rawValidators=Array.isArray(i)?i.slice():i,this._composedValidatorFn=function uG(t){return Array.isArray(t)?u0(t):t||null}(this._rawValidators)}_assignAsyncValidators(i){this._rawAsyncValidators=Array.isArray(i)?i.slice():i,this._composedAsyncValidatorFn=function hG(t){return Array.isArray(t)?h0(t):t||null}(this._rawAsyncValidators)}}const Wa=new Ne("CallSetDisabledState",{providedIn:"root",factory:()=>Uu}),Uu="always";function $u(t,i,e=Uu){(function _0(t,i){const e=function HA(t){return t._rawValidators}(t);null!==i.validator?t.setValidators(VA(e,i.validator)):"function"==typeof e&&t.setValidators([e]);const n=function zA(t){return t._rawAsyncValidators}(t);null!==i.asyncValidator?t.setAsyncValidators(VA(n,i.asyncValidator)):"function"==typeof n&&t.setAsyncValidators([n]);const r=()=>t.updateValueAndValidity();Tm(i._rawValidators,r),Tm(i._rawAsyncValidators,r)})(t,i),i.valueAccessor.writeValue(t.value),(t.disabled||"always"===e)&&i.valueAccessor.setDisabledState?.(t.disabled),function mG(t,i){i.valueAccessor.registerOnChange(e=>{t._pendingValue=e,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&KA(t,i)})}(t,i),function vG(t,i){const e=(n,r)=>{i.valueAccessor.writeValue(n),r&&i.viewToModelUpdate(n)};t.registerOnChange(e),i._registerOnDestroy(()=>{t._unregisterOnChange(e)})}(t,i),function gG(t,i){i.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&KA(t,i),"submit"!==t.updateOn&&t.markAsTouched()})}(t,i),function pG(t,i){if(i.valueAccessor.setDisabledState){const e=n=>{i.valueAccessor.setDisabledState(n)};t.registerOnDisabledChange(e),i._registerOnDestroy(()=>{t._unregisterOnDisabledChange(e)})}}(t,i)}function Tm(t,i){t.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(i)})}function KA(t,i){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),i.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function JA(t,i){const e=t.indexOf(i);e>-1&&t.splice(e,1)}function eI(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t}const tI=class extends ZA{constructor(i=null,e,n){super(function v0(t){return(Dm(t)?t.validators:t)||null}(e),function y0(t,i){return(Dm(i)?i.asyncValidators:t)||null}(n,e)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(i),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Dm(e)&&(e.nonNullable||e.initialValueIsDefault)&&(this.defaultValue=eI(i)?i.value:i)}setValue(i,e={}){this.value=this._pendingValue=i,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach(n=>n(this.value,!1!==e.emitViewToModelChange)),this.updateValueAndValidity(e)}patchValue(i,e={}){this.setValue(i,e)}reset(i=this.defaultValue,e={}){this._applyFormState(i),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(i){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(i){this._onChange.push(i)}_unregisterOnChange(i){JA(this._onChange,i)}registerOnDisabledChange(i){this._onDisabledChange.push(i)}_unregisterOnDisabledChange(i){JA(this._onDisabledChange,i)}_forEachChild(i){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(i){eI(i)?(this.value=this._pendingValue=i.value,i.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=i}},DG={provide:Xo,useExisting:St(()=>Am)},rI=(()=>Promise.resolve())();let Am=(()=>{class t extends Xo{constructor(e,n,r,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new tI,this._registered=!1,this.name="",this.update=new It,this._parent=e,this._setValidators(n),this._setAsyncValidators(r),this.valueAccessor=function x0(t,i){if(!i)return null;let e,n,r;return Array.isArray(i),i.forEach(s=>{s.constructor===Hu?e=s:function _G(t){return Object.getPrototypeOf(t.constructor)===$a}(s)?n=s:r=s}),r||n||e||null}(0,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){const n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),function C0(t,i){if(!t.hasOwnProperty("model"))return!1;const e=t.model;return!!e.isFirstChange()||!Object.is(i,e.currentValue)}(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){$u(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(e){rI.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){const n=e.isDisabled.currentValue,r=0!==n&&Na(n);rI.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?function Sm(t,i){return[...i.path,t]}(e,this._parent):[e]}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(qn,9),Ce(Ln,10),Ce(Go,10),Ce(os,10),Ce(Kl,8),Ce(Wa,8))};static#t=this.\u0275dir=ct({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ai([DG]),di,Tn]})}return t})(),oI=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({})}return t})();const D0=new Ne("NgModelWithFormControlWarning");let xI=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({imports:[oI]})}return t})(),EI=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:Wa,useValue:e.callSetDisabledState??Uu}]}}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({imports:[xI]})}return t})(),DI=(()=>{class t{static withConfig(e){return{ngModule:t,providers:[{provide:D0,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Wa,useValue:e.callSetDisabledState??Uu}]}}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({imports:[xI]})}return t})(),QG=(()=>{class t{create(e){return typeof MutationObserver>"u"?null:new MutationObserver(e)}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),qG=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({providers:[QG]})}return t})(),Im=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({imports:[As,La,qG,As]})}return t})();function An(t,i,e){const n=We(t)||i||e?{next:t,error:i,complete:e}:t;return n?$t((r,s)=>{var o;null===(o=n.subscribe)||void 0===o||o.call(n);let a=!0;r.subscribe(li(s,l=>{var u;null===(u=n.next)||void 0===u||u.call(n,l),s.next(l)},()=>{var l;a=!1,null===(l=n.complete)||void 0===l||l.call(n),s.complete()},l=>{var u;a=!1,null===(u=n.error)||void 0===u||u.call(n,l),s.error(l)},()=>{var l,u;a&&(null===(l=n.unsubscribe)||void 0===l||l.call(n)),null===(u=n.finalize)||void 0===u||u.call(n)}))}):ur}const h8={provide:new Ne("mat-autocomplete-scroll-strategy",{providedIn:"root",factory:()=>{const t=He(Mc);return()=>t.scrollStrategies.reposition()}}),deps:[Mc],useFactory:function u8(t){return()=>t.scrollStrategies.reposition()}};let OI=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({providers:[h8],imports:[ZY,vm,As,La,s0,vm,As]})}return t})();const km=qt(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function Pm(t,i){const e=We(t)?t:()=>t,n=r=>r.error(e());return new Qt(i?r=>i.schedule(n,0,r):n)}function k0(){return $t((t,i)=>{let e=null;t._refCount++;const n=li(i,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount)return void(e=null);const r=t._connection,s=e;e=null,r&&(!s||r===s)&&r.unsubscribe(),i.unsubscribe()});t.subscribe(n),n.closed||(e=t.connect())})}class AI extends Qt{constructor(i,e){super(),this.source=i,this.subjectFactory=e,this._subject=null,this._refCount=0,this._connection=null,cl(i)&&(this.lift=i.lift)}_subscribe(i){return this.getSubject().subscribe(i)}getSubject(){const i=this._subject;return(!i||i.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:i}=this;this._subject=this._connection=null,i?.unsubscribe()}connect(){let i=this._connection;if(!i){i=this._connection=new nt;const e=this.getSubject();i.add(this.source.subscribe(li(e,void 0,()=>{this._teardown(),e.complete()},n=>{this._teardown(),e.error(n)},()=>this._teardown()))),i.closed&&(this._connection=null,i=nt.EMPTY)}return i}refCount(){return k0()(this)}}function Rm(t){return $t((i,e)=>{let n=!1;i.subscribe(li(e,r=>{n=!0,e.next(r)},()=>{n||e.next(t),e.complete()}))})}function II(t=m8){return $t((i,e)=>{let n=!1;i.subscribe(li(e,r=>{n=!0,e.next(r)},()=>n?e.complete():e.error(t())))})}function m8(){return new km}function Ga(t,i){const e=arguments.length>=2;return n=>n.pipe(t?Kn((r,s)=>t(r,s,n)):ur,Qn(1),e?Rm(i):II(()=>new km))}function Ac(t){return $t((i,e)=>{let s,n=null,r=!1;n=i.subscribe(li(e,void 0,void 0,o=>{s=ar(t(o,Ac(t)(i))),n?(n.unsubscribe(),n=null,s.subscribe(e)):r=!0})),r&&(n.unsubscribe(),n=null,s.subscribe(e))})}function P0(t){return t<=0?()=>Os:$t((i,e)=>{let n=[];i.subscribe(li(e,r=>{n.push(r),t<n.length&&n.shift()},()=>{for(const r of n)e.next(r);e.complete()},void 0,()=>{n=null}))})}const Et="primary",Yu=Symbol("RouteTitle");class b8{constructor(i){this.params=i||{}}has(i){return Object.prototype.hasOwnProperty.call(this.params,i)}get(i){if(this.has(i)){const e=this.params[i];return Array.isArray(e)?e[0]:e}return null}getAll(i){if(this.has(i)){const e=this.params[i];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}}function Ic(t){return new b8(t)}function _8(t,i,e){const n=e.path.split("/");if(n.length>t.length||"full"===e.pathMatch&&(i.hasChildren()||n.length<t.length))return null;const r={};for(let s=0;s<n.length;s++){const o=n[s],a=t[s];if(o.startsWith(":"))r[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,n.length),posParams:r}}function Is(t,i){const e=t?R0(t):void 0,n=i?R0(i):void 0;if(!e||!n||e.length!=n.length)return!1;let r;for(let s=0;s<e.length;s++)if(r=e[s],!kI(t[r],i[r]))return!1;return!0}function R0(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function kI(t,i){if(Array.isArray(t)&&Array.isArray(i)){if(t.length!==i.length)return!1;const e=[...t].sort(),n=[...i].sort();return e.every((r,s)=>n[s]===r)}return t===i}function PI(t){return t.length>0?t[t.length-1]:null}function Zo(t){return function p8(t){return!!t&&(t instanceof Qt||We(t.lift)&&We(t.subscribe))}(t)?t:pu(t)?nn(Promise.resolve(t)):dt(t)}const C8={exact:function FI(t,i,e){if(!Xa(t.segments,i.segments)||!Nm(t.segments,i.segments,e)||t.numberOfChildren!==i.numberOfChildren)return!1;for(const n in i.children)if(!t.children[n]||!FI(t.children[n],i.children[n],e))return!1;return!0},subset:LI},RI={exact:function x8(t,i){return Is(t,i)},subset:function E8(t,i){return Object.keys(i).length<=Object.keys(t).length&&Object.keys(i).every(e=>kI(t[e],i[e]))},ignored:()=>!0};function NI(t,i,e){return C8[e.paths](t.root,i.root,e.matrixParams)&&RI[e.queryParams](t.queryParams,i.queryParams)&&!("exact"===e.fragment&&t.fragment!==i.fragment)}function LI(t,i,e){return BI(t,i,i.segments,e)}function BI(t,i,e,n){if(t.segments.length>e.length){const r=t.segments.slice(0,e.length);return!(!Xa(r,e)||i.hasChildren()||!Nm(r,e,n))}if(t.segments.length===e.length){if(!Xa(t.segments,e)||!Nm(t.segments,e,n))return!1;for(const r in i.children)if(!t.children[r]||!LI(t.children[r],i.children[r],n))return!1;return!0}{const r=e.slice(0,t.segments.length),s=e.slice(t.segments.length);return!!(Xa(t.segments,r)&&Nm(t.segments,r,n)&&t.children[Et])&&BI(t.children[Et],i,s,n)}}function Nm(t,i,e){return i.every((n,r)=>RI[e](t[r].parameters,n.parameters))}class kc{constructor(i=new yi([],{}),e={},n=null){this.root=i,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ic(this.queryParams)),this._queryParamMap}toString(){return M8.serialize(this)}}class yi{constructor(i,e){this.segments=i,this.children=e,this.parent=null,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fm(this)}}class Gu{constructor(i,e){this.path=i,this.parameters=e}get parameterMap(){return this._parameterMap||(this._parameterMap=Ic(this.parameters)),this._parameterMap}toString(){return zI(this)}}function Xa(t,i){return t.length===i.length&&t.every((e,n)=>e.path===i[n].path)}let Pc=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:()=>new N0,providedIn:"root"})}return t})();class N0{parse(i){const e=new B8(i);return new kc(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(i){const e=`/${Xu(i.root,!0)}`,n=function A8(t){const i=Object.keys(t).map(e=>{const n=t[e];return Array.isArray(n)?n.map(r=>`${Lm(e)}=${Lm(r)}`).join("&"):`${Lm(e)}=${Lm(n)}`}).filter(e=>!!e);return i.length?`?${i.join("&")}`:""}(i.queryParams);return`${e}${n}${"string"==typeof i.fragment?`#${function T8(t){return encodeURI(t)}(i.fragment)}`:""}`}}const M8=new N0;function Fm(t){return t.segments.map(i=>zI(i)).join("/")}function Xu(t,i){if(!t.hasChildren())return Fm(t);if(i){const e=t.children[Et]?Xu(t.children[Et],!1):"",n=[];return Object.entries(t.children).forEach(([r,s])=>{r!==Et&&n.push(`${r}:${Xu(s,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}{const e=function S8(t,i){let e=[];return Object.entries(t.children).forEach(([n,r])=>{n===Et&&(e=e.concat(i(r,n)))}),Object.entries(t.children).forEach(([n,r])=>{n!==Et&&(e=e.concat(i(r,n)))}),e}(t,(n,r)=>r===Et?[Xu(t.children[Et],!1)]:[`${r}:${Xu(n,!1)}`]);return 1===Object.keys(t.children).length&&null!=t.children[Et]?`${Fm(t)}/${e[0]}`:`${Fm(t)}/(${e.join("//")})`}}function VI(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Lm(t){return VI(t).replace(/%3B/gi,";")}function F0(t){return VI(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bm(t){return decodeURIComponent(t)}function HI(t){return Bm(t.replace(/\+/g,"%20"))}function zI(t){return`${F0(t.path)}${function O8(t){return Object.keys(t).map(i=>`;${F0(i)}=${F0(t[i])}`).join("")}(t.parameters)}`}const I8=/^[^\/()?;#]+/;function L0(t){const i=t.match(I8);return i?i[0]:""}const k8=/^[^\/()?;=#]+/,R8=/^[^=?&#]+/,F8=/^[^&#]+/;class B8{constructor(i){this.url=i,this.remaining=i}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new yi([],{}):new yi([],this.parseChildren())}parseQueryParams(){const i={};if(this.consumeOptional("?"))do{this.parseQueryParam(i)}while(this.consumeOptional("&"));return i}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const i=[];for(this.peekStartsWith("(")||i.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),i.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(i.length>0||Object.keys(e).length>0)&&(n[Et]=new yi(i,e)),n}parseSegment(){const i=L0(this.remaining);if(""===i&&this.peekStartsWith(";"))throw new Pe(4009,!1);return this.capture(i),new Gu(Bm(i),this.parseMatrixParams())}parseMatrixParams(){const i={};for(;this.consumeOptional(";");)this.parseParam(i);return i}parseParam(i){const e=function P8(t){const i=t.match(k8);return i?i[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const r=L0(this.remaining);r&&(n=r,this.capture(n))}i[Bm(e)]=Bm(n)}parseQueryParam(i){const e=function N8(t){const i=t.match(R8);return i?i[0]:""}(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){const o=function L8(t){const i=t.match(F8);return i?i[0]:""}(this.remaining);o&&(n=o,this.capture(n))}const r=HI(e),s=HI(n);if(i.hasOwnProperty(r)){let o=i[r];Array.isArray(o)||(o=[o],i[r]=o),o.push(s)}else i[r]=s}parseParens(i){const e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=L0(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Pe(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):i&&(s=Et);const o=this.parseChildren();e[s]=1===Object.keys(o).length?o[Et]:new yi([],o),this.consumeOptional("//")}return e}peekStartsWith(i){return this.remaining.startsWith(i)}consumeOptional(i){return!!this.peekStartsWith(i)&&(this.remaining=this.remaining.substring(i.length),!0)}capture(i){if(!this.consumeOptional(i))throw new Pe(4011,!1)}}function jI(t){return t.segments.length>0?new yi([],{[Et]:t}):t}function UI(t){const i={};for(const n of Object.keys(t.children)){const s=UI(t.children[n]);if(n===Et&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))i[o]=a;else(s.segments.length>0||s.hasChildren())&&(i[n]=s)}return function V8(t){if(1===t.numberOfChildren&&t.children[Et]){const i=t.children[Et];return new yi(t.segments.concat(i.segments),i.children)}return t}(new yi(t.segments,i))}function Za(t){return t instanceof kc}function $I(t){let i;const r=jI(function e(s){const o={};for(const l of s.children){const u=e(l);o[l.outlet]=u}const a=new yi(s.url,o);return s===t&&(i=a),a}(t.root));return i??r}function WI(t,i,e,n){let r=t;for(;r.parent;)r=r.parent;if(0===i.length)return B0(r,r,r,e,n);const s=function z8(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new GI(!0,0,t);let i=0,e=!1;const n=t.reduce((r,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([l,u])=>{a[l]="string"==typeof u?u.split("/"):u}),[...r,{outlets:a}]}if(s.segmentPath)return[...r,s.segmentPath]}return"string"!=typeof s?[...r,s]:0===o?(s.split("/").forEach((a,l)=>{0==l&&"."===a||(0==l&&""===a?e=!0:".."===a?i++:""!=a&&r.push(a))}),r):[...r,s]},[]);return new GI(e,i,n)}(i);if(s.toRoot())return B0(r,r,new yi([],{}),e,n);const o=function j8(t,i,e){if(t.isAbsolute)return new Hm(i,!0,0);if(!e)return new Hm(i,!1,NaN);if(null===e.parent)return new Hm(e,!0,0);const n=Vm(t.commands[0])?0:1;return function U8(t,i,e){let n=t,r=i,s=e;for(;s>r;){if(s-=r,n=n.parent,!n)throw new Pe(4005,!1);r=n.segments.length}return new Hm(n,!1,r-s)}(e,e.segments.length-1+n,t.numberOfDoubleDots)}(s,r,t),a=o.processChildren?Ku(o.segmentGroup,o.index,s.commands):XI(o.segmentGroup,o.index,s.commands);return B0(r,o.segmentGroup,a,e,n)}function Vm(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function Zu(t){return"object"==typeof t&&null!=t&&t.outlets}function B0(t,i,e,n,r){let o,s={};n&&Object.entries(n).forEach(([l,u])=>{s[l]=Array.isArray(u)?u.map(w=>`${w}`):`${u}`}),o=t===i?e:YI(t,i,e);const a=jI(UI(o));return new kc(a,s,r)}function YI(t,i,e){const n={};return Object.entries(t.children).forEach(([r,s])=>{n[r]=s===i?e:YI(s,i,e)}),new yi(t.segments,n)}class GI{constructor(i,e,n){if(this.isAbsolute=i,this.numberOfDoubleDots=e,this.commands=n,i&&n.length>0&&Vm(n[0]))throw new Pe(4003,!1);const r=n.find(Zu);if(r&&r!==PI(n))throw new Pe(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Hm{constructor(i,e,n){this.segmentGroup=i,this.processChildren=e,this.index=n}}function XI(t,i,e){if(t||(t=new yi([],{})),0===t.segments.length&&t.hasChildren())return Ku(t,i,e);const n=function W8(t,i,e){let n=0,r=i;const s={match:!1,pathIndex:0,commandIndex:0};for(;r<t.segments.length;){if(n>=e.length)return s;const o=t.segments[r],a=e[n];if(Zu(a))break;const l=`${a}`,u=n<e.length-1?e[n+1]:null;if(r>0&&void 0===l)break;if(l&&u&&"object"==typeof u&&void 0===u.outlets){if(!KI(l,u,o))return s;n+=2}else{if(!KI(l,{},o))return s;n++}r++}return{match:!0,pathIndex:r,commandIndex:n}}(t,i,e),r=e.slice(n.commandIndex);if(n.match&&n.pathIndex<t.segments.length){const s=new yi(t.segments.slice(0,n.pathIndex),{});return s.children[Et]=new yi(t.segments.slice(n.pathIndex),t.children),Ku(s,0,r)}return n.match&&0===r.length?new yi(t.segments,{}):n.match&&!t.hasChildren()?V0(t,i,e):n.match?Ku(t,0,r):V0(t,i,e)}function Ku(t,i,e){if(0===e.length)return new yi(t.segments,{});{const n=function $8(t){return Zu(t[0])?t[0].outlets:{[Et]:t}}(e),r={};if(Object.keys(n).some(s=>s!==Et)&&t.children[Et]&&1===t.numberOfChildren&&0===t.children[Et].segments.length){const s=Ku(t.children[Et],i,e);return new yi(t.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(r[s]=XI(t.children[s],i,o))}),Object.entries(t.children).forEach(([s,o])=>{void 0===n[s]&&(r[s]=o)}),new yi(t.segments,r)}}function V0(t,i,e){const n=t.segments.slice(0,i);let r=0;for(;r<e.length;){const s=e[r];if(Zu(s)){const l=Y8(s.outlets);return new yi(n,l)}if(0===r&&Vm(e[0])){n.push(new Gu(t.segments[i].path,ZI(e[0]))),r++;continue}const o=Zu(s)?s.outlets[Et]:`${s}`,a=r<e.length-1?e[r+1]:null;o&&a&&Vm(a)?(n.push(new Gu(o,ZI(a))),r+=2):(n.push(new Gu(o,{})),r++)}return new yi(n,{})}function Y8(t){const i={};return Object.entries(t).forEach(([e,n])=>{"string"==typeof n&&(n=[n]),null!==n&&(i[e]=V0(new yi([],{}),0,n))}),i}function ZI(t){const i={};return Object.entries(t).forEach(([e,n])=>i[e]=`${n}`),i}function KI(t,i,e){return t==e.path&&Is(i,e.parameters)}const Qu="imperative";class ks{constructor(i,e){this.id=i,this.url=e}}class zm extends ks{constructor(i,e,n="imperative",r=null){super(i,e),this.type=0,this.navigationTrigger=n,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class io extends ks{constructor(i,e,n){super(i,e),this.urlAfterRedirects=n,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Rc extends ks{constructor(i,e,n,r){super(i,e),this.reason=n,this.code=r,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Nc extends ks{constructor(i,e,n,r){super(i,e),this.reason=n,this.code=r,this.type=16}}class jm extends ks{constructor(i,e,n,r){super(i,e),this.error=n,this.target=r,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class QI extends ks{constructor(i,e,n,r){super(i,e),this.urlAfterRedirects=n,this.state=r,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class G8 extends ks{constructor(i,e,n,r){super(i,e),this.urlAfterRedirects=n,this.state=r,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class X8 extends ks{constructor(i,e,n,r,s){super(i,e),this.urlAfterRedirects=n,this.state=r,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Z8 extends ks{constructor(i,e,n,r){super(i,e),this.urlAfterRedirects=n,this.state=r,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class K8 extends ks{constructor(i,e,n,r){super(i,e),this.urlAfterRedirects=n,this.state=r,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Q8{constructor(i){this.route=i,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class q8{constructor(i){this.route=i,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class J8{constructor(i){this.snapshot=i,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class e6{constructor(i){this.snapshot=i,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class t6{constructor(i){this.snapshot=i,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class i6{constructor(i){this.snapshot=i,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class qI{constructor(i,e,n){this.routerEvent=i,this.position=e,this.anchor=n,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class H0{}class z0{constructor(i){this.url=i}}class n6{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new qu,this.attachRef=null}}let qu=(()=>{class t{constructor(){this.contexts=new Map}onChildOutletCreated(e,n){const r=this.getOrCreateContext(e);r.outlet=n,this.contexts.set(e,r)}onChildOutletDestroyed(e){const n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new n6,this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class JI{constructor(i){this._root=i}get root(){return this._root.value}parent(i){const e=this.pathFromRoot(i);return e.length>1?e[e.length-2]:null}children(i){const e=j0(i,this._root);return e?e.children.map(n=>n.value):[]}firstChild(i){const e=j0(i,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(i){const e=U0(i,this._root);return e.length<2?[]:e[e.length-2].children.map(r=>r.value).filter(r=>r!==i)}pathFromRoot(i){return U0(i,this._root).map(e=>e.value)}}function j0(t,i){if(t===i.value)return i;for(const e of i.children){const n=j0(t,e);if(n)return n}return null}function U0(t,i){if(t===i.value)return[i];for(const e of i.children){const n=U0(t,e);if(n.length)return n.unshift(i),n}return[]}class as{constructor(i,e){this.value=i,this.children=e}toString(){return`TreeNode(${this.value})`}}function Fc(t){const i={};return t&&t.children.forEach(e=>i[e.value.outlet]=e),i}class ek extends JI{constructor(i,e){super(i),this.snapshot=e,Y0(this,i)}toString(){return this.snapshot.toString()}}function tk(t,i){const e=function r6(t,i){const o=new W0([],{},{},"",{},Et,i,null,{});return new ik("",new as(o,[]))}(0,i),n=new Dn([new Gu("",{})]),r=new Dn({}),s=new Dn({}),o=new Dn({}),a=new Dn(""),l=new Lc(n,r,o,a,s,Et,i,e.root);return l.snapshot=e.root,new ek(new as(l,[]),e)}class Lc{constructor(i,e,n,r,s,o,a,l){this.urlSubject=i,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=r,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=l,this.title=this.dataSubject?.pipe(mt(u=>u[Yu]))??dt(void 0),this.url=i,this.params=e,this.queryParams=n,this.fragment=r,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(mt(i=>Ic(i)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(mt(i=>Ic(i)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function $0(t,i,e="emptyOnly"){let n;const{routeConfig:r}=t;return n=null===i||"always"!==e&&""!==r?.path&&(i.component||i.routeConfig?.loadComponent)?{params:{...t.params},data:{...t.data},resolve:{...t.data,...t._resolvedData??{}}}:{params:{...i.params,...t.params},data:{...i.data,...t.data},resolve:{...t.data,...i.data,...r?.data,...t._resolvedData}},r&&rk(r)&&(n.resolve[Yu]=r.title),n}class W0{get title(){return this.data?.[Yu]}constructor(i,e,n,r,s,o,a,l,u){this.url=i,this.params=e,this.queryParams=n,this.fragment=r,this.data=s,this.outlet=o,this.component=a,this.routeConfig=l,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Ic(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Ic(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(n=>n.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class ik extends JI{constructor(i,e){super(e),this.url=i,Y0(this,e)}toString(){return nk(this._root)}}function Y0(t,i){i.value._routerState=t,i.children.forEach(e=>Y0(t,e))}function nk(t){const i=t.children.length>0?` { ${t.children.map(nk).join(", ")} } `:"";return`${t.value}${i}`}function G0(t){if(t.snapshot){const i=t.snapshot,e=t._futureSnapshot;t.snapshot=e,Is(i.queryParams,e.queryParams)||t.queryParamsSubject.next(e.queryParams),i.fragment!==e.fragment&&t.fragmentSubject.next(e.fragment),Is(i.params,e.params)||t.paramsSubject.next(e.params),function w8(t,i){if(t.length!==i.length)return!1;for(let e=0;e<t.length;++e)if(!Is(t[e],i[e]))return!1;return!0}(i.url,e.url)||t.urlSubject.next(e.url),Is(i.data,e.data)||t.dataSubject.next(e.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function X0(t,i){const e=Is(t.params,i.params)&&function D8(t,i){return Xa(t,i)&&t.every((e,n)=>Is(e.parameters,i[n].parameters))}(t.url,i.url);return e&&!(!t.parent!=!i.parent)&&(!t.parent||X0(t.parent,i.parent))}function rk(t){return"string"==typeof t.title||null===t.title}let Z0=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=Et,this.activateEvents=new It,this.deactivateEvents=new It,this.attachEvents=new It,this.detachEvents=new It,this.parentContexts=He(qu),this.location=He(Lr),this.changeDetector=He(Kl),this.environmentInjector=He(yr),this.inputBinder=He(Um,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(e){if(e.name){const{firstChange:n,previousValue:r}=e.name;if(n)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Pe(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Pe(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Pe(4012,!1);this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new Pe(4013,!1);this._activatedRoute=e;const r=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,l=new s6(e,a,r.injector);this.activated=r.createComponent(o,{index:r.length,injector:l,environmentInjector:n??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275dir=ct({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Tn]})}return t})();class s6{constructor(i,e,n){this.route=i,this.childContexts=e,this.parent=n}get(i,e){return i===Lc?this.route:i===qu?this.childContexts:this.parent.get(i,e)}}const Um=new Ne("");let sk=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){const{activatedRoute:n}=e,r=pm([n.queryParams,n.params,n.data]).pipe(lr(([s,o,a],l)=>(a={...s,...o,...a},0===l?dt(a):Promise.resolve(a)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||null===n.component)return void this.unsubscribeFromRouteData(e);const o=function xU(t){const i=bt(t);if(!i)return null;const e=new Qd(i);return{get selector(){return e.selector},get type(){return e.componentType},get inputs(){return e.inputs},get outputs(){return e.outputs},get ngContentSelectors(){return e.ngContentSelectors},get isStandalone(){return i.standalone},get isSignal(){return i.signals}}}(n.component);if(o)for(const{templateName:a}of o.inputs)e.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(e)});this.outletDataSubscriptions.set(e,r)}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac})}return t})();function Ju(t,i,e){if(e&&t.shouldReuseRoute(i.value,e.value.snapshot)){const n=e.value;n._futureSnapshot=i.value;const r=function a6(t,i,e){return i.children.map(n=>{for(const r of e.children)if(t.shouldReuseRoute(n.value,r.value.snapshot))return Ju(t,n,r);return Ju(t,n)})}(t,i,e);return new as(n,r)}{if(t.shouldAttach(i.value)){const s=t.retrieve(i.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=i.value,o.children=i.children.map(a=>Ju(t,a)),o}}const n=function l6(t){return new Lc(new Dn(t.url),new Dn(t.params),new Dn(t.queryParams),new Dn(t.fragment),new Dn(t.data),t.outlet,t.component,t)}(i.value),r=i.children.map(s=>Ju(t,s));return new as(n,r)}}const K0="ngNavigationCancelingError";function ok(t,i){const{redirectTo:e,navigationBehaviorOptions:n}=Za(i)?{redirectTo:i,navigationBehaviorOptions:void 0}:i,r=ak(!1,0,i);return r.url=e,r.navigationBehaviorOptions=n,r}function ak(t,i,e){const n=new Error("NavigationCancelingError: "+(t||""));return n[K0]=!0,n.cancellationCode=i,e&&(n.url=e),n}function lk(t){return t&&t[K0]}let ck=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275cmp=nr({type:t,selectors:[["ng-component"]],standalone:!0,features:[Eb],decls:1,vars:0,template:function(n,r){1&n&&Ge(0,"router-outlet")},dependencies:[Z0],encapsulation:2})}return t})();function Q0(t){const i=t.children&&t.children.map(Q0),e=i?{...t,children:i}:{...t};return!e.component&&!e.loadComponent&&(i||e.loadChildren)&&e.outlet&&e.outlet!==Et&&(e.component=ck),e}function Ps(t){return t.outlet||Et}function eh(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let i=t.parent;i;i=i.parent){const e=i.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}class g6{constructor(i,e,n,r,s){this.routeReuseStrategy=i,this.futureState=e,this.currState=n,this.forwardEvent=r,this.inputBindingEnabled=s}activate(i){const e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,i),G0(this.futureState.root),this.activateChildRoutes(e,n,i)}deactivateChildRoutes(i,e,n){const r=Fc(e);i.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,r[o],n),delete r[o]}),Object.values(r).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(i,e,n){const r=i.value,s=e?e.value:null;if(r===s)if(r.component){const o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(i,e,o.children)}else this.deactivateChildRoutes(i,e,n);else s&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(i,e){i.value.component&&this.routeReuseStrategy.shouldDetach(i.value.snapshot)?this.detachAndStoreRouteSubtree(i,e):this.deactivateRouteAndOutlet(i,e)}detachAndStoreRouteSubtree(i,e){const n=e.getContext(i.value.outlet),r=n&&i.value.component?n.children:e,s=Fc(i);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);if(n&&n.outlet){const o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(i.value.snapshot,{componentRef:o,route:i,contexts:a})}}deactivateRouteAndOutlet(i,e){const n=e.getContext(i.value.outlet),r=n&&i.value.component?n.children:e,s=Fc(i);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],r);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(i,e,n){const r=Fc(e);i.children.forEach(s=>{this.activateRoutes(s,r[s.value.outlet],n),this.forwardEvent(new i6(s.value.snapshot))}),i.children.length&&this.forwardEvent(new e6(i.value.snapshot))}activateRoutes(i,e,n){const r=i.value,s=e?e.value:null;if(G0(r),r===s)if(r.component){const o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(i,e,o.children)}else this.activateChildRoutes(i,e,n);else if(r.component){const o=n.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){const a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),G0(a.route.value),this.activateChildRoutes(i,null,o.children)}else{const a=eh(r.snapshot);o.attachRef=null,o.route=r,o.injector=a,o.outlet&&o.outlet.activateWith(r,o.injector),this.activateChildRoutes(i,null,o.children)}}else this.activateChildRoutes(i,null,n)}}class dk{constructor(i){this.path=i,this.route=this.path[this.path.length-1]}}class $m{constructor(i,e){this.component=i,this.route=e}}function v6(t,i,e){const n=t._root;return th(n,i?i._root:null,e,[n.value])}function Bc(t,i){const e=Symbol(),n=i.get(t,e);return n===e?"function"!=typeof t||function Ng(t){return null!==Mn(t)}(t)?i.get(t):t:n}function th(t,i,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=Fc(i);return t.children.forEach(o=>{(function b6(t,i,e,n,r={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,o=i?i.value:null,a=e?e.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const l=function _6(t,i,e){if("function"==typeof e)return e(t,i);switch(e){case"pathParamsChange":return!Xa(t.url,i.url);case"pathParamsOrQueryParamsChange":return!Xa(t.url,i.url)||!Is(t.queryParams,i.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!X0(t,i)||!Is(t.queryParams,i.queryParams);default:return!X0(t,i)}}(o,s,s.routeConfig.runGuardsAndResolvers);l?r.canActivateChecks.push(new dk(n)):(s.data=o.data,s._resolvedData=o._resolvedData),th(t,i,s.component?a?a.children:null:e,n,r),l&&a&&a.outlet&&a.outlet.isActivated&&r.canDeactivateChecks.push(new $m(a.outlet.component,o))}else o&&ih(i,a,r),r.canActivateChecks.push(new dk(n)),th(t,null,s.component?a?a.children:null:e,n,r)})(o,s[o.value.outlet],e,n.concat([o.value]),r),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>ih(a,e.getContext(o),r)),r}function ih(t,i,e){const n=Fc(t),r=t.value;Object.entries(n).forEach(([s,o])=>{ih(o,r.component?i?i.children.getContext(s):null:i,e)}),e.canDeactivateChecks.push(new $m(r.component&&i&&i.outlet&&i.outlet.isActivated?i.outlet.component:null,r))}function nh(t){return"function"==typeof t}function uk(t){return t instanceof km||"EmptyError"===t?.name}const Wm=Symbol("INITIAL_VALUE");function Vc(){return lr(t=>pm(t.map(i=>i.pipe(Qn(1),K_(Wm)))).pipe(mt(i=>{for(const e of i)if(!0!==e){if(e===Wm)return Wm;if(!1===e||e instanceof kc)return e}return!0}),Kn(i=>i!==Wm),Qn(1)))}function hk(t){return function po(...t){return sa(t)}(An(i=>{if(Za(i))throw ok(0,i)}),mt(i=>!0===i))}class q0{constructor(i){this.segmentGroup=i||null}}class J0 extends Error{constructor(i){super(),this.urlTree=i}}function Hc(t){return Pm(new q0(t))}class H6{constructor(i,e){this.urlSerializer=i,this.urlTree=e}lineralizeSegments(i,e){let n=[],r=e.root;for(;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return dt(n);if(r.numberOfChildren>1||!r.children[Et])return Pm(new Pe(4e3,!1));r=r.children[Et]}}applyRedirectCommands(i,e,n){const r=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),i,n);if(e.startsWith("/"))throw new J0(r);return r}applyRedirectCreateUrlTree(i,e,n,r){const s=this.createSegmentGroup(i,e.root,n,r);return new kc(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(i,e){const n={};return Object.entries(i).forEach(([r,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);n[r]=e[a]}else n[r]=s}),n}createSegmentGroup(i,e,n,r){const s=this.createSegments(i,e.segments,n,r);let o={};return Object.entries(e.children).forEach(([a,l])=>{o[a]=this.createSegmentGroup(i,l,n,r)}),new yi(s,o)}createSegments(i,e,n,r){return e.map(s=>s.path.startsWith(":")?this.findPosParam(i,s,r):this.findOrReturn(s,n))}findPosParam(i,e,n){const r=n[e.path.substring(1)];if(!r)throw new Pe(4001,!1);return r}findOrReturn(i,e){let n=0;for(const r of e){if(r.path===i.path)return e.splice(n),r;n++}return i}}const ew={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function z6(t,i,e,n,r){const s=tw(t,i,e);return s.matched?(n=function d6(t,i){return t.providers&&!t._injector&&(t._injector=xb(t.providers,i,`Route: ${t.path}`)),t._injector??i}(i,n),function L6(t,i,e,n){const r=i.canMatch;return r&&0!==r.length?dt(r.map(o=>{const a=Bc(o,t);return Zo(function S6(t){return t&&nh(t.canMatch)}(a)?a.canMatch(i,e):To(t,()=>a(i,e)))})).pipe(Vc(),hk()):dt(!0)}(n,i,e).pipe(mt(o=>!0===o?s:{...ew}))):dt(s)}function tw(t,i,e){if("**"===i.path)return function j6(t){return{matched:!0,parameters:t.length>0?PI(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}(e);if(""===i.path)return"full"===i.pathMatch&&(t.hasChildren()||e.length>0)?{...ew}:{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};const r=(i.matcher||_8)(e,t,i);if(!r)return{...ew};const s={};Object.entries(r.posParams??{}).forEach(([a,l])=>{s[a]=l.path});const o=r.consumed.length>0?{...s,...r.consumed[r.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:r.consumed,remainingSegments:e.slice(r.consumed.length),parameters:o,positionalParamSegments:r.posParams??{}}}function fk(t,i,e,n){return e.length>0&&function W6(t,i,e){return e.some(n=>Ym(t,i,n)&&Ps(n)!==Et)}(t,e,n)?{segmentGroup:new yi(i,$6(n,new yi(e,t.children))),slicedSegments:[]}:0===e.length&&function Y6(t,i,e){return e.some(n=>Ym(t,i,n))}(t,e,n)?{segmentGroup:new yi(t.segments,U6(t,0,e,n,t.children)),slicedSegments:e}:{segmentGroup:new yi(t.segments,t.children),slicedSegments:e}}function U6(t,i,e,n,r){const s={};for(const o of n)if(Ym(t,e,o)&&!r[Ps(o)]){const a=new yi([],{});s[Ps(o)]=a}return{...r,...s}}function $6(t,i){const e={};e[Et]=i;for(const n of t)if(""===n.path&&Ps(n)!==Et){const r=new yi([],{});e[Ps(n)]=r}return e}function Ym(t,i,e){return(!(t.hasChildren()||i.length>0)||"full"!==e.pathMatch)&&""===e.path}class Z6{}class q6{constructor(i,e,n,r,s,o,a){this.injector=i,this.configLoader=e,this.rootComponentType=n,this.config=r,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new H6(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(i){return new Pe(4002,`'${i.segmentGroup}'`)}recognize(){const i=fk(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(i).pipe(mt(e=>{const n=new W0([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},Et,this.rootComponentType,null,{}),r=new as(n,e),s=new ik("",r),o=function H8(t,i,e=null,n=null){return WI($I(t),i,e,n)}(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root,null),{state:s,tree:o}}))}match(i){return this.processSegmentGroup(this.injector,this.config,i,Et).pipe(Ac(n=>{if(n instanceof J0)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof q0?this.noMatchError(n):n}))}inheritParamsAndData(i,e){const n=i.value,r=$0(n,e,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),i.children.forEach(s=>this.inheritParamsAndData(s,n))}processSegmentGroup(i,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.processChildren(i,e,n):this.processSegment(i,e,n,n.segments,r,!0).pipe(mt(s=>s instanceof as?[s]:[]))}processChildren(i,e,n){const r=[];for(const s of Object.keys(n.children))"primary"===s?r.unshift(s):r.push(s);return nn(r).pipe(Cc(s=>{const o=n.children[s],a=function p6(t,i){const e=t.filter(n=>Ps(n)===i);return e.push(...t.filter(n=>Ps(n)!==i)),e}(e,s);return this.processSegmentGroup(i,a,o,s)}),function v8(t,i){return $t(function g8(t,i,e,n,r){return(s,o)=>{let a=e,l=i,u=0;s.subscribe(li(o,w=>{const R=u++;l=a?t(l,w,R):(a=!0,w),n&&o.next(l)},r&&(()=>{a&&o.next(l),o.complete()})))}}(t,i,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Rm(null),function y8(t,i){const e=arguments.length>=2;return n=>n.pipe(t?Kn((r,s)=>t(r,s,n)):ur,P0(1),e?Rm(i):II(()=>new km))}(),xn(s=>{if(null===s)return Hc(n);const o=pk(s);return function J6(t){t.sort((i,e)=>i.value.outlet===Et?-1:e.value.outlet===Et?1:i.value.outlet.localeCompare(e.value.outlet))}(o),dt(o)}))}processSegment(i,e,n,r,s,o){return nn(e).pipe(Cc(a=>this.processSegmentAgainstRoute(a._injector??i,e,a,n,r,s,o).pipe(Ac(l=>{if(l instanceof q0)return dt(null);throw l}))),Ga(a=>!!a),Ac(a=>{if(uk(a))return function X6(t,i,e){return 0===i.length&&!t.children[e]}(n,r,s)?dt(new Z6):Hc(n);throw a}))}processSegmentAgainstRoute(i,e,n,r,s,o,a){return function G6(t,i,e,n){return!!(Ps(t)===n||n!==Et&&Ym(i,e,t))&&tw(i,t,e).matched}(n,r,s,o)?void 0===n.redirectTo?this.matchSegmentAgainstRoute(i,r,n,s,o):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(i,r,e,n,s,o):Hc(r):Hc(r)}expandSegmentAgainstRouteUsingRedirect(i,e,n,r,s,o){const{matched:a,consumedSegments:l,positionalParamSegments:u,remainingSegments:w}=tw(e,r,s);if(!a)return Hc(e);r.redirectTo.startsWith("/")&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>31&&(this.allowRedirects=!1));const R=this.applyRedirects.applyRedirectCommands(l,r.redirectTo,u);return this.applyRedirects.lineralizeSegments(r,R).pipe(xn(z=>this.processSegment(i,n,e,z.concat(w),o,!1)))}matchSegmentAgainstRoute(i,e,n,r,s){const o=z6(e,n,r,i);return"**"===n.path&&(e.children={}),o.pipe(lr(a=>a.matched?this.getChildConfig(i=n._injector??i,n,r).pipe(lr(({routes:l})=>{const u=n._loadedInjector??i,{consumedSegments:w,remainingSegments:R,parameters:z}=a,G=new W0(w,z,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,function t9(t){return t.data||{}}(n),Ps(n),n.component??n._loadedComponent??null,n,function i9(t){return t.resolve||{}}(n)),{segmentGroup:X,slicedSegments:Q}=fk(e,w,R,l);if(0===Q.length&&X.hasChildren())return this.processChildren(u,l,X).pipe(mt(ae=>null===ae?null:new as(G,ae)));if(0===l.length&&0===Q.length)return dt(new as(G,[]));const ne=Ps(n)===s;return this.processSegment(u,l,X,Q,ne?Et:s,!0).pipe(mt(ae=>new as(G,ae instanceof as?[ae]:[])))})):Hc(e)))}getChildConfig(i,e,n){return e.children?dt({routes:e.children,injector:i}):e.loadChildren?void 0!==e._loadedRoutes?dt({routes:e._loadedRoutes,injector:e._loadedInjector}):function F6(t,i,e,n){const r=i.canLoad;return void 0===r||0===r.length?dt(!0):dt(r.map(o=>{const a=Bc(o,t);return Zo(function C6(t){return t&&nh(t.canLoad)}(a)?a.canLoad(i,e):To(t,()=>a(i,e)))})).pipe(Vc(),hk())}(i,e,n).pipe(xn(r=>r?this.configLoader.loadChildren(i,e).pipe(An(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):function V6(t){return Pm(ak(!1,3))}())):dt({routes:[],injector:i})}}function e9(t){const i=t.value.routeConfig;return i&&""===i.path}function pk(t){const i=[],e=new Set;for(const n of t){if(!e9(n)){i.push(n);continue}const r=i.find(s=>n.value.routeConfig===s.value.routeConfig);void 0!==r?(r.children.push(...n.children),e.add(r)):i.push(n)}for(const n of e){const r=pk(n.children);i.push(new as(n.value,r))}return i.filter(n=>!e.has(n))}function r9(t,i){return xn(e=>{const{targetSnapshot:n,guards:{canActivateChecks:r}}=e;if(!r.length)return dt(e);const s=new Set(r.map(l=>l.route)),o=new Set;for(const l of s)if(!o.has(l))for(const u of mk(l))o.add(u);let a=0;return nn(o).pipe(Cc(l=>s.has(l)?function s9(t,i,e,n){const r=t.routeConfig,s=t._resolve;return void 0!==r?.title&&!rk(r)&&(s[Yu]=r.title),function o9(t,i,e,n){const r=R0(t);if(0===r.length)return dt({});const s={};return nn(r).pipe(xn(o=>function a9(t,i,e,n){const r=eh(i)??n,s=Bc(t,r);return Zo(s.resolve?s.resolve(i,e):To(r,()=>s(i,e)))}(t[o],i,e,n).pipe(Ga(),An(a=>{s[o]=a}))),P0(1),function SI(t){return mt(()=>t)}(s),Ac(o=>uk(o)?Os:Pm(o)))}(s,t,i,n).pipe(mt(o=>(t._resolvedData=o,t.data=$0(t,t.parent,e).resolve,null)))}(l,n,t,i):(l.data=$0(l,l.parent,t).resolve,dt(void 0))),An(()=>a++),P0(1),xn(l=>a===o.size?dt(e):Os))})}function mk(t){const i=t.children.map(e=>mk(e)).flat();return[t,...i]}function iw(t){return lr(i=>{const e=t(i);return e?nn(e).pipe(mt(()=>i)):dt(i)})}let gk=(()=>{class t{buildTitle(e){let n,r=e.root;for(;void 0!==r;)n=this.getResolvedTitleForRoute(r)??n,r=r.children.find(s=>s.outlet===Et);return n}getResolvedTitleForRoute(e){return e.data[Yu]}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:()=>He(l9),providedIn:"root"})}return t})(),l9=(()=>{class t extends gk{constructor(e){super(),this.title=e}updateTitle(e){const n=this.buildTitle(e);void 0!==n&&this.title.setTitle(n)}static#e=this.\u0275fac=function(n){return new(n||t)(Te(jO))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const zc=new Ne("",{providedIn:"root",factory:()=>({})}),jc=new Ne("ROUTES");let nw=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=He(gT)}loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return dt(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);const n=Zo(e.loadComponent()).pipe(mt(vk),An(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),Au(()=>{this.componentLoaders.delete(e)})),r=new AI(n,()=>new ni).pipe(k0());return this.componentLoaders.set(e,r),r}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return dt({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);const s=function c9(t,i,e,n){return Zo(t.loadChildren()).pipe(mt(vk),xn(r=>r instanceof PM||Array.isArray(r)?dt(r):nn(i.compileModuleAsync(r))),mt(r=>{n&&n(t);let s,o,a=!1;return Array.isArray(r)?(o=r,!0):(s=r.create(e).injector,o=s.get(jc,[],{optional:!0,self:!0}).flat()),{routes:o.map(Q0),injector:s}}))}(n,this.compiler,e,this.onLoadEndListener).pipe(Au(()=>{this.childrenLoaders.delete(n)})),o=new AI(s,()=>new ni).pipe(k0());return this.childrenLoaders.set(n,o),o}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function vk(t){return function d9(t){return t&&"object"==typeof t&&"default"in t}(t)?t.default:t}let rw=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:()=>He(u9),providedIn:"root"})}return t})(),u9=(()=>{class t{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const yk=new Ne(""),bk=new Ne("");function h9(t,i,e){const n=t.get(bk),r=t.get(ri);return t.get(xt).runOutsideAngular(()=>{if(!r.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,Promise.resolve();let s;const o=new Promise(u=>{s=u}),a=r.startViewTransition(()=>(s(),function f9(t){return new Promise(i=>{tD(i,{injector:t})})}(t))),{onViewTransitionCreated:l}=n;return l&&To(t,()=>l({transition:a,from:i,to:e})),o})}let Gm=(()=>{class t{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ni,this.transitionAbortSubject=new ni,this.configLoader=He(nw),this.environmentInjector=He(yr),this.urlSerializer=He(Pc),this.rootContexts=He(qu),this.location=He(_c),this.inputBindingEnabled=null!==He(Um,{optional:!0}),this.titleStrategy=He(gk),this.options=He(zc,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=He(rw),this.createViewTransition=He(yk,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>dt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=r=>this.events.next(new q8(r)),this.configLoader.onLoadStartListener=r=>this.events.next(new Q8(r))}complete(){this.transitions?.complete()}handleNavigationRequest(e){const n=++this.navigationId;this.transitions?.next({...this.transitions.value,...e,id:n})}setupNavigations(e,n,r){return this.transitions=new Dn({id:0,currentUrlTree:n,currentRawUrl:n,extractedUrl:this.urlHandlingStrategy.extract(n),urlAfterRedirects:this.urlHandlingStrategy.extract(n),rawUrl:n,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:Qu,restoredState:null,currentSnapshot:r.snapshot,targetSnapshot:null,currentRouterState:r,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Kn(s=>0!==s.id),mt(s=>({...s,extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),lr(s=>{this.currentTransition=s;let o=!1,a=!1;return dt(s).pipe(An(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),lr(l=>{const u=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl();if(!u&&"reload"!==(l.extras.onSameUrlNavigation??e.onSameUrlNavigation)){const R="";return this.events.next(new Nc(l.id,this.urlSerializer.serialize(l.rawUrl),R,0)),l.resolve(null),Os}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return dt(l).pipe(lr(R=>{const z=this.transitions?.getValue();return this.events.next(new zm(R.id,this.urlSerializer.serialize(R.extractedUrl),R.source,R.restoredState)),z!==this.transitions?.getValue()?Os:Promise.resolve(R)}),function n9(t,i,e,n,r,s){return xn(o=>function K6(t,i,e,n,r,s,o="emptyOnly"){return new q6(t,i,e,n,r,o,s).recognize()}(t,i,e,n,o.extractedUrl,r,s).pipe(mt(({state:a,tree:l})=>({...o,targetSnapshot:a,urlAfterRedirects:l}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),An(R=>{s.targetSnapshot=R.targetSnapshot,s.urlAfterRedirects=R.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:R.urlAfterRedirects};const z=new QI(R.id,this.urlSerializer.serialize(R.extractedUrl),this.urlSerializer.serialize(R.urlAfterRedirects),R.targetSnapshot);this.events.next(z)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){const{id:R,extractedUrl:z,source:G,restoredState:X,extras:Q}=l,ne=new zm(R,this.urlSerializer.serialize(z),G,X);this.events.next(ne);const ae=tk(0,this.rootComponentType).snapshot;return this.currentTransition=s={...l,targetSnapshot:ae,urlAfterRedirects:z,extras:{...Q,skipLocationChange:!1,replaceUrl:!1}},this.currentNavigation.finalUrl=z,dt(s)}{const R="";return this.events.next(new Nc(l.id,this.urlSerializer.serialize(l.extractedUrl),R,1)),l.resolve(null),Os}}),An(l=>{const u=new G8(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(u)}),mt(l=>(this.currentTransition=s={...l,guards:v6(l.targetSnapshot,l.currentSnapshot,this.rootContexts)},s)),function T6(t,i){return xn(e=>{const{targetSnapshot:n,currentSnapshot:r,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return 0===o.length&&0===s.length?dt({...e,guardsResult:!0}):function O6(t,i,e,n){return nn(t).pipe(xn(r=>function N6(t,i,e,n,r){const s=i&&i.routeConfig?i.routeConfig.canDeactivate:null;return s&&0!==s.length?dt(s.map(a=>{const l=eh(i)??r,u=Bc(a,l);return Zo(function D6(t){return t&&nh(t.canDeactivate)}(u)?u.canDeactivate(t,i,e,n):To(l,()=>u(t,i,e,n))).pipe(Ga())})).pipe(Vc()):dt(!0)}(r.component,r.route,e,i,n)),Ga(r=>!0!==r,!0))}(o,n,r,t).pipe(xn(a=>a&&function w6(t){return"boolean"==typeof t}(a)?function A6(t,i,e,n){return nn(i).pipe(Cc(r=>Nu(function k6(t,i){return null!==t&&i&&i(new J8(t)),dt(!0)}(r.route.parent,n),function I6(t,i){return null!==t&&i&&i(new t6(t)),dt(!0)}(r.route,n),function R6(t,i,e){const n=i[i.length-1],s=i.slice(0,i.length-1).reverse().map(o=>function y6(t){const i=t.routeConfig?t.routeConfig.canActivateChild:null;return i&&0!==i.length?{node:t,guards:i}:null}(o)).filter(o=>null!==o).map(o=>c0(()=>dt(o.guards.map(l=>{const u=eh(o.node)??e,w=Bc(l,u);return Zo(function E6(t){return t&&nh(t.canActivateChild)}(w)?w.canActivateChild(n,t):To(u,()=>w(n,t))).pipe(Ga())})).pipe(Vc())));return dt(s).pipe(Vc())}(t,r.path,e),function P6(t,i,e){const n=i.routeConfig?i.routeConfig.canActivate:null;if(!n||0===n.length)return dt(!0);const r=n.map(s=>c0(()=>{const o=eh(i)??e,a=Bc(s,o);return Zo(function x6(t){return t&&nh(t.canActivate)}(a)?a.canActivate(i,t):To(o,()=>a(i,t))).pipe(Ga())}));return dt(r).pipe(Vc())}(t,r.route,e))),Ga(r=>!0!==r,!0))}(n,s,t,i):dt(a)),mt(a=>({...e,guardsResult:a})))})}(this.environmentInjector,l=>this.events.next(l)),An(l=>{if(s.guardsResult=l.guardsResult,Za(l.guardsResult))throw ok(0,l.guardsResult);const u=new X8(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(u)}),Kn(l=>!!l.guardsResult||(this.cancelNavigationTransition(l,"",3),!1)),iw(l=>{if(l.guards.canActivateChecks.length)return dt(l).pipe(An(u=>{const w=new Z8(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(w)}),lr(u=>{let w=!1;return dt(u).pipe(r9(this.paramsInheritanceStrategy,this.environmentInjector),An({next:()=>w=!0,complete:()=>{w||this.cancelNavigationTransition(u,"",2)}}))}),An(u=>{const w=new K8(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(w)}))}),iw(l=>{const u=w=>{const R=[];w.routeConfig?.loadComponent&&!w.routeConfig._loadedComponent&&R.push(this.configLoader.loadComponent(w.routeConfig).pipe(An(z=>{w.component=z}),mt(()=>{})));for(const z of w.children)R.push(...u(z));return R};return pm(u(l.targetSnapshot.root)).pipe(Rm(null),Qn(1))}),iw(()=>this.afterPreactivation()),lr(()=>{const{currentSnapshot:l,targetSnapshot:u}=s,w=this.createViewTransition?.(this.environmentInjector,l.root,u.root);return w?nn(w).pipe(mt(()=>s)):dt(s)}),mt(l=>{const u=function o6(t,i,e){const n=Ju(t,i._root,e?e._root:void 0);return new ek(n,i)}(e.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s={...l,targetRouterState:u},this.currentNavigation.targetRouterState=u,s}),An(()=>{this.events.next(new H0)}),((t,i,e,n)=>mt(r=>(new g6(i,r.targetRouterState,r.currentRouterState,e,n).activate(t),r)))(this.rootContexts,e.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Qn(1),An({next:l=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new io(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{o=!0}}),Q_(this.transitionAbortSubject.pipe(An(l=>{throw l}))),Au(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),Ac(l=>{if(a=!0,lk(l))this.events.next(new Rc(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),function c6(t){return lk(t)&&Za(t.url)}(l)?this.events.next(new z0(l.url)):s.resolve(!1);else{this.events.next(new jm(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0));try{s.resolve(e.errorHandler(l))}catch(u){s.reject(u)}}return Os}))}))}cancelNavigationTransition(e,n,r){const s=new Rc(e.id,this.urlSerializer.serialize(e.extractedUrl),n,r);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){return this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))).toString()!==this.currentTransition?.extractedUrl.toString()&&!this.currentTransition?.extras.skipLocationChange}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function p9(t){return t!==Qu}let m9=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:()=>He(v9),providedIn:"root"})}return t})();class g9{shouldDetach(i){return!1}store(i,e){}shouldAttach(i){return!1}retrieve(i){return null}shouldReuseRoute(i,e){return i.routeConfig===e.routeConfig}}let v9=(()=>{class t extends g9{static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Cn(t)))(r||t)}})();static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),_k=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:()=>He(y9),providedIn:"root"})}return t})(),y9=(()=>{class t extends _k{constructor(){super(...arguments),this.location=He(_c),this.urlSerializer=He(Pc),this.options=He(zc,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=He(rw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new kc,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=tk(0,null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{"popstate"===n.type&&e(n.url,n.state)})}handleRouterEvent(e,n){if(e instanceof zm)this.stateMemento=this.createStateMemento();else if(e instanceof Nc)this.rawUrlTree=n.initialUrl;else if(e instanceof QI){if("eager"===this.urlUpdateStrategy&&!n.extras.skipLocationChange){const r=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(r,n)}}else e instanceof H0?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,"deferred"===this.urlUpdateStrategy&&(n.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,n))):e instanceof Rc&&(3===e.code||2===e.code)?this.restoreHistory(n):e instanceof jm?this.restoreHistory(n,!0):e instanceof io&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,n){const r=this.urlSerializer.serialize(e);if(this.location.isCurrentPathEqualTo(r)||n.extras.replaceUrl){const o={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId)};this.location.replaceState(r,"",o)}else{const s={...n.extras.state,...this.generateNgRouterState(n.id,this.browserPageId+1)};this.location.go(r,"",s)}}restoreHistory(e,n=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===e.finalUrl&&0===s&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return"computed"===this.canceledNavigationResolution?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static#e=this.\u0275fac=(()=>{let e;return function(r){return(e||(e=Cn(t)))(r||t)}})();static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var rh=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(rh||{});function wk(t,i){t.events.pipe(Kn(e=>e instanceof io||e instanceof Rc||e instanceof jm||e instanceof Nc),mt(e=>e instanceof io||e instanceof Nc?rh.COMPLETE:e instanceof Rc&&(0===e.code||1===e.code)?rh.REDIRECTING:rh.FAILED),Kn(e=>e!==rh.REDIRECTING),Qn(1)).subscribe(()=>{i()})}function b9(t){throw t}const _9={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},w9={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let $r=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.isNgZoneEnabled=!1,this.console=He(mT),this.stateManager=He(_k),this.options=He(zc,{optional:!0})||{},this.pendingTasks=He(wu),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=He(Gm),this.urlSerializer=He(Pc),this.location=He(_c),this.urlHandlingStrategy=He(rw),this._events=new ni,this.errorHandler=this.options.errorHandler||b9,this.navigated=!1,this.routeReuseStrategy=He(m9),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=He(jc,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!He(Um,{optional:!0}),this.eventsSubscription=new nt,this.isNgZoneEnabled=He(xt)instanceof xt&&xt.isInAngularZone(),this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const e=this.navigationTransitions.events.subscribe(n=>{try{const r=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(null!==r&&null!==s)if(this.stateManager.handleRouterEvent(n,s),n instanceof Rc&&0!==n.code&&1!==n.code)this.navigated=!0;else if(n instanceof io)this.navigated=!0;else if(n instanceof z0){const o=this.urlHandlingStrategy.merge(n.url,r.currentRawUrl),a={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||p9(r.source)};this.scheduleNavigation(o,Qu,null,a,{resolve:r.resolve,reject:r.reject,promise:r.promise})}(function x9(t){return!(t instanceof H0||t instanceof z0)})(n)&&this._events.next(n)}catch(r){this.navigationTransitions.transitionAbortSubject.next(r)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Qu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription||(this.nonRouterCurrentEntryChangeSubscription=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",n)},0)}))}navigateToSyncWithBrowser(e,n,r){const s={replaceUrl:!0},o=r?.navigationId?r:null;if(r){const l={...r};delete l.navigationId,delete l.\u0275routerPageId,0!==Object.keys(l).length&&(s.state=l)}const a=this.parseUrl(e);this.scheduleNavigation(a,n,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Q0),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){const{relativeTo:r,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:l}=n,u=l?this.currentUrlTree.fragment:o;let R,w=null;switch(a){case"merge":w={...this.currentUrlTree.queryParams,...s};break;case"preserve":w=this.currentUrlTree.queryParams;break;default:w=s||null}null!==w&&(w=this.removeEmptyProps(w));try{R=$I(r?r.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof e[0]||!e[0].startsWith("/"))&&(e=[]),R=this.currentUrlTree.root}return WI(R,e,w,u??null)}navigateByUrl(e,n={skipLocationChange:!1}){const r=Za(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(s,Qu,null,n)}navigate(e,n={skipLocationChange:!1}){return function C9(t){for(let i=0;i<t.length;i++)if(null==t[i])throw new Pe(4008,!1)}(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let r;if(r=!0===n?{..._9}:!1===n?{...w9}:n,Za(e))return NI(this.currentUrlTree,e,r);const s=this.parseUrl(e);return NI(this.currentUrlTree,s,r)}removeEmptyProps(e){return Object.keys(e).reduce((n,r)=>{const s=e[r];return null!=s&&(n[r]=s),n},{})}scheduleNavigation(e,n,r,s,o){if(this.disposed)return Promise.resolve(!1);let a,l,u;o?(a=o.resolve,l=o.reject,u=o.promise):u=new Promise((R,z)=>{a=R,l=z});const w=this.pendingTasks.add();return wk(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(w))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:a,reject:l,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(R=>Promise.reject(R))}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Xm=(()=>{class t{constructor(e,n,r,s,o,a){this.router=e,this.route=n,this.tabIndexAttribute=r,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new ni,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const l=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===l||"area"===l,this.isAnchorElement?this.subscription=e.events.subscribe(u=>{u instanceof io&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(e){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(e){null!=e?(this.commands=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(e,n,r,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==e||n||r||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const e=null===this.href?null:function cE(t,i,e){return function VL(t,i){return"src"===i&&("embed"===t||"frame"===t||"iframe"===t||"media"===t||"script"===t)||"href"===i&&("base"===t||"link"===t)?lE:aE}(i,e)(t)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",e)}applyAttributeValue(e,n){const r=this.renderer,s=this.el.nativeElement;null!==n?r.setAttribute(s,e,n):r.removeAttribute(s,e)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static#e=this.\u0275fac=function(n){return new(n||t)(Ce($r),Ce(Lc),function Df(t){return function HN(t,i){if("class"===i)return t.classes;if("style"===i)return t.styles;const e=t.attrs;if(e){const n=e.length;let r=0;for(;r<n;){const s=e[r];if(fd(s))break;if(0===s)r+=2;else if("number"==typeof s)for(r++;r<n&&"string"==typeof e[r];)r++;else{if(s===i)return e[r+1];r+=2}}}return null}(Gt(),t)}("tabindex"),Ce(_r),Ce(ki),Ce(Fa))};static#t=this.\u0275dir=ct({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,r){1&n&&yt("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&n&&Fr("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",Na],skipLocationChange:["skipLocationChange","skipLocationChange",Na],replaceUrl:["replaceUrl","replaceUrl",Na],routerLink:"routerLink"},standalone:!0,features:[Vy,Tn]})}return t})(),Ck=(()=>{class t{get isActive(){return this._isActive}constructor(e,n,r,s,o){this.router=e,this.element=n,this.renderer=r,this.cdr=s,this.link=o,this.classes=[],this._isActive=!1,this.routerLinkActiveOptions={exact:!1},this.isActiveChange=new It,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof io&&this.update()})}ngAfterContentInit(){dt(this.links.changes,dt(null)).pipe(Dc()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();const e=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=nn(e).pipe(Dc()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(e){const n=Array.isArray(e)?e:e.split(" ");this.classes=n.filter(r=>!!r)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{const e=this.hasActiveLinks();this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.classes.forEach(n=>{e?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),e&&void 0!==this.ariaCurrentWhenActive?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this.isActiveChange.emit(e))})}isLinkActive(e){const n=function E9(t){return!!t.paths}(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return r=>!!r.urlTree&&e.isActive(r.urlTree,n)}hasActiveLinks(){const e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static#e=this.\u0275fac=function(n){return new(n||t)(Ce($r),Ce(ki),Ce(_r),Ce(Kl),Ce(Xm,8))};static#t=this.\u0275dir=ct({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(n,r,s){if(1&n&&function KM(t,i,e,n){const r=At();if(r.firstCreatePass){const s=Gt();qM(r,new XM(i,e,n),s.index),function V3(t,i){const e=t.contentQueries||(t.contentQueries=[]);i!==(e.length?e[e.length-1]:-1)&&e.push(t.queries.length-1,i)}(r,t),2==(2&e)&&(r.staticContentQueries=!0)}QM(r,De(),e)}(s,Xm,5),2&n){let o;yu(o=bu())&&(r.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],standalone:!0,features:[Tn]})}return t})();class xk{}let D9=(()=>{class t{constructor(e,n,r,s,o){this.router=e,this.injector=r,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Kn(e=>e instanceof io),Cc(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){const r=[];for(const s of n){s.providers&&!s._injector&&(s._injector=xb(s.providers,e,`Route: ${s.path}`));const o=s._injector??e,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&r.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&r.push(this.processRoutes(a,s.children??s._loadedRoutes))}return nn(r).pipe(Dc())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let r;r=n.loadChildren&&void 0===n.canLoad?this.loader.loadChildren(e,n):dt(null);const s=r.pipe(xn(o=>null===o?dt(void 0):(n._loadedRoutes=o.routes,n._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));return n.loadComponent&&!n._loadedComponent?nn([s,this.loader.loadComponent(n)]).pipe(Dc()):s})}static#e=this.\u0275fac=function(n){return new(n||t)(Te($r),Te(gT),Te(yr),Te(xk),Te(nw))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const sw=new Ne("");let Ek=(()=>{class t{constructor(e,n,r,s,o={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=r,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof zm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof io?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof Nc&&0===e.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof qI&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new qI(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static#e=this.\u0275fac=function(n){!function kE(){throw new Error("invalid")}()};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac})}return t})();function Rs(t,i){return{\u0275kind:t,\u0275providers:i}}function Sk(){const t=He(un);return i=>{const e=t.get(Lo);if(i!==e.components[0])return;const n=t.get($r),r=t.get(Mk);1===t.get(ow)&&n.initialNavigation(),t.get(Tk,null,Tt.Optional)?.setUpPreloading(),t.get(sw,null,Tt.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}const Mk=new Ne("",{factory:()=>new ni}),ow=new Ne("",{providedIn:"root",factory:()=>1}),Tk=new Ne("");function O9(t){return Rs(0,[{provide:Tk,useExisting:D9},{provide:xk,useExisting:t}])}function I9(t){return Rs(9,[{provide:yk,useValue:h9},{provide:bk,useValue:{skipNextTransition:!!t?.skipInitialTransition,...t}}])}const Ok=new Ne("ROUTER_FORROOT_GUARD"),k9=[_c,{provide:Pc,useClass:N0},$r,qu,{provide:Lc,useFactory:function Dk(t){return t.routerState.root},deps:[$r]},nw,[]];let Ak=(()=>{class t{constructor(e){}static forRoot(e,n){return{ngModule:t,providers:[k9,[],{provide:jc,multi:!0,useValue:e},{provide:Ok,useFactory:F9,deps:[[$r,new Tf,new Of]]},{provide:zc,useValue:n||{}},n?.useHash?{provide:Fa,useClass:TU}:{provide:Fa,useClass:nO},{provide:sw,useFactory:()=>{const t=He($$),i=He(xt),e=He(zc),n=He(Gm),r=He(Pc);return e.scrollOffset&&t.setOffset(e.scrollOffset),new Ek(r,n,t,i,e)}},n?.preloadingStrategy?O9(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?L9(n):[],n?.bindToComponentInputs?Rs(8,[sk,{provide:Um,useExisting:sk}]).\u0275providers:[],n?.enableViewTransitions?I9().\u0275providers:[],[{provide:Ik,useFactory:Sk},{provide:Wb,multi:!0,useExisting:Ik}]]}}static forChild(e){return{ngModule:t,providers:[{provide:jc,multi:!0,useValue:e}]}}static#e=this.\u0275fac=function(n){return new(n||t)(Te(Ok,8))};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({})}return t})();function F9(t){return"guarded"}function L9(t){return["disabled"===t.initialNavigation?Rs(3,[{provide:Ub,multi:!0,useFactory:()=>{const i=He($r);return()=>{i.setUpLocationChangeListener()}}},{provide:ow,useValue:2}]).\u0275providers:[],"enabledBlocking"===t.initialNavigation?Rs(2,[{provide:ow,useValue:0},{provide:Ub,multi:!0,deps:[un],useFactory:i=>{const e=i.get(SU,Promise.resolve());return()=>e.then(()=>new Promise(n=>{const r=i.get($r),s=i.get(Mk);wk(r,()=>{n(!0)}),i.get(Gm).afterPreactivation=()=>(n(!0),s.closed?dt(void 0):s),r.initialNavigation()}))}}]).\u0275providers:[]]}const Ik=new Ne("");let sh=(()=>{class t{constructor(e){this.http=e,this.baseUrl="http://localhost:3000/api"}autocompleteConference(e){const n=(new Ts).set("term",e);return this.http.get(`${this.baseUrl}/autocompleteConference/${e}`,{params:n})}autocompleteAuthors(e){const n=(new Ts).set("term",e);return this.http.get(`${this.baseUrl}/autocompleteAuthor/${e}`,{params:n})}getFilteredNodesConference(e){return this.http.post(`${this.baseUrl}/filterConferences`,{filterNames:e})}getFilteredNodesJournal(e){return this.http.post(`${this.baseUrl}/filterJournals`,{filterNames:e})}getResearchersConference(e,n){return this.http.post(`${this.baseUrl}/researchers`,{titulosSeleccionados:e,venue:n})}getPapersAndArticles(e,n){return this.http.post(`${this.baseUrl}/PapersAndArticles`,{titulosSeleccionados:e,venue:n})}getCollaborations(e,n){return this.http.post(`${this.baseUrl}/collaborations`,{titulosSeleccionados:e,venue:n})}getAuthorsPapers(e,n,r){return this.http.post(`${this.baseUrl}/AuthorsPapers`,{titulosSeleccionados:e,option:n,venue:r})}getAuthorsDegree(e,n,r){return this.http.post(`${this.baseUrl}/AuthorsDegree`,{titulosSeleccionados:e,option:n,venue:r})}getPublicationsbyYear(){return this.http.post(`${this.baseUrl}/searchPublications`,{})}getAuthorsbyYear(){return this.http.post(`${this.baseUrl}/searchAuthors`,{})}getConferencesbyYear(){return this.http.post(`${this.baseUrl}/searchConference`,{})}getPublications(){return this.http.post(`${this.baseUrl}/allPublications`,{})}getConferences(){return this.http.post(`${this.baseUrl}/allConferences`,{})}getAuthors(){return this.http.post(`${this.baseUrl}/allAuthors`,{})}getSchools(){return this.http.post(`${this.baseUrl}/schools`,{})}getConnectedComponents(e,n){return this.http.post(`${this.baseUrl}/connectedComponents`,{titulosSeleccionados:e,venue:n})}getConnectedComponentsByvenue(e,n){return this.http.post(`${this.baseUrl}/connectedComponentsBYvenue`,{titulosSeleccionados:e,venue:n})}getConferencebyProceeding(e,n){return this.http.post(`${this.baseUrl}/ConferencebyProceeding`,{titulosSeleccionados:e,venue:n})}getAuthorsPublications(e){return this.http.post(`${this.baseUrl}/filterAuthors`,{filterNames:e})}static#e=this.\u0275fac=function(n){return new(n||t)(Te(cm))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),aw=(()=>{class t{constructor(){this.selectedTitles=[],this.conferenceOption="",this.venueName=[],this.venueNameConfirm=[],this.conferencesNames=[],this.years=[],this.inprocedings=[]}addTitles(e){this.selectedTitles=this.selectedTitles.concat(e)}cleanTitles(){this.selectedTitles=[]}getSelectedTitles(){return this.selectedTitles}markOptionConference(e){this.conferenceOption=e}getConferenceOption(){return this.conferenceOption}flagNameVenue(e){this.venueName=e}getVenueName(){return this.venueName}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();class V9{constructor(i,e){this.open=i,this.close=e||i}isManual(){return"manual"===this.open||"manual"===this.close}}const H9={hover:["mouseover","mouseout"],focus:["focusin","focusout"]};const pn=typeof window<"u"&&window||{},mn=pn.document;var Pk=function(t){return t.isBs4="bs4",t.isBs5="bs5",t}(Pk||{});let no;function Rk(){const t=pn.document.createElement("span");t.innerText="testing bs version",t.classList.add("d-none"),t.classList.add("pl-1"),pn.document.head.appendChild(t);const i=pn.getComputedStyle(t).paddingLeft;return i&&parseFloat(i)?(pn.document.head.removeChild(t),"bs4"):(pn.document.head.removeChild(t),"bs5")}function oh(){return{isBs4:(no||(no=Rk()),"bs4"===no),isBs5:(no||(no=Rk()),"bs5"===no)}}class G9{static reflow(i){}static getStyles(i){let e=i.ownerDocument.defaultView;return(!e||!e.opener)&&(e=pn),e.getComputedStyle(i)}static stackOverflowConfig(){const i=function Y9(){const t=oh(),i=Object.keys(t).find(e=>t[e]);return Pk[i]}();return{crossorigin:"anonymous",integrity:"bs5"===i?"sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65":"sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2",cdnLink:"bs5"===i?"https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css":"https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css"}}}typeof console>"u"||console;let lw,Z9=(()=>{class t{constructor(){this._focusTrapStack=[]}register(e){this._focusTrapStack=this._focusTrapStack.filter(r=>r!==e);let n=this._focusTrapStack;n.length&&n[n.length-1]._disable(),n.push(e),e._enable()}deregister(e){e._disable();const n=this._focusTrapStack,r=n.indexOf(e);-1!==r&&(n.splice(r,1),n.length&&n[n.length-1]._enable())}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();try{lw=typeof Intl<"u"&&Intl.v8BreakIterator}catch{lw=!1}let Fk=(()=>{class t{constructor(e){this._platformId=e,this.isBrowser=this._platformId?__(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!lw)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}static#e=this.\u0275fac=function(n){return new(n||t)(Te(ws))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Lk=(()=>{class t{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function Q9(t){return!!(t.offsetWidth||t.offsetHeight||"function"==typeof t.getClientRects&&t.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const n=function K9(t){try{return t.frameElement}catch{return null}}(function s7(t){return t.ownerDocument&&t.ownerDocument.defaultView||window}(e));if(n&&(-1===Vk(n)||!this.isVisible(n)))return!1;let r=e.nodeName.toLowerCase(),s=Vk(e);return e.hasAttribute("contenteditable")?-1!==s:!("iframe"===r||"object"===r||this._platform.WEBKIT&&this._platform.IOS&&!function n7(t){let i=t.nodeName.toLowerCase(),e="input"===i&&t.type;return"text"===e||"password"===e||"select"===i||"textarea"===i}(e))&&("audio"===r?!!e.hasAttribute("controls")&&-1!==s:"video"===r?-1!==s&&(null!==s||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,n){return function r7(t){return!function J9(t){return function t7(t){return"input"==t.nodeName.toLowerCase()}(t)&&"hidden"==t.type}(t)&&(function q9(t){let i=t.nodeName.toLowerCase();return"input"===i||"select"===i||"button"===i||"textarea"===i}(t)||function e7(t){return function i7(t){return"a"==t.nodeName.toLowerCase()}(t)&&t.hasAttribute("href")}(t)||t.hasAttribute("contenteditable")||Bk(t))}(e)&&!this.isDisabled(e)&&(n?.ignoreVisibility||this.isVisible(e))}static#e=this.\u0275fac=function(n){return new(n||t)(Te(Fk))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Bk(t){if(!t.hasAttribute("tabindex")||void 0===t.tabIndex)return!1;let i=t.getAttribute("tabindex");return"-32768"!=i&&!(!i||isNaN(parseInt(i,10)))}function Vk(t){if(!Bk(t))return null;const i=parseInt(t.getAttribute("tabindex")||"",10);return isNaN(i)?-1:i}function Hk(t){return null!=t&&"false"!=`${t}`}class o7{get enabled(){return this._enabled}set enabled(i){this._enabled=i,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}constructor(i,e,n,r,s=!1){this._element=i,this._checker=e,this._ngZone=n,this._document=r,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,s||this.attachAnchors()}destroy(){const i=this._startAnchor,e=this._endAnchor;i&&(i.removeEventListener("focus",this.startAnchorListener),i.parentNode&&i.parentNode.removeChild(i)),e&&(e.removeEventListener("focus",this.endAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(i=>{this._executeOnStable(()=>i(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(i=>{this._executeOnStable(()=>i(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(i=>{this._executeOnStable(()=>i(this.focusLastTabbableElement()))})}_getRegionBoundary(i){let e=this._element.querySelectorAll(`[cdk-focus-region-${i}], [cdkFocusRegion${i}], [cdk-focus-${i}]`);for(let n=0;n<e.length;n++)e[n].hasAttribute(`cdk-focus-${i}`)?console.warn(`Found use of deprecated attribute 'cdk-focus-${i}', use 'cdkFocusRegion${i}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]):e[n].hasAttribute(`cdk-focus-region-${i}`)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${i}', use 'cdkFocusRegion${i}' instead. The deprecated attribute will be removed in 8.0.0.`,e[n]);return"start"==i?e.length?e[0]:this._getFirstTabbableElement(this._element):e.length?e[e.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const i=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");if(i){if(i.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",i),!this._checker.isFocusable(i)){const e=this._getFirstTabbableElement(i);return e?.focus(),!!e}return i.focus(),!0}return this.focusFirstTabbableElement()}focusFirstTabbableElement(){const i=this._getRegionBoundary("start");return i&&i.focus(),!!i}focusLastTabbableElement(){const i=this._getRegionBoundary("end");return i&&i.focus(),!!i}hasAttached(){return this._hasAttached}_getFirstTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let e=i.children||i.childNodes;for(let n=0;n<e.length;n++){let r=e[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(e[n]):null;if(r)return r}return null}_getLastTabbableElement(i){if(this._checker.isFocusable(i)&&this._checker.isTabbable(i))return i;let e=i.children||i.childNodes;for(let n=e.length-1;n>=0;n--){let r=e[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(e[n]):null;if(r)return r}return null}_createAnchor(){const i=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,i),i.classList.add("cdk-visually-hidden"),i.classList.add("cdk-focus-trap-anchor"),i.setAttribute("aria-hidden","true"),i}_toggleAnchorTabIndex(i,e){i?e.setAttribute("tabindex","0"):e.removeAttribute("tabindex")}toggleAnchors(i){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(i,this._startAnchor),this._toggleAnchorTabIndex(i,this._endAnchor))}_executeOnStable(i){this._ngZone.isStable?i():this._ngZone.onStable.pipe(Qn(1)).subscribe(i)}}let a7=(()=>{class t{constructor(e,n,r){this._checker=e,this._ngZone=n,this._document=r}create(e,n=!1){return new o7(e,this._checker,this._ngZone,this._document,n)}static#e=this.\u0275fac=function(n){return new(n||t)(Te(Lk),Te(xt),Te(ri))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),l7=(()=>{class t{get enabled(){return this.focusTrap.enabled}set enabled(e){this.focusTrap.enabled=Hk(e)}get autoCapture(){return this._autoCapture}set autoCapture(e){this._autoCapture=Hk(e)}constructor(e,n,r){this._elementRef=e,this._focusTrapFactory=n,this._previouslyFocusedElement=null,this._autoCapture=!1,this._document=r,this.focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement,!0)}ngOnDestroy(){this.focusTrap.destroy(),this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null)}ngAfterContentInit(){this.focusTrap.attachAnchors(),this.autoCapture&&this._captureFocus()}ngDoCheck(){this.focusTrap.hasAttached()||this.focusTrap.attachAnchors()}ngOnChanges(e){const n=e.autoCapture;n&&!n.firstChange&&this.autoCapture&&this.focusTrap.hasAttached()&&this._captureFocus()}_captureFocus(){this._previouslyFocusedElement=this._document.activeElement,this.focusTrap.focusInitialElementWhenReady()}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(ki),Ce(a7),Ce(ri))};static#t=this.\u0275dir=ct({type:t,selectors:[["","focusTrap",""]],inputs:{enabled:["cdkTrapFocus","enabled"],autoCapture:["cdkTrapFocusAutoCapture","autoCapture"]},exportAs:["focusTrap"],features:[Tn]})}return t})(),zk=(()=>{class t{static forRoot(){return{ngModule:t,providers:[Z9,Fk,Lk]}}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({imports:[La]})}return t})();var jk=function(t){return t.top="top",t.bottom="bottom",t.left="left",t.right="right",t.auto="auto",t.end="right",t.start="left",t["top left"]="top left",t["top right"]="top right",t["right top"]="right top",t["right bottom"]="right bottom",t["bottom right"]="bottom right",t["bottom left"]="bottom left",t["left bottom"]="left bottom",t["left top"]="left top",t["top start"]="top left",t["top end"]="top right",t["end top"]="right top",t["end bottom"]="right bottom",t["bottom end"]="bottom right",t["bottom start"]="bottom left",t["start bottom"]="start bottom",t["start top"]="left top",t}(jk||{}),cw=function(t){return t.top="top",t.bottom="bottom",t.left="start",t.right="end",t.auto="auto",t.end="end",t.start="start",t["top left"]="top start",t["top right"]="top end",t["right top"]="end top",t["right bottom"]="end bottom",t["bottom right"]="bottom end",t["bottom left"]="bottom start",t["left bottom"]="start bottom",t["left top"]="start top",t["top start"]="top start",t["top end"]="top end",t["end top"]="end top",t["end bottom"]="end bottom",t["bottom end"]="bottom end",t["bottom start"]="bottom start",t["start bottom"]="start bottom",t["start top"]="start top",t}(cw||{});function Ka(t,i){if(1!==t.nodeType)return[];const n=t.ownerDocument.defaultView?.getComputedStyle(t,null);return i?n&&n[i]:n}function dw(t){if(!t)return document.documentElement;let n,e=t?.offsetParent;for(;null===e&&t.nextElementSibling&&n!==t.nextElementSibling;)n=t.nextElementSibling,e=n.offsetParent;const r=e&&e.nodeName;return r&&"BODY"!==r&&"HTML"!==r?e&&-1!==["TH","TD","TABLE"].indexOf(e.nodeName)&&"static"===Ka(e,"position")?dw(e):e:n?n.ownerDocument.documentElement:document.documentElement}function uw(t){return null!==t.parentNode?uw(t.parentNode):t}function Zm(t,i){if(!(t&&t.nodeType&&i&&i.nodeType))return document.documentElement;const e=t.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_FOLLOWING,n=e?t:i,r=e?i:t,s=document.createRange();s.setStart(n,0),s.setEnd(r,0);const o=s.commonAncestorContainer;if(t!==o&&i!==o||n.contains(r))return function c7(t){const{nodeName:i}=t;return"BODY"!==i&&("HTML"===i||dw(t.firstElementChild)===t)}(o)?o:dw(o);const a=uw(t);return a.host?Zm(a.host,i):Zm(t,uw(i).host)}function Uk(t){if(!t||!t.parentElement)return document.documentElement;let i=t.parentElement;for(;i?.parentElement&&"none"===Ka(i,"transform");)i=i.parentElement;return i||document.documentElement}function $k(t,i){const e="x"===i?"Left":"Top",n="Left"===e?"Right":"Bottom";return parseFloat(t[`border${e}Width`])+parseFloat(t[`border${n}Width`])}function Wk(t,i,e){return Math.max(i[`offset${t}`],i[`scroll${t}`],e[`client${t}`],e[`offset${t}`],e[`scroll${t}`],0)}function Yk(t){const i=t.body,e=t.documentElement;return{height:Wk("Height",i,e),width:Wk("Width",i,e)}}function ah(t){return{...t,right:(t.left||0)+t.width,bottom:(t.top||0)+t.height}}function Pi(t){return"number"==typeof t||"[object Number]"===Object.prototype.toString.call(t)}function Gk(t){const i=t.getBoundingClientRect();if(!(i&&Pi(i.top)&&Pi(i.left)&&Pi(i.bottom)&&Pi(i.right)))return i;const e={left:i.left,top:i.top,width:i.right-i.left,height:i.bottom-i.top},n="HTML"===t.nodeName?Yk(t.ownerDocument):void 0,r=n?.width||t.clientWidth||Pi(i.right)&&Pi(e.left)&&i.right-e.left||0,s=n?.height||t.clientHeight||Pi(i.bottom)&&Pi(e.top)&&i.bottom-e.top||0;let o=t.offsetWidth-r,a=t.offsetHeight-s;if(o||a){const l=Ka(t);o-=$k(l,"x"),a-=$k(l,"y"),e.width-=o,e.height-=a}return ah(e)}function hw(t,i,e=!1){const n="HTML"===i.nodeName,r=Gk(t),s=Gk(i),o=Ka(i),a=parseFloat(o.borderTopWidth),l=parseFloat(o.borderLeftWidth);e&&n&&(s.top=Math.max(s.top??0,0),s.left=Math.max(s.left??0,0));const u=ah({top:(r.top??0)-(s.top??0)-a,left:(r.left??0)-(s.left??0)-l,width:r.width,height:r.height});if(u.marginTop=0,u.marginLeft=0,n){const w=parseFloat(o.marginTop),R=parseFloat(o.marginLeft);Pi(u.top)&&(u.top-=a-w),Pi(u.bottom)&&(u.bottom-=a-w),Pi(u.left)&&(u.left-=l-R),Pi(u.right)&&(u.right-=l-R),u.marginTop=w,u.marginLeft=R}return u}function fw(t){return"HTML"===t.nodeName?t:t.parentNode||t.host}function Xk(t){if(!t)return document.body;switch(t.nodeName){case"HTML":case"BODY":return t.ownerDocument.body;case"#document":return t.body}const{overflow:i,overflowX:e,overflowY:n}=Ka(t);return/(auto|scroll|overlay)/.test(String(i)+String(n)+String(e))?t:Xk(fw(t))}function Zk(t,i="top"){const e="top"===i?"scrollTop":"scrollLeft",n=t.nodeName;return"BODY"===n||"HTML"===n?(t.ownerDocument.scrollingElement||t.ownerDocument.documentElement)[e]:t[e]}function Kk(t){const i=t.nodeName;return"BODY"!==i&&"HTML"!==i&&("fixed"===Ka(t,"position")||Kk(fw(t)))}function pw(t,i,e=0,n,r=!1){let s={top:0,left:0};const o=r?Uk(t):Zm(t,i);if("viewport"===n)s=function u7(t,i=!1){const e=t.ownerDocument.documentElement,n=hw(t,e),r=Math.max(e.clientWidth,window.innerWidth||0),s=Math.max(e.clientHeight,window.innerHeight||0),o=i?0:Zk(e),a=i?0:Zk(e,"left");return ah({top:o-Number(n?.top)+Number(n?.marginTop),left:a-Number(n?.left)+Number(n?.marginLeft),width:r,height:s})}(o,r);else{let a;"scrollParent"===n?(a=Xk(fw(i)),"BODY"===a.nodeName&&(a=t.ownerDocument.documentElement)):a="window"===n?t.ownerDocument.documentElement:n;const l=hw(a,o,r);if(l&&"HTML"===a.nodeName&&!Kk(o)){const{height:u,width:w}=Yk(t.ownerDocument);Pi(s.top)&&Pi(l.top)&&Pi(l.marginTop)&&(s.top+=l.top-l.marginTop),Pi(s.top)&&(s.bottom=Number(u)+Number(l.top)),Pi(s.left)&&Pi(l.left)&&Pi(l.marginLeft)&&(s.left+=l.left-l.marginLeft),Pi(s.top)&&(s.right=Number(w)+Number(l.left))}else l&&(s=l)}return Pi(s.left)&&(s.left+=e),Pi(s.top)&&(s.top+=e),Pi(s.right)&&(s.right-=e),Pi(s.bottom)&&(s.bottom-=e),s}function h7({width:t,height:i}){return t*i}function Qk(t,i,e,n,r=["top","bottom","right","left"],s="viewport",o=0){if(-1===t.indexOf("auto"))return t;const a=pw(e,n,o,s),l={top:{width:a?.width??0,height:(i?.top??0)-(a?.top??0)},right:{width:(a?.right??0)-(i?.right??0),height:a?.height??0},bottom:{width:a?.width??0,height:(a?.bottom??0)-(i?.bottom??0)},left:{width:(i.left??0)-(a?.left??0),height:a?.height??0}},u=Object.keys(l).map(G=>({position:G,...l[G],area:h7(l[G])})).sort((G,X)=>X.area-G.area);let w=u.filter(({width:G,height:X})=>G>=e.clientWidth&&X>=e.clientHeight);w=w.filter(({position:G})=>r.some(X=>X===G));const R=w.length>0?w[0].position:u[0].position,z=t.split(" ")[1];return e.className=e.className.replace(/bs-tooltip-auto/g,`bs-tooltip-${oh().isBs5?cw[R]:R}`),R+(z?`-${z}`:"")}const Km=(t,i=0)=>t?parseFloat(t):i;function qk(t){const e=t.ownerDocument.defaultView?.getComputedStyle(t),n=Km(e?.marginTop)+Km(e?.marginBottom),r=Km(e?.marginLeft)+Km(e?.marginRight);return{width:Number(t.offsetWidth)+r,height:Number(t.offsetHeight)+n}}function Jk(t,i,e){return hw(i,e?Uk(t):Zm(t,i),e)}function mw(t,i,e){const n=e.split(" ")[0],r=qk(t),s={width:r.width,height:r.height},o=-1!==["right","left"].indexOf(n),a=o?"top":"left",l=o?"left":"top",u=o?"height":"width",w=o?"width":"height";return s[a]=(i[a]??0)+i[u]/2-r[u]/2,s[l]=n===l?(i[l]??0)-r[w]:i[function p7(t){const i={left:"right",right:"left",bottom:"top",top:"bottom"};return t.replace(/left|right|bottom|top/g,e=>i[e])}(l)]??0,s}function eP(t,i){return!!t.modifiers[i]?.enabled}const g7={top:["top","top start","top end"],bottom:["bottom","bottom start","bottom end"],start:["start","start top","start bottom"],end:["end","end top","end bottom"]};function Qm(t,i){return!!oh().isBs5&&g7[i].includes(t)}function tP(t,i,e){!t||!i||Object.keys(i).forEach(n=>{let r="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&function d7(t){return""!==t&&!isNaN(parseFloat(t))&&isFinite(Number(t))}(i[n])&&(r="px"),e?e.setStyle(t,n,`${String(i[n])}${r}`):t.style[n]=String(i[n])+r})}function b7(t){let i=t.offsets.target;const e=t.instance.target.querySelector(".arrow");if(!e)return t;const n=-1!==["left","right"].indexOf(t.placement.split(" ")[0]),r=n?"height":"width",s=n?"Top":"Left",o=s.toLowerCase(),a=n?"left":"top",l=n?"bottom":"right",u=qk(e)[r],w=t.placement.split(" ")[1];(t.offsets.host[l]??0)-u<(i[o]??0)&&(i[o]-=(i[o]??0)-((t.offsets.host[l]??0)-u)),Number(t.offsets.host[o])+Number(u)>(i[l]??0)&&(i[o]+=Number(t.offsets.host[o])+Number(u)-Number(i[l])),i=ah(i);const R=Ka(t.instance.target),z=parseFloat(R[`margin${s}`])||0,G=parseFloat(R[`border${s}Width`])||0;let X;if(w){const ne=parseFloat(R.borderRadius)||0,ae=Number(z+G+ne);X=o===w?Number(t.offsets.host[o])+ae:Number(t.offsets.host[o])+Number(t.offsets.host[r]-ae)}else X=Number(t.offsets.host[o])+Number(t.offsets.host[r]/2-u/2);let Q=X-(i[o]??0)-z-G;return Q=Math.max(Math.min(i[r]-(u+5),Q),0),t.offsets.arrow={[o]:Math.round(Q),[a]:""},t.instance.arrow=e,t}function _7(t){if(t.offsets.target=ah(t.offsets.target),!eP(t.options,"flip"))return t.offsets.target={...t.offsets.target,...mw(t.instance.target,t.offsets.host,t.placement)},t;const i=pw(t.instance.target,t.instance.host,0,"viewport",!1);let e=t.placement.split(" ")[0],n=t.placement.split(" ")[1]||"";const a=Qk("auto",t.offsets.host,t.instance.target,t.instance.host,t.options.allowedPositions),l=[e,a];return l.forEach((u,w)=>{if(e!==u||l.length===w+1)return;e=t.placement.split(" ")[0];const R="left"===e&&Math.floor(t.offsets.target.right??0)>Math.floor(t.offsets.host.left??0)||"right"===e&&Math.floor(t.offsets.target.left??0)<Math.floor(t.offsets.host.right??0)||"top"===e&&Math.floor(t.offsets.target.bottom??0)>Math.floor(t.offsets.host.top??0)||"bottom"===e&&Math.floor(t.offsets.target.top??0)<Math.floor(t.offsets.host.bottom??0),z=Math.floor(t.offsets.target.left??0)<Math.floor(i.left??0),G=Math.floor(t.offsets.target.right??0)>Math.floor(i.right??0),X=Math.floor(t.offsets.target.top??0)<Math.floor(i.top??0),Q=Math.floor(t.offsets.target.bottom??0)>Math.floor(i.bottom??0),ne="left"===e&&z||"right"===e&&G||"top"===e&&X||"bottom"===e&&Q,ae=-1!==["top","bottom"].indexOf(e),ce=ae&&"left"===n&&z||ae&&"right"===n&&G||!ae&&"left"===n&&X||!ae&&"right"===n&&Q;(R||ne||ce)&&((R||ne)&&(e=l[w+1]),ce&&(n=function m7(t){return"right"===t?"left":"left"===t?"right":t}(n)),t.placement=e+(n?` ${n}`:""),t.offsets.target={...t.offsets.target,...mw(t.instance.target,t.offsets.host,t.placement)})}),t}function C7(t){if(!eP(t.options,"preventOverflow"))return t;const i="transform",e=t.instance.target.style,{top:n,left:r,[i]:s}=e;e.top="",e.left="",e[i]="";const o=pw(t.instance.target,t.instance.host,0,t.options.modifiers.preventOverflow?.boundariesElement||"scrollParent",!1);e.top=n,e.left=r,e[i]=s;const l={primary(u){let w=t.offsets.target[u];return(t.offsets.target[u]??0)<(o[u]??0)&&(w=Math.max(t.offsets.target[u]??0,o[u]??0)),{[u]:w}},secondary(u){const w="right"===u,R=w?"left":"top";let G=t.offsets.target[R];return(t.offsets.target[u]??0)>(o[u]??0)&&(G=Math.min(t.offsets.target[R]??0,(o[u]??0)-t.offsets.target[w?"width":"height"])),{[R]:G}}};return["left","right","top","bottom"].forEach(u=>{const w=-1!==["left","top","start"].indexOf(u)?l.primary:l.secondary;t.offsets.target={...t.offsets.target,...w(u)}}),t}function x7(t){const i=t.placement,e=i.split(" ")[0],n=i.split(" ")[1];if(n){const{host:r,target:s}=t.offsets,o=-1!==["bottom","top"].indexOf(e),a=o?"left":"top",l=o?"width":"height",u={start:{[a]:r[a]},end:{[a]:(r[a]??0)+r[l]-s[l]}};t.offsets.target={...s,[a]:a===n?u.start[a]:u.end[a]}}return t}const D7=new class E7{position(i,e){return this.offset(i,e)}offset(i,e){return Jk(e,i)}positionElements(i,e,n,r,s){const o=[_7,x7,C7,b7],l=function w7(t,i,e,n){if(!t||!i)return;const r=Jk(t,i);!e.match(/^(auto)*\s*(left|right|top|bottom|start|end)*$/)&&!e.match(/^(left|right|top|bottom|start|end)*(?: (left|right|top|bottom|start|end))*$/)&&(e="auto");const s=!!e.match(/auto/g);let o=e.match(/auto\s(left|right|top|bottom|start|end)/)?e.split(" ")[1]||"auto":e;const a=o.match(/^(left|right|top|bottom|start|end)* ?(?!\1)(left|right|top|bottom|start|end)?/);return a&&(o=a[1]+(a[2]?` ${a[2]}`:"")),-1!==["left right","right left","top bottom","bottom top"].indexOf(o)&&(o="auto"),o=Qk(o,r,t,i,n?n.allowedPositions:void 0),{options:n||{modifiers:{}},instance:{target:t,host:i,arrow:void 0},offsets:{target:mw(t,r,o),host:r,arrow:void 0},positionFixed:!1,placement:o,placementAuto:s}}(e,i,jk[n],s);if(l)return o.reduce((u,w)=>w(u),l)}};function S7(t,i,e,n,r,s){const o=D7.positionElements(t,i,e,n,r);if(!o)return;const a=function f7(t){return{width:t.offsets.target.width,height:t.offsets.target.height,left:Math.floor(t.offsets.target.left??0),top:Math.round(t.offsets.target.top??0),bottom:Math.round(t.offsets.target.bottom??0),right:Math.floor(t.offsets.target.right??0)}}(o);tP(i,{"will-change":"transform",top:"0px",left:"0px",transform:`translate3d(${a.left}px, ${a.top}px, 0px)`},s),o.instance.arrow&&tP(o.instance.arrow,o.offsets.arrow,s),function y7(t,i){const e=t.instance.target;let n=e.className;const r=oh().isBs5?cw[t.placement]:t.placement;t.placementAuto&&(n=n.replace(/bs-popover-auto/g,`bs-popover-${r}`),n=n.replace(/ms-2|me-2|mb-2|mt-2/g,""),n=n.replace(/bs-tooltip-auto/g,`bs-tooltip-${r}`),n=n.replace(/\sauto/g,` ${r}`),-1!==n.indexOf("popover")&&(n=n+" "+function v7(t){return oh().isBs5?Qm(t,"end")?"ms-2":Qm(t,"start")?"me-2":Qm(t,"top")?"mb-2":Qm(t,"bottom")?"mt-2":"":""}(r)),-1!==n.indexOf("popover")&&-1===n.indexOf("popover-auto")&&(n+=" popover-auto"),-1!==n.indexOf("tooltip")&&-1===n.indexOf("tooltip-auto")&&(n+=" tooltip-auto")),n=n.replace(/left|right|top|bottom|end|start/g,`${r.split(" ")[0]}`),i?i.setAttribute(e,"class",n):e.className=n}(o,s)}let gw=(()=>{class t{constructor(e,n,r){this.update$$=new ni,this.positionElements=new Map,this.isDisabled=!1,__(r)&&e.runOutsideAngular(()=>{this.triggerEvent$=Sc(Wo(window,"scroll",{passive:!0}),Wo(window,"resize",{passive:!0}),dt(0,t0),this.update$$),this.triggerEvent$.subscribe(()=>{this.isDisabled||this.positionElements.forEach(s=>{S7(qm(s.target),qm(s.element),s.attachment,s.appendToBody,this.options,n.createRenderer(null,null))})})})}position(e){this.addPositionElement(e)}get event$(){return this.triggerEvent$}disable(){this.isDisabled=!0}enable(){this.isDisabled=!1}addPositionElement(e){this.positionElements.set(qm(e.element),e)}calcPosition(){this.update$$.next(null)}deletePositionElement(e){this.positionElements.delete(qm(e))}setOptions(e){this.options=e}static#e=this.\u0275fac=function(n){return new(n||t)(Te(xt),Te(np),Te(ws))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function qm(t){return"string"==typeof t?document.querySelector(t):t instanceof ki?t.nativeElement:t??null}class lh{constructor(i,e,n){this.nodes=i,this.viewRef=e,this.componentRef=n}}class M7{constructor(i,e,n,r,s,o,a,l,u){this._viewContainerRef=i,this._renderer=e,this._elementRef=n,this._injector=r,this._componentFactoryResolver=s,this._ngZone=o,this._applicationRef=a,this._posService=l,this._document=u,this.onBeforeShow=new It,this.onShown=new It,this.onBeforeHide=new It,this.onHidden=new It,this._providers=[],this._isHiding=!1,this.containerDefaultSelector="body",this._listenOpts={},this._globalListener=Function.prototype}get isShown(){return!this._isHiding&&!!this._componentRef}attach(i){return this._componentFactory=this._componentFactoryResolver.resolveComponentFactory(i),this}to(i){return this.container=i||this.container,this}position(i){return i?(this.attachment=i.attachment||this.attachment,this._elementRef=i.target||this._elementRef,this):this}provide(i){return this._providers.push(i),this}show(i={}){if(this._subscribePositioning(),this._innerComponent=void 0,!this._componentRef){this.onBeforeShow.emit(),this._contentRef=this._getContentRef(i.content,i.context,i.initialState);const e=un.create({providers:this._providers,parent:this._injector});if(!this._componentFactory)return;if(this._componentRef=this._componentFactory.create(e,this._contentRef.nodes),this._applicationRef.attachView(this._componentRef.hostView),this.instance=this._componentRef.instance,Object.assign(this._componentRef.instance,i),this.container instanceof ki&&this.container.nativeElement.appendChild(this._componentRef.location.nativeElement),"string"==typeof this.container&&typeof this._document<"u"){const n=this._document.querySelector(this.container)||this._document.querySelector(this.containerDefaultSelector);if(!n)return;n.appendChild(this._componentRef.location.nativeElement)}!this.container&&this._elementRef&&this._elementRef.nativeElement.parentElement&&this._elementRef.nativeElement.parentElement.appendChild(this._componentRef.location.nativeElement),this._contentRef.componentRef&&(this._innerComponent=this._contentRef.componentRef.instance,this._contentRef.componentRef.changeDetectorRef.markForCheck(),this._contentRef.componentRef.changeDetectorRef.detectChanges()),this._componentRef.changeDetectorRef.markForCheck(),this._componentRef.changeDetectorRef.detectChanges(),this.onShown.emit(i.id?{id:i.id}:this._componentRef.instance)}return this._registerOutsideClick(),this._componentRef}hide(i){if(!this._componentRef)return this;this._posService.deletePositionElement(this._componentRef.location),this.onBeforeHide.emit(this._componentRef.instance);const e=this._componentRef.location.nativeElement;return e.parentNode?.removeChild(e),this._contentRef?.componentRef?.destroy(),this._viewContainerRef&&this._contentRef?.viewRef&&this._viewContainerRef.remove(this._viewContainerRef.indexOf(this._contentRef.viewRef)),this._contentRef?.viewRef?.destroy(),this._contentRef=void 0,this._componentRef=void 0,this._removeGlobalListener(),this.onHidden.emit(i?{id:i}:null),this}toggle(){this.isShown?this.hide():this.show()}dispose(){this.isShown&&this.hide(),this._unsubscribePositioning(),this._unregisterListenersFn&&this._unregisterListenersFn()}listen(i){this.triggers=i.triggers||this.triggers,this._listenOpts.outsideClick=i.outsideClick,this._listenOpts.outsideEsc=i.outsideEsc,i.target=i.target||this._elementRef?.nativeElement;const e=this._listenOpts.hide=()=>i.hide?i.hide():void this.hide(),n=this._listenOpts.show=s=>{i.show?i.show(s):this.show(s),s()};return this._renderer&&(this._unregisterListenersFn=function z9(t,i){const e=function kk(t,i=H9){const e=(t||"").trim();if(0===e.length)return[];const n=e.split(/\s+/).map(s=>s.split(":")).map(s=>{const o=i[s[0]]||s;return new V9(o[0],o[1])}),r=n.filter(s=>s.isManual());if(r.length>1)throw new Error("Triggers parse error: only one manual trigger is allowed");if(1===r.length&&n.length>1)throw new Error("Triggers parse error: manual trigger can't be mixed with other triggers");return n}(i.triggers),n=i.target;if(1===e.length&&e[0].isManual())return Function.prototype;const r=[],s=[],o=()=>{s.forEach(a=>r.push(a())),s.length=0};return e.forEach(a=>{const l=a.open===a.close,u=l?i.toggle:i.show;if(!l&&a.close&&i.hide){const w=a.close,R=i.hide;s.push(()=>t.listen(n,w,R))}u&&r.push(t.listen(n,a.open,()=>u(o)))}),()=>{r.forEach(a=>a())}}(this._renderer,{target:i.target,triggers:i.triggers,show:n,hide:e,toggle:s=>{this.isShown?e():n(s)}})),this}_removeGlobalListener(){this._globalListener&&(this._globalListener(),this._globalListener=Function.prototype)}attachInline(i,e){return i&&e&&(this._inlineViewRef=i.createEmbeddedView(e)),this}_registerOutsideClick(){if(this._componentRef&&this._componentRef.location){if(this._listenOpts.outsideClick){const i=this._componentRef.location.nativeElement;setTimeout(()=>{this._renderer&&this._elementRef&&(this._globalListener=function j9(t,i){return i.outsideClick?t.listen("document","click",e=>{i.target&&i.target.contains(e.target)||i.targets&&i.targets.some(n=>n.contains(e.target))||i.hide&&i.hide()}):Function.prototype}(this._renderer,{targets:[i,this._elementRef.nativeElement],outsideClick:this._listenOpts.outsideClick,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))})}this._listenOpts.outsideEsc&&this._renderer&&this._elementRef&&(this._globalListener=function U9(t,i){return i.outsideEsc?t.listen("document","keyup.esc",e=>{i.target&&i.target.contains(e.target)||i.targets&&i.targets.some(n=>n.contains(e.target))||i.hide&&i.hide()}):Function.prototype}(this._renderer,{targets:[this._componentRef.location.nativeElement,this._elementRef.nativeElement],outsideEsc:this._listenOpts.outsideEsc,hide:()=>this._listenOpts.hide&&this._listenOpts.hide()}))}}getInnerComponent(){return this._innerComponent}_subscribePositioning(){this._zoneSubscription||!this.attachment||(this.onShown.subscribe(()=>{this._posService.position({element:this._componentRef?.location,target:this._elementRef,attachment:this.attachment,appendToBody:"body"===this.container})}),this._zoneSubscription=this._ngZone.onStable.subscribe(()=>{this._componentRef&&this._posService.calcPosition()}))}_unsubscribePositioning(){this._zoneSubscription&&(this._zoneSubscription.unsubscribe(),this._zoneSubscription=void 0)}_getContentRef(i,e,n){if(!i)return new lh([]);if(i instanceof Ss){if(this._viewContainerRef){const o=this._viewContainerRef.createEmbeddedView(i,e);return o.markForCheck(),new lh([o.rootNodes],o)}const s=i.createEmbeddedView({});return this._applicationRef.attachView(s),new lh([s.rootNodes],s)}if("function"==typeof i){const s=this._componentFactoryResolver.resolveComponentFactory(i),o=un.create({providers:this._providers,parent:this._injector}),a=s.create(o);return Object.assign(a.instance,n),this._applicationRef.attachView(a.hostView),new lh([[a.location.nativeElement]],a.hostView,a)}const r=this._renderer?[this._renderer.createText(`${i}`)]:[];return new lh([r])}}let vw=(()=>{class t{constructor(e,n,r,s,o,a){this._componentFactoryResolver=e,this._ngZone=n,this._injector=r,this._posService=s,this._applicationRef=o,this._document=a}createLoader(e,n,r){return new M7(n,r,e,this._injector,this._componentFactoryResolver,this._ngZone,this._applicationRef,this._posService,this._document)}static#e=this.\u0275fac=function(n){return new(n||t)(Te(Gl),Te(xt),Te(un),Te(gw),Te(Lo),Te(ri))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();const T7=["*"];let iP=(()=>{class t{constructor(){this.hide=()=>{},this.setClass=()=>{}}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})(),nP=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();const Jm={backdrop:!0,keyboard:!0,focus:!0,show:!1,ignoreBackdropClick:!1,class:"",animated:!0,initialState:{},closeInterceptor:void 0},O7=new Ne("override-default-config");let A7=(()=>{class t{constructor(e,n,r){this._element=n,this._renderer=r,this.isShown=!1,this.isAnimated=!1,this._focusEl=null,this.isModalHiding=!1,this.clickStartedInContent=!1,this.config=Object.assign({},e)}ngOnInit(){this._focusEl=mn.activeElement,this.isAnimated&&this._renderer.addClass(this._element.nativeElement,"fade"),this._renderer.setStyle(this._element.nativeElement,"display","block"),setTimeout(()=>{this.isShown=!0,this._renderer.addClass(this._element.nativeElement,"show")},this.isAnimated?150:0),mn&&mn.body&&(this.bsModalService&&1===this.bsModalService.getModalsCount()&&(this.bsModalService.checkScrollbar(),this.bsModalService.setScrollbar()),this._renderer.addClass(mn.body,"modal-open"),this._renderer.setStyle(mn.body,"overflow-y","hidden")),this._element.nativeElement&&this._element.nativeElement.focus()}onClickStarted(e){this.clickStartedInContent=e.target!==this._element.nativeElement}onClickStop(e){this.config.ignoreBackdropClick||"static"===this.config.backdrop||e.target!==this._element.nativeElement||this.clickStartedInContent?this.clickStartedInContent=!1:(this.bsModalService?.setDismissReason("backdrop-click"),this.hide())}onPopState(){this.bsModalService?.setDismissReason("browser-back-navigation-clicked"),this.hide()}onEsc(e){this.isShown&&((27===e.keyCode||"Escape"===e.key)&&e.preventDefault(),this.config.keyboard&&this.level===this.bsModalService?.getModalsCount()&&(this.bsModalService?.setDismissReason("esc"),this.hide()))}ngOnDestroy(){this.isShown&&this._hide()}hide(){if(!this.isModalHiding){if(this.config.closeInterceptor)return void this.config.closeInterceptor().then(()=>this._hide(),()=>{});this._hide()}}_hide(){this.isModalHiding=!0,this._renderer.removeClass(this._element.nativeElement,"show"),setTimeout(()=>{this.isShown=!1,mn&&mn.body&&1===this.bsModalService?.getModalsCount()&&(this._renderer.removeClass(mn.body,"modal-open"),this._renderer.setStyle(mn.body,"overflow-y","")),this.bsModalService?.hide(this.config.id),this.isModalHiding=!1,this._focusEl&&this._focusEl.focus()},this.isAnimated?300:0)}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(nP),Ce(ki),Ce(_r))};static#t=this.\u0275cmp=nr({type:t,selectors:[["modal-container"]],hostAttrs:["role","dialog","tabindex","-1",1,"modal"],hostVars:3,hostBindings:function(n,r){1&n&&yt("mousedown",function(o){return r.onClickStarted(o)})("click",function(o){return r.onClickStop(o)})("popstate",function(){return r.onPopState()},!1,Lf)("keydown.esc",function(o){return r.onEsc(o)},!1,Lf),2&n&&Fr("aria-modal",!0)("aria-labelledby",r.config.ariaLabelledBy)("aria-describedby",r.config.ariaDescribedby)},ngContentSelectors:T7,decls:3,vars:2,consts:[["role","document","focusTrap",""],[1,"modal-content"]],template:function(n,r){1&n&&(function nM(t){const i=De()[Ti][pi];if(!i.projection){const n=i.projection=Id(t?t.length:1,null),r=n.slice();let s=i.child;for(;null!==s;){const o=t?Vz(s,t):0;null!==o&&(r[o]?r[o].projectionNext=s:n[o]=s,r[o]=s),s=s.next}}}(),ge(0,"div",0)(1,"div",1),function rM(t,i=0,e){const n=De(),r=At(),s=Zl(r,pt+t,16,null,e||null);null===s.projection&&(s.projection=i),J(),(!n[ln]||So())&&32!=(32&s.flags)&&function uL(t,i,e){Xx(i[ft],0,i,e,ey(t,e,i),jx(e.parent||i[pi],e,i))}(r,n,s)}(2),pe()()),2&n&&MD("modal-dialog"+(r.config.class?" "+r.config.class:""))},dependencies:[l7],encapsulation:2})}return t})(),I7=(()=>{class t{get isAnimated(){return this._isAnimated}set isAnimated(e){this._isAnimated=e}get isShown(){return this._isShown}set isShown(e){this._isShown=e,e?this.renderer.addClass(this.element.nativeElement,"show"):this.renderer.removeClass(this.element.nativeElement,"show")}constructor(e,n){this._isAnimated=!1,this._isShown=!1,this.element=e,this.renderer=n}ngOnInit(){this.isAnimated&&(this.renderer.addClass(this.element.nativeElement,"fade"),G9.reflow(this.element.nativeElement)),this.isShown=!0}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(ki),Ce(_r))};static#t=this.\u0275cmp=nr({type:t,selectors:[["bs-modal-backdrop"]],hostAttrs:[1,"modal-backdrop"],decls:0,vars:0,template:function(n,r){},encapsulation:2})}return t})(),k7=1,bw=(()=>{class t{constructor(e,n,r){this.clf=n,this.modalDefaultOption=r,this.onShow=new It,this.onShown=new It,this.onHide=new It,this.onHidden=new It,this.isBodyOverflowing=!1,this.originalBodyPadding=0,this.scrollbarWidth=0,this.modalsCount=0,this.loaders=[],this._focusEl=null,this._backdropLoader=this.clf.createLoader(),this._renderer=e.createRenderer(null,null),this.config=r?Object.assign({},Jm,r):Jm}show(e,n){this._focusEl=mn.activeElement,this.modalsCount++,this._createLoaders();const r=n?.id||k7++;return this.config=this.modalDefaultOption?Object.assign({},Jm,this.modalDefaultOption,n):Object.assign({},Jm,n),this.config.id=r,this._showBackdrop(),this.lastDismissReason=void 0,this._showModal(e)}hide(e){(1===this.modalsCount||null==e)&&(this._hideBackdrop(),this.resetScrollbar()),this.modalsCount=this.modalsCount>=1&&null!=e?this.modalsCount-1:0,setTimeout(()=>{this._hideModal(e),this.removeLoaders(e)},this.config.animated?150:0),this._focusEl&&this._focusEl.focus()}_showBackdrop(){const e=!0===this.config.backdrop||"static"===this.config.backdrop,n=!this.backdropRef||!this.backdropRef.instance.isShown;1===this.modalsCount&&(this.removeBackdrop(),e&&n&&(this._backdropLoader.attach(I7).to("body").show({isAnimated:this.config.animated}),this.backdropRef=this._backdropLoader._componentRef))}_hideBackdrop(){this.backdropRef&&(this.backdropRef.instance.isShown=!1,setTimeout(()=>this.removeBackdrop(),this.config.animated?150:0))}_showModal(e){const n=this.loaders[this.loaders.length-1];if(this.config&&this.config.providers)for(const o of this.config.providers)n.provide(o);const r=new iP,s=n.provide({provide:nP,useValue:this.config}).provide({provide:iP,useValue:r}).attach(A7).to("body");return r.hide=()=>this.hide(r.id),r.setClass=o=>{s.instance&&(s.instance.config.class=o)},r.onHidden=new It,r.onHide=new It,this.copyEvent(n.onBeforeHide,r.onHide),this.copyEvent(n.onHidden,r.onHidden),s.show({content:e,isAnimated:this.config.animated,initialState:this.config.initialState,bsModalService:this,id:this.config.id}),s.instance&&(s.instance.level=this.getModalsCount(),r.content=n.getInnerComponent(),r.id=s.instance.config?.id),r}_hideModal(e){if(null!=e){const n=this.loaders.findIndex(s=>s.instance?.config.id===e),r=this.loaders[n];r&&r.hide(e)}else this.loaders.forEach(n=>{n.instance&&n.hide(n.instance.config.id)})}getModalsCount(){return this.modalsCount}setDismissReason(e){this.lastDismissReason=e}removeBackdrop(){this._renderer.removeClass(mn.body,"modal-open"),this._renderer.setStyle(mn.body,"overflow-y",""),this._backdropLoader.hide(),this.backdropRef=void 0}checkScrollbar(){this.isBodyOverflowing=mn.body.clientWidth<window.innerWidth,this.scrollbarWidth=this.getScrollbarWidth()}setScrollbar(){mn&&(this.originalBodyPadding=parseInt(window.getComputedStyle(mn.body).getPropertyValue("padding-right")||"0",10),this.isBodyOverflowing&&(mn.body.style.paddingRight=`${this.originalBodyPadding+this.scrollbarWidth}px`))}resetScrollbar(){mn.body.style.paddingRight=`${this.originalBodyPadding}px`}getScrollbarWidth(){const e=this._renderer.createElement("div");this._renderer.addClass(e,"modal-scrollbar-measure"),this._renderer.appendChild(mn.body,e);const n=e.offsetWidth-e.clientWidth;return this._renderer.removeChild(mn.body,e),n}_createLoaders(){const e=this.clf.createLoader();this.copyEvent(e.onBeforeShow,this.onShow),this.copyEvent(e.onShown,this.onShown),this.copyEvent(e.onBeforeHide,this.onHide),this.copyEvent(e.onHidden,this.onHidden),this.loaders.push(e)}removeLoaders(e){if(null!=e){const n=this.loaders.findIndex(r=>r.instance?.config.id===e);n>=0&&(this.loaders.splice(n,1),this.loaders.forEach((r,s)=>{r.instance&&(r.instance.level=s+1)}))}else this.loaders.splice(0,this.loaders.length)}copyEvent(e,n){e.subscribe(r=>{n.emit(this.lastDismissReason||r)})}static#e=this.\u0275fac=function(n){return new(n||t)(Te(np),Te(vw),Te(O7,8))};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"platform"})}return t})();zk.forRoot();let _w=(()=>{class t{static forRoot(){return{ngModule:t,providers:[bw,vw,gw]}}static forChild(){return{ngModule:t,providers:[bw,vw,gw]}}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({imports:[zk]})}return t})(),ww=(()=>{class t{constructor(){this.publicationsByYear=[],this.authorsByYear=[],this.conferencesByYear=[],this.allPublications=0,this.allAuthors=0,this.allConferences=0,this.instituions=[]}get PublicationsByYear(){return this.publicationsByYear}set PublicationsByYear(e){this.publicationsByYear=e}get AuthorsByYear(){return this.authorsByYear}set AuthorsByYear(e){this.authorsByYear=e}get ConferencesByYear(){return this.conferencesByYear}set ConferencesByYear(e){this.conferencesByYear=e}get AllPublications(){return this.allPublications}set AllPublications(e){this.allPublications=e}get AllAuthors(){return this.allAuthors}set AllAuthors(e){this.allAuthors=e}get AllConferences(){return this.allConferences}set AllConferences(e){this.allConferences=e}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),Cw=(()=>{class t{constructor(){this.communities=[],this._activeLinkSubject=new Dn(!1)}get Communities(){return this.communities}set Communities(e){this.communities=e}get activeLink$(){return this._activeLinkSubject.asObservable()}setActiveLink(e){this._activeLinkSubject.next(e)}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function P7(t,i){if(1&t){const e=en();ge(0,"li",20),yt("click",function(){const s=Yt(e).$implicit;return Pt(wt().selectSuggestion(s))}),Se(1),pe()}if(2&t){const e=i.$implicit;Xe(1),Vr(" ",e," ")}}function R7(t,i){1&t&&(ge(0,"div",21)(1,"p"),Se(2,"Conference or Journal not found. Please try another Conference or Journal"),pe()())}function N7(t,i){1&t&&(ge(0,"div",21)(1,"p"),Se(2,"This conference is in one of the selected communities"),pe()())}function F7(t,i){if(1&t&&(ge(0,"li"),Se(1),pe()),2&t){const e=i.$implicit;Xe(1),mu(e)}}function L7(t,i){1&t&&Ge(0,"hr",32)}function B7(t,i){if(1&t){const e=en();ge(0,"div",26)(1,"input",27),yt("ngModelChange",function(r){return Pt(Yt(e).$implicit.selected=r)}),pe(),ge(2,"span",28),Se(3),pe(),ge(4,"button",29),yt("click",function(){const s=Yt(e).$implicit;return Pt(wt(3).deleteCommunity(s))}),Se(5,"X"),pe(),ge(6,"ul"),ei(7,F7,2,1,"li",30),pe(),ei(8,L7,1,0,"hr",31),pe()}if(2&t){const e=i.$implicit,n=i.last;Xe(1),Je("ngModel",e.selected),Xe(2),mu(e.name),Xe(4),Je("ngForOf",e.filtersList),Xe(1),Je("ngIf",!n)}}function V7(t,i){if(1&t&&(ge(0,"div",24)(1,"p"),Se(2,"Communities"),pe(),Ge(3,"hr"),ei(4,B7,9,4,"div",25),pe()),2&t){const e=wt(2);Xe(4),Je("ngForOf",e.communities)}}function H7(t,i){if(1&t){const e=en();ge(0,"li"),Se(1),ge(2,"button",29),yt("click",function(){const s=Yt(e).$implicit;return Pt(wt(3).deleteFilter(s))}),Se(3,"X"),pe()()}if(2&t){const e=i.$implicit;Xe(1),Vr(" ",e," ")}}function z7(t,i){if(1&t){const e=en();ge(0,"div")(1,"p"),Se(2,"Current Conferences:"),pe(),Ge(3,"hr"),ge(4,"ul"),ei(5,H7,4,1,"li",30),pe(),ge(6,"div",33)(7,"button",10),yt("click",function(){Yt(e);const r=wt(2),s=gb(14);return Pt(r.openModal(s))}),Se(8,"Create Community"),pe()()()}if(2&t){const e=wt(2);Xe(5),Je("ngForOf",e.currentConferences),Xe(2),Je("disabled",0===e.filtersList.length)}}function j7(t,i){if(1&t&&(ge(0,"div",22),ei(1,V7,5,1,"div",23)(2,z7,9,2,"div",13),pe()),2&t){const e=wt();Xe(1),Je("ngIf",e.communities.length>0),Xe(1),Je("ngIf",e.currentConferences.length>0)}}function U7(t,i){if(1&t){const e=en();ge(0,"li"),Se(1),ge(2,"button",29),yt("click",function(){const s=Yt(e).$implicit;return Pt(wt(2).deleteFilter(s))}),Se(3,"X"),pe()()}if(2&t){const e=i.$implicit;Xe(1),Vr(" ",e," ")}}function $7(t,i){if(1&t){const e=en();ge(0,"div",34)(1,"div",35)(2,"div",36)(3,"div",37)(4,"h4",38),Se(5,"Create Community"),pe(),ge(6,"button",39),yt("click",function(){return Yt(e),Pt(wt().closeModal())}),ge(7,"span",40),Se(8,"\xd7"),pe()()(),ge(9,"div",41)(10,"input",42),yt("ngModelChange",function(r){return Yt(e),Pt(wt().nameCommunity=r)}),pe(),ge(11,"ul"),ei(12,U7,4,1,"li",30),pe(),ge(13,"div",33)(14,"button",43),yt("click",function(){Yt(e);const r=wt();return Pt(r.createCommunity(r.currentConferences))}),Se(15,"Create"),pe()()()()()()}if(2&t){const e=wt();Xe(10),Je("ngModel",e.nameCommunity),Xe(2),Je("ngForOf",e.currentConferences)}}function W7(t,i){if(1&t){const e=en();ge(0,"div")(1,"label")(2,"input",45),yt("ngModelChange",function(r){return Yt(e),Pt(wt(2).selectDecades=r)})("change",function(){return Yt(e),Pt(wt(2).selectDecade())}),pe(),ge(3,"span"),Se(4,"1989-1999"),pe()()()}if(2&t){const e=wt(2);Xe(2),Je("ngModel",e.selectDecades)}}function Y7(t,i){if(1&t){const e=en();ge(0,"div")(1,"label")(2,"input",45),yt("ngModelChange",function(r){return Yt(e),Pt(wt(2).selectDecades2=r)})("change",function(){return Yt(e),Pt(wt(2).selectDecade2())}),pe(),ge(3,"span"),Se(4,"1999-2009"),pe()()()}if(2&t){const e=wt(2);Xe(2),Je("ngModel",e.selectDecades2)}}function G7(t,i){if(1&t){const e=en();ge(0,"div")(1,"label")(2,"input",45),yt("ngModelChange",function(r){return Yt(e),Pt(wt(2).selectDecades3=r)})("change",function(){return Yt(e),Pt(wt(2).selectDecade3())}),pe(),ge(3,"span"),Se(4,"2009-2019"),pe()()()}if(2&t){const e=wt(2);Xe(2),Je("ngModel",e.selectDecades3)}}function X7(t,i){if(1&t){const e=en();ge(0,"div")(1,"label")(2,"input",45),yt("ngModelChange",function(r){return Yt(e),Pt(wt(2).selectDecades4=r)})("change",function(){return Yt(e),Pt(wt(2).selectDecade4())}),pe(),ge(3,"span"),Se(4,"2019-2024"),pe()()()}if(2&t){const e=wt(2);Xe(2),Je("ngModel",e.selectDecades4)}}function Z7(t,i){if(1&t&&(ge(0,"div",44),ei(1,W7,5,1,"div",13)(2,Y7,5,1,"div",13)(3,G7,5,1,"div",13)(4,X7,5,1,"div",13),pe()),2&t){const e=wt();Xe(1),Je("ngIf",e.filteredTitlesConference.length>0||e.filteredTitlesJournal.length>0),Xe(1),Je("ngIf",e.filteredTitlesConference.length>0||e.filteredTitlesJournal.length>0),Xe(1),Je("ngIf",e.filteredTitlesConference.length>0||e.filteredTitlesJournal.length>0),Xe(1),Je("ngIf",e.filteredTitlesConference.length>0||e.filteredTitlesJournal.length>0)}}function K7(t,i){if(1&t){const e=en();ge(0,"div")(1,"label")(2,"input",45),yt("ngModelChange",function(r){return Yt(e),Pt(wt().selectAll=r)})("change",function(){return Yt(e),Pt(wt().selectAlls())}),pe(),ge(3,"span"),Se(4,"All"),pe()()()}if(2&t){const e=wt();Xe(2),Je("ngModel",e.selectAll)}}const Q7=t=>({selected:t});function q7(t,i){if(1&t){const e=en();ge(0,"div",48)(1,"label")(2,"input",45),yt("ngModelChange",function(r){return Pt(Yt(e).$implicit.selected=r)})("change",function(){return Yt(e),Pt(wt(2).titleChanged())}),pe(),ge(3,"span",49),Se(4),pe()()()}if(2&t){const e=i.$implicit;Xe(2),Je("ngModel",e.selected),Xe(1),Je("ngClass",function jM(t,i,e,n){return UM(De(),ot(),t,i,e,n)}(3,Q7,e.selected)),Xe(1),mu(e.title)}}function J7(t,i){if(1&t&&(ge(0,"div")(1,"div",46),ei(2,q7,5,5,"div",47),pe()()),2&t){const e=wt();Xe(2),Je("ngForOf",e.filteredTitles)}}function eX(t,i){if(1&t){const e=en();ge(0,"div",50)(1,"button",51),yt("click",function(){return Yt(e),Pt(wt().generateStatistics())}),Se(2,"Generate Stats"),pe()()}if(2&t){const e=wt();Xe(1),Je("hidden",!0===e.noResultsFoundConference&&!0===e.noResultsFoundJournal)("disabled",!e.existSelectTitle())}}function tX(t,i){if(1&t){const e=en();ge(0,"div",50)(1,"button",51),yt("click",function(){return Yt(e),Pt(wt().generateConf())}),Se(2,"Info"),pe()()}if(2&t){const e=wt();Xe(1),Je("hidden",!0===e.noResultsFoundConference&&!0===e.noResultsFoundJournal)("disabled",!e.existSelectTitle())}}function iX(t,i){if(1&t){const e=en();ge(0,"div",52)(1,"button",43),yt("click",function(){return Yt(e),Pt(wt().clear2())}),Se(2,"Cancel"),pe()()}}function nX(t,i){if(1&t){const e=en();ge(0,"div",34)(1,"div",35)(2,"div",36)(3,"div",37)(4,"h4",38),Se(5,"Help"),pe(),ge(6,"button",39),yt("click",function(){return Yt(e),Pt(wt().closeModal())}),ge(7,"span",40),Se(8,"\xd7"),pe()()(),ge(9,"div",41)(10,"p"),Se(11,"Buscar solo uno:"),pe(),ge(12,"ul")(13,"li"),Se(14,"ER"),pe(),ge(15,"li"),Se(16,"World Wide Web"),pe()(),ge(17,"p"),Se(18,"Buscar mas de uno (separar por comas):"),pe(),ge(19,"ul")(20,"li"),Se(21,"ER, 3DOR, BDM"),pe()()()()()()}}let rX=(()=>{class t{constructor(e,n,r,s,o,a){this.apiService=e,this.router=n,this.stadisticsService=r,this.modalService=s,this.infoService=o,this.homeService=a,this.filtersString="",this.filtersBOX="",this.filtersList=[],this.communities=[],this.filterComunities=[],this.currentConferences=[],this.nameCommunity="",this.completeConference=[],this.filteredResults=[],this.filteredTitles=[],this.filteredTitlesJournal=[],this.filteredTitlesConference=[],this.selectAll=!1,this.selectDecades=!1,this.selectDecades2=!1,this.selectDecades3=!1,this.selectDecades4=!1,this.conferenceOption="main",this.showYears=!1,this.showDecades=!1,this.repeated=!1,this.noResultsFoundConference=!1,this.noResultsFoundJournal=!1,this.showButtons=!1}ngOnInit(){this.communities=this.homeService.Communities}autocompleteConference(e){this.apiService.autocompleteConference(e).subscribe({next:n=>{this.completeConference=n},error:n=>{console.error("Error in autocompleteConference",n)}})}waitTitlesNoEmpty(){var e=this;return jr(function*(){for(;!e.filteredTitles||0===e.filteredTitles.length;)yield new Promise(n=>setTimeout(n,100))})()}isFilteringDisabled(){return 0===this.filtersList.length&&this.homeService.Communities.every(e=>!e.selected)}completeSuggestion(e){if(""!==e.trim()){const n=e.trim();this.repeated=!!this.filterComunities.includes(n),this.apiService.getFilteredNodesConference([n]).subscribe({next:r=>{if(0!==r.length){if(this.noResultsFoundConference=!1,!this.filtersList.includes(n)){this.filtersList.push(n);const s=this.filterComunities.filter(o=>!this.filtersList.includes(o));this.filtersList=this.filtersList.concat(s),this.filtersString=this.filtersList.join(",")}}else this.apiService.getFilteredNodesJournal([n]).subscribe({next:s=>{if(0!==s.length){if(this.noResultsFoundJournal=!1,!this.filtersList.includes(n)){this.filtersList.push(n);const o=this.filterComunities.filter(a=>!this.filtersList.includes(a));this.filtersList=this.filtersList.concat(o),this.filtersString=this.filtersList.join(",")}for(const o of this.filtersList){this.filterComunities.includes(o)||this.currentConferences.push(o);const a=this.currentConferences.filter((l,u,w)=>w.indexOf(l)===u);this.currentConferences=a}}else this.noResultsFoundJournal=!0},error:s=>{console.error("Error in getFilteredNodesJournal:",s)},complete:()=>{this.filtersBOX=""}});for(const s of this.filtersList){this.filterComunities.includes(s)||this.currentConferences.push(s);const o=this.currentConferences.filter((a,l,u)=>u.indexOf(a)===l);this.currentConferences=o}},error:r=>{console.error("Error in getFilteredNodesConference:",r)},complete:()=>{this.filtersBOX=""}})}}selectSuggestion(e){this.filtersBOX=e}deleteFilter(e){const n=this.filtersList.indexOf(e);-1!==n&&(this.filtersList.splice(n,1),this.filtersString=this.filtersList.join(",")),-1!==this.currentConferences.indexOf(e)&&this.currentConferences.splice(n,1)}deleteCommunity(e){this.homeService.Communities=this.homeService.Communities.filter(n=>!(n.name===e.name&&n.filtersList===e.filtersList&&n.selected===e.selected));for(const n of e.filtersList){const r=this.filtersList.indexOf(n);-1!==r&&(this.filtersList.splice(r,1),this.filtersString=this.filtersList.join(","))}}createCommunity(e){this.homeService.Communities.push({name:this.nameCommunity,filtersList:e,selected:!1}),this.communities=this.homeService.Communities,this.closeModal(),this.nameCommunity="",this.filtersList=[],this.currentConferences=[]}execFunctionsYear(){this.showButtons=!0,this.filteredTitlesJournal=[],this.filteredTitlesConference=[],this.filteredTitles=[],this.getFilteredNodesJournal(),this.getFilteredNodesConference(),this.waitTitlesNoEmpty();const e=[];for(const n of this.filteredTitles)e.some(r=>r.title==n.title)||e.push(n);this.toggleYears()}execFunctionsDecades(){this.showButtons=!0,this.filteredTitlesJournal=[],this.filteredTitlesConference=[],this.filteredTitles=[],this.getFilteredNodesJournal(),this.getFilteredNodesConference(),this.waitTitlesNoEmpty(),this.toggleDecades()}toggleYears(){this.showYears=!this.showYears,1==this.showDecades&&(this.showDecades=!1)}toggleDecades(){this.showDecades=!this.showDecades,1==this.showYears&&(this.showYears=!1)}clear2(){this.filteredTitlesJournal=[],this.filteredTitlesConference=[],this.showButtons=!1}getFilteredNodesConference(){this.homeService.Communities.forEach(e=>{1==e.selected?this.filterComunities=this.filterComunities.concat(e.filtersList):(this.filterComunities=this.filterComunities.filter(n=>!e.filtersList.includes(n)),this.filtersList=this.filtersList.filter(n=>!e.filtersList.includes(n)))}),this.filtersList=this.filtersList.concat(this.filterComunities),this.filtersString=this.filtersList.join(","),this.filtersList=this.filtersList.filter((e,n,r)=>r.indexOf(e)===n),this.filterComunities=this.filterComunities.filter((e,n,r)=>r.indexOf(e)===n),this.apiService.getFilteredNodesConference(this.filtersList).subscribe({next:e=>{this.filteredResults=e.map(s=>s),this.filteredTitlesConference.length<1&&(this.filteredTitlesConference=Object.values(e.reduce((s,o)=>{const a=o.properties;return s[a.name]={title:a.name,pr_objeto:o,selected:!1},s},{})),this.noResultsFoundConference=0===this.filteredResults.length),this.filteredTitles=[],this.filteredTitles=[...this.filteredTitlesJournal,...this.filteredTitlesConference];const n=[];for(const s of this.filteredTitles)n.some(o=>o.title==s.title)||n.push(s);n.sort(function r(s,o){return parseInt(s.title)-parseInt(o.title)}),this.filteredTitles=n},error:e=>{console.error("Error al obtener los resultados filtrados:",e)}})}getFilteredNodesJournal(){this.homeService.Communities.forEach(e=>{1==e.selected?this.filterComunities=this.filterComunities.concat(e.filtersList):(this.filterComunities=this.filterComunities.filter(n=>!e.filtersList.includes(n)),this.filtersList=this.filtersList.filter(n=>!e.filtersList.includes(n)))}),this.filtersList=this.filtersList.concat(this.filterComunities),this.filtersString=this.filtersList.join(","),this.filtersList=this.filtersList.filter((e,n,r)=>r.indexOf(e)===n),this.filterComunities=this.filterComunities.filter((e,n,r)=>r.indexOf(e)===n),this.apiService.getFilteredNodesJournal(this.filtersList).subscribe({next:e=>{this.filteredResults=e.map(s=>s),this.filteredTitlesJournal.length<1&&(this.filteredTitlesJournal=Object.values(e.reduce((s,o)=>{const a=o.properties;return s[a.name]={title:a.name,pr_objeto:o,selected:!1},s},{})),this.noResultsFoundJournal=0===this.filteredResults.length),this.filteredTitles=[],this.filteredTitles=[...this.filteredTitlesJournal,...this.filteredTitlesConference];const n=[];for(const s of this.filteredTitles)n.some(o=>o.title==s.title)||n.push(s);n.sort(function r(s,o){return parseInt(s.title)-parseInt(o.title)}),this.filteredTitles=n},error:e=>{console.error("Error al obtener los resultados filtrados:",e)}})}existSelectTitle(){let e=!1;return(this.filteredTitlesJournal.some(n=>n.selected)||this.filteredTitlesConference.some(n=>n.selected))&&(e=!0),e}selectAlls(){if(this.filteredTitlesConference.length>0||this.filteredTitlesJournal.length>0){for(let e of this.filteredTitlesJournal)e.selected=this.selectAll;for(let e of this.filteredTitlesConference)e.selected=this.selectAll}}selectDecade(){for(let e of this.filteredTitlesConference)("1989"==e.title||"1990"==e.title||"1991"==e.title||"1992"==e.title||"1993"==e.title||"1994"==e.title||"1995"==e.title||"1996"==e.title||"1997"==e.title||"1998"==e.title||"1999"==e.title)&&(e.selected=this.selectDecades);for(let e of this.filteredTitlesJournal)("1989"==e.title||"1990"==e.title||"1991"==e.title||"1992"==e.title||"1993"==e.title||"1994"==e.title||"1995"==e.title||"1996"==e.title||"1997"==e.title||"1998"==e.title||"1999"==e.title)&&(e.selected=this.selectDecades)}selectDecade2(){for(let e of this.filteredTitlesConference)("2000"==e.title||"2001"==e.title||"2002"==e.title||"2003"==e.title||"2004"==e.title||"2005"==e.title||"2006"==e.title||"2007"==e.title||"2008"==e.title||"2009"==e.title)&&(e.selected=this.selectDecades2);for(let e of this.filteredTitlesJournal)("2000"==e.title||"2001"==e.title||"2002"==e.title||"2003"==e.title||"2004"==e.title||"2005"==e.title||"2006"==e.title||"2007"==e.title||"2008"==e.title||"2009"==e.title)&&(e.selected=this.selectDecades2)}selectDecade3(){for(let e of this.filteredTitlesConference)("2010"==e.title||"2011"==e.title||"2012"==e.title||"2013"==e.title||"2014"==e.title||"2015"==e.title||"2016"==e.title||"2017"==e.title||"2018"==e.title||"2019"==e.title)&&(e.selected=this.selectDecades3);for(let e of this.filteredTitlesJournal)("2010"==e.title||"2011"==e.title||"2012"==e.title||"2013"==e.title||"2014"==e.title||"2015"==e.title||"2016"==e.title||"2017"==e.title||"2018"==e.title||"2019"==e.title)&&(e.selected=this.selectDecades3)}selectDecade4(){for(let e of this.filteredTitlesConference)("2020"==e.title||"2021"==e.title||"2022"==e.title||"2023"==e.title||"2024"==e.title)&&(e.selected=this.selectDecades4);for(let e of this.filteredTitlesJournal)("2020"==e.title||"2021"==e.title||"2022"==e.title||"2023"==e.title||"2024"==e.title)&&(e.selected=this.selectDecades4)}titleChanged(){let e=!0;for(let n of this.filteredTitles){for(let r of this.filteredTitlesJournal);for(let r of this.filteredTitlesConference);}for(let n of this.filteredTitlesConference)if(!n.selected){e=!1;break}for(let n of this.filteredTitlesJournal)if(!n.selected){e=!1;break}this.selectAll=e}activateLink(){this.homeService.setActiveLink(!0)}generateStatistics(){var e=this;return jr(function*(){const s=[...e.filteredTitlesConference.filter(a=>a.selected).map(a=>a.pr_objeto),...e.filteredTitlesJournal.filter(a=>a.selected&&!e.filteredTitlesConference.map(l=>l.title).includes(a.title)).map(a=>a.pr_objeto)],o=e.filtersString.split(",").map(a=>a.trim());e.stadisticsService.cleanTitles(),e.stadisticsService.addTitles(s),e.stadisticsService.flagNameVenue(o),e.activateLink(),e.router.navigateByUrl("/statistics")})()}generateConf(){this.router.navigateByUrl("/config")}openModal(e){this.modalRef=this.modalService.show(e)}closeModal(){this.modalRef?.hide()}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(sh),Ce($r),Ce(aw),Ce(bw),Ce(ww),Ce(Cw))};static#t=this.\u0275cmp=nr({type:t,selectors:[["app-home"]],decls:34,vars:13,consts:[[1,"container"],[1,"box-conference"],["type","text","placeholder","Enter the Conference or Journal",3,"ngModel","ngModelChange","keyup.enter","input"],["type","button",1,"button-add",3,"click"],["class","click-element ",3,"click",4,"ngFor","ngForOf"],["class","noResults",4,"ngIf"],["class","filters-list",4,"ngIf"],["community",""],[1,"buttons"],[1,"button-years"],[3,"disabled","click"],[1,"button-decade"],["class","decades",4,"ngIf"],[4,"ngIf"],[1,"stats"],["class","button-stats",4,"ngIf"],["class","button-clear",4,"ngIf"],[1,"modal-button"],[1,"help",3,"click"],["template",""],[1,"click-element",3,"click"],[1,"noResults"],[1,"filters-list"],["class","community-container",4,"ngIf"],[1,"community-container"],["class","filter-item",4,"ngFor","ngForOf"],[1,"filter-item"],["type","checkbox",3,"ngModel","ngModelChange"],[1,"filter-name"],[1,"button-delete",3,"click"],[4,"ngFor","ngForOf"],["class","slim",4,"ngIf"],[1,"slim"],[1,"button-community"],[1,"custom-modal"],[1,"modal-container"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title","pull-left"],["type","button","aria-label","Close",1,"close-btn",3,"click"],["aria-hidden","true",1,"close-icon"],[1,"modal-body"],["type","text","placeholder","Add name Community",3,"ngModel","ngModelChange"],[3,"click"],[1,"decades"],["type","checkbox",3,"ngModel","ngModelChange","change"],[1,"columns"],["class","column",4,"ngFor","ngForOf"],[1,"column"],[3,"ngClass"],[1,"button-stats"],[3,"hidden","disabled","click"],[1,"button-clear"]],template:function(n,r){if(1&n){const s=en();ge(0,"div",0)(1,"h1"),Se(2,"Collaboration Networks"),pe(),ge(3,"div",1)(4,"input",2),yt("ngModelChange",function(a){return r.filtersBOX=a})("keyup.enter",function(){return r.completeSuggestion(r.filtersBOX)})("input",function(){return r.autocompleteConference(r.filtersBOX)}),pe(),ge(5,"button",3),yt("click",function(){return r.completeSuggestion(r.filtersBOX)}),Se(6,"Add"),pe(),ge(7,"div")(8,"ul"),ei(9,P7,2,1,"li",4),pe()()(),ei(10,R7,3,0,"div",5)(11,N7,3,0,"div",5)(12,j7,3,2,"div",6)(13,$7,16,2,"ng-template",null,7,Rb),ge(15,"div",8)(16,"div",9)(17,"button",10),yt("click",function(){return r.execFunctionsYear()}),Se(18,"Filter by years"),pe()(),ge(19,"div",11)(20,"button",10),yt("click",function(){return r.execFunctionsDecades()}),Se(21,"Filter by decades"),pe()()(),ei(22,Z7,5,4,"div",12)(23,K7,5,1,"div",13)(24,J7,3,1,"div",13),ge(25,"div",14),ei(26,eX,3,2,"div",15)(27,tX,3,2,"div",15)(28,iX,3,0,"div",16),pe(),ge(29,"div",17)(30,"button",18),yt("click",function(){Yt(s);const a=gb(33);return Pt(r.openModal(a))}),Se(31,"?"),pe()()(),ei(32,nX,22,0,"ng-template",null,19,Rb)}2&n&&(Xe(4),Je("ngModel",r.filtersBOX),Xe(5),Je("ngForOf",r.completeConference),Xe(1),Je("ngIf",r.noResultsFoundConference&&r.noResultsFoundJournal),Xe(1),Je("ngIf",r.repeated),Xe(1),Je("ngIf",r.filtersList.length>0||r.communities.length>0),Xe(5),Je("disabled",0===r.filtersList.length&&0===r.communities.length),Xe(3),Je("disabled",0===r.filtersList.length&&0===r.communities.length),Xe(2),Je("ngIf",r.showDecades&&!r.showYears),Xe(1),Je("ngIf",(r.filteredTitlesConference.length>0||r.filteredTitlesJournal.length>0)&&!r.showDecades),Xe(1),Je("ngIf",!r.showDecades),Xe(2),Je("ngIf",r.showButtons),Xe(1),Je("ngIf",r.showButtons),Xe(1),Je("ngIf",r.filteredTitlesConference.length>0||r.filteredTitlesJournal.length>0))},dependencies:[mO,m_,Ho,Hu,d0,p0,Am],styles:['@charset "UTF-8";body[_ngcontent-%COMP%]{font-family:Roboto;margin:0 auto;padding:10px}.button-add[_ngcontent-%COMP%]{margin-left:8px;margin-bottom:5px;font-weight:700}.container[_ngcontent-%COMP%]{width:70%;max-width:600px;margin:0 auto;padding:10px 20px;background-color:#fff;border-radius:5px;box-shadow:0 2px 5px #001644}.button-delete[_ngcontent-%COMP%]{background-color:red;padding:1px 4px;margin:2px;font-weight:700}.filters-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:2px}.filter-item[_ngcontent-%COMP%]{margin-bottom:10px;margin-left:30px}.filter-name[_ngcontent-%COMP%]{margin-right:10px}.filters-list[_ngcontent-%COMP%]{box-shadow:0 2px 5px #001644;background-color:#f5f5f5;padding:15px;border-radius:5px;margin-bottom:20px}p[_ngcontent-%COMP%]{font-weight:700;margin:10px 0 0}.community-container[_ngcontent-%COMP%]{margin-bottom:30px}h1[_ngcontent-%COMP%]{text-align:center;font-size:35px}.box-conference[_ngcontent-%COMP%]{margin-bottom:10px}.noResults[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#e63b25;margin-left:10px;font-size:15px;margin-top:-8px}.buttons[_ngcontent-%COMP%]{display:flex;margin-bottom:20px}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.button-years[_ngcontent-%COMP%], .button-decade[_ngcontent-%COMP%]{margin-right:10px}.button-years[_ngcontent-%COMP%]:hover, .button-decade[_ngcontent-%COMP%]:hover, .button-add[_ngcontent-%COMP%]:hover, .button-delete[_ngcontent-%COMP%]:hover{transform:scale(1.1);transition:transform .3s ease}.button-community[_ngcontent-%COMP%]{display:flex;margin:40px 10px 10px;padding:0}.button-community[_ngcontent-%COMP%]:hover{transform:scale(1.1);transition:transform .3s ease}.button-stats[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin-bottom:10px;margin-right:10px}.click-element[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:5px}.click-element[_ngcontent-%COMP%]:hover{transform:scale(1.1);transition:transform .3s ease;font-weight:700}.stats[_ngcontent-%COMP%]{display:flex;flex-wrap:nowrap;margin-top:20px}.button-clear[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:8px 16px;background-color:red;color:#fff;border:none;border-radius:4px}.button-stats[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:disabled{background-color:#ccc;margin-bottom:10px;cursor:not-allowed}.button-stats[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover, .modal-button[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1);transition:transform .3s ease}.modal-button[_ngcontent-%COMP%]{text-align:right;margin-top:-20px}.help[_ngcontent-%COMP%]{font-size:16px;font-weight:700}input[type=text][_ngcontent-%COMP%]{padding:8px;width:70%;border:1px solid #cccccc;border-radius:4px}button[_ngcontent-%COMP%]{padding:8px 16px;background-color:#001644;color:#fff;border:none;border-radius:4px}.title-select[_ngcontent-%COMP%]{margin-bottom:2px}select[_ngcontent-%COMP%]{padding:8px;width:85%;border:1px solid #cccccc;border-radius:4px;margin-bottom:10px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}input[type=checkbox][_ngcontent-%COMP%]{margin-right:8px}span.selected[_ngcontent-%COMP%]{font-weight:700}.columns[_ngcontent-%COMP%]{column-count:6}.custom-modal[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0006}select[_ngcontent-%COMP%]{width:300px;appearance:none;padding:5px;background-color:transparent;border:1px solid #ccc;border-radius:5px}option[_ngcontent-%COMP%]{padding:5px}select[multiple][_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:checked{background-color:#f0f0f0}select[multiple][_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:before{content:"\\2610";margin-right:5px}select[multiple][_ngcontent-%COMP%]   option[_ngcontent-%COMP%]:checked:before{content:"\\2611"}.selectCommunities[_ngcontent-%COMP%]{margin-bottom:50px}.modal-container[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.modal-content[_ngcontent-%COMP%]{min-width:300px;min-height:350px;border:2px solid black;background-color:#fff;padding:20px}.modal-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid black;margin-bottom:15px;margin-top:10px;font-size:25px}.modal-header[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.1);transition:transform .3s ease}.modal-title[_ngcontent-%COMP%]{margin:0}.modal-body[_ngcontent-%COMP%]{overflow-y:auto;height:calc(100% - 40px);font-size:18px;padding:20px}.close-btn[_ngcontent-%COMP%]{padding:5px 10px;margin-top:-20px}.close-icon[_ngcontent-%COMP%]{font-size:18px}hr[_ngcontent-%COMP%]{border:.5;border-color:#000;height:1px;background-color:#000;margin:0 0 10px}.slim[_ngcontent-%COMP%]{border:0;border-color:#000;height:1px;background-color:#000;margin:0}']})}return t})();function ro(){}const sX=function(){let t=0;return function(){return t++}}();function Xt(t){return null===t||typeof t>"u"}function Di(t){if(Array.isArray&&Array.isArray(t))return!0;const i=Object.prototype.toString.call(t);return"[object"===i.slice(0,7)&&"Array]"===i.slice(-6)}function Nt(t){return null!==t&&"[object Object]"===Object.prototype.toString.call(t)}const Gi=t=>("number"==typeof t||t instanceof Number)&&isFinite(+t);function Wr(t,i){return Gi(t)?t:i}function Dt(t,i){return typeof t>"u"?i:t}const rP=(t,i)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100*i:+t;function Si(t,i,e){if(t&&"function"==typeof t.call)return t.apply(e,i)}function ui(t,i,e,n){let r,s,o;if(Di(t))if(s=t.length,n)for(r=s-1;r>=0;r--)i.call(e,t[r],r);else for(r=0;r<s;r++)i.call(e,t[r],r);else if(Nt(t))for(o=Object.keys(t),s=o.length,r=0;r<s;r++)i.call(e,t[o[r]],o[r])}function tg(t,i){let e,n,r,s;if(!t||!i||t.length!==i.length)return!1;for(e=0,n=t.length;e<n;++e)if(r=t[e],s=i[e],r.datasetIndex!==s.datasetIndex||r.index!==s.index)return!1;return!0}function ig(t){if(Di(t))return t.map(ig);if(Nt(t)){const i=Object.create(null),e=Object.keys(t),n=e.length;let r=0;for(;r<n;++r)i[e[r]]=ig(t[e[r]]);return i}return t}function sP(t){return-1===["__proto__","prototype","constructor"].indexOf(t)}function aX(t,i,e,n){if(!sP(t))return;const r=i[t],s=e[t];Nt(r)&&Nt(s)?ch(r,s,n):i[t]=ig(s)}function ch(t,i,e){const n=Di(i)?i:[i],r=n.length;if(!Nt(t))return t;const s=(e=e||{}).merger||aX;for(let o=0;o<r;++o){if(!Nt(i=n[o]))continue;const a=Object.keys(i);for(let l=0,u=a.length;l<u;++l)s(a[l],t,i,e)}return t}function dh(t,i){return ch(t,i,{merger:lX})}function lX(t,i,e){if(!sP(t))return;const n=i[t],r=e[t];Nt(n)&&Nt(r)?dh(n,r):Object.prototype.hasOwnProperty.call(i,t)||(i[t]=ig(r))}const oP={"":t=>t,x:t=>t.x,y:t=>t.y};function Ko(t,i){return(oP[i]||(oP[i]=function cX(t){const i=function dX(t){const i=t.split("."),e=[];let n="";for(const r of i)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(e.push(n),n="");return e}(t);return e=>{for(const n of i){if(""===n)break;e=e&&e[n]}return e}}(i)))(t)}function xw(t){return t.charAt(0).toUpperCase()+t.slice(1)}const Yr=t=>typeof t<"u",Qo=t=>"function"==typeof t,aP=(t,i)=>{if(t.size!==i.size)return!1;for(const e of t)if(!i.has(e))return!1;return!0},Ri=Math.PI,bi=2*Ri,hX=bi+Ri,ng=Number.POSITIVE_INFINITY,fX=Ri/180,Ui=Ri/2,uh=Ri/4,lP=2*Ri/3,Gr=Math.log10,Fs=Math.sign;function cP(t){const i=Math.round(t);t=hh(t,i,t/1e3)?i:t;const e=Math.pow(10,Math.floor(Gr(t))),n=t/e;return(n<=1?1:n<=2?2:n<=5?5:10)*e}function Uc(t){return!isNaN(parseFloat(t))&&isFinite(t)}function hh(t,i,e){return Math.abs(t-i)<e}function dP(t,i,e){let n,r,s;for(n=0,r=t.length;n<r;n++)s=t[n][e],isNaN(s)||(i.min=Math.min(i.min,s),i.max=Math.max(i.max,s))}function ls(t){return t*(Ri/180)}function Ew(t){return t*(180/Ri)}function uP(t){if(!Gi(t))return;let i=1,e=0;for(;Math.round(t*i)/i!==t;)i*=10,e++;return e}function hP(t,i){const e=i.x-t.x,n=i.y-t.y,r=Math.sqrt(e*e+n*n);let s=Math.atan2(n,e);return s<-.5*Ri&&(s+=bi),{angle:s,distance:r}}function Dw(t,i){return Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2))}function gX(t,i){return(t-i+hX)%bi-Ri}function xr(t){return(t%bi+bi)%bi}function fh(t,i,e,n){const r=xr(t),s=xr(i),o=xr(e),a=xr(s-r),l=xr(o-r),u=xr(r-s),w=xr(r-o);return r===s||r===o||n&&s===o||a>l&&u<w}function En(t,i,e){return Math.max(i,Math.min(e,t))}function so(t,i,e,n=1e-6){return t>=Math.min(i,e)-n&&t<=Math.max(i,e)+n}function Sw(t,i,e){e=e||(o=>t[o]<i);let s,n=t.length-1,r=0;for(;n-r>1;)s=r+n>>1,e(s)?r=s:n=s;return{lo:r,hi:n}}const oo=(t,i,e,n)=>Sw(t,e,n?r=>t[r][i]<=e:r=>t[r][i]<e),yX=(t,i,e)=>Sw(t,e,n=>t[n][i]>=e),fP=["push","pop","shift","splice","unshift"];function pP(t,i){const e=t._chartjs;if(!e)return;const n=e.listeners,r=n.indexOf(i);-1!==r&&n.splice(r,1),!(n.length>0)&&(fP.forEach(s=>{delete t[s]}),delete t._chartjs)}function mP(t){const i=new Set;let e,n;for(e=0,n=t.length;e<n;++e)i.add(t[e]);return i.size===n?t:Array.from(i)}const gP=typeof window>"u"?function(t){return t()}:window.requestAnimationFrame;function vP(t,i,e){const n=e||(o=>Array.prototype.slice.call(o));let r=!1,s=[];return function(...o){s=n(o),r||(r=!0,gP.call(window,()=>{r=!1,t.apply(i,s)}))}}const Mw=t=>"start"===t?"left":"end"===t?"right":"center",Bn=(t,i,e)=>"start"===t?i:"end"===t?e:(i+e)/2;function yP(t,i,e){const n=i.length;let r=0,s=n;if(t._sorted){const{iScale:o,_parsed:a}=t,l=o.axis,{min:u,max:w,minDefined:R,maxDefined:z}=o.getUserBounds();R&&(r=En(Math.min(oo(a,o.axis,u).lo,e?n:oo(i,l,o.getPixelForValue(u)).lo),0,n-1)),s=z?En(Math.max(oo(a,o.axis,w,!0).hi+1,e?0:oo(i,l,o.getPixelForValue(w),!0).hi+1),r,n)-r:n-r}return{start:r,count:s}}function bP(t){const{xScale:i,yScale:e,_scaleRanges:n}=t,r={xmin:i.min,xmax:i.max,ymin:e.min,ymax:e.max};if(!n)return t._scaleRanges=r,!0;const s=n.xmin!==i.min||n.xmax!==i.max||n.ymin!==e.min||n.ymax!==e.max;return Object.assign(n,r),s}const rg=t=>0===t||1===t,_P=(t,i,e)=>-Math.pow(2,10*(t-=1))*Math.sin((t-i)*bi/e),wP=(t,i,e)=>Math.pow(2,-10*t)*Math.sin((t-i)*bi/e)+1,ph={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>1-Math.cos(t*Ui),easeOutSine:t=>Math.sin(t*Ui),easeInOutSine:t=>-.5*(Math.cos(Ri*t)-1),easeInExpo:t=>0===t?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>1===t?1:1-Math.pow(2,-10*t),easeInOutExpo:t=>rg(t)?t:t<.5?.5*Math.pow(2,10*(2*t-1)):.5*(2-Math.pow(2,-10*(2*t-1))),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>rg(t)?t:_P(t,.075,.3),easeOutElastic:t=>rg(t)?t:wP(t,.075,.3),easeInOutElastic:t=>rg(t)?t:t<.5?.5*_P(2*t,.1125,.45):.5+.5*wP(2*t-1,.1125,.45),easeInBack:t=>t*t*(2.70158*t-1.70158),easeOutBack:t=>(t-=1)*t*(2.70158*t+1.70158)+1,easeInOutBack(t){let i=1.70158;return(t/=.5)<1?t*t*((1+(i*=1.525))*t-i)*.5:.5*((t-=2)*t*((1+(i*=1.525))*t+i)+2)},easeInBounce:t=>1-ph.easeOutBounce(1-t),easeOutBounce:t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,easeInOutBounce:t=>t<.5?.5*ph.easeInBounce(2*t):.5*ph.easeOutBounce(2*t-1)+.5};function mh(t){return t+.5|0}const qo=(t,i,e)=>Math.max(Math.min(t,e),i);function gh(t){return qo(mh(2.55*t),0,255)}function Jo(t){return qo(mh(255*t),0,255)}function ao(t){return qo(mh(t/2.55)/100,0,1)}function CP(t){return qo(mh(100*t),0,100)}const Xr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Tw=[..."0123456789ABCDEF"],xX=t=>Tw[15&t],EX=t=>Tw[(240&t)>>4]+Tw[15&t],sg=t=>(240&t)>>4==(15&t);const OX=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function xP(t,i,e){const n=i*Math.min(e,1-e),r=(s,o=(s+t/30)%12)=>e-n*Math.max(Math.min(o-3,9-o,1),-1);return[r(0),r(8),r(4)]}function AX(t,i,e){const n=(r,s=(r+t/60)%6)=>e-e*i*Math.max(Math.min(s,4-s,1),0);return[n(5),n(3),n(1)]}function IX(t,i,e){const n=xP(t,1,.5);let r;for(i+e>1&&(r=1/(i+e),i*=r,e*=r),r=0;r<3;r++)n[r]*=1-i-e,n[r]+=i;return n}function Ow(t){const e=t.r/255,n=t.g/255,r=t.b/255,s=Math.max(e,n,r),o=Math.min(e,n,r),a=(s+o)/2;let l,u,w;return s!==o&&(w=s-o,u=a>.5?w/(2-s-o):w/(s+o),l=function kX(t,i,e,n,r){return t===r?(i-e)/n+(i<e?6:0):i===r?(e-t)/n+2:(t-i)/n+4}(e,n,r,w,s),l=60*l+.5),[0|l,u||0,a]}function Aw(t,i,e,n){return(Array.isArray(i)?t(i[0],i[1],i[2]):t(i,e,n)).map(Jo)}function Iw(t,i,e){return Aw(xP,t,i,e)}function EP(t){return(t%360+360)%360}const DP={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},SP={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let og;const HX=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/,kw=t=>t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055,$c=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function ag(t,i,e){if(t){let n=Ow(t);n[i]=Math.max(0,Math.min(n[i]+n[i]*e,0===i?360:1)),n=Iw(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function MP(t,i){return t&&Object.assign(i||{},t)}function TP(t){var i={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(i={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(i.a=Jo(t[3]))):(i=MP(t,{r:0,g:0,b:0,a:1})).a=Jo(i.a),i}function $X(t){return"r"===t.charAt(0)?function zX(t){const i=HX.exec(t);let n,r,s,e=255;if(i){if(i[7]!==n){const o=+i[7];e=i[8]?gh(o):qo(255*o,0,255)}return n=+i[1],r=+i[3],s=+i[5],n=255&(i[2]?gh(n):qo(n,0,255)),r=255&(i[4]?gh(r):qo(r,0,255)),s=255&(i[6]?gh(s):qo(s,0,255)),{r:n,g:r,b:s,a:e}}}(t):function NX(t){const i=OX.exec(t);let n,e=255;if(!i)return;i[5]!==n&&(e=i[6]?gh(+i[5]):Jo(+i[5]));const r=EP(+i[2]),s=+i[3]/100,o=+i[4]/100;return n="hwb"===i[1]?function PX(t,i,e){return Aw(IX,t,i,e)}(r,s,o):"hsv"===i[1]?function RX(t,i,e){return Aw(AX,t,i,e)}(r,s,o):Iw(r,s,o),{r:n[0],g:n[1],b:n[2],a:e}}(t)}class lg{constructor(i){if(i instanceof lg)return i;const e=typeof i;let n;"object"===e?n=TP(i):"string"===e&&(n=function SX(t){var e,i=t.length;return"#"===t[0]&&(4===i||5===i?e={r:255&17*Xr[t[1]],g:255&17*Xr[t[2]],b:255&17*Xr[t[3]],a:5===i?17*Xr[t[4]]:255}:(7===i||9===i)&&(e={r:Xr[t[1]]<<4|Xr[t[2]],g:Xr[t[3]]<<4|Xr[t[4]],b:Xr[t[5]]<<4|Xr[t[6]],a:9===i?Xr[t[7]]<<4|Xr[t[8]]:255})),e}(i)||function VX(t){og||(og=function BX(){const t={},i=Object.keys(SP),e=Object.keys(DP);let n,r,s,o,a;for(n=0;n<i.length;n++){for(o=a=i[n],r=0;r<e.length;r++)s=e[r],a=a.replace(s,DP[s]);s=parseInt(SP[o],16),t[a]=[s>>16&255,s>>8&255,255&s]}return t}(),og.transparent=[0,0,0,0]);const i=og[t.toLowerCase()];return i&&{r:i[0],g:i[1],b:i[2],a:4===i.length?i[3]:255}}(i)||$X(i)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var i=MP(this._rgb);return i&&(i.a=ao(i.a)),i}set rgb(i){this._rgb=TP(i)}rgbString(){return this._valid?function jX(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ao(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}(this._rgb):void 0}hexString(){return this._valid?function TX(t){var i=(t=>sg(t.r)&&sg(t.g)&&sg(t.b)&&sg(t.a))(t)?xX:EX;return t?"#"+i(t.r)+i(t.g)+i(t.b)+((t,i)=>t<255?i(t):"")(t.a,i):void 0}(this._rgb):void 0}hslString(){return this._valid?function LX(t){if(!t)return;const i=Ow(t),e=i[0],n=CP(i[1]),r=CP(i[2]);return t.a<255?`hsla(${e}, ${n}%, ${r}%, ${ao(t.a)})`:`hsl(${e}, ${n}%, ${r}%)`}(this._rgb):void 0}mix(i,e){if(i){const n=this.rgb,r=i.rgb;let s;const o=e===s?.5:e,a=2*o-1,l=n.a-r.a,u=((a*l==-1?a:(a+l)/(1+a*l))+1)/2;s=1-u,n.r=255&u*n.r+s*r.r+.5,n.g=255&u*n.g+s*r.g+.5,n.b=255&u*n.b+s*r.b+.5,n.a=o*n.a+(1-o)*r.a,this.rgb=n}return this}interpolate(i,e){return i&&(this._rgb=function UX(t,i,e){const n=$c(ao(t.r)),r=$c(ao(t.g)),s=$c(ao(t.b));return{r:Jo(kw(n+e*($c(ao(i.r))-n))),g:Jo(kw(r+e*($c(ao(i.g))-r))),b:Jo(kw(s+e*($c(ao(i.b))-s))),a:t.a+e*(i.a-t.a)}}(this._rgb,i._rgb,e)),this}clone(){return new lg(this.rgb)}alpha(i){return this._rgb.a=Jo(i),this}clearer(i){return this._rgb.a*=1-i,this}greyscale(){const i=this._rgb,e=mh(.3*i.r+.59*i.g+.11*i.b);return i.r=i.g=i.b=e,this}opaquer(i){return this._rgb.a*=1+i,this}negate(){const i=this._rgb;return i.r=255-i.r,i.g=255-i.g,i.b=255-i.b,this}lighten(i){return ag(this._rgb,2,i),this}darken(i){return ag(this._rgb,2,-i),this}saturate(i){return ag(this._rgb,1,i),this}desaturate(i){return ag(this._rgb,1,-i),this}rotate(i){return function FX(t,i){var e=Ow(t);e[0]=EP(e[0]+i),e=Iw(e),t.r=e[0],t.g=e[1],t.b=e[2]}(this._rgb,i),this}}function OP(t){return new lg(t)}function AP(t){if(t&&"object"==typeof t){const i=t.toString();return"[object CanvasPattern]"===i||"[object CanvasGradient]"===i}return!1}function IP(t){return AP(t)?t:OP(t)}function Pw(t){return AP(t)?t:OP(t).saturate(.5).darken(.1).hexString()}const Qa=Object.create(null),Rw=Object.create(null);function vh(t,i){if(!i)return t;const e=i.split(".");for(let n=0,r=e.length;n<r;++n){const s=e[n];t=t[s]||(t[s]=Object.create(null))}return t}function Nw(t,i,e){return"string"==typeof i?ch(vh(t,i),e):ch(vh(t,""),i)}var Bt=new class WX{constructor(i){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,n)=>Pw(n.backgroundColor),this.hoverBorderColor=(e,n)=>Pw(n.borderColor),this.hoverColor=(e,n)=>Pw(n.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(i)}set(i,e){return Nw(this,i,e)}get(i){return vh(this,i)}describe(i,e){return Nw(Rw,i,e)}override(i,e){return Nw(Qa,i,e)}route(i,e,n,r){const s=vh(this,i),o=vh(this,n),a="_"+e;Object.defineProperties(s,{[a]:{value:s[e],writable:!0},[e]:{enumerable:!0,get(){const l=this[a],u=o[r];return Nt(l)?Object.assign({},u,l):Dt(l,u)},set(l){this[a]=l}}})}}({_scriptable:t=>!t.startsWith("on"),_indexable:t=>"events"!==t,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}});function cg(t,i,e,n,r){let s=i[r];return s||(s=i[r]=t.measureText(r).width,e.push(r)),s>n&&(n=s),n}function GX(t,i,e,n){let r=(n=n||{}).data=n.data||{},s=n.garbageCollect=n.garbageCollect||[];n.font!==i&&(r=n.data={},s=n.garbageCollect=[],n.font=i),t.save(),t.font=i;let o=0;const a=e.length;let l,u,w,R,z;for(l=0;l<a;l++)if(R=e[l],null!=R&&!0!==Di(R))o=cg(t,r,s,o,R);else if(Di(R))for(u=0,w=R.length;u<w;u++)z=R[u],null!=z&&!Di(z)&&(o=cg(t,r,s,o,z));t.restore();const G=s.length/2;if(G>e.length){for(l=0;l<G;l++)delete r[s[l]];s.splice(0,G)}return o}function qa(t,i,e){const n=t.currentDevicePixelRatio,r=0!==e?Math.max(e/2,.5):0;return Math.round((i-r)*n)/n+r}function kP(t,i){(i=i||t.getContext("2d")).save(),i.resetTransform(),i.clearRect(0,0,t.width,t.height),i.restore()}function Fw(t,i,e,n){PP(t,i,e,n,null)}function PP(t,i,e,n,r){let s,o,a,l,u,w;const R=i.pointStyle,z=i.rotation,G=i.radius;let X=(z||0)*fX;if(R&&"object"==typeof R&&(s=R.toString(),"[object HTMLImageElement]"===s||"[object HTMLCanvasElement]"===s))return t.save(),t.translate(e,n),t.rotate(X),t.drawImage(R,-R.width/2,-R.height/2,R.width,R.height),void t.restore();if(!(isNaN(G)||G<=0)){switch(t.beginPath(),R){default:r?t.ellipse(e,n,r/2,G,0,0,bi):t.arc(e,n,G,0,bi),t.closePath();break;case"triangle":t.moveTo(e+Math.sin(X)*G,n-Math.cos(X)*G),X+=lP,t.lineTo(e+Math.sin(X)*G,n-Math.cos(X)*G),X+=lP,t.lineTo(e+Math.sin(X)*G,n-Math.cos(X)*G),t.closePath();break;case"rectRounded":u=.516*G,l=G-u,o=Math.cos(X+uh)*l,a=Math.sin(X+uh)*l,t.arc(e-o,n-a,u,X-Ri,X-Ui),t.arc(e+a,n-o,u,X-Ui,X),t.arc(e+o,n+a,u,X,X+Ui),t.arc(e-a,n+o,u,X+Ui,X+Ri),t.closePath();break;case"rect":if(!z){l=Math.SQRT1_2*G,w=r?r/2:l,t.rect(e-w,n-l,2*w,2*l);break}X+=uh;case"rectRot":o=Math.cos(X)*G,a=Math.sin(X)*G,t.moveTo(e-o,n-a),t.lineTo(e+a,n-o),t.lineTo(e+o,n+a),t.lineTo(e-a,n+o),t.closePath();break;case"crossRot":X+=uh;case"cross":o=Math.cos(X)*G,a=Math.sin(X)*G,t.moveTo(e-o,n-a),t.lineTo(e+o,n+a),t.moveTo(e+a,n-o),t.lineTo(e-a,n+o);break;case"star":o=Math.cos(X)*G,a=Math.sin(X)*G,t.moveTo(e-o,n-a),t.lineTo(e+o,n+a),t.moveTo(e+a,n-o),t.lineTo(e-a,n+o),X+=uh,o=Math.cos(X)*G,a=Math.sin(X)*G,t.moveTo(e-o,n-a),t.lineTo(e+o,n+a),t.moveTo(e+a,n-o),t.lineTo(e-a,n+o);break;case"line":o=r?r/2:Math.cos(X)*G,a=Math.sin(X)*G,t.moveTo(e-o,n-a),t.lineTo(e+o,n+a);break;case"dash":t.moveTo(e,n),t.lineTo(e+Math.cos(X)*G,n+Math.sin(X)*G)}t.fill(),i.borderWidth>0&&t.stroke()}}function yh(t,i,e){return e=e||.5,!i||t&&t.x>i.left-e&&t.x<i.right+e&&t.y>i.top-e&&t.y<i.bottom+e}function dg(t,i){t.save(),t.beginPath(),t.rect(i.left,i.top,i.right-i.left,i.bottom-i.top),t.clip()}function ug(t){t.restore()}function XX(t,i,e,n,r){if(!i)return t.lineTo(e.x,e.y);if("middle"===r){const s=(i.x+e.x)/2;t.lineTo(s,i.y),t.lineTo(s,e.y)}else"after"===r!=!!n?t.lineTo(i.x,e.y):t.lineTo(e.x,i.y);t.lineTo(e.x,e.y)}function ZX(t,i,e,n){if(!i)return t.lineTo(e.x,e.y);t.bezierCurveTo(n?i.cp1x:i.cp2x,n?i.cp1y:i.cp2y,n?e.cp2x:e.cp1x,n?e.cp2y:e.cp1y,e.x,e.y)}function Ja(t,i,e,n,r,s={}){const o=Di(i)?i:[i],a=s.strokeWidth>0&&""!==s.strokeColor;let l,u;for(t.save(),t.font=r.string,function KX(t,i){i.translation&&t.translate(i.translation[0],i.translation[1]),Xt(i.rotation)||t.rotate(i.rotation),i.color&&(t.fillStyle=i.color),i.textAlign&&(t.textAlign=i.textAlign),i.textBaseline&&(t.textBaseline=i.textBaseline)}(t,s),l=0;l<o.length;++l)u=o[l],a&&(s.strokeColor&&(t.strokeStyle=s.strokeColor),Xt(s.strokeWidth)||(t.lineWidth=s.strokeWidth),t.strokeText(u,e,n,s.maxWidth)),t.fillText(u,e,n,s.maxWidth),QX(t,e,n,u,s),n+=r.lineHeight;t.restore()}function QX(t,i,e,n,r){if(r.strikethrough||r.underline){const s=t.measureText(n),o=i-s.actualBoundingBoxLeft,a=i+s.actualBoundingBoxRight,u=e+s.actualBoundingBoxDescent,w=r.strikethrough?(e-s.actualBoundingBoxAscent+u)/2:u;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(o,w),t.lineTo(a,w),t.stroke()}}function bh(t,i){const{x:e,y:n,w:r,h:s,radius:o}=i;t.arc(e+o.topLeft,n+o.topLeft,o.topLeft,-Ui,Ri,!0),t.lineTo(e,n+s-o.bottomLeft),t.arc(e+o.bottomLeft,n+s-o.bottomLeft,o.bottomLeft,Ri,Ui,!0),t.lineTo(e+r-o.bottomRight,n+s),t.arc(e+r-o.bottomRight,n+s-o.bottomRight,o.bottomRight,Ui,0,!0),t.lineTo(e+r,n+o.topRight),t.arc(e+r-o.topRight,n+o.topRight,o.topRight,0,-Ui,!0),t.lineTo(e+o.topLeft,n)}const qX=new RegExp(/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/),JX=new RegExp(/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/);function eZ(t,i){const e=(""+t).match(qX);if(!e||"normal"===e[1])return 1.2*i;switch(t=+e[2],e[3]){case"px":return t;case"%":t/=100}return i*t}const tZ=t=>+t||0;function Lw(t,i){const e={},n=Nt(i),r=n?Object.keys(i):i,s=Nt(t)?n?o=>Dt(t[o],t[i[o]]):o=>t[o]:()=>t;for(const o of r)e[o]=tZ(s(o));return e}function RP(t){return Lw(t,{top:"y",right:"x",bottom:"y",left:"x"})}function el(t){return Lw(t,["topLeft","topRight","bottomLeft","bottomRight"])}function Vn(t){const i=RP(t);return i.width=i.left+i.right,i.height=i.top+i.bottom,i}function gn(t,i){let e=Dt((t=t||{}).size,(i=i||Bt.font).size);"string"==typeof e&&(e=parseInt(e,10));let n=Dt(t.style,i.style);n&&!(""+n).match(JX)&&(console.warn('Invalid font style specified: "'+n+'"'),n="");const r={family:Dt(t.family,i.family),lineHeight:eZ(Dt(t.lineHeight,i.lineHeight),e),size:e,style:n,weight:Dt(t.weight,i.weight),string:""};return r.string=function YX(t){return!t||Xt(t.size)||Xt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}(r),r}function _h(t,i,e,n){let s,o,a,r=!0;for(s=0,o=t.length;s<o;++s)if(a=t[s],void 0!==a&&(void 0!==i&&"function"==typeof a&&(a=a(i),r=!1),void 0!==e&&Di(a)&&(a=a[e%a.length],r=!1),void 0!==a))return n&&!r&&(n.cacheable=!1),a}function ea(t,i){return Object.assign(Object.create(t),i)}function Bw(t,i=[""],e=t,n,r=(()=>t[0])){Yr(n)||(n=VP("_fallback",t));const s={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:e,_fallback:n,_getTarget:r,override:o=>Bw([o,...t],i,e,n)};return new Proxy(s,{deleteProperty:(o,a)=>(delete o[a],delete o._keys,delete t[0][a],!0),get:(o,a)=>FP(o,a,()=>function dZ(t,i,e,n){let r;for(const s of i)if(r=VP(nZ(s,t),e),Yr(r))return Vw(t,r)?Hw(e,n,t,r):r}(a,i,t,o)),getOwnPropertyDescriptor:(o,a)=>Reflect.getOwnPropertyDescriptor(o._scopes[0],a),getPrototypeOf:()=>Reflect.getPrototypeOf(t[0]),has:(o,a)=>HP(o).includes(a),ownKeys:o=>HP(o),set(o,a,l){const u=o._storage||(o._storage=r());return o[a]=u[a]=l,delete o._keys,!0}})}function Wc(t,i,e,n){const r={_cacheable:!1,_proxy:t,_context:i,_subProxy:e,_stack:new Set,_descriptors:NP(t,n),setContext:s=>Wc(t,s,e,n),override:s=>Wc(t.override(s),i,e,n)};return new Proxy(r,{deleteProperty:(s,o)=>(delete s[o],delete t[o],!0),get:(s,o,a)=>FP(s,o,()=>function rZ(t,i,e){const{_proxy:n,_context:r,_subProxy:s,_descriptors:o}=t;let a=n[i];return Qo(a)&&o.isScriptable(i)&&(a=function sZ(t,i,e,n){const{_proxy:r,_context:s,_subProxy:o,_stack:a}=e;if(a.has(t))throw new Error("Recursion detected: "+Array.from(a).join("->")+"->"+t);return a.add(t),i=i(s,o||n),a.delete(t),Vw(t,i)&&(i=Hw(r._scopes,r,t,i)),i}(i,a,t,e)),Di(a)&&a.length&&(a=function oZ(t,i,e,n){const{_proxy:r,_context:s,_subProxy:o,_descriptors:a}=e;if(Yr(s.index)&&n(t))i=i[s.index%i.length];else if(Nt(i[0])){const l=i,u=r._scopes.filter(w=>w!==l);i=[];for(const w of l){const R=Hw(u,r,t,w);i.push(Wc(R,s,o&&o[t],a))}}return i}(i,a,t,o.isIndexable)),Vw(i,a)&&(a=Wc(a,r,s&&s[i],o)),a}(s,o,a)),getOwnPropertyDescriptor:(s,o)=>s._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o),getPrototypeOf:()=>Reflect.getPrototypeOf(t),has:(s,o)=>Reflect.has(t,o),ownKeys:()=>Reflect.ownKeys(t),set:(s,o,a)=>(t[o]=a,delete s[o],!0)})}function NP(t,i={scriptable:!0,indexable:!0}){const{_scriptable:e=i.scriptable,_indexable:n=i.indexable,_allKeys:r=i.allKeys}=t;return{allKeys:r,scriptable:e,indexable:n,isScriptable:Qo(e)?e:()=>e,isIndexable:Qo(n)?n:()=>n}}const nZ=(t,i)=>t?t+xw(i):i,Vw=(t,i)=>Nt(i)&&"adapters"!==t&&(null===Object.getPrototypeOf(i)||i.constructor===Object);function FP(t,i,e){if(Object.prototype.hasOwnProperty.call(t,i))return t[i];const n=e();return t[i]=n,n}function LP(t,i,e){return Qo(t)?t(i,e):t}const aZ=(t,i)=>!0===t?i:"string"==typeof t?Ko(i,t):void 0;function lZ(t,i,e,n,r){for(const s of i){const o=aZ(e,s);if(o){t.add(o);const a=LP(o._fallback,e,r);if(Yr(a)&&a!==e&&a!==n)return a}else if(!1===o&&Yr(n)&&e!==n)return null}return!1}function Hw(t,i,e,n){const r=i._rootScopes,s=LP(i._fallback,e,n),o=[...t,...r],a=new Set;a.add(n);let l=BP(a,o,e,s||e,n);return!(null===l||Yr(s)&&s!==e&&(l=BP(a,o,s,l,n),null===l))&&Bw(Array.from(a),[""],r,s,()=>function cZ(t,i,e){const n=t._getTarget();i in n||(n[i]={});const r=n[i];return Di(r)&&Nt(e)?e:r}(i,e,n))}function BP(t,i,e,n,r){for(;e;)e=lZ(t,i,e,n,r);return e}function VP(t,i){for(const e of i){if(!e)continue;const n=e[t];if(Yr(n))return n}}function HP(t){let i=t._keys;return i||(i=t._keys=function uZ(t){const i=new Set;for(const e of t)for(const n of Object.keys(e).filter(r=>!r.startsWith("_")))i.add(n);return Array.from(i)}(t._scopes)),i}function zP(t,i,e,n){const{iScale:r}=t,{key:s="r"}=this._parsing,o=new Array(n);let a,l,u,w;for(a=0,l=n;a<l;++a)u=a+e,w=i[u],o[a]={r:r.parse(Ko(w,s),u)};return o}const hZ=Number.EPSILON||1e-14,Yc=(t,i)=>i<t.length&&!t[i].skip&&t[i],jP=t=>"x"===t?"y":"x";function fZ(t,i,e,n){const r=t.skip?i:t,s=i,o=e.skip?i:e,a=Dw(s,r),l=Dw(o,s);let u=a/(a+l),w=l/(a+l);u=isNaN(u)?0:u,w=isNaN(w)?0:w;const R=n*u,z=n*w;return{previous:{x:s.x-R*(o.x-r.x),y:s.y-R*(o.y-r.y)},next:{x:s.x+z*(o.x-r.x),y:s.y+z*(o.y-r.y)}}}function hg(t,i,e){return Math.max(Math.min(t,e),i)}function yZ(t,i,e,n,r){let s,o,a,l;if(i.spanGaps&&(t=t.filter(u=>!u.skip)),"monotone"===i.cubicInterpolationMode)!function gZ(t,i="x"){const e=jP(i),n=t.length,r=Array(n).fill(0),s=Array(n);let o,a,l,u=Yc(t,0);for(o=0;o<n;++o)if(a=l,l=u,u=Yc(t,o+1),l){if(u){const w=u[i]-l[i];r[o]=0!==w?(u[e]-l[e])/w:0}s[o]=a?u?Fs(r[o-1])!==Fs(r[o])?0:(r[o-1]+r[o])/2:r[o-1]:r[o]}(function pZ(t,i,e){const n=t.length;let r,s,o,a,l,u=Yc(t,0);for(let w=0;w<n-1;++w)if(l=u,u=Yc(t,w+1),l&&u){if(hh(i[w],0,hZ)){e[w]=e[w+1]=0;continue}r=e[w]/i[w],s=e[w+1]/i[w],a=Math.pow(r,2)+Math.pow(s,2),!(a<=9)&&(o=3/Math.sqrt(a),e[w]=r*o*i[w],e[w+1]=s*o*i[w])}})(t,r,s),function mZ(t,i,e="x"){const n=jP(e),r=t.length;let s,o,a,l=Yc(t,0);for(let u=0;u<r;++u){if(o=a,a=l,l=Yc(t,u+1),!a)continue;const w=a[e],R=a[n];o&&(s=(w-o[e])/3,a[`cp1${e}`]=w-s,a[`cp1${n}`]=R-s*i[u]),l&&(s=(l[e]-w)/3,a[`cp2${e}`]=w+s,a[`cp2${n}`]=R+s*i[u])}}(t,s,i)}(t,r);else{let u=n?t[t.length-1]:t[0];for(s=0,o=t.length;s<o;++s)a=t[s],l=fZ(u,a,t[Math.min(s+1,o-(n?0:1))%o],i.tension),a.cp1x=l.previous.x,a.cp1y=l.previous.y,a.cp2x=l.next.x,a.cp2y=l.next.y,u=a}i.capBezierPoints&&function vZ(t,i){let e,n,r,s,o,a=yh(t[0],i);for(e=0,n=t.length;e<n;++e)o=s,s=a,a=e<n-1&&yh(t[e+1],i),s&&(r=t[e],o&&(r.cp1x=hg(r.cp1x,i.left,i.right),r.cp1y=hg(r.cp1y,i.top,i.bottom)),a&&(r.cp2x=hg(r.cp2x,i.left,i.right),r.cp2y=hg(r.cp2y,i.top,i.bottom)))}(t,e)}function UP(){return typeof window<"u"&&typeof document<"u"}function zw(t){let i=t.parentNode;return i&&"[object ShadowRoot]"===i.toString()&&(i=i.host),i}function fg(t,i,e){let n;return"string"==typeof t?(n=parseInt(t,10),-1!==t.indexOf("%")&&(n=n/100*i.parentNode[e])):n=t,n}const pg=t=>window.getComputedStyle(t,null),_Z=["top","right","bottom","left"];function tl(t,i,e){const n={};e=e?"-"+e:"";for(let r=0;r<4;r++){const s=_Z[r];n[s]=parseFloat(t[i+"-"+s+e])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const wZ=(t,i,e)=>(t>0||i>0)&&(!e||!e.shadowRoot);function il(t,i){if("native"in t)return t;const{canvas:e,currentDevicePixelRatio:n}=i,r=pg(e),s="border-box"===r.boxSizing,o=tl(r,"padding"),a=tl(r,"border","width"),{x:l,y:u,box:w}=function CZ(t,i){const e=t.touches,n=e&&e.length?e[0]:t,{offsetX:r,offsetY:s}=n;let a,l,o=!1;if(wZ(r,s,t.target))a=r,l=s;else{const u=i.getBoundingClientRect();a=n.clientX-u.left,l=n.clientY-u.top,o=!0}return{x:a,y:l,box:o}}(t,e),R=o.left+(w&&a.left),z=o.top+(w&&a.top);let{width:G,height:X}=i;return s&&(G-=o.width+a.width,X-=o.height+a.height),{x:Math.round((l-R)/G*e.width/n),y:Math.round((u-z)/X*e.height/n)}}const jw=t=>Math.round(10*t)/10;function $P(t,i,e){const n=i||1,r=Math.floor(t.height*n),s=Math.floor(t.width*n);t.height=r/n,t.width=s/n;const o=t.canvas;return o.style&&(e||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),(t.currentDevicePixelRatio!==n||o.height!==r||o.width!==s)&&(t.currentDevicePixelRatio=n,o.height=r,o.width=s,t.ctx.setTransform(n,0,0,n,0,0),!0)}const DZ=function(){let t=!1;try{const i={get passive(){return t=!0,!1}};window.addEventListener("test",null,i),window.removeEventListener("test",null,i)}catch{}return t}();function WP(t,i){const e=function bZ(t,i){return pg(t).getPropertyValue(i)}(t,i),n=e&&e.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function nl(t,i,e,n){return{x:t.x+e*(i.x-t.x),y:t.y+e*(i.y-t.y)}}function SZ(t,i,e,n){return{x:t.x+e*(i.x-t.x),y:"middle"===n?e<.5?t.y:i.y:"after"===n?e<1?t.y:i.y:e>0?i.y:t.y}}function MZ(t,i,e,n){const r={x:t.cp2x,y:t.cp2y},s={x:i.cp1x,y:i.cp1y},o=nl(t,r,e),a=nl(r,s,e),l=nl(s,i,e),u=nl(o,a,e),w=nl(a,l,e);return nl(u,w,e)}const YP=new Map;function wh(t,i,e){return function TZ(t,i){i=i||{};const e=t+JSON.stringify(i);let n=YP.get(e);return n||(n=new Intl.NumberFormat(t,i),YP.set(e,n)),n}(i,e).format(t)}function Gc(t,i,e){return t?function(t,i){return{x:e=>t+t+i-e,setWidth(e){i=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,n)=>e-n,leftForLtr:(e,n)=>e-n}}(i,e):{x:t=>t,setWidth(t){},textAlign:t=>t,xPlus:(t,i)=>t+i,leftForLtr:(t,i)=>t}}function GP(t,i){let e,n;("ltr"===i||"rtl"===i)&&(e=t.canvas.style,n=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",i,"important"),t.prevTextDirection=n)}function XP(t,i){void 0!==i&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",i[0],i[1]))}function ZP(t){return"angle"===t?{between:fh,compare:gX,normalize:xr}:{between:so,compare:(i,e)=>i-e,normalize:i=>i}}function KP({start:t,end:i,count:e,loop:n,style:r}){return{start:t%e,end:i%e,loop:n&&(i-t+1)%e==0,style:r}}function QP(t,i,e){if(!e)return[t];const{property:n,start:r,end:s}=e,o=i.length,{compare:a,between:l,normalize:u}=ZP(n),{start:w,end:R,loop:z,style:G}=function IZ(t,i,e){const{property:n,start:r,end:s}=e,{between:o,normalize:a}=ZP(n),l=i.length;let z,G,{start:u,end:w,loop:R}=t;if(R){for(u+=l,w+=l,z=0,G=l;z<G&&o(a(i[u%l][n]),r,s);++z)u--,w--;u%=l,w%=l}return w<u&&(w+=l),{start:u,end:w,loop:R,style:t.style}}(t,i,e),X=[];let ae,ce,fe,Q=!1,ne=null;for(let Ke=w,et=w;Ke<=R;++Ke)ce=i[Ke%o],!ce.skip&&(ae=u(ce[n]),ae!==fe&&(Q=l(ae,r,s),null===ne&&(Q||l(r,fe,ae)&&0!==a(r,fe))&&(ne=0===a(ae,r)?Ke:et),null!==ne&&(!Q||0===a(s,ae)||l(s,fe,ae))&&(X.push(KP({start:ne,end:Ke,loop:z,count:o,style:G})),ne=null),et=Ke,fe=ae));return null!==ne&&X.push(KP({start:ne,end:R,loop:z,count:o,style:G})),X}function qP(t,i){const e=[],n=t.segments;for(let r=0;r<n.length;r++){const s=QP(n[r],t.points,i);s.length&&e.push(...s)}return e}function eR(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function FZ(t,i){return i&&JSON.stringify(t)!==JSON.stringify(i)}var lo=new class LZ{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(i,e,n,r){const o=e.duration;e.listeners[r].forEach(a=>a({chart:i,initial:e.initial,numSteps:o,currentStep:Math.min(n-e.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=gP.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(i=Date.now()){let e=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const s=n.items;let l,o=s.length-1,a=!1;for(;o>=0;--o)l=s[o],l._active?(l._total>n.duration&&(n.duration=l._total),l.tick(i),a=!0):(s[o]=s[s.length-1],s.pop());a&&(r.draw(),this._notify(r,n,i,"progress")),s.length||(n.running=!1,this._notify(r,n,i,"complete"),n.initial=!1),e+=s.length}),this._lastDate=i,0===e&&(this._running=!1)}_getAnims(i){const e=this._charts;let n=e.get(i);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(i,n)),n}listen(i,e,n){this._getAnims(i).listeners[e].push(n)}add(i,e){!e||!e.length||this._getAnims(i).items.push(...e)}has(i){return this._getAnims(i).items.length>0}start(i){const e=this._charts.get(i);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(i){if(!this._running)return!1;const e=this._charts.get(i);return!(!e||!e.running||!e.items.length)}stop(i){const e=this._charts.get(i);if(!e||!e.items.length)return;const n=e.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();e.items=[],this._notify(i,e,Date.now(),"complete")}remove(i){return this._charts.delete(i)}};const tR="transparent",BZ={boolean:(t,i,e)=>e>.5?i:t,color(t,i,e){const n=IP(t||tR),r=n.valid&&IP(i||tR);return r&&r.valid?r.mix(n,e).hexString():i},number:(t,i,e)=>t+(i-t)*e};class VZ{constructor(i,e,n,r){const s=e[n];r=_h([i.to,r,s,i.from]);const o=_h([i.from,s,r]);this._active=!0,this._fn=i.fn||BZ[i.type||typeof o],this._easing=ph[i.easing]||ph.linear,this._start=Math.floor(Date.now()+(i.delay||0)),this._duration=this._total=Math.floor(i.duration),this._loop=!!i.loop,this._target=e,this._prop=n,this._from=o,this._to=r,this._promises=void 0}active(){return this._active}update(i,e,n){if(this._active){this._notify(!1);const r=this._target[this._prop],s=n-this._start,o=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(o,i.duration)),this._total+=s,this._loop=!!i.loop,this._to=_h([i.to,e,r,i.from]),this._from=_h([i.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(i){const e=i-this._start,n=this._duration,r=this._prop,s=this._from,o=this._loop,a=this._to;let l;if(this._active=s!==a&&(o||e<n),!this._active)return this._target[r]=a,void this._notify(!0);e<0?this._target[r]=s:(l=e/n%2,l=o&&l>1?2-l:l,l=this._easing(Math.min(1,Math.max(0,l))),this._target[r]=this._fn(s,a,l))}wait(){const i=this._promises||(this._promises=[]);return new Promise((e,n)=>{i.push({res:e,rej:n})})}_notify(i){const e=i?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][e]()}}Bt.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0});const jZ=Object.keys(Bt.animation);Bt.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>"onProgress"!==t&&"onComplete"!==t&&"fn"!==t}),Bt.set("animations",{colors:{type:"color",properties:["color","borderColor","backgroundColor"]},numbers:{type:"number",properties:["x","y","borderWidth","radius","tension"]}}),Bt.describe("animations",{_fallback:"animation"}),Bt.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>0|t}}}});class iR{constructor(i,e){this._chart=i,this._properties=new Map,this.configure(e)}configure(i){if(!Nt(i))return;const e=this._properties;Object.getOwnPropertyNames(i).forEach(n=>{const r=i[n];if(!Nt(r))return;const s={};for(const o of jZ)s[o]=r[o];(Di(r.properties)&&r.properties||[n]).forEach(o=>{(o===n||!e.has(o))&&e.set(o,s)})})}_animateOptions(i,e){const n=e.options,r=function $Z(t,i){if(!i)return;let e=t.options;if(e)return e.$shared&&(t.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e;t.options=i}(i,n);if(!r)return[];const s=this._createAnimations(r,n);return n.$shared&&function UZ(t,i){const e=[],n=Object.keys(i);for(let r=0;r<n.length;r++){const s=t[n[r]];s&&s.active()&&e.push(s.wait())}return Promise.all(e)}(i.options.$animations,n).then(()=>{i.options=n},()=>{}),s}_createAnimations(i,e){const n=this._properties,r=[],s=i.$animations||(i.$animations={}),o=Object.keys(e),a=Date.now();let l;for(l=o.length-1;l>=0;--l){const u=o[l];if("$"===u.charAt(0))continue;if("options"===u){r.push(...this._animateOptions(i,e));continue}const w=e[u];let R=s[u];const z=n.get(u);if(R){if(z&&R.active()){R.update(z,w,a);continue}R.cancel()}z&&z.duration?(s[u]=R=new VZ(z,i,u,w),r.push(R)):i[u]=w}return r}update(i,e){if(0===this._properties.size)return void Object.assign(i,e);const n=this._createAnimations(i,e);return n.length?(lo.add(this._chart,n),!0):void 0}}function nR(t,i){const e=t&&t.options||{},n=e.reverse,r=void 0===e.min?i:0,s=void 0===e.max?i:0;return{start:n?s:r,end:n?r:s}}function rR(t,i){const e=[],n=t._getSortedDatasetMetas(i);let r,s;for(r=0,s=n.length;r<s;++r)e.push(n[r].index);return e}function sR(t,i,e,n={}){const r=t.keys,s="single"===n.mode;let o,a,l,u;if(null!==i){for(o=0,a=r.length;o<a;++o){if(l=+r[o],l===e){if(n.all)continue;break}u=t.values[l],Gi(u)&&(s||0===i||Fs(i)===Fs(u))&&(i+=u)}return i}}function oR(t,i){const e=t&&t.options.stacked;return e||void 0===e&&void 0!==i.stack}function KZ(t,i,e){const n=t[i]||(t[i]={});return n[e]||(n[e]={})}function aR(t,i,e,n){for(const r of i.getMatchingVisibleMetas(n).reverse()){const s=t[r.index];if(e&&s>0||!e&&s<0)return r.index}return null}function lR(t,i){const{chart:e,_cachedMeta:n}=t,r=e._stacks||(e._stacks={}),{iScale:s,vScale:o,index:a}=n,l=s.axis,u=o.axis,w=function XZ(t,i,e){return`${t.id}.${i.id}.${e.stack||e.type}`}(s,o,n),R=i.length;let z;for(let G=0;G<R;++G){const X=i[G],{[l]:Q,[u]:ne}=X;z=(X._stacks||(X._stacks={}))[u]=KZ(r,w,Q),z[a]=ne,z._top=aR(z,o,!0,n.type),z._bottom=aR(z,o,!1,n.type)}}function Uw(t,i){const e=t.scales;return Object.keys(e).filter(n=>e[n].axis===i).shift()}function Ch(t,i){const e=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){i=i||t._parsed;for(const r of i){const s=r._stacks;if(!s||void 0===s[n]||void 0===s[n][e])return;delete s[n][e]}}}const $w=t=>"reset"===t||"none"===t,cR=(t,i)=>i?t:Object.assign({},t);let Ls=(()=>{class t{constructor(e,n){this.chart=e,this._ctx=e.ctx,this.index=n,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=oR(e.vScale,e),this.addElements()}updateIndex(e){this.index!==e&&Ch(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,n=this._cachedMeta,r=this.getDataset(),s=(z,G,X,Q)=>"x"===z?G:"r"===z?Q:X,o=n.xAxisID=Dt(r.xAxisID,Uw(e,"x")),a=n.yAxisID=Dt(r.yAxisID,Uw(e,"y")),l=n.rAxisID=Dt(r.rAxisID,Uw(e,"r")),u=n.indexAxis,w=n.iAxisID=s(u,o,a,l),R=n.vAxisID=s(u,a,o,l);n.xScale=this.getScaleForId(o),n.yScale=this.getScaleForId(a),n.rScale=this.getScaleForId(l),n.iScale=this.getScaleForId(w),n.vScale=this.getScaleForId(R)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const n=this._cachedMeta;return e===n.iScale?n.vScale:n.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&pP(this._data,this),e._stacked&&Ch(e)}_dataCheck(){const e=this.getDataset(),n=e.data||(e.data=[]),r=this._data;if(Nt(n))this._data=function GZ(t){const i=Object.keys(t),e=new Array(i.length);let n,r,s;for(n=0,r=i.length;n<r;++n)s=i[n],e[n]={x:s,y:t[s]};return e}(n);else if(r!==n){if(r){pP(r,this);const s=this._cachedMeta;Ch(s),s._parsed=[]}n&&Object.isExtensible(n)&&function _X(t,i){t._chartjs?t._chartjs.listeners.push(i):(Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[i]}}),fP.forEach(e=>{const n="_onData"+xw(e),r=t[e];Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value(...s){const o=r.apply(this,s);return t._chartjs.listeners.forEach(a=>{"function"==typeof a[n]&&a[n](...s)}),o}})}))}(n,this),this._syncList=[],this._data=n}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const n=this._cachedMeta,r=this.getDataset();let s=!1;this._dataCheck();const o=n._stacked;n._stacked=oR(n.vScale,n),n.stack!==r.stack&&(s=!0,Ch(n),n.stack=r.stack),this._resyncElements(e),(s||o!==n._stacked)&&lR(this,n._parsed)}configure(){const e=this.chart.config,n=e.datasetScopeKeys(this._type),r=e.getOptionScopes(this.getDataset(),n,!0);this.options=e.createResolver(r,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,n){const{_cachedMeta:r,_data:s}=this,{iScale:o,_stacked:a}=r,l=o.axis;let R,z,G,u=0===e&&n===s.length||r._sorted,w=e>0&&r._parsed[e-1];if(!1===this._parsing)r._parsed=s,r._sorted=!0,G=s;else{G=Di(s[e])?this.parseArrayData(r,s,e,n):Nt(s[e])?this.parseObjectData(r,s,e,n):this.parsePrimitiveData(r,s,e,n);const X=()=>null===z[l]||w&&z[l]<w[l];for(R=0;R<n;++R)r._parsed[R+e]=z=G[R],u&&(X()&&(u=!1),w=z);r._sorted=u}a&&lR(this,G)}parsePrimitiveData(e,n,r,s){const{iScale:o,vScale:a}=e,l=o.axis,u=a.axis,w=o.getLabels(),R=o===a,z=new Array(s);let G,X,Q;for(G=0,X=s;G<X;++G)Q=G+r,z[G]={[l]:R||o.parse(w[Q],Q),[u]:a.parse(n[Q],Q)};return z}parseArrayData(e,n,r,s){const{xScale:o,yScale:a}=e,l=new Array(s);let u,w,R,z;for(u=0,w=s;u<w;++u)R=u+r,z=n[R],l[u]={x:o.parse(z[0],R),y:a.parse(z[1],R)};return l}parseObjectData(e,n,r,s){const{xScale:o,yScale:a}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,w=new Array(s);let R,z,G,X;for(R=0,z=s;R<z;++R)G=R+r,X=n[G],w[R]={x:o.parse(Ko(X,l),G),y:a.parse(Ko(X,u),G)};return w}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,n,r){const o=this._cachedMeta,a=n[e.axis];return sR({keys:rR(this.chart,!0),values:n._stacks[e.axis]},a,o.index,{mode:r})}updateRangeFromParsed(e,n,r,s){const o=r[n.axis];let a=null===o?NaN:o;const l=s&&r._stacks[n.axis];s&&l&&(s.values=l,a=sR(s,o,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,n){const r=this._cachedMeta,s=r._parsed,o=r._sorted&&e===r.iScale,a=s.length,l=this._getOtherScale(e),u=((t,i,e)=>t&&!i.hidden&&i._stacked&&{keys:rR(this.chart,!0),values:null})(n,r),w={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:R,max:z}=function ZZ(t){const{min:i,max:e,minDefined:n,maxDefined:r}=t.getUserBounds();return{min:n?i:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}(l);let G,X;function Q(){X=s[G];const ne=X[l.axis];return!Gi(X[e.axis])||R>ne||z<ne}for(G=0;G<a&&(Q()||(this.updateRangeFromParsed(w,e,X,u),!o));++G);if(o)for(G=a-1;G>=0;--G)if(!Q()){this.updateRangeFromParsed(w,e,X,u);break}return w}getAllParsedValues(e){const n=this._cachedMeta._parsed,r=[];let s,o,a;for(s=0,o=n.length;s<o;++s)a=n[s][e.axis],Gi(a)&&r.push(a);return r}getMaxOverflow(){return!1}getLabelAndValue(e){const n=this._cachedMeta,r=n.iScale,s=n.vScale,o=this.getParsed(e);return{label:r?""+r.getLabelForValue(o[r.axis]):"",value:s?""+s.getLabelForValue(o[s.axis]):""}}_update(e){const n=this._cachedMeta;this.update(e||"default"),n._clip=function YZ(t){let i,e,n,r;return Nt(t)?(i=t.top,e=t.right,n=t.bottom,r=t.left):i=e=n=r=t,{top:i,right:e,bottom:n,left:r,disabled:!1===t}}(Dt(this.options.clip,function WZ(t,i,e){if(!1===e)return!1;const n=nR(t,e),r=nR(i,e);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}(n.xScale,n.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this._cachedMeta,s=r.data||[],o=this.chart.chartArea,a=[],l=this._drawStart||0,u=this._drawCount||s.length-l,w=this.options.drawActiveElementsOnTop;let R;for(r.dataset&&r.dataset.draw(e,o,l,u),R=l;R<l+u;++R){const z=s[R];z.hidden||(z.active&&w?a.push(z):z.draw(e,o))}for(R=0;R<a.length;++R)a[R].draw(e,o)}getStyle(e,n){const r=n?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(r):this.resolveDataElementOptions(e||0,r)}getContext(e,n,r){const s=this.getDataset();let o;if(e>=0&&e<this._cachedMeta.data.length){const a=this._cachedMeta.data[e];o=a.$context||(a.$context=function qZ(t,i,e){return ea(t,{active:!1,dataIndex:i,parsed:void 0,raw:void 0,element:e,index:i,mode:"default",type:"data"})}(this.getContext(),e,a)),o.parsed=this.getParsed(e),o.raw=s.data[e],o.index=o.dataIndex=e}else o=this.$context||(this.$context=function QZ(t,i){return ea(t,{active:!1,dataset:void 0,datasetIndex:i,index:i,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),o.dataset=s,o.index=o.datasetIndex=this.index;return o.active=!!n,o.mode=r,o}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,n){return this._resolveElementOptions(this.dataElementType.id,n,e)}_resolveElementOptions(e,n="default",r){const s="active"===n,o=this._cachedDataOpts,a=e+"-"+n,l=o[a],u=this.enableOptionSharing&&Yr(r);if(l)return cR(l,u);const w=this.chart.config,R=w.datasetElementScopeKeys(this._type,e),z=s?[`${e}Hover`,"hover",e,""]:[e,""],G=w.getOptionScopes(this.getDataset(),R),X=Object.keys(Bt.elements[e]),ne=w.resolveNamedOptions(G,X,()=>this.getContext(r,s),z);return ne.$shared&&(ne.$shared=u,o[a]=Object.freeze(cR(ne,u))),ne}_resolveAnimations(e,n,r){const s=this.chart,o=this._cachedDataOpts,a=`animation-${n}`,l=o[a];if(l)return l;let u;if(!1!==s.options.animation){const R=this.chart.config,z=R.datasetAnimationScopeKeys(this._type,n),G=R.getOptionScopes(this.getDataset(),z);u=R.createResolver(G,this.getContext(e,r,n))}const w=new iR(s,u&&u.animations);return u&&u._cacheable&&(o[a]=Object.freeze(w)),w}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,n){return!n||$w(e)||this.chart._animationsDisabled}_getSharedOptions(e,n){const r=this.resolveDataElementOptions(e,n),s=this._sharedOptions,o=this.getSharedOptions(r),a=this.includeOptions(n,o)||o!==s;return this.updateSharedOptions(o,n,r),{sharedOptions:o,includeOptions:a}}updateElement(e,n,r,s){$w(s)?Object.assign(e,r):this._resolveAnimations(n,s).update(e,r)}updateSharedOptions(e,n,r){e&&!$w(n)&&this._resolveAnimations(void 0,n).update(e,r)}_setStyle(e,n,r,s){e.active=s;const o=this.getStyle(n,s);this._resolveAnimations(n,r,s).update(e,{options:!s&&this.getSharedOptions(o)||o})}removeHoverStyle(e,n,r){this._setStyle(e,r,"active",!1)}setHoverStyle(e,n,r){this._setStyle(e,r,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const n=this._data,r=this._cachedMeta.data;for(const[l,u,w]of this._syncList)this[l](u,w);this._syncList=[];const s=r.length,o=n.length,a=Math.min(o,s);a&&this.parse(0,a),o>s?this._insertElements(s,o-s,e):o<s&&this._removeElements(o,s-o)}_insertElements(e,n,r=!0){const s=this._cachedMeta,o=s.data,a=e+n;let l;const u=w=>{for(w.length+=n,l=w.length-1;l>=a;l--)w[l]=w[l-n]};for(u(o),l=e;l<a;++l)o[l]=new this.dataElementType;this._parsing&&u(s._parsed),this.parse(e,n),r&&this.updateElements(o,e,n,"reset")}updateElements(e,n,r,s){}_removeElements(e,n){const r=this._cachedMeta;if(this._parsing){const s=r._parsed.splice(e,n);r._stacked&&Ch(r,s)}r.data.splice(e,n)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[n,r,s]=e;this[n](r,s)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,n){n&&this._sync(["_removeElements",e,n]);const r=arguments.length-2;r&&this._sync(["_insertElements",e,r])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}return t.defaults={},t})();function tK(t){const i=t.iScale,e=function eK(t,i){if(!t._cache.$bar){const e=t.getMatchingVisibleMetas(i);let n=[];for(let r=0,s=e.length;r<s;r++)n=n.concat(e[r].controller.getAllParsedValues(t));t._cache.$bar=mP(n.sort((r,s)=>r-s))}return t._cache.$bar}(i,t.type);let r,s,o,a,n=i._length;const l=()=>{32767===o||-32768===o||(Yr(a)&&(n=Math.min(n,Math.abs(o-a)||n)),a=o)};for(r=0,s=e.length;r<s;++r)o=i.getPixelForValue(e[r]),l();for(a=void 0,r=0,s=i.ticks.length;r<s;++r)o=i.getPixelForTick(r),l();return n}function dR(t,i,e,n){return Di(t)?function rK(t,i,e,n){const r=e.parse(t[0],n),s=e.parse(t[1],n),o=Math.min(r,s),a=Math.max(r,s);let l=o,u=a;Math.abs(o)>Math.abs(a)&&(l=a,u=o),i[e.axis]=u,i._custom={barStart:l,barEnd:u,start:r,end:s,min:o,max:a}}(t,i,e,n):i[e.axis]=e.parse(t,n),i}function uR(t,i,e,n){const r=t.iScale,s=t.vScale,o=r.getLabels(),a=r===s,l=[];let u,w,R,z;for(u=e,w=e+n;u<w;++u)z=i[u],R={},R[r.axis]=a||r.parse(o[u],u),l.push(dR(z,R,s,u));return l}function Ww(t){return t&&void 0!==t.barStart&&void 0!==t.barEnd}function aK(t,i,e,n){let r=i.borderSkipped;const s={};if(!r)return void(t.borderSkipped=s);if(!0===r)return void(t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:o,end:a,reverse:l,top:u,bottom:w}=function oK(t){let i,e,n,r,s;return t.horizontal?(i=t.base>t.x,e="left",n="right"):(i=t.base<t.y,e="bottom",n="top"),i?(r="end",s="start"):(r="start",s="end"),{start:e,end:n,reverse:i,top:r,bottom:s}}(t);"middle"===r&&e&&(t.enableBorderRadius=!0,(e._top||0)===n?r=u:(e._bottom||0)===n?r=w:(s[hR(w,o,a,l)]=!0,r=u)),s[hR(r,o,a,l)]=!0,t.borderSkipped=s}function hR(t,i,e,n){return n?(t=function lK(t,i,e){return t===i?e:t===e?i:t}(t,i,e),t=fR(t,e,i)):t=fR(t,i,e),t}function fR(t,i,e){return"start"===t?i:"end"===t?e:t}function cK(t,{inflateAmount:i},e){t.inflateAmount="auto"===i?1===e?.33:0:i}Ls.prototype.datasetElementType=null,Ls.prototype.dataElementType=null;let dK=(()=>{class t extends Ls{parsePrimitiveData(e,n,r,s){return uR(e,n,r,s)}parseArrayData(e,n,r,s){return uR(e,n,r,s)}parseObjectData(e,n,r,s){const{iScale:o,vScale:a}=e,{xAxisKey:l="x",yAxisKey:u="y"}=this._parsing,w="x"===o.axis?l:u,R="x"===a.axis?l:u,z=[];let G,X,Q,ne;for(G=r,X=r+s;G<X;++G)ne=n[G],Q={},Q[o.axis]=o.parse(Ko(ne,w),G),z.push(dR(Ko(ne,R),Q,a,G));return z}updateRangeFromParsed(e,n,r,s){super.updateRangeFromParsed(e,n,r,s);const o=r._custom;o&&n===this._cachedMeta.vScale&&(e.min=Math.min(e.min,o.min),e.max=Math.max(e.max,o.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const n=this._cachedMeta,{iScale:r,vScale:s}=n,o=this.getParsed(e),a=o._custom,l=Ww(a)?"["+a.start+", "+a.end+"]":""+s.getLabelForValue(o[s.axis]);return{label:""+r.getLabelForValue(o[r.axis]),value:l}}initialize(){this.enableOptionSharing=!0,super.initialize(),this._cachedMeta.stack=this.getDataset().stack}update(e){const n=this._cachedMeta;this.updateElements(n.data,0,n.data.length,e)}updateElements(e,n,r,s){const o="reset"===s,{index:a,_cachedMeta:{vScale:l}}=this,u=l.getBasePixel(),w=l.isHorizontal(),R=this._getRuler(),{sharedOptions:z,includeOptions:G}=this._getSharedOptions(n,s);for(let X=n;X<n+r;X++){const Q=this.getParsed(X),ne=o||Xt(Q[l.axis])?{base:u,head:u}:this._calculateBarValuePixels(X),ae=this._calculateBarIndexPixels(X,R),ce=(Q._stacks||{})[l.axis],fe={horizontal:w,base:ne.base,enableBorderRadius:!ce||Ww(Q._custom)||a===ce._top||a===ce._bottom,x:w?ne.head:ae.center,y:w?ae.center:ne.head,height:w?ae.size:Math.abs(ne.size),width:w?Math.abs(ne.size):ae.size};G&&(fe.options=z||this.resolveDataElementOptions(X,e[X].active?"active":s));const ye=fe.options||e[X].options;aK(fe,ye,ce,a),cK(fe,ye,R.ratio),this.updateElement(e[X],X,fe,s)}}_getStacks(e,n){const{iScale:r}=this._cachedMeta,s=r.getMatchingVisibleMetas(this._type).filter(u=>u.controller.options.grouped),o=r.options.stacked,a=[],l=u=>{const w=u.controller.getParsed(n),R=w&&w[u.vScale.axis];if(Xt(R)||isNaN(R))return!0};for(const u of s)if((void 0===n||!l(u))&&((!1===o||-1===a.indexOf(u.stack)||void 0===o&&void 0===u.stack)&&a.push(u.stack),u.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getStackIndex(e,n,r){const s=this._getStacks(e,r),o=void 0!==n?s.indexOf(n):-1;return-1===o?s.length-1:o}_getRuler(){const e=this.options,n=this._cachedMeta,r=n.iScale,s=[];let o,a;for(o=0,a=n.data.length;o<a;++o)s.push(r.getPixelForValue(this.getParsed(o)[r.axis],o));const l=e.barThickness;return{min:l||tK(n),pixels:s,start:r._startPixel,end:r._endPixel,stackCount:this._getStackCount(),scale:r,grouped:e.grouped,ratio:l?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:n,_stacked:r},options:{base:s,minBarLength:o}}=this,a=s||0,l=this.getParsed(e),u=l._custom,w=Ww(u);let X,Q,R=l[n.axis],z=0,G=r?this.applyStack(n,l,r):R;G!==R&&(z=G-R,G=R),w&&(R=u.barStart,G=u.barEnd-u.barStart,0!==R&&Fs(R)!==Fs(u.barEnd)&&(z=0),z+=R);const ne=Xt(s)||w?z:s;let ae=n.getPixelForValue(ne);if(X=this.chart.getDataVisibility(e)?n.getPixelForValue(z+G):ae,Q=X-ae,Math.abs(Q)<o){Q=function sK(t,i,e){return 0!==t?Fs(t):(i.isHorizontal()?1:-1)*(i.min>=e?1:-1)}(Q,n,a)*o,R===a&&(ae-=Q/2);const ce=n.getPixelForDecimal(0),fe=n.getPixelForDecimal(1),ye=Math.min(ce,fe),me=Math.max(ce,fe);ae=Math.max(Math.min(ae,me),ye),X=ae+Q}if(ae===n.getPixelForValue(a)){const ce=Fs(Q)*n.getLineWidthForValue(a)/2;ae+=ce,Q-=ce}return{size:Q,base:ae,head:X,center:X+Q/2}}_calculateBarIndexPixels(e,n){const r=n.scale,s=this.options,o=s.skipNull,a=Dt(s.maxBarThickness,1/0);let l,u;if(n.grouped){const w=o?this._getStackCount(e):n.stackCount,R="flex"===s.barThickness?function nK(t,i,e,n){const r=i.pixels,s=r[t];let o=t>0?r[t-1]:null,a=t<r.length-1?r[t+1]:null;const l=e.categoryPercentage;null===o&&(o=s-(null===a?i.end-i.start:a-s)),null===a&&(a=s+s-o);const u=s-(s-Math.min(o,a))/2*l;return{chunk:Math.abs(a-o)/2*l/n,ratio:e.barPercentage,start:u}}(e,n,s,w):function iK(t,i,e,n){const r=e.barThickness;let s,o;return Xt(r)?(s=i.min*e.categoryPercentage,o=e.barPercentage):(s=r*n,o=1),{chunk:s/n,ratio:o,start:i.pixels[t]-s/2}}(e,n,s,w),z=this._getStackIndex(this.index,this._cachedMeta.stack,o?e:void 0);l=R.start+R.chunk*z+R.chunk/2,u=Math.min(a,R.chunk*R.ratio)}else l=r.getPixelForValue(this.getParsed(e)[r.axis],e),u=Math.min(a,n.min*n.ratio);return{base:l-u/2,head:l+u/2,center:l,size:u}}draw(){const e=this._cachedMeta,n=e.vScale,r=e.data,s=r.length;let o=0;for(;o<s;++o)null!==this.getParsed(o)[n.axis]&&r[o].draw(this._ctx)}}return t.id="bar",t.defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}},t.overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}},t})(),uK=(()=>{class t extends Ls{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,n,r,s){const o=super.parsePrimitiveData(e,n,r,s);for(let a=0;a<o.length;a++)o[a]._custom=this.resolveDataElementOptions(a+r).radius;return o}parseArrayData(e,n,r,s){const o=super.parseArrayData(e,n,r,s);for(let a=0;a<o.length;a++)o[a]._custom=Dt(n[r+a][2],this.resolveDataElementOptions(a+r).radius);return o}parseObjectData(e,n,r,s){const o=super.parseObjectData(e,n,r,s);for(let a=0;a<o.length;a++){const l=n[r+a];o[a]._custom=Dt(l&&l.r&&+l.r,this.resolveDataElementOptions(a+r).radius)}return o}getMaxOverflow(){const e=this._cachedMeta.data;let n=0;for(let r=e.length-1;r>=0;--r)n=Math.max(n,e[r].size(this.resolveDataElementOptions(r))/2);return n>0&&n}getLabelAndValue(e){const n=this._cachedMeta,{xScale:r,yScale:s}=n,o=this.getParsed(e),a=r.getLabelForValue(o.x),l=s.getLabelForValue(o.y),u=o._custom;return{label:n.label,value:"("+a+", "+l+(u?", "+u:"")+")"}}update(e){const n=this._cachedMeta.data;this.updateElements(n,0,n.length,e)}updateElements(e,n,r,s){const o="reset"===s,{iScale:a,vScale:l}=this._cachedMeta,{sharedOptions:u,includeOptions:w}=this._getSharedOptions(n,s),R=a.axis,z=l.axis;for(let G=n;G<n+r;G++){const X=e[G],Q=!o&&this.getParsed(G),ne={},ae=ne[R]=o?a.getPixelForDecimal(.5):a.getPixelForValue(Q[R]),ce=ne[z]=o?l.getBasePixel():l.getPixelForValue(Q[z]);ne.skip=isNaN(ae)||isNaN(ce),w&&(ne.options=u||this.resolveDataElementOptions(G,X.active?"active":s),o&&(ne.options.radius=0)),this.updateElement(X,G,ne,s)}}resolveDataElementOptions(e,n){const r=this.getParsed(e);let s=super.resolveDataElementOptions(e,n);s.$shared&&(s=Object.assign({},s,{$shared:!1}));const o=s.radius;return"active"!==n&&(s.radius=0),s.radius+=Dt(r&&r._custom,o),s}}return t.id="bubble",t.defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}},t.overrides={scales:{x:{type:"linear"},y:{type:"linear"}},plugins:{tooltip:{callbacks:{title:()=>""}}}},t})(),pR=(()=>{class t extends Ls{constructor(e,n){super(e,n),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,n){const r=this.getDataset().data,s=this._cachedMeta;if(!1===this._parsing)s._parsed=r;else{let a,l,o=u=>+r[u];if(Nt(r[e])){const{key:u="value"}=this._parsing;o=w=>+Ko(r[w],u)}for(a=e,l=e+n;a<l;++a)s._parsed[a]=o(a)}}_getRotation(){return ls(this.options.rotation-90)}_getCircumference(){return ls(this.options.circumference)}_getRotationExtents(){let e=bi,n=-bi;for(let r=0;r<this.chart.data.datasets.length;++r)if(this.chart.isDatasetVisible(r)){const s=this.chart.getDatasetMeta(r).controller,o=s._getRotation(),a=s._getCircumference();e=Math.min(e,o),n=Math.max(n,o+a)}return{rotation:e,circumference:n-e}}update(e){const n=this.chart,{chartArea:r}=n,s=this._cachedMeta,o=s.data,a=this.getMaxBorderWidth()+this.getMaxOffset(o)+this.options.spacing,l=Math.max((Math.min(r.width,r.height)-a)/2,0),u=Math.min(((t,i)=>"string"==typeof t&&t.endsWith("%")?parseFloat(t)/100:t/i)(this.options.cutout,l),1),w=this._getRingWeight(this.index),{circumference:R,rotation:z}=this._getRotationExtents(),{ratioX:G,ratioY:X,offsetX:Q,offsetY:ne}=function hK(t,i,e){let n=1,r=1,s=0,o=0;if(i<bi){const a=t,l=a+i,u=Math.cos(a),w=Math.sin(a),R=Math.cos(l),z=Math.sin(l),G=(fe,ye,me)=>fh(fe,a,l,!0)?1:Math.max(ye,ye*e,me,me*e),X=(fe,ye,me)=>fh(fe,a,l,!0)?-1:Math.min(ye,ye*e,me,me*e),Q=G(0,u,R),ne=G(Ui,w,z),ae=X(Ri,u,R),ce=X(Ri+Ui,w,z);n=(Q-ae)/2,r=(ne-ce)/2,s=-(Q+ae)/2,o=-(ne+ce)/2}return{ratioX:n,ratioY:r,offsetX:s,offsetY:o}}(z,R,u),fe=Math.max(Math.min((r.width-a)/G,(r.height-a)/X)/2,0),ye=rP(this.options.radius,fe),Ie=(ye-Math.max(ye*u,0))/this._getVisibleDatasetWeightTotal();this.offsetX=Q*ye,this.offsetY=ne*ye,s.total=this.calculateTotal(),this.outerRadius=ye-Ie*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-Ie*w,0),this.updateElements(o,0,o.length,e)}_circumference(e,n){const r=this.options,s=this._cachedMeta,o=this._getCircumference();return n&&r.animation.animateRotate||!this.chart.getDataVisibility(e)||null===s._parsed[e]||s.data[e].hidden?0:this.calculateCircumference(s._parsed[e]*o/bi)}updateElements(e,n,r,s){const o="reset"===s,a=this.chart,l=a.chartArea,R=(l.left+l.right)/2,z=(l.top+l.bottom)/2,G=o&&a.options.animation.animateScale,X=G?0:this.innerRadius,Q=G?0:this.outerRadius,{sharedOptions:ne,includeOptions:ae}=this._getSharedOptions(n,s);let fe,ce=this._getRotation();for(fe=0;fe<n;++fe)ce+=this._circumference(fe,o);for(fe=n;fe<n+r;++fe){const ye=this._circumference(fe,o),me=e[fe],Ie={x:R+this.offsetX,y:z+this.offsetY,startAngle:ce,endAngle:ce+ye,circumference:ye,outerRadius:Q,innerRadius:X};ae&&(Ie.options=ne||this.resolveDataElementOptions(fe,me.active?"active":s)),ce+=ye,this.updateElement(me,fe,Ie,s)}}calculateTotal(){const e=this._cachedMeta,n=e.data;let s,r=0;for(s=0;s<n.length;s++){const o=e._parsed[s];null!==o&&!isNaN(o)&&this.chart.getDataVisibility(s)&&!n[s].hidden&&(r+=Math.abs(o))}return r}calculateCircumference(e){const n=this._cachedMeta.total;return n>0&&!isNaN(e)?bi*(Math.abs(e)/n):0}getLabelAndValue(e){const r=this.chart,s=r.data.labels||[],o=wh(this._cachedMeta._parsed[e],r.options.locale);return{label:s[e]||"",value:o}}getMaxBorderWidth(e){let n=0;const r=this.chart;let s,o,a,l,u;if(!e)for(s=0,o=r.data.datasets.length;s<o;++s)if(r.isDatasetVisible(s)){a=r.getDatasetMeta(s),e=a.data,l=a.controller;break}if(!e)return 0;for(s=0,o=e.length;s<o;++s)u=l.resolveDataElementOptions(s),"inner"!==u.borderAlign&&(n=Math.max(n,u.borderWidth||0,u.hoverBorderWidth||0));return n}getMaxOffset(e){let n=0;for(let r=0,s=e.length;r<s;++r){const o=this.resolveDataElementOptions(r);n=Math.max(n,o.offset||0,o.hoverOffset||0)}return n}_getRingWeightOffset(e){let n=0;for(let r=0;r<e;++r)this.chart.isDatasetVisible(r)&&(n+=this._getRingWeight(r));return n}_getRingWeight(e){return Math.max(Dt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}return t.id="doughnut",t.defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"},t.descriptors={_scriptable:i=>"spacing"!==i,_indexable:i=>"spacing"!==i},t.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const e=i.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=i.legend.options;return e.labels.map((r,s)=>{const a=i.getDatasetMeta(0).controller.getStyle(s);return{text:r,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:n,hidden:!i.getDataVisibility(s),index:s}})}return[]}},onClick(i,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label(i){let e=i.label;const n=": "+i.formattedValue;return Di(e)?(e=e.slice(),e[0]+=n):e+=n,e}}}}},t})(),fK=(()=>{class t extends Ls{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const n=this._cachedMeta,{dataset:r,data:s=[],_dataset:o}=n,a=this.chart._animationsDisabled;let{start:l,count:u}=yP(n,s,a);this._drawStart=l,this._drawCount=u,bP(n)&&(l=0,u=s.length),r._chart=this.chart,r._datasetIndex=this.index,r._decimated=!!o._decimated,r.points=s;const w=this.resolveDatasetElementOptions(e);this.options.showLine||(w.borderWidth=0),w.segment=this.options.segment,this.updateElement(r,void 0,{animated:!a,options:w},e),this.updateElements(s,l,u,e)}updateElements(e,n,r,s){const o="reset"===s,{iScale:a,vScale:l,_stacked:u,_dataset:w}=this._cachedMeta,{sharedOptions:R,includeOptions:z}=this._getSharedOptions(n,s),G=a.axis,X=l.axis,{spanGaps:Q,segment:ne}=this.options,ae=Uc(Q)?Q:Number.POSITIVE_INFINITY,ce=this.chart._animationsDisabled||o||"none"===s;let fe=n>0&&this.getParsed(n-1);for(let ye=n;ye<n+r;++ye){const me=e[ye],Ie=this.getParsed(ye),ze=ce?me:{},Ke=Xt(Ie[X]),et=ze[G]=a.getPixelForValue(Ie[G],ye),Ut=ze[X]=o||Ke?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,Ie,u):Ie[X],ye);ze.skip=isNaN(et)||isNaN(Ut)||Ke,ze.stop=ye>0&&Math.abs(Ie[G]-fe[G])>ae,ne&&(ze.parsed=Ie,ze.raw=w.data[ye]),z&&(ze.options=R||this.resolveDataElementOptions(ye,me.active?"active":s)),ce||this.updateElement(me,ye,ze,s),fe=Ie}}getMaxOverflow(){const e=this._cachedMeta,n=e.dataset,r=n.options&&n.options.borderWidth||0,s=e.data||[];if(!s.length)return r;const o=s[0].size(this.resolveDataElementOptions(0)),a=s[s.length-1].size(this.resolveDataElementOptions(s.length-1));return Math.max(r,o,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}return t.id="line",t.defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1},t.overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}},t})(),pK=(()=>{class t extends Ls{constructor(e,n){super(e,n),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this.chart,s=r.data.labels||[],o=wh(this._cachedMeta._parsed[e].r,r.options.locale);return{label:s[e]||"",value:o}}parseObjectData(e,n,r,s){return zP.bind(this)(e,n,r,s)}update(e){const n=this._cachedMeta.data;this._updateRadius(),this.updateElements(n,0,n.length,e)}getMinMax(){const n={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return this._cachedMeta.data.forEach((r,s)=>{const o=this.getParsed(s).r;!isNaN(o)&&this.chart.getDataVisibility(s)&&(o<n.min&&(n.min=o),o>n.max&&(n.max=o))}),n}_updateRadius(){const e=this.chart,n=e.chartArea,r=e.options,s=Math.min(n.right-n.left,n.bottom-n.top),o=Math.max(s/2,0),l=(o-Math.max(r.cutoutPercentage?o/100*r.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=o-l*this.index,this.innerRadius=this.outerRadius-l}updateElements(e,n,r,s){const o="reset"===s,a=this.chart,u=a.options.animation,w=this._cachedMeta.rScale,R=w.xCenter,z=w.yCenter,G=w.getIndexAngle(0)-.5*Ri;let Q,X=G;const ne=360/this.countVisibleElements();for(Q=0;Q<n;++Q)X+=this._computeAngle(Q,s,ne);for(Q=n;Q<n+r;Q++){const ae=e[Q];let ce=X,fe=X+this._computeAngle(Q,s,ne),ye=a.getDataVisibility(Q)?w.getDistanceFromCenterForValue(this.getParsed(Q).r):0;X=fe,o&&(u.animateScale&&(ye=0),u.animateRotate&&(ce=fe=G));const me={x:R,y:z,innerRadius:0,outerRadius:ye,startAngle:ce,endAngle:fe,options:this.resolveDataElementOptions(Q,ae.active?"active":s)};this.updateElement(ae,Q,me,s)}}countVisibleElements(){let n=0;return this._cachedMeta.data.forEach((r,s)=>{!isNaN(this.getParsed(s).r)&&this.chart.getDataVisibility(s)&&n++}),n}_computeAngle(e,n,r){return this.chart.getDataVisibility(e)?ls(this.resolveDataElementOptions(e,n).angle||r):0}}return t.id="polarArea",t.defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0},t.overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(i){const e=i.data;if(e.labels.length&&e.datasets.length){const{labels:{pointStyle:n}}=i.legend.options;return e.labels.map((r,s)=>{const a=i.getDatasetMeta(0).controller.getStyle(s);return{text:r,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,lineWidth:a.borderWidth,pointStyle:n,hidden:!i.getDataVisibility(s),index:s}})}return[]}},onClick(i,e,n){n.chart.toggleDataVisibility(e.index),n.chart.update()}},tooltip:{callbacks:{title:()=>"",label:i=>i.chart.data.labels[i.dataIndex]+": "+i.formattedValue}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}},t})(),mK=(()=>{class t extends pR{}return t.id="pie",t.defaults={cutout:0,rotation:0,circumference:360,radius:"100%"},t})(),gK=(()=>{class t extends Ls{getLabelAndValue(e){const n=this._cachedMeta.vScale,r=this.getParsed(e);return{label:n.getLabels()[e],value:""+n.getLabelForValue(r[n.axis])}}parseObjectData(e,n,r,s){return zP.bind(this)(e,n,r,s)}update(e){const n=this._cachedMeta,r=n.dataset,s=n.data||[],o=n.iScale.getLabels();if(r.points=s,"resize"!==e){const a=this.resolveDatasetElementOptions(e);this.options.showLine||(a.borderWidth=0),this.updateElement(r,void 0,{_loop:!0,_fullLoop:o.length===s.length,options:a},e)}this.updateElements(s,0,s.length,e)}updateElements(e,n,r,s){const o=this._cachedMeta.rScale,a="reset"===s;for(let l=n;l<n+r;l++){const u=e[l],w=this.resolveDataElementOptions(l,u.active?"active":s),R=o.getPointPositionForValue(l,this.getParsed(l).r),z=a?o.xCenter:R.x,G=a?o.yCenter:R.y,X={x:z,y:G,angle:R.angle,skip:isNaN(z)||isNaN(G),options:w};this.updateElement(u,l,X,s)}}}return t.id="radar",t.defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}},t.overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}},t})();class cs{constructor(){this.x=void 0,this.y=void 0,this.active=!1,this.options=void 0,this.$animations=void 0}tooltipPosition(i){const{x:e,y:n}=this.getProps(["x","y"],i);return{x:e,y:n}}hasValue(){return Uc(this.x)&&Uc(this.y)}getProps(i,e){const n=this.$animations;if(!e||!n)return this;const r={};return i.forEach(s=>{r[s]=n[s]&&n[s].active()?n[s]._to:this[s]}),r}}cs.defaults={},cs.defaultRoutes=void 0;const mR={values:t=>Di(t)?t:""+t,numeric(t,i,e){if(0===t)return"0";const n=this.chart.options.locale;let r,s=t;if(e.length>1){const u=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(u<1e-4||u>1e15)&&(r="scientific"),s=function vK(t,i){let e=i.length>3?i[2].value-i[1].value:i[1].value-i[0].value;return Math.abs(e)>=1&&t!==Math.floor(t)&&(e=t-Math.floor(t)),e}(t,e)}const o=Gr(Math.abs(s)),a=Math.max(Math.min(-1*Math.floor(o),20),0),l={notation:r,minimumFractionDigits:a,maximumFractionDigits:a};return Object.assign(l,this.options.ticks.format),wh(t,n,l)},logarithmic(t,i,e){if(0===t)return"0";const n=t/Math.pow(10,Math.floor(Gr(t)));return 1===n||2===n||5===n?mR.numeric.call(this,t,i,e):""}};var mg={formatters:mR};function gg(t,i,e,n,r){const s=Dt(n,0),o=Math.min(Dt(r,t.length),t.length);let l,u,w,a=0;for(e=Math.ceil(e),r&&(l=r-n,e=l/Math.floor(l/e)),w=s;w<0;)a++,w=Math.round(s+a*e);for(u=Math.max(s,0);u<o;u++)u===w&&(i.push(t[u]),a++,w=Math.round(s+a*e))}Bt.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",grace:0,grid:{display:!0,lineWidth:1,drawBorder:!0,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,i)=>i.lineWidth,tickColor:(t,i)=>i.color,offset:!1,borderDash:[],borderDashOffset:0,borderWidth:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:mg.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),Bt.route("scale.ticks","color","","color"),Bt.route("scale.grid","color","","borderColor"),Bt.route("scale.grid","borderColor","","borderColor"),Bt.route("scale.title","color","","color"),Bt.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&"callback"!==t&&"parser"!==t,_indexable:t=>"borderDash"!==t&&"tickBorderDash"!==t}),Bt.describe("scales",{_fallback:"scale"}),Bt.describe("scale.ticks",{_scriptable:t=>"backdropPadding"!==t&&"callback"!==t,_indexable:t=>"backdropPadding"!==t});const gR=(t,i,e)=>"top"===i||"left"===i?t[i]+e:t[i]-e;function vR(t,i){const e=[],n=t.length/i,r=t.length;let s=0;for(;s<r;s+=n)e.push(t[Math.floor(s)]);return e}function DK(t,i,e){const n=t.ticks.length,r=Math.min(i,n-1),s=t._startPixel,o=t._endPixel,a=1e-6;let u,l=t.getPixelForTick(r);if(!(e&&(u=1===n?Math.max(l-s,o-l):0===i?(t.getPixelForTick(1)-l)/2:(l-t.getPixelForTick(r-1))/2,l+=r<i?u:-u,l<s-a||l>o+a)))return l}function xh(t){return t.drawTicks?t.tickLength:0}function yR(t,i){if(!t.display)return 0;const e=gn(t.font,i),n=Vn(t.padding);return(Di(t.text)?t.text.length:1)*e.lineHeight+n.height}function OK(t,i,e){let n=Mw(t);return(e&&"right"!==i||!e&&"right"===i)&&(n=(t=>"left"===t?"right":"right"===t?"left":t)(n)),n}class rl extends cs{constructor(i){super(),this.id=i.id,this.type=i.type,this.options=void 0,this.ctx=i.ctx,this.chart=i.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(i){this.options=i.setContext(this.getContext()),this.axis=i.axis,this._userMin=this.parse(i.min),this._userMax=this.parse(i.max),this._suggestedMin=this.parse(i.suggestedMin),this._suggestedMax=this.parse(i.suggestedMax)}parse(i,e){return i}getUserBounds(){let{_userMin:i,_userMax:e,_suggestedMin:n,_suggestedMax:r}=this;return i=Wr(i,Number.POSITIVE_INFINITY),e=Wr(e,Number.NEGATIVE_INFINITY),n=Wr(n,Number.POSITIVE_INFINITY),r=Wr(r,Number.NEGATIVE_INFINITY),{min:Wr(i,n),max:Wr(e,r),minDefined:Gi(i),maxDefined:Gi(e)}}getMinMax(i){let o,{min:e,max:n,minDefined:r,maxDefined:s}=this.getUserBounds();if(r&&s)return{min:e,max:n};const a=this.getMatchingVisibleMetas();for(let l=0,u=a.length;l<u;++l)o=a[l].controller.getMinMax(this,i),r||(e=Math.min(e,o.min)),s||(n=Math.max(n,o.max));return e=s&&e>n?n:e,n=r&&e>n?e:n,{min:Wr(e,Wr(n,e)),max:Wr(n,Wr(e,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const i=this.chart.data;return this.options.labels||(this.isHorizontal()?i.xLabels:i.yLabels)||i.labels||[]}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Si(this.options.beforeUpdate,[this])}update(i,e,n){const{beginAtZero:r,grace:s,ticks:o}=this.options,a=o.sampleSize;this.beforeUpdate(),this.maxWidth=i,this.maxHeight=e,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function iZ(t,i,e){const{min:n,max:r}=t,s=rP(i,(r-n)/2),o=(a,l)=>e&&0===a?0:a+l;return{min:o(n,-Math.abs(s)),max:o(r,s)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const l=a<this.ticks.length;this._convertTicksToLabels(l?vR(this.ticks,a):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||"auto"===o.source)&&(this.ticks=function yK(t,i){const e=t.options.ticks,n=e.maxTicksLimit||function bK(t){const i=t.options.offset,e=t._tickSize();return Math.floor(Math.min(t._length/e+(i?0:1),t._maxLength/e))}(t),r=e.major.enabled?function wK(t){const i=[];let e,n;for(e=0,n=t.length;e<n;e++)t[e].major&&i.push(e);return i}(i):[],s=r.length,o=r[0],a=r[s-1],l=[];if(s>n)return function CK(t,i,e,n){let o,r=0,s=e[0];for(n=Math.ceil(n),o=0;o<t.length;o++)o===s&&(i.push(t[o]),r++,s=e[r*n])}(i,l,r,s/n),l;const u=function _K(t,i,e){const n=function xK(t){const i=t.length;let e,n;if(i<2)return!1;for(n=t[0],e=1;e<i;++e)if(t[e]-t[e-1]!==n)return!1;return n}(t),r=i.length/e;if(!n)return Math.max(r,1);const s=function pX(t){const i=[],e=Math.sqrt(t);let n;for(n=1;n<e;n++)t%n==0&&(i.push(n),i.push(t/n));return e===(0|e)&&i.push(e),i.sort((r,s)=>r-s).pop(),i}(n);for(let o=0,a=s.length-1;o<a;o++){const l=s[o];if(l>r)return l}return Math.max(r,1)}(r,i,n);if(s>0){let w,R;const z=s>1?Math.round((a-o)/(s-1)):null;for(gg(i,l,u,Xt(z)?0:o-z,o),w=0,R=s-1;w<R;w++)gg(i,l,u,r[w],r[w+1]);return gg(i,l,u,a,Xt(z)?i.length:a+z),l}return gg(i,l,u),l}(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),l&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,n,i=this.options.reverse;this.isHorizontal()?(e=this.left,n=this.right):(e=this.top,n=this.bottom,i=!i),this._startPixel=e,this._endPixel=n,this._reversePixels=i,this._length=n-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Si(this.options.afterUpdate,[this])}beforeSetDimensions(){Si(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Si(this.options.afterSetDimensions,[this])}_callHooks(i){this.chart.notifyPlugins(i,this.getContext()),Si(this.options[i],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Si(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(i){const e=this.options.ticks;let n,r,s;for(n=0,r=i.length;n<r;n++)s=i[n],s.label=Si(e.callback,[s.value,n,i],this)}afterTickToLabelConversion(){Si(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Si(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const i=this.options,e=i.ticks,n=this.ticks.length,r=e.minRotation||0,s=e.maxRotation;let a,l,u,o=r;if(!this._isVisible()||!e.display||r>=s||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const w=this._getLabelSizes(),R=w.widest.width,z=w.highest.height,G=En(this.chart.width-R,0,this.maxWidth);a=i.offset?this.maxWidth/n:G/(n-1),R+6>a&&(a=G/(n-(i.offset?.5:1)),l=this.maxHeight-xh(i.grid)-e.padding-yR(i.title,this.chart.options.font),u=Math.sqrt(R*R+z*z),o=Ew(Math.min(Math.asin(En((w.highest.height+6)/a,-1,1)),Math.asin(En(l/u,-1,1))-Math.asin(En(z/u,-1,1)))),o=Math.max(r,Math.min(s,o))),this.labelRotation=o}afterCalculateLabelRotation(){Si(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Si(this.options.beforeFit,[this])}fit(){const i={width:0,height:0},{chart:e,options:{ticks:n,title:r,grid:s}}=this,o=this._isVisible(),a=this.isHorizontal();if(o){const l=yR(r,e.options.font);if(a?(i.width=this.maxWidth,i.height=xh(s)+l):(i.height=this.maxHeight,i.width=xh(s)+l),n.display&&this.ticks.length){const{first:u,last:w,widest:R,highest:z}=this._getLabelSizes(),G=2*n.padding,X=ls(this.labelRotation),Q=Math.cos(X),ne=Math.sin(X);a?i.height=Math.min(this.maxHeight,i.height+(n.mirror?0:ne*R.width+Q*z.height)+G):i.width=Math.min(this.maxWidth,i.width+(n.mirror?0:Q*R.width+ne*z.height)+G),this._calculatePadding(u,w,ne,Q)}}this._handleMargins(),a?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=i.height):(this.width=i.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(i,e,n,r){const{ticks:{align:s,padding:o},position:a}=this.options,l=0!==this.labelRotation,u="top"!==a&&"x"===this.axis;if(this.isHorizontal()){const w=this.getPixelForTick(0)-this.left,R=this.right-this.getPixelForTick(this.ticks.length-1);let z=0,G=0;l?u?(z=r*i.width,G=n*e.height):(z=n*i.height,G=r*e.width):"start"===s?G=e.width:"end"===s?z=i.width:"inner"!==s&&(z=i.width/2,G=e.width/2),this.paddingLeft=Math.max((z-w+o)*this.width/(this.width-w),0),this.paddingRight=Math.max((G-R+o)*this.width/(this.width-R),0)}else{let w=e.height/2,R=i.height/2;"start"===s?(w=0,R=i.height):"end"===s&&(w=e.height,R=0),this.paddingTop=w+o,this.paddingBottom=R+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Si(this.options.afterFit,[this])}isHorizontal(){const{axis:i,position:e}=this.options;return"top"===e||"bottom"===e||"x"===i}isFullSize(){return this.options.fullSize}_convertTicksToLabels(i){let e,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(i),e=0,n=i.length;e<n;e++)Xt(i[e].label)&&(i.splice(e,1),n--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let i=this._labelSizes;if(!i){const e=this.options.ticks.sampleSize;let n=this.ticks;e<n.length&&(n=vR(n,e)),this._labelSizes=i=this._computeLabelSizes(n,n.length)}return i}_computeLabelSizes(i,e){const{ctx:n,_longestTextCache:r}=this,s=[],o=[];let u,w,R,z,G,X,Q,ne,ae,ce,fe,a=0,l=0;for(u=0;u<e;++u){if(z=i[u].label,G=this._resolveTickFontOptions(u),n.font=X=G.string,Q=r[X]=r[X]||{data:{},gc:[]},ne=G.lineHeight,ae=ce=0,Xt(z)||Di(z)){if(Di(z))for(w=0,R=z.length;w<R;++w)fe=z[w],!Xt(fe)&&!Di(fe)&&(ae=cg(n,Q.data,Q.gc,ae,fe),ce+=ne)}else ae=cg(n,Q.data,Q.gc,ae,z),ce=ne;s.push(ae),o.push(ce),a=Math.max(ae,a),l=Math.max(ce,l)}!function SK(t,i){ui(t,e=>{const n=e.gc,r=n.length/2;let s;if(r>i){for(s=0;s<r;++s)delete e.data[n[s]];n.splice(0,r)}})}(r,e);const ye=s.indexOf(a),me=o.indexOf(l),Ie=ze=>({width:s[ze]||0,height:o[ze]||0});return{first:Ie(0),last:Ie(e-1),widest:Ie(ye),highest:Ie(me),widths:s,heights:o}}getLabelForValue(i){return i}getPixelForValue(i,e){return NaN}getValueForPixel(i){}getPixelForTick(i){const e=this.ticks;return i<0||i>e.length-1?null:this.getPixelForValue(e[i].value)}getPixelForDecimal(i){this._reversePixels&&(i=1-i);const e=this._startPixel+i*this._length;return function vX(t){return En(t,-32768,32767)}(this._alignToPixels?qa(this.chart,e,0):e)}getDecimalForPixel(i){const e=(i-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:i,max:e}=this;return i<0&&e<0?e:i>0&&e>0?i:0}getContext(i){const e=this.ticks||[];if(i>=0&&i<e.length){const n=e[i];return n.$context||(n.$context=function TK(t,i,e){return ea(t,{tick:e,index:i,type:"tick"})}(this.getContext(),i,n))}return this.$context||(this.$context=function MK(t,i){return ea(t,{scale:i,type:"scale"})}(this.chart.getContext(),this))}_tickSize(){const i=this.options.ticks,e=ls(this.labelRotation),n=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),s=this._getLabelSizes(),o=i.autoSkipPadding||0,a=s?s.widest.width+o:0,l=s?s.highest.height+o:0;return this.isHorizontal()?l*n>a*r?a/n:l/r:l*r<a*n?l/n:a/r}_isVisible(){const i=this.options.display;return"auto"!==i?!!i:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(i){const e=this.axis,n=this.chart,r=this.options,{grid:s,position:o}=r,a=s.offset,l=this.isHorizontal(),w=this.ticks.length+(a?1:0),R=xh(s),z=[],G=s.setContext(this.getContext()),X=G.drawBorder?G.borderWidth:0,Q=X/2,ne=function(Ct){return qa(n,Ct,X)};let ae,ce,fe,ye,me,Ie,ze,Ke,et,Ut,Zt,Vt;if("top"===o)ae=ne(this.bottom),Ie=this.bottom-R,Ke=ae-Q,Ut=ne(i.top)+Q,Vt=i.bottom;else if("bottom"===o)ae=ne(this.top),Ut=i.top,Vt=ne(i.bottom)-Q,Ie=ae+Q,Ke=this.top+R;else if("left"===o)ae=ne(this.right),me=this.right-R,ze=ae-Q,et=ne(i.left)+Q,Zt=i.right;else if("right"===o)ae=ne(this.left),et=i.left,Zt=ne(i.right)-Q,me=ae+Q,ze=this.left+R;else if("x"===e){if("center"===o)ae=ne((i.top+i.bottom)/2+.5);else if(Nt(o)){const Ct=Object.keys(o)[0];ae=ne(this.chart.scales[Ct].getPixelForValue(o[Ct]))}Ut=i.top,Vt=i.bottom,Ie=ae+Q,Ke=Ie+R}else if("y"===e){if("center"===o)ae=ne((i.left+i.right)/2);else if(Nt(o)){const Ct=Object.keys(o)[0];ae=ne(this.chart.scales[Ct].getPixelForValue(o[Ct]))}me=ae-Q,ze=me-R,et=i.left,Zt=i.right}const sn=Dt(r.ticks.maxTicksLimit,w),er=Math.max(1,Math.ceil(w/sn));for(ce=0;ce<w;ce+=er){const Ct=s.setContext(this.getContext(ce)),on=Ct.lineWidth,Xi=Ct.color,al=Ct.borderDash||[],uC=Ct.borderDashOffset,Kc=Ct.tickWidth,Rg=Ct.tickColor,Qc=Ct.tickBorderDash||[],Ph=Ct.tickBorderDashOffset;fe=DK(this,ce,a),void 0!==fe&&(ye=qa(n,fe,on),l?me=ze=et=Zt=ye:Ie=Ke=Ut=Vt=ye,z.push({tx1:me,ty1:Ie,tx2:ze,ty2:Ke,x1:et,y1:Ut,x2:Zt,y2:Vt,width:on,color:Xi,borderDash:al,borderDashOffset:uC,tickWidth:Kc,tickColor:Rg,tickBorderDash:Qc,tickBorderDashOffset:Ph}))}return this._ticksLength=w,this._borderValue=ae,z}_computeLabelItems(i){const e=this.axis,n=this.options,{position:r,ticks:s}=n,o=this.isHorizontal(),a=this.ticks,{align:l,crossAlign:u,padding:w,mirror:R}=s,z=xh(n.grid),G=z+w,X=R?-w:G,Q=-ls(this.labelRotation),ne=[];let ae,ce,fe,ye,me,Ie,ze,Ke,et,Ut,Zt,Vt,sn="middle";if("top"===r)Ie=this.bottom-X,ze=this._getXAxisLabelAlignment();else if("bottom"===r)Ie=this.top+X,ze=this._getXAxisLabelAlignment();else if("left"===r){const Ct=this._getYAxisLabelAlignment(z);ze=Ct.textAlign,me=Ct.x}else if("right"===r){const Ct=this._getYAxisLabelAlignment(z);ze=Ct.textAlign,me=Ct.x}else if("x"===e){if("center"===r)Ie=(i.top+i.bottom)/2+G;else if(Nt(r)){const Ct=Object.keys(r)[0];Ie=this.chart.scales[Ct].getPixelForValue(r[Ct])+G}ze=this._getXAxisLabelAlignment()}else if("y"===e){if("center"===r)me=(i.left+i.right)/2-G;else if(Nt(r)){const Ct=Object.keys(r)[0];me=this.chart.scales[Ct].getPixelForValue(r[Ct])}ze=this._getYAxisLabelAlignment(z).textAlign}"y"===e&&("start"===l?sn="top":"end"===l&&(sn="bottom"));const er=this._getLabelSizes();for(ae=0,ce=a.length;ae<ce;++ae){fe=a[ae],ye=fe.label;const Ct=s.setContext(this.getContext(ae));Ke=this.getPixelForTick(ae)+s.labelOffset,et=this._resolveTickFontOptions(ae),Ut=et.lineHeight,Zt=Di(ye)?ye.length:1;const on=Zt/2,Xi=Ct.color,al=Ct.textStrokeColor,uC=Ct.textStrokeWidth;let Rg,Kc=ze;if(o?(me=Ke,"inner"===ze&&(Kc=ae===ce-1?this.options.reverse?"left":"right":0===ae?this.options.reverse?"right":"left":"center"),Vt="top"===r?"near"===u||0!==Q?-Zt*Ut+Ut/2:"center"===u?-er.highest.height/2-on*Ut+Ut:Ut/2-er.highest.height:"near"===u||0!==Q?Ut/2:"center"===u?er.highest.height/2-on*Ut:er.highest.height-Zt*Ut,R&&(Vt*=-1)):(Ie=Ke,Vt=(1-Zt)*Ut/2),Ct.showLabelBackdrop){const Qc=Vn(Ct.backdropPadding),Ph=er.heights[ae],hC=er.widths[ae];let fC=Ie+Vt-Qc.top,pC=me-Qc.left;switch(sn){case"middle":fC-=Ph/2;break;case"bottom":fC-=Ph}switch(ze){case"center":pC-=hC/2;break;case"right":pC-=hC}Rg={left:pC,top:fC,width:hC+Qc.width,height:Ph+Qc.height,color:Ct.backdropColor}}ne.push({rotation:Q,label:ye,font:et,color:Xi,strokeColor:al,strokeWidth:uC,textOffset:Vt,textAlign:Kc,textBaseline:sn,translation:[me,Ie],backdrop:Rg})}return ne}_getXAxisLabelAlignment(){const{position:i,ticks:e}=this.options;if(-ls(this.labelRotation))return"top"===i?"left":"right";let r="center";return"start"===e.align?r="left":"end"===e.align?r="right":"inner"===e.align&&(r="inner"),r}_getYAxisLabelAlignment(i){const{position:e,ticks:{crossAlign:n,mirror:r,padding:s}}=this.options,a=i+s,l=this._getLabelSizes().widest.width;let u,w;return"left"===e?r?(w=this.right+s,"near"===n?u="left":"center"===n?(u="center",w+=l/2):(u="right",w+=l)):(w=this.right-a,"near"===n?u="right":"center"===n?(u="center",w-=l/2):(u="left",w=this.left)):"right"===e?r?(w=this.left+s,"near"===n?u="right":"center"===n?(u="center",w-=l/2):(u="left",w-=l)):(w=this.left+a,"near"===n?u="left":"center"===n?(u="center",w+=l/2):(u="right",w=this.right)):u="right",{textAlign:u,x:w}}_computeLabelArea(){if(this.options.ticks.mirror)return;const i=this.chart,e=this.options.position;return"left"===e||"right"===e?{top:0,left:this.left,bottom:i.height,right:this.right}:"top"===e||"bottom"===e?{top:this.top,left:0,bottom:this.bottom,right:i.width}:void 0}drawBackground(){const{ctx:i,options:{backgroundColor:e},left:n,top:r,width:s,height:o}=this;e&&(i.save(),i.fillStyle=e,i.fillRect(n,r,s,o),i.restore())}getLineWidthForValue(i){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(s=>s.value===i);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(i){const e=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(i));let s,o;const a=(l,u,w)=>{!w.width||!w.color||(n.save(),n.lineWidth=w.width,n.strokeStyle=w.color,n.setLineDash(w.borderDash||[]),n.lineDashOffset=w.borderDashOffset,n.beginPath(),n.moveTo(l.x,l.y),n.lineTo(u.x,u.y),n.stroke(),n.restore())};if(e.display)for(s=0,o=r.length;s<o;++s){const l=r[s];e.drawOnChartArea&&a({x:l.x1,y:l.y1},{x:l.x2,y:l.y2},l),e.drawTicks&&a({x:l.tx1,y:l.ty1},{x:l.tx2,y:l.ty2},{color:l.tickColor,width:l.tickWidth,borderDash:l.tickBorderDash,borderDashOffset:l.tickBorderDashOffset})}}drawBorder(){const{chart:i,ctx:e,options:{grid:n}}=this,r=n.setContext(this.getContext()),s=n.drawBorder?r.borderWidth:0;if(!s)return;const o=n.setContext(this.getContext(0)).lineWidth,a=this._borderValue;let l,u,w,R;this.isHorizontal()?(l=qa(i,this.left,s)-s/2,u=qa(i,this.right,o)+o/2,w=R=a):(w=qa(i,this.top,s)-s/2,R=qa(i,this.bottom,o)+o/2,l=u=a),e.save(),e.lineWidth=r.borderWidth,e.strokeStyle=r.borderColor,e.beginPath(),e.moveTo(l,w),e.lineTo(u,R),e.stroke(),e.restore()}drawLabels(i){if(!this.options.ticks.display)return;const n=this.ctx,r=this._computeLabelArea();r&&dg(n,r);const s=this._labelItems||(this._labelItems=this._computeLabelItems(i));let o,a;for(o=0,a=s.length;o<a;++o){const l=s[o],u=l.font,w=l.label;l.backdrop&&(n.fillStyle=l.backdrop.color,n.fillRect(l.backdrop.left,l.backdrop.top,l.backdrop.width,l.backdrop.height)),Ja(n,w,0,l.textOffset,u,l)}r&&ug(n)}drawTitle(){const{ctx:i,options:{position:e,title:n,reverse:r}}=this;if(!n.display)return;const s=gn(n.font),o=Vn(n.padding),a=n.align;let l=s.lineHeight/2;"bottom"===e||"center"===e||Nt(e)?(l+=o.bottom,Di(n.text)&&(l+=s.lineHeight*(n.text.length-1))):l+=o.top;const{titleX:u,titleY:w,maxWidth:R,rotation:z}=function AK(t,i,e,n){const{top:r,left:s,bottom:o,right:a,chart:l}=t,{chartArea:u,scales:w}=l;let z,G,X,R=0;const Q=o-r,ne=a-s;if(t.isHorizontal()){if(G=Bn(n,s,a),Nt(e)){const ae=Object.keys(e)[0];X=w[ae].getPixelForValue(e[ae])+Q-i}else X="center"===e?(u.bottom+u.top)/2+Q-i:gR(t,e,i);z=a-s}else{if(Nt(e)){const ae=Object.keys(e)[0];G=w[ae].getPixelForValue(e[ae])-ne+i}else G="center"===e?(u.left+u.right)/2-ne+i:gR(t,e,i);X=Bn(n,o,r),R="left"===e?-Ui:Ui}return{titleX:G,titleY:X,maxWidth:z,rotation:R}}(this,l,e,a);Ja(i,n.text,0,0,s,{color:n.color,maxWidth:R,rotation:z,textAlign:OK(a,e,r),textBaseline:"middle",translation:[u,w]})}draw(i){this._isVisible()&&(this.drawBackground(),this.drawGrid(i),this.drawBorder(),this.drawTitle(),this.drawLabels(i))}_layers(){const i=this.options,e=i.ticks&&i.ticks.z||0,n=Dt(i.grid&&i.grid.z,-1);return this._isVisible()&&this.draw===rl.prototype.draw?[{z:n,draw:r=>{this.drawBackground(),this.drawGrid(r),this.drawTitle()}},{z:n+1,draw:()=>{this.drawBorder()}},{z:e,draw:r=>{this.drawLabels(r)}}]:[{z:e,draw:r=>{this.draw(r)}}]}getMatchingVisibleMetas(i){const e=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let s,o;for(s=0,o=e.length;s<o;++s){const a=e[s];a[n]===this.id&&(!i||a.type===i)&&r.push(a)}return r}_resolveTickFontOptions(i){return gn(this.options.ticks.setContext(this.getContext(i)).font)}_maxDigits(){const i=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/i}}class vg{constructor(i,e,n){this.type=i,this.scope=e,this.override=n,this.items=Object.create(null)}isForType(i){return Object.prototype.isPrototypeOf.call(this.type.prototype,i.prototype)}register(i){const e=Object.getPrototypeOf(i);let n;(function PK(t){return"id"in t&&"defaults"in t})(e)&&(n=this.register(e));const r=this.items,s=i.id,o=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+i);return s in r||(r[s]=i,function IK(t,i,e){const n=ch(Object.create(null),[e?Bt.get(e):{},Bt.get(i),t.defaults]);Bt.set(i,n),t.defaultRoutes&&function kK(t,i){Object.keys(i).forEach(e=>{const n=e.split("."),r=n.pop(),s=[t].concat(n).join("."),o=i[e].split("."),a=o.pop(),l=o.join(".");Bt.route(s,r,l,a)})}(i,t.defaultRoutes),t.descriptors&&Bt.describe(i,t.descriptors)}(i,o,n),this.override&&Bt.override(i.id,i.overrides)),o}get(i){return this.items[i]}unregister(i){const e=this.items,n=i.id,r=this.scope;n in e&&delete e[n],r&&n in Bt[r]&&(delete Bt[r][n],this.override&&delete Qa[n])}}var Bs=new class RK{constructor(){this.controllers=new vg(Ls,"datasets",!0),this.elements=new vg(cs,"elements"),this.plugins=new vg(Object,"plugins"),this.scales=new vg(rl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...i){this._each("register",i)}remove(...i){this._each("unregister",i)}addControllers(...i){this._each("register",i,this.controllers)}addElements(...i){this._each("register",i,this.elements)}addPlugins(...i){this._each("register",i,this.plugins)}addScales(...i){this._each("register",i,this.scales)}getController(i){return this._get(i,this.controllers,"controller")}getElement(i){return this._get(i,this.elements,"element")}getPlugin(i){return this._get(i,this.plugins,"plugin")}getScale(i){return this._get(i,this.scales,"scale")}removeControllers(...i){this._each("unregister",i,this.controllers)}removeElements(...i){this._each("unregister",i,this.elements)}removePlugins(...i){this._each("unregister",i,this.plugins)}removeScales(...i){this._each("unregister",i,this.scales)}_each(i,e,n){[...e].forEach(r=>{const s=n||this._getRegistryForType(r);n||s.isForType(r)||s===this.plugins&&r.id?this._exec(i,s,r):ui(r,o=>{const a=n||this._getRegistryForType(o);this._exec(i,a,o)})})}_exec(i,e,n){const r=xw(i);Si(n["before"+r],[],n),e[i](n),Si(n["after"+r],[],n)}_getRegistryForType(i){for(let e=0;e<this._typedRegistries.length;e++){const n=this._typedRegistries[e];if(n.isForType(i))return n}return this.plugins}_get(i,e,n){const r=e.get(i);if(void 0===r)throw new Error('"'+i+'" is not a registered '+n+".");return r}},NK=Object.freeze({__proto__:null,BarController:dK,BubbleController:uK,DoughnutController:pR,LineController:fK,PolarAreaController:pK,PieController:mK,RadarController:gK,ScatterController:(()=>{class t extends Ls{update(e){const n=this._cachedMeta,{data:r=[]}=n,s=this.chart._animationsDisabled;let{start:o,count:a}=yP(n,r,s);if(this._drawStart=o,this._drawCount=a,bP(n)&&(o=0,a=r.length),this.options.showLine){const{dataset:l,_dataset:u}=n;l._chart=this.chart,l._datasetIndex=this.index,l._decimated=!!u._decimated,l.points=r;const w=this.resolveDatasetElementOptions(e);w.segment=this.options.segment,this.updateElement(l,void 0,{animated:!s,options:w},e)}this.updateElements(r,o,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=Bs.getElement("line")),super.addElements()}updateElements(e,n,r,s){const o="reset"===s,{iScale:a,vScale:l,_stacked:u,_dataset:w}=this._cachedMeta,R=this.resolveDataElementOptions(n,s),z=this.getSharedOptions(R),G=this.includeOptions(s,z),X=a.axis,Q=l.axis,{spanGaps:ne,segment:ae}=this.options,ce=Uc(ne)?ne:Number.POSITIVE_INFINITY,fe=this.chart._animationsDisabled||o||"none"===s;let ye=n>0&&this.getParsed(n-1);for(let me=n;me<n+r;++me){const Ie=e[me],ze=this.getParsed(me),Ke=fe?Ie:{},et=Xt(ze[Q]),Ut=Ke[X]=a.getPixelForValue(ze[X],me),Zt=Ke[Q]=o||et?l.getBasePixel():l.getPixelForValue(u?this.applyStack(l,ze,u):ze[Q],me);Ke.skip=isNaN(Ut)||isNaN(Zt)||et,Ke.stop=me>0&&Math.abs(ze[X]-ye[X])>ce,ae&&(Ke.parsed=ze,Ke.raw=w.data[me]),G&&(Ke.options=z||this.resolveDataElementOptions(me,Ie.active?"active":s)),fe||this.updateElement(Ie,me,Ke,s),ye=ze}this.updateSharedOptions(z,s,R)}getMaxOverflow(){const e=this._cachedMeta,n=e.data||[];if(!this.options.showLine){let l=0;for(let u=n.length-1;u>=0;--u)l=Math.max(l,n[u].size(this.resolveDataElementOptions(u))/2);return l>0&&l}const r=e.dataset,s=r.options&&r.options.borderWidth||0;if(!n.length)return s;const o=n[0].size(this.resolveDataElementOptions(0)),a=n[n.length-1].size(this.resolveDataElementOptions(n.length-1));return Math.max(s,o,a)/2}}return t.id="scatter",t.defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1},t.overrides={interaction:{mode:"point"},plugins:{tooltip:{callbacks:{title:()=>"",label:i=>"("+i.label+", "+i.formattedValue+")"}}},scales:{x:{type:"linear"},y:{type:"linear"}}},t})()});function sl(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}var FK={_date:(()=>{class t{constructor(e){this.options=e||{}}init(e){}formats(){return sl()}parse(e,n){return sl()}format(e,n){return sl()}add(e,n,r){return sl()}diff(e,n,r){return sl()}startOf(e,n,r){return sl()}endOf(e,n){return sl()}}return t.override=function(i){Object.assign(t.prototype,i)},t})()};function LK(t,i,e,n){const{controller:r,data:s,_sorted:o}=t,a=r._cachedMeta.iScale;if(a&&i===a.axis&&"r"!==i&&o&&s.length){const l=a._reversePixels?yX:oo;if(!n)return l(s,i,e);if(r._sharedOptions){const u=s[0],w="function"==typeof u.getRange&&u.getRange(i);if(w){const R=l(s,i,e-w),z=l(s,i,e+w);return{lo:R.lo,hi:z.hi}}}}return{lo:0,hi:s.length-1}}function Eh(t,i,e,n,r){const s=t.getSortedVisibleDatasetMetas(),o=e[i];for(let a=0,l=s.length;a<l;++a){const{index:u,data:w}=s[a],{lo:R,hi:z}=LK(s[a],i,o,r);for(let G=R;G<=z;++G){const X=w[G];X.skip||n(X,u,G)}}}function Yw(t,i,e,n,r){const s=[];return!r&&!t.isPointInArea(i)||Eh(t,e,i,function(a,l,u){!r&&!yh(a,t.chartArea,0)||a.inRange(i.x,i.y,n)&&s.push({element:a,datasetIndex:l,index:u})},!0),s}function Gw(t,i,e,n,r,s){return s||t.isPointInArea(i)?"r"!==e||n?function HK(t,i,e,n,r,s){let o=[];const a=function BK(t){const i=-1!==t.indexOf("x"),e=-1!==t.indexOf("y");return function(n,r){const s=i?Math.abs(n.x-r.x):0,o=e?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(o,2))}}(e);let l=Number.POSITIVE_INFINITY;return Eh(t,e,i,function u(w,R,z){const G=w.inRange(i.x,i.y,r);if(n&&!G)return;const X=w.getCenterPoint(r);if(!s&&!t.isPointInArea(X)&&!G)return;const ne=a(i,X);ne<l?(o=[{element:w,datasetIndex:R,index:z}],l=ne):ne===l&&o.push({element:w,datasetIndex:R,index:z})}),o}(t,i,e,n,r,s):function VK(t,i,e,n){let r=[];return Eh(t,e,i,function s(o,a,l){const{startAngle:u,endAngle:w}=o.getProps(["startAngle","endAngle"],n),{angle:R}=hP(o,{x:i.x,y:i.y});fh(R,u,w)&&r.push({element:o,datasetIndex:a,index:l})}),r}(t,i,e,r):[]}function bR(t,i,e,n,r){const s=[],o="x"===e?"inXRange":"inYRange";let a=!1;return Eh(t,e,i,(l,u,w)=>{l[o](i[e],r)&&(s.push({element:l,datasetIndex:u,index:w}),a=a||l.inRange(i.x,i.y,r))}),n&&!a?[]:s}var zK={evaluateInteractionItems:Eh,modes:{index(t,i,e,n){const r=il(i,t),s=e.axis||"x",o=e.includeInvisible||!1,a=e.intersect?Yw(t,r,s,n,o):Gw(t,r,s,!1,n,o),l=[];return a.length?(t.getSortedVisibleDatasetMetas().forEach(u=>{const w=a[0].index,R=u.data[w];R&&!R.skip&&l.push({element:R,datasetIndex:u.index,index:w})}),l):[]},dataset(t,i,e,n){const r=il(i,t),s=e.axis||"xy",o=e.includeInvisible||!1;let a=e.intersect?Yw(t,r,s,n,o):Gw(t,r,s,!1,n,o);if(a.length>0){const l=a[0].datasetIndex,u=t.getDatasetMeta(l).data;a=[];for(let w=0;w<u.length;++w)a.push({element:u[w],datasetIndex:l,index:w})}return a},point:(t,i,e,n)=>Yw(t,il(i,t),e.axis||"xy",n,e.includeInvisible||!1),nearest:(t,i,e,n)=>Gw(t,il(i,t),e.axis||"xy",e.intersect,n,e.includeInvisible||!1),x:(t,i,e,n)=>bR(t,il(i,t),"x",e.intersect,n),y:(t,i,e,n)=>bR(t,il(i,t),"y",e.intersect,n)}};const _R=["left","top","right","bottom"];function Dh(t,i){return t.filter(e=>e.pos===i)}function wR(t,i){return t.filter(e=>-1===_R.indexOf(e.pos)&&e.box.axis===i)}function Sh(t,i){return t.sort((e,n)=>{const r=i?n:e,s=i?e:n;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function CR(t,i,e,n){return Math.max(t[e],i[e])+Math.max(t[n],i[n])}function xR(t,i){t.top=Math.max(t.top,i.top),t.left=Math.max(t.left,i.left),t.bottom=Math.max(t.bottom,i.bottom),t.right=Math.max(t.right,i.right)}function YK(t,i,e,n){const{pos:r,box:s}=e,o=t.maxPadding;if(!Nt(r)){e.size&&(t[r]-=e.size);const R=n[e.stack]||{size:0,count:1};R.size=Math.max(R.size,e.horizontal?s.height:s.width),e.size=R.size/R.count,t[r]+=e.size}s.getPadding&&xR(o,s.getPadding());const a=Math.max(0,i.outerWidth-CR(o,t,"left","right")),l=Math.max(0,i.outerHeight-CR(o,t,"top","bottom")),u=a!==t.w,w=l!==t.h;return t.w=a,t.h=l,e.horizontal?{same:u,other:w}:{same:w,other:u}}function XK(t,i){const e=i.maxPadding;return function n(r){const s={left:0,top:0,right:0,bottom:0};return r.forEach(o=>{s[o]=Math.max(i[o],e[o])}),s}(t?["left","right"]:["top","bottom"])}function Mh(t,i,e,n){const r=[];let s,o,a,l,u,w;for(s=0,o=t.length,u=0;s<o;++s){a=t[s],l=a.box,l.update(a.width||i.w,a.height||i.h,XK(a.horizontal,i));const{same:R,other:z}=YK(i,e,a,n);u|=R&&r.length,w=w||z,l.fullSize||r.push(a)}return u&&Mh(r,i,e,n)||w}function yg(t,i,e,n,r){t.top=e,t.left=i,t.right=i+n,t.bottom=e+r,t.width=n,t.height=r}function ER(t,i,e,n){const r=e.padding;let{x:s,y:o}=i;for(const a of t){const l=a.box,u=n[a.stack]||{count:1,placed:0,weight:1},w=a.stackWeight/u.weight||1;if(a.horizontal){const R=i.w*w,z=u.size||l.height;Yr(u.start)&&(o=u.start),l.fullSize?yg(l,r.left,o,e.outerWidth-r.right-r.left,z):yg(l,i.left+u.placed,o,R,z),u.start=o,u.placed+=R,o=l.bottom}else{const R=i.h*w,z=u.size||l.width;Yr(u.start)&&(s=u.start),l.fullSize?yg(l,s,r.top,z,e.outerHeight-r.bottom-r.top):yg(l,s,i.top+u.placed,z,R),u.start=s,u.placed+=R,s=l.right}}i.x=s,i.y=o}Bt.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}});var Hn={addBox(t,i){t.boxes||(t.boxes=[]),i.fullSize=i.fullSize||!1,i.position=i.position||"top",i.weight=i.weight||0,i._layers=i._layers||function(){return[{z:0,draw(e){i.draw(e)}}]},t.boxes.push(i)},removeBox(t,i){const e=t.boxes?t.boxes.indexOf(i):-1;-1!==e&&t.boxes.splice(e,1)},configure(t,i,e){i.fullSize=e.fullSize,i.position=e.position,i.weight=e.weight},update(t,i,e,n){if(!t)return;const r=Vn(t.options.layout.padding),s=Math.max(i-r.width,0),o=Math.max(e-r.height,0),a=function WK(t){const i=function jK(t){const i=[];let e,n,r,s,o,a;for(e=0,n=(t||[]).length;e<n;++e)r=t[e],({position:s,options:{stack:o,stackWeight:a=1}}=r),i.push({index:e,box:r,pos:s,horizontal:r.isHorizontal(),weight:r.weight,stack:o&&s+o,stackWeight:a});return i}(t),e=Sh(i.filter(u=>u.box.fullSize),!0),n=Sh(Dh(i,"left"),!0),r=Sh(Dh(i,"right")),s=Sh(Dh(i,"top"),!0),o=Sh(Dh(i,"bottom")),a=wR(i,"x"),l=wR(i,"y");return{fullSize:e,leftAndTop:n.concat(s),rightAndBottom:r.concat(l).concat(o).concat(a),chartArea:Dh(i,"chartArea"),vertical:n.concat(r).concat(l),horizontal:s.concat(o).concat(a)}}(t.boxes),l=a.vertical,u=a.horizontal;ui(t.boxes,Q=>{"function"==typeof Q.beforeLayout&&Q.beforeLayout()});const w=l.reduce((Q,ne)=>ne.box.options&&!1===ne.box.options.display?Q:Q+1,0)||1,R=Object.freeze({outerWidth:i,outerHeight:e,padding:r,availableWidth:s,availableHeight:o,vBoxMaxWidth:s/2/w,hBoxMaxHeight:o/2}),z=Object.assign({},r);xR(z,Vn(n));const G=Object.assign({maxPadding:z,w:s,h:o,x:r.left,y:r.top},r),X=function $K(t,i){const e=function UK(t){const i={};for(const e of t){const{stack:n,pos:r,stackWeight:s}=e;if(!n||!_R.includes(r))continue;const o=i[n]||(i[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=s}return i}(t),{vBoxMaxWidth:n,hBoxMaxHeight:r}=i;let s,o,a;for(s=0,o=t.length;s<o;++s){a=t[s];const{fullSize:l}=a.box,u=e[a.stack],w=u&&a.stackWeight/u.weight;a.horizontal?(a.width=w?w*n:l&&i.availableWidth,a.height=r):(a.width=n,a.height=w?w*r:l&&i.availableHeight)}return e}(l.concat(u),R);Mh(a.fullSize,G,R,X),Mh(l,G,R,X),Mh(u,G,R,X)&&Mh(l,G,R,X),function GK(t){const i=t.maxPadding;function e(n){const r=Math.max(i[n]-t[n],0);return t[n]+=r,r}t.y+=e("top"),t.x+=e("left"),e("right"),e("bottom")}(G),ER(a.leftAndTop,G,R,X),G.x+=G.w,G.y+=G.h,ER(a.rightAndBottom,G,R,X),t.chartArea={left:G.left,top:G.top,right:G.left+G.w,bottom:G.top+G.h,height:G.h,width:G.w},ui(a.chartArea,Q=>{const ne=Q.box;Object.assign(ne,t.chartArea),ne.update(G.w,G.h,{left:0,top:0,right:0,bottom:0})})}};class DR{acquireContext(i,e){}releaseContext(i){return!1}addEventListener(i,e,n){}removeEventListener(i,e,n){}getDevicePixelRatio(){return 1}getMaximumSize(i,e,n,r){return e=Math.max(0,e||i.width),n=n||i.height,{width:e,height:Math.max(0,r?Math.floor(e/r):n)}}isAttached(i){return!0}updateConfig(i){}}class ZK extends DR{acquireContext(i){return i&&i.getContext&&i.getContext("2d")||null}updateConfig(i){i.options.animation=!1}}const bg="$chartjs",KK={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},SR=t=>null===t||""===t,MR=!!DZ&&{passive:!0};function JK(t,i,e){t.canvas.removeEventListener(i,e,MR)}function _g(t,i){for(const e of t)if(e===i||e.contains(i))return!0}function tQ(t,i,e){const n=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||_g(a.addedNodes,n),o=o&&!_g(a.removedNodes,n);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function iQ(t,i,e){const n=t.canvas,r=new MutationObserver(s=>{let o=!1;for(const a of s)o=o||_g(a.removedNodes,n),o=o&&!_g(a.addedNodes,n);o&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Th=new Map;let TR=0;function OR(){const t=window.devicePixelRatio;t!==TR&&(TR=t,Th.forEach((i,e)=>{e.currentDevicePixelRatio!==t&&i()}))}function sQ(t,i,e){const n=t.canvas,r=n&&zw(n);if(!r)return;const s=vP((a,l)=>{const u=r.clientWidth;e(a,l),u<r.clientWidth&&e()},window),o=new ResizeObserver(a=>{const l=a[0],u=l.contentRect.width,w=l.contentRect.height;0===u&&0===w||s(u,w)});return o.observe(r),function nQ(t,i){Th.size||window.addEventListener("resize",OR),Th.set(t,i)}(t,s),o}function Xw(t,i,e){e&&e.disconnect(),"resize"===i&&function rQ(t){Th.delete(t),Th.size||window.removeEventListener("resize",OR)}(t)}function oQ(t,i,e){const n=t.canvas,r=vP(s=>{null!==t.ctx&&e(function eQ(t,i){const e=KK[t.type]||t.type,{x:n,y:r}=il(t,i);return{type:e,chart:i,native:t,x:void 0!==n?n:null,y:void 0!==r?r:null}}(s,t))},t,s=>{const o=s[0];return[o,o.offsetX,o.offsetY]});return function qK(t,i,e){t.addEventListener(i,e,MR)}(n,i,r),r}class aQ extends DR{acquireContext(i,e){const n=i&&i.getContext&&i.getContext("2d");return n&&n.canvas===i?(function QK(t,i){const e=t.style,n=t.getAttribute("height"),r=t.getAttribute("width");if(t[bg]={initial:{height:n,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",SR(r)){const s=WP(t,"width");void 0!==s&&(t.width=s)}if(SR(n))if(""===t.style.height)t.height=t.width/(i||2);else{const s=WP(t,"height");void 0!==s&&(t.height=s)}}(i,e),n):null}releaseContext(i){const e=i.canvas;if(!e[bg])return!1;const n=e[bg].initial;["height","width"].forEach(s=>{const o=n[s];Xt(o)?e.removeAttribute(s):e.setAttribute(s,o)});const r=n.style||{};return Object.keys(r).forEach(s=>{e.style[s]=r[s]}),e.width=e.width,delete e[bg],!0}addEventListener(i,e,n){this.removeEventListener(i,e),(i.$proxies||(i.$proxies={}))[e]=({attach:tQ,detach:iQ,resize:sQ}[e]||oQ)(i,e,n)}removeEventListener(i,e){const n=i.$proxies||(i.$proxies={}),r=n[e];r&&(({attach:Xw,detach:Xw,resize:Xw}[e]||JK)(i,e,r),n[e]=void 0)}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(i,e,n,r){return function EZ(t,i,e,n){const r=pg(t),s=tl(r,"margin"),o=fg(r.maxWidth,t,"clientWidth")||ng,a=fg(r.maxHeight,t,"clientHeight")||ng,l=function xZ(t,i,e){let n,r;if(void 0===i||void 0===e){const s=zw(t);if(s){const o=s.getBoundingClientRect(),a=pg(s),l=tl(a,"border","width"),u=tl(a,"padding");i=o.width-u.width-l.width,e=o.height-u.height-l.height,n=fg(a.maxWidth,s,"clientWidth"),r=fg(a.maxHeight,s,"clientHeight")}else i=t.clientWidth,e=t.clientHeight}return{width:i,height:e,maxWidth:n||ng,maxHeight:r||ng}}(t,i,e);let{width:u,height:w}=l;if("content-box"===r.boxSizing){const R=tl(r,"border","width"),z=tl(r,"padding");u-=z.width+R.width,w-=z.height+R.height}return u=Math.max(0,u-s.width),w=Math.max(0,n?Math.floor(u/n):w-s.height),u=jw(Math.min(u,o,l.maxWidth)),w=jw(Math.min(w,a,l.maxHeight)),u&&!w&&(w=jw(u/2)),{width:u,height:w}}(i,e,n,r)}isAttached(i){const e=zw(i);return!(!e||!e.isConnected)}}class cQ{constructor(){this._init=[]}notify(i,e,n,r){"beforeInit"===e&&(this._init=this._createDescriptors(i,!0),this._notify(this._init,i,"install"));const s=r?this._descriptors(i).filter(r):this._descriptors(i),o=this._notify(s,i,e,n);return"afterDestroy"===e&&(this._notify(s,i,"stop"),this._notify(this._init,i,"uninstall")),o}_notify(i,e,n,r){r=r||{};for(const s of i){const o=s.plugin;if(!1===Si(o[n],[e,r,s.options],o)&&r.cancelable)return!1}return!0}invalidate(){Xt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(i){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(i);return this._notifyStateChanges(i),e}_createDescriptors(i,e){const n=i&&i.config,r=Dt(n.options&&n.options.plugins,{}),s=function dQ(t){const i={},e=[],n=Object.keys(Bs.plugins.items);for(let s=0;s<n.length;s++)e.push(Bs.getPlugin(n[s]));const r=t.plugins||[];for(let s=0;s<r.length;s++){const o=r[s];-1===e.indexOf(o)&&(e.push(o),i[o.id]=!0)}return{plugins:e,localIds:i}}(n);return!1!==r||e?function hQ(t,{plugins:i,localIds:e},n,r){const s=[],o=t.getContext();for(const a of i){const l=a.id,u=uQ(n[l],r);null!==u&&s.push({plugin:a,options:fQ(t.config,{plugin:a,local:e[l]},u,o)})}return s}(i,s,r,e):[]}_notifyStateChanges(i){const e=this._oldCache||[],n=this._cache,r=(s,o)=>s.filter(a=>!o.some(l=>a.plugin.id===l.plugin.id));this._notify(r(e,n),i,"stop"),this._notify(r(n,e),i,"start")}}function uQ(t,i){return i||!1!==t?!0===t?{}:t:null}function fQ(t,{plugin:i,local:e},n,r){const s=t.pluginScopeKeys(i),o=t.getOptionScopes(n,s);return e&&i.defaults&&o.push(i.defaults),t.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Zw(t,i){return((i.datasets||{})[t]||{}).indexAxis||i.indexAxis||(Bt.datasets[t]||{}).indexAxis||"x"}function Kw(t,i){return"x"===t||"y"===t?t:i.axis||function gQ(t){return"top"===t||"bottom"===t?"x":"left"===t||"right"===t?"y":void 0}(i.position)||t.charAt(0).toLowerCase()}function AR(t){const i=t.options||(t.options={});i.plugins=Dt(i.plugins,{}),i.scales=function vQ(t,i){const e=Qa[t.type]||{scales:{}},n=i.scales||{},r=Zw(t.type,i),s=Object.create(null),o=Object.create(null);return Object.keys(n).forEach(a=>{const l=n[a];if(!Nt(l))return console.error(`Invalid scale configuration for scale: ${a}`);if(l._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${a}`);const u=Kw(a,l),w=function mQ(t,i){return t===i?"_index_":"_value_"}(u,r),R=e.scales||{};s[u]=s[u]||a,o[a]=dh(Object.create(null),[{axis:u},l,R[u],R[w]])}),t.data.datasets.forEach(a=>{const l=a.type||t.type,u=a.indexAxis||Zw(l,i),R=(Qa[l]||{}).scales||{};Object.keys(R).forEach(z=>{const G=function pQ(t,i){let e=t;return"_index_"===t?e=i:"_value_"===t&&(e="x"===i?"y":"x"),e}(z,u),X=a[G+"AxisID"]||s[G]||G;o[X]=o[X]||Object.create(null),dh(o[X],[{axis:G},n[X],R[z]])})}),Object.keys(o).forEach(a=>{const l=o[a];dh(l,[Bt.scales[l.type],Bt.scale])}),o}(t,i)}function IR(t){return(t=t||{}).datasets=t.datasets||[],t.labels=t.labels||[],t}const kR=new Map,PR=new Set;function wg(t,i){let e=kR.get(t);return e||(e=i(),kR.set(t,e),PR.add(e)),e}const Oh=(t,i,e)=>{const n=Ko(i,e);void 0!==n&&t.add(n)};class bQ{constructor(i){this._config=function yQ(t){return(t=t||{}).data=IR(t.data),AR(t),t}(i),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(i){this._config.type=i}get data(){return this._config.data}set data(i){this._config.data=IR(i)}get options(){return this._config.options}set options(i){this._config.options=i}get plugins(){return this._config.plugins}update(){const i=this._config;this.clearCache(),AR(i)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(i){return wg(i,()=>[[`datasets.${i}`,""]])}datasetAnimationScopeKeys(i,e){return wg(`${i}.transition.${e}`,()=>[[`datasets.${i}.transitions.${e}`,`transitions.${e}`],[`datasets.${i}`,""]])}datasetElementScopeKeys(i,e){return wg(`${i}-${e}`,()=>[[`datasets.${i}.elements.${e}`,`datasets.${i}`,`elements.${e}`,""]])}pluginScopeKeys(i){const e=i.id;return wg(`${this.type}-plugin-${e}`,()=>[[`plugins.${e}`,...i.additionalOptionScopes||[]]])}_cachedScopes(i,e){const n=this._scopeCache;let r=n.get(i);return(!r||e)&&(r=new Map,n.set(i,r)),r}getOptionScopes(i,e,n){const{options:r,type:s}=this,o=this._cachedScopes(i,n),a=o.get(e);if(a)return a;const l=new Set;e.forEach(w=>{i&&(l.add(i),w.forEach(R=>Oh(l,i,R))),w.forEach(R=>Oh(l,r,R)),w.forEach(R=>Oh(l,Qa[s]||{},R)),w.forEach(R=>Oh(l,Bt,R)),w.forEach(R=>Oh(l,Rw,R))});const u=Array.from(l);return 0===u.length&&u.push(Object.create(null)),PR.has(e)&&o.set(e,u),u}chartOptionScopes(){const{options:i,type:e}=this;return[i,Qa[e]||{},Bt.datasets[e]||{},{type:e},Bt,Rw]}resolveNamedOptions(i,e,n,r=[""]){const s={$shared:!0},{resolver:o,subPrefixes:a}=RR(this._resolverCache,i,r);let l=o;(function wQ(t,i){const{isScriptable:e,isIndexable:n}=NP(t);for(const r of i){const s=e(r),o=n(r),a=(o||s)&&t[r];if(s&&(Qo(a)||_Q(a))||o&&Di(a))return!0}return!1})(o,e)&&(s.$shared=!1,l=Wc(o,n=Qo(n)?n():n,this.createResolver(i,n,a)));for(const u of e)s[u]=l[u];return s}createResolver(i,e,n=[""],r){const{resolver:s}=RR(this._resolverCache,i,n);return Nt(e)?Wc(s,e,void 0,r):s}}function RR(t,i,e){let n=t.get(i);n||(n=new Map,t.set(i,n));const r=e.join();let s=n.get(r);return s||(s={resolver:Bw(i,e),subPrefixes:e.filter(a=>!a.toLowerCase().includes("hover"))},n.set(r,s)),s}const _Q=t=>Nt(t)&&Object.getOwnPropertyNames(t).reduce((i,e)=>i||Qo(t[e]),!1),xQ=["top","bottom","left","right","chartArea"];function NR(t,i){return"top"===t||"bottom"===t||-1===xQ.indexOf(t)&&"x"===i}function FR(t,i){return function(e,n){return e[t]===n[t]?e[i]-n[i]:e[t]-n[t]}}function LR(t){const i=t.chart,e=i.options.animation;i.notifyPlugins("afterRender"),Si(e&&e.onComplete,[t],i)}function EQ(t){const i=t.chart,e=i.options.animation;Si(e&&e.onProgress,[t],i)}function BR(t){return UP()&&"string"==typeof t?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Cg={},VR=t=>{const i=BR(t);return Object.values(Cg).filter(e=>e.canvas===i).pop()};function DQ(t,i,e){const n=Object.keys(t);for(const r of n){const s=+r;if(s>=i){const o=t[r];delete t[r],(e>0||s>i)&&(t[s+e]=o)}}}class Jn{constructor(i,e){const n=this.config=new bQ(e),r=BR(i),s=VR(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function lQ(t){return!UP()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?ZK:aQ}(r)),this.platform.updateConfig(n);const a=this.platform.acquireContext(r,o.aspectRatio),l=a&&a.canvas,u=l&&l.height,w=l&&l.width;this.id=sX(),this.ctx=a,this.canvas=l,this.width=w,this.height=u,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new cQ,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function wX(t,i){let e;return function(...n){return i?(clearTimeout(e),e=setTimeout(t,i,n)):t.apply(this,n),i}}(R=>this.update(R),o.resizeDelay||0),this._dataChanges=[],Cg[this.id]=this,a&&l?(lo.listen(this,"complete",LR),lo.listen(this,"progress",EQ),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:i,maintainAspectRatio:e},width:n,height:r,_aspectRatio:s}=this;return Xt(i)?e&&s?s:r?n/r:null:i}get data(){return this.config.data}set data(i){this.config.data=i}get options(){return this._options}set options(i){this.config.options=i}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():$P(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return kP(this.canvas,this.ctx),this}stop(){return lo.stop(this),this}resize(i,e){lo.running(this)?this._resizeBeforeDraw={width:i,height:e}:this._resize(i,e)}_resize(i,e){const n=this.options,o=this.platform.getMaximumSize(this.canvas,i,e,n.maintainAspectRatio&&this.aspectRatio),a=n.devicePixelRatio||this.platform.getDevicePixelRatio(),l=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,$P(this,a,!0)&&(this.notifyPlugins("resize",{size:o}),Si(n.onResize,[this,o],this),this.attached&&this._doResize(l)&&this.render())}ensureScalesHaveIDs(){ui(this.options.scales||{},(n,r)=>{n.id=r})}buildOrUpdateScales(){const i=this.options,e=i.scales,n=this.scales,r=Object.keys(n).reduce((o,a)=>(o[a]=!1,o),{});let s=[];e&&(s=s.concat(Object.keys(e).map(o=>{const a=e[o],l=Kw(o,a),u="r"===l,w="x"===l;return{options:a,dposition:u?"chartArea":w?"bottom":"left",dtype:u?"radialLinear":w?"category":"linear"}}))),ui(s,o=>{const a=o.options,l=a.id,u=Kw(l,a),w=Dt(a.type,o.dtype);(void 0===a.position||NR(a.position,u)!==NR(o.dposition))&&(a.position=o.dposition),r[l]=!0;let R=null;l in n&&n[l].type===w?R=n[l]:(R=new(Bs.getScale(w))({id:l,type:w,ctx:this.ctx,chart:this}),n[R.id]=R),R.init(a,i)}),ui(r,(o,a)=>{o||delete n[a]}),ui(n,o=>{Hn.configure(this,o,o.options),Hn.addBox(this,o)})}_updateMetasets(){const i=this._metasets,e=this.data.datasets.length,n=i.length;if(i.sort((r,s)=>r.index-s.index),n>e){for(let r=e;r<n;++r)this._destroyDatasetMeta(r);i.splice(e,n-e)}this._sortedMetasets=i.slice(0).sort(FR("order","index"))}_removeUnreferencedMetasets(){const{_metasets:i,data:{datasets:e}}=this;i.length>e.length&&delete this._stacks,i.forEach((n,r)=>{0===e.filter(s=>s===n._dataset).length&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const i=[],e=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=e.length;n<r;n++){const s=e[n];let o=this.getDatasetMeta(n);const a=s.type||this.config.type;if(o.type&&o.type!==a&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=a,o.indexAxis=s.indexAxis||Zw(a,this.options),o.order=s.order||0,o.index=n,o.label=""+s.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const l=Bs.getController(a),{datasetElementType:u,dataElementType:w}=Bt.datasets[a];Object.assign(l.prototype,{dataElementType:Bs.getElement(w),datasetElementType:u&&Bs.getElement(u)}),o.controller=new l(this,n),i.push(o.controller)}}return this._updateMetasets(),i}_resetElements(){ui(this.data.datasets,(i,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(i){const e=this.config;e.update();const n=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:i,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let u=0,w=this.data.datasets.length;u<w;u++){const{controller:R}=this.getDatasetMeta(u),z=!r&&-1===s.indexOf(R);R.buildOrUpdateElements(z),o=Math.max(+R.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),r||ui(s,u=>{u.reset()}),this._updateDatasets(i),this.notifyPlugins("afterUpdate",{mode:i}),this._layers.sort(FR("z","_idx"));const{_active:a,_lastEvent:l}=this;l?this._eventHandler(l,!0):a.length&&this._updateHoverStyles(a,a,!0),this.render()}_updateScales(){ui(this.scales,i=>{Hn.removeBox(this,i)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const i=this.options,e=new Set(Object.keys(this._listeners)),n=new Set(i.events);(!aP(e,n)||!!this._responsiveListeners!==i.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:i}=this,e=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:s}of e)DQ(i,r,"_removeElements"===n?-s:s)}_getUniformDataChanges(){const i=this._dataChanges;if(!i||!i.length)return;this._dataChanges=[];const e=this.data.datasets.length,n=s=>new Set(i.filter(o=>o[0]===s).map((o,a)=>a+","+o.splice(1).join(","))),r=n(0);for(let s=1;s<e;s++)if(!aP(r,n(s)))return;return Array.from(r).map(s=>s.split(",")).map(s=>({method:s[1],start:+s[2],count:+s[3]}))}_updateLayout(i){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Hn.update(this,this.width,this.height,i);const e=this.chartArea,n=e.width<=0||e.height<=0;this._layers=[],ui(this.boxes,r=>{n&&"chartArea"===r.position||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,s)=>{r._idx=s}),this.notifyPlugins("afterLayout")}_updateDatasets(i){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:i,cancelable:!0})){for(let e=0,n=this.data.datasets.length;e<n;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,n=this.data.datasets.length;e<n;++e)this._updateDataset(e,Qo(i)?i({datasetIndex:e}):i);this.notifyPlugins("afterDatasetsUpdate",{mode:i})}}_updateDataset(i,e){const n=this.getDatasetMeta(i),r={meta:n,index:i,mode:e,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(lo.has(this)?this.attached&&!lo.running(this)&&lo.start(this):(this.draw(),LR({chart:this})))}draw(){let i;if(this._resizeBeforeDraw){const{width:n,height:r}=this._resizeBeforeDraw;this._resize(n,r),this._resizeBeforeDraw=null}if(this.clear(),this.width<=0||this.height<=0||!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const e=this._layers;for(i=0;i<e.length&&e[i].z<=0;++i)e[i].draw(this.chartArea);for(this._drawDatasets();i<e.length;++i)e[i].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(i){const e=this._sortedMetasets,n=[];let r,s;for(r=0,s=e.length;r<s;++r){const o=e[r];(!i||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const i=this.getSortedVisibleDatasetMetas();for(let e=i.length-1;e>=0;--e)this._drawDataset(i[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(i){const e=this.ctx,n=i._clip,r=!n.disabled,s=this.chartArea,o={meta:i,index:i.index,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetDraw",o)&&(r&&dg(e,{left:!1===n.left?0:s.left-n.left,right:!1===n.right?this.width:s.right+n.right,top:!1===n.top?0:s.top-n.top,bottom:!1===n.bottom?this.height:s.bottom+n.bottom}),i.controller.draw(),r&&ug(e),o.cancelable=!1,this.notifyPlugins("afterDatasetDraw",o))}isPointInArea(i){return yh(i,this.chartArea,this._minPadding)}getElementsAtEventForMode(i,e,n,r){const s=zK.modes[e];return"function"==typeof s?s(this,i,n,r):[]}getDatasetMeta(i){const e=this.data.datasets[i],n=this._metasets;let r=n.filter(s=>s&&s._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:i,_dataset:e,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=ea(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(i){const e=this.data.datasets[i];if(!e)return!1;const n=this.getDatasetMeta(i);return"boolean"==typeof n.hidden?!n.hidden:!e.hidden}setDatasetVisibility(i,e){this.getDatasetMeta(i).hidden=!e}toggleDataVisibility(i){this._hiddenIndices[i]=!this._hiddenIndices[i]}getDataVisibility(i){return!this._hiddenIndices[i]}_updateVisibility(i,e,n){const r=n?"show":"hide",s=this.getDatasetMeta(i),o=s.controller._resolveAnimations(void 0,r);Yr(e)?(s.data[e].hidden=!n,this.update()):(this.setDatasetVisibility(i,n),o.update(s,{visible:n}),this.update(a=>a.datasetIndex===i?r:void 0))}hide(i,e){this._updateVisibility(i,e,!1)}show(i,e){this._updateVisibility(i,e,!0)}_destroyDatasetMeta(i){const e=this._metasets[i];e&&e.controller&&e.controller._destroy(),delete this._metasets[i]}_stop(){let i,e;for(this.stop(),lo.remove(this),i=0,e=this.data.datasets.length;i<e;++i)this._destroyDatasetMeta(i)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:i,ctx:e}=this;this._stop(),this.config.clearCache(),i&&(this.unbindEvents(),kP(i,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),this.notifyPlugins("destroy"),delete Cg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...i){return this.canvas.toDataURL(...i)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const i=this._listeners,e=this.platform,n=(s,o)=>{e.addEventListener(this,s,o),i[s]=o},r=(s,o,a)=>{s.offsetX=o,s.offsetY=a,this._eventHandler(s)};ui(this.options.events,s=>n(s,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const i=this._responsiveListeners,e=this.platform,n=(l,u)=>{e.addEventListener(this,l,u),i[l]=u},r=(l,u)=>{i[l]&&(e.removeEventListener(this,l,u),delete i[l])},s=(l,u)=>{this.canvas&&this.resize(l,u)};let o;const a=()=>{r("attach",a),this.attached=!0,this.resize(),n("resize",s),n("detach",o)};o=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),n("attach",a)},e.isAttached(this.canvas)?a():o()}unbindEvents(){ui(this._listeners,(i,e)=>{this.platform.removeEventListener(this,e,i)}),this._listeners={},ui(this._responsiveListeners,(i,e)=>{this.platform.removeEventListener(this,e,i)}),this._responsiveListeners=void 0}updateHoverStyle(i,e,n){const r=n?"set":"remove";let s,o,a,l;for("dataset"===e&&(s=this.getDatasetMeta(i[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),a=0,l=i.length;a<l;++a){o=i[a];const u=o&&this.getDatasetMeta(o.datasetIndex).controller;u&&u[r+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(i){const e=this._active||[],n=i.map(({datasetIndex:s,index:o})=>{const a=this.getDatasetMeta(s);if(!a)throw new Error("No dataset found at index "+s);return{datasetIndex:s,element:a.data[o],index:o}});!tg(n,e)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,e))}notifyPlugins(i,e,n){return this._plugins.notify(this,i,e,n)}_updateHoverStyles(i,e,n){const r=this.options.hover,s=(l,u)=>l.filter(w=>!u.some(R=>w.datasetIndex===R.datasetIndex&&w.index===R.index)),o=s(e,i),a=n?i:s(i,e);o.length&&this.updateHoverStyle(o,r.mode,!1),a.length&&r.mode&&this.updateHoverStyle(a,r.mode,!0)}_eventHandler(i,e){const n={event:i,replay:e,cancelable:!0,inChartArea:this.isPointInArea(i)},r=o=>(o.options.events||this.options.events).includes(i.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const s=this._handleEvent(i,e,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(s||n.changed)&&this.render(),this}_handleEvent(i,e,n){const{_active:r=[],options:s}=this,a=this._getActiveElements(i,r,n,e),l=function uX(t){return"mouseup"===t.type||"click"===t.type||"contextmenu"===t.type}(i),u=function SQ(t,i,e,n){return e&&"mouseout"!==t.type?n?i:t:null}(i,this._lastEvent,n,l);n&&(this._lastEvent=null,Si(s.onHover,[i,a,this],this),l&&Si(s.onClick,[i,a,this],this));const w=!tg(a,r);return(w||e)&&(this._active=a,this._updateHoverStyles(a,r,e)),this._lastEvent=u,w}_getActiveElements(i,e,n,r){if("mouseout"===i.type)return[];if(!n)return e;const s=this.options.hover;return this.getElementsAtEventForMode(i,s.mode,s,r)}}const HR=()=>ui(Jn.instances,t=>t._plugins.invalidate()),ta=!0;function zR(t,i,e){const{startAngle:n,pixelMargin:r,x:s,y:o,outerRadius:a,innerRadius:l}=i;let u=r/a;t.beginPath(),t.arc(s,o,a,n-u,e+u),l>r?(u=r/l,t.arc(s,o,l,e+u,n-u,!0)):t.arc(s,o,r,e+Ui,n-Ui),t.closePath(),t.clip()}function Xc(t,i,e,n){return{x:e+t*Math.cos(i),y:n+t*Math.sin(i)}}function Qw(t,i,e,n,r,s){const{x:o,y:a,startAngle:l,pixelMargin:u,innerRadius:w}=i,R=Math.max(i.outerRadius+n+e-u,0),z=w>0?w+n+e+u:0;let G=0;const X=r-l;if(n){const Xi=((w>0?w-n:0)+(R>0?R-n:0))/2;G=(X-(0!==Xi?X*Xi/(Xi+n):X))/2}const ne=(X-Math.max(.001,X*R-e/Ri)/R)/2,ae=l+ne+G,ce=r-ne-G,{outerStart:fe,outerEnd:ye,innerStart:me,innerEnd:Ie}=function TQ(t,i,e,n){const r=function MQ(t){return Lw(t,["outerStart","outerEnd","innerStart","innerEnd"])}(t.options.borderRadius),s=(e-i)/2,o=Math.min(s,n*i/2),a=l=>{const u=(e-Math.min(s,l))*n/2;return En(l,0,Math.min(s,u))};return{outerStart:a(r.outerStart),outerEnd:a(r.outerEnd),innerStart:En(r.innerStart,0,o),innerEnd:En(r.innerEnd,0,o)}}(i,z,R,ce-ae),ze=R-fe,Ke=R-ye,et=ae+fe/ze,Ut=ce-ye/Ke,Zt=z+me,Vt=z+Ie,sn=ae+me/Zt,er=ce-Ie/Vt;if(t.beginPath(),s){if(t.arc(o,a,R,et,Ut),ye>0){const Xi=Xc(Ke,Ut,o,a);t.arc(Xi.x,Xi.y,ye,Ut,ce+Ui)}const Ct=Xc(Vt,ce,o,a);if(t.lineTo(Ct.x,Ct.y),Ie>0){const Xi=Xc(Vt,er,o,a);t.arc(Xi.x,Xi.y,Ie,ce+Ui,er+Math.PI)}if(t.arc(o,a,z,ce-Ie/z,ae+me/z,!0),me>0){const Xi=Xc(Zt,sn,o,a);t.arc(Xi.x,Xi.y,me,sn+Math.PI,ae-Ui)}const on=Xc(ze,ae,o,a);if(t.lineTo(on.x,on.y),fe>0){const Xi=Xc(ze,et,o,a);t.arc(Xi.x,Xi.y,fe,ae-Ui,et)}}else{t.moveTo(o,a);const Ct=Math.cos(et)*R+o,on=Math.sin(et)*R+a;t.lineTo(Ct,on);const Xi=Math.cos(Ut)*R+o,al=Math.sin(Ut)*R+a;t.lineTo(Xi,al)}t.closePath()}Object.defineProperties(Jn,{defaults:{enumerable:ta,value:Bt},instances:{enumerable:ta,value:Cg},overrides:{enumerable:ta,value:Qa},registry:{enumerable:ta,value:Bs},version:{enumerable:ta,value:"3.9.1"},getChart:{enumerable:ta,value:VR},register:{enumerable:ta,value:(...t)=>{Bs.add(...t),HR()}},unregister:{enumerable:ta,value:(...t)=>{Bs.remove(...t),HR()}}});class xg extends cs{constructor(i){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,i&&Object.assign(this,i)}inRange(i,e,n){const r=this.getProps(["x","y"],n),{angle:s,distance:o}=hP(r,{x:i,y:e}),{startAngle:a,endAngle:l,innerRadius:u,outerRadius:w,circumference:R}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),z=this.options.spacing/2,X=Dt(R,l-a)>=bi||fh(s,a,l),Q=so(o,u+z,w+z);return X&&Q}getCenterPoint(i){const{x:e,y:n,startAngle:r,endAngle:s,innerRadius:o,outerRadius:a}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius","circumference"],i),{offset:l,spacing:u}=this.options,w=(r+s)/2,R=(o+a+u+l)/2;return{x:e+Math.cos(w)*R,y:n+Math.sin(w)*R}}tooltipPosition(i){return this.getCenterPoint(i)}draw(i){const{options:e,circumference:n}=this,r=(e.offset||0)/2,s=(e.spacing||0)/2,o=e.circular;if(this.pixelMargin="inner"===e.borderAlign?.33:0,this.fullCircles=n>bi?Math.floor(n/bi):0,0===n||this.innerRadius<0||this.outerRadius<0)return;i.save();let a=0;if(r){a=r/2;const u=(this.startAngle+this.endAngle)/2;i.translate(Math.cos(u)*a,Math.sin(u)*a),this.circumference>=Ri&&(a=r)}i.fillStyle=e.backgroundColor,i.strokeStyle=e.borderColor;const l=function OQ(t,i,e,n,r){const{fullCircles:s,startAngle:o,circumference:a}=i;let l=i.endAngle;if(s){Qw(t,i,e,n,o+bi,r);for(let u=0;u<s;++u)t.fill();isNaN(a)||(l=o+a%bi,a%bi==0&&(l+=bi))}return Qw(t,i,e,n,l,r),t.fill(),l}(i,this,a,s,o);(function IQ(t,i,e,n,r,s){const{options:o}=i,{borderWidth:a,borderJoinStyle:l}=o,u="inner"===o.borderAlign;a&&(u?(t.lineWidth=2*a,t.lineJoin=l||"round"):(t.lineWidth=a,t.lineJoin=l||"bevel"),i.fullCircles&&function AQ(t,i,e){const{x:n,y:r,startAngle:s,pixelMargin:o,fullCircles:a}=i,l=Math.max(i.outerRadius-o,0),u=i.innerRadius+o;let w;for(e&&zR(t,i,s+bi),t.beginPath(),t.arc(n,r,u,s+bi,s,!0),w=0;w<a;++w)t.stroke();for(t.beginPath(),t.arc(n,r,l,s,s+bi),w=0;w<a;++w)t.stroke()}(t,i,u),u&&zR(t,i,r),Qw(t,i,e,n,r,s),t.stroke())})(i,this,a,s,l,o),i.restore()}}function jR(t,i,e=i){t.lineCap=Dt(e.borderCapStyle,i.borderCapStyle),t.setLineDash(Dt(e.borderDash,i.borderDash)),t.lineDashOffset=Dt(e.borderDashOffset,i.borderDashOffset),t.lineJoin=Dt(e.borderJoinStyle,i.borderJoinStyle),t.lineWidth=Dt(e.borderWidth,i.borderWidth),t.strokeStyle=Dt(e.borderColor,i.borderColor)}function kQ(t,i,e){t.lineTo(e.x,e.y)}function UR(t,i,e={}){const n=t.length,{start:r=0,end:s=n-1}=e,{start:o,end:a}=i,l=Math.max(r,o),u=Math.min(s,a);return{count:n,start:l,loop:i.loop,ilen:u<l&&!(r<o&&s<o||r>a&&s>a)?n+u-l:u-l}}function RQ(t,i,e,n){const{points:r,options:s}=i,{count:o,start:a,loop:l,ilen:u}=UR(r,e,n),w=function PQ(t){return t.stepped?XX:t.tension||"monotone"===t.cubicInterpolationMode?ZX:kQ}(s);let G,X,Q,{move:R=!0,reverse:z}=n||{};for(G=0;G<=u;++G)X=r[(a+(z?u-G:G))%o],!X.skip&&(R?(t.moveTo(X.x,X.y),R=!1):w(t,Q,X,z,s.stepped),Q=X);return l&&(X=r[(a+(z?u:0))%o],w(t,Q,X,z,s.stepped)),!!l}function NQ(t,i,e,n){const r=i.points,{count:s,start:o,ilen:a}=UR(r,e,n),{move:l=!0,reverse:u}=n||{};let z,G,X,Q,ne,ae,w=0,R=0;const ce=ye=>(o+(u?a-ye:ye))%s,fe=()=>{Q!==ne&&(t.lineTo(w,ne),t.lineTo(w,Q),t.lineTo(w,ae))};for(l&&(G=r[ce(0)],t.moveTo(G.x,G.y)),z=0;z<=a;++z){if(G=r[ce(z)],G.skip)continue;const ye=G.x,me=G.y,Ie=0|ye;Ie===X?(me<Q?Q=me:me>ne&&(ne=me),w=(R*w+ye)/++R):(fe(),t.lineTo(ye,me),X=Ie,R=0,Q=ne=me),ae=me}fe()}function qw(t){const i=t.options;return t._decimated||t._loop||i.tension||"monotone"===i.cubicInterpolationMode||i.stepped||i.borderDash&&i.borderDash.length?RQ:NQ}xg.id="arc",xg.defaults={borderAlign:"center",borderColor:"#fff",borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0},xg.defaultRoutes={backgroundColor:"backgroundColor"};const VQ="function"==typeof Path2D;let Eg=(()=>{class t extends cs{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,n){const r=this.options;!r.tension&&"monotone"!==r.cubicInterpolationMode||r.stepped||this._pointsUpdated||(yZ(this._points,r,e,r.spanGaps?this._loop:this._fullLoop,n),this._pointsUpdated=!0)}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function RZ(t,i){const e=t.points,n=t.options.spanGaps,r=e.length;if(!r)return[];const s=!!t._loop,{start:o,end:a}=function kZ(t,i,e,n){let r=0,s=i-1;if(e&&!n)for(;r<i&&!t[r].skip;)r++;for(;r<i&&t[r].skip;)r++;for(r%=i,e&&(s+=r);s>r&&t[s%i].skip;)s--;return s%=i,{start:r,end:s}}(e,r,s,n);return function JP(t,i,e,n){return n&&n.setContext&&e?function NZ(t,i,e,n){const r=t._chart.getContext(),s=eR(t.options),{_datasetIndex:o,options:{spanGaps:a}}=t,l=e.length,u=[];let w=s,R=i[0].start,z=R;function G(X,Q,ne,ae){const ce=a?-1:1;if(X!==Q){for(X+=l;e[X%l].skip;)X-=ce;for(;e[Q%l].skip;)Q+=ce;X%l!=Q%l&&(u.push({start:X%l,end:Q%l,loop:ne,style:ae}),w=ae,R=Q%l)}}for(const X of i){R=a?R:X.start;let ne,Q=e[R%l];for(z=R+1;z<=X.end;z++){const ae=e[z%l];ne=eR(n.setContext(ea(r,{type:"segment",p0:Q,p1:ae,p0DataIndex:(z-1)%l,p1DataIndex:z%l,datasetIndex:o}))),FZ(ne,w)&&G(R,z-1,X.loop,w),Q=ae,w=ne}R<z-1&&G(R,z-1,X.loop,w)}return u}(t,i,e,n):i}(t,!0===n?[{start:o,end:a,loop:s}]:function PZ(t,i,e,n){const r=t.length,s=[];let l,o=i,a=t[i];for(l=i+1;l<=e;++l){const u=t[l%r];u.skip||u.stop?a.skip||(s.push({start:i%r,end:(l-1)%r,loop:n=!1}),i=o=u.stop?l:null):(o=l,a.skip&&(i=l)),a=u}return null!==o&&s.push({start:i%r,end:o%r,loop:n}),s}(e,o,a<o?a+r:a,!!t._fullLoop&&0===o&&a===r-1),e,i)}(this,this.options.segment))}first(){const e=this.segments;return e.length&&this.points[e[0].start]}last(){const e=this.segments,r=e.length;return r&&this.points[e[r-1].end]}interpolate(e,n){const r=this.options,s=e[n],o=this.points,a=qP(this,{property:n,start:s,end:s});if(!a.length)return;const l=[],u=function FQ(t){return t.stepped?SZ:t.tension||"monotone"===t.cubicInterpolationMode?MZ:nl}(r);let w,R;for(w=0,R=a.length;w<R;++w){const{start:z,end:G}=a[w],X=o[z],Q=o[G];if(X===Q){l.push(X);continue}const ae=u(X,Q,Math.abs((s-X[n])/(Q[n]-X[n])),r.stepped);ae[n]=e[n],l.push(ae)}return 1===l.length?l[0]:l}pathSegment(e,n,r){return qw(this)(e,this,n,r)}path(e,n,r){const s=this.segments,o=qw(this);let a=this._loop;n=n||0,r=r||this.points.length-n;for(const l of s)a&=o(e,this,l,{start:n,end:n+r-1});return!!a}draw(e,n,r,s){(this.points||[]).length&&(this.options||{}).borderWidth&&(e.save(),function HQ(t,i,e,n){VQ&&!i.options.segment?function LQ(t,i,e,n){let r=i._path;r||(r=i._path=new Path2D,i.path(r,e,n)&&r.closePath()),jR(t,i.options),t.stroke(r)}(t,i,e,n):function BQ(t,i,e,n){const{segments:r,options:s}=i,o=qw(i);for(const a of r)jR(t,s,a.style),t.beginPath(),o(t,i,a,{start:e,end:e+n-1})&&t.closePath(),t.stroke()}(t,i,e,n)}(e,this,r,s),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}return t.id="line",t.defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0},t.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},t.descriptors={_scriptable:!0,_indexable:i=>"borderDash"!==i&&"fill"!==i},t})();function $R(t,i,e,n){const r=t.options,{[e]:s}=t.getProps([e],n);return Math.abs(i-s)<r.radius+r.hitRadius}let zQ=(()=>{class t extends cs{constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,n,r){const s=this.options,{x:o,y:a}=this.getProps(["x","y"],r);return Math.pow(e-o,2)+Math.pow(n-a,2)<Math.pow(s.hitRadius+s.radius,2)}inXRange(e,n){return $R(this,e,"x",n)}inYRange(e,n){return $R(this,e,"y",n)}getCenterPoint(e){const{x:n,y:r}=this.getProps(["x","y"],e);return{x:n,y:r}}size(e){let n=(e=e||this.options||{}).radius||0;return n=Math.max(n,n&&e.hoverRadius||0),2*(n+(n&&e.borderWidth||0))}draw(e,n){const r=this.options;this.skip||r.radius<.1||!yh(this,n,this.size(r)/2)||(e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.fillStyle=r.backgroundColor,Fw(e,r,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}return t.id="point",t.defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0},t.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"},t})();function WR(t,i){const{x:e,y:n,base:r,width:s,height:o}=t.getProps(["x","y","base","width","height"],i);let a,l,u,w,R;return t.horizontal?(R=o/2,a=Math.min(e,r),l=Math.max(e,r),u=n-R,w=n+R):(R=s/2,a=e-R,l=e+R,u=Math.min(n,r),w=Math.max(n,r)),{left:a,top:u,right:l,bottom:w}}function ia(t,i,e,n){return t?0:En(i,e,n)}function Jw(t,i,e,n){const r=null===i,s=null===e,a=t&&!(r&&s)&&WR(t,n);return a&&(r||so(i,a.left,a.right))&&(s||so(e,a.top,a.bottom))}function YQ(t,i){t.rect(i.x,i.y,i.w,i.h)}function eC(t,i,e={}){const n=t.x!==e.x?-i:0,r=t.y!==e.y?-i:0;return{x:t.x+n,y:t.y+r,w:t.w+((t.x+t.w!==e.x+e.w?i:0)-n),h:t.h+((t.y+t.h!==e.y+e.h?i:0)-r),radius:t.radius}}class Dg extends cs{constructor(i){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,i&&Object.assign(this,i)}draw(i){const{inflateAmount:e,options:{borderColor:n,backgroundColor:r}}=this,{inner:s,outer:o}=function $Q(t){const i=WR(t),e=i.right-i.left,n=i.bottom-i.top,r=function jQ(t,i,e){const r=t.borderSkipped,s=RP(t.options.borderWidth);return{t:ia(r.top,s.top,0,e),r:ia(r.right,s.right,0,i),b:ia(r.bottom,s.bottom,0,e),l:ia(r.left,s.left,0,i)}}(t,e/2,n/2),s=function UQ(t,i,e){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,s=el(r),o=Math.min(i,e),a=t.borderSkipped,l=n||Nt(r);return{topLeft:ia(!l||a.top||a.left,s.topLeft,0,o),topRight:ia(!l||a.top||a.right,s.topRight,0,o),bottomLeft:ia(!l||a.bottom||a.left,s.bottomLeft,0,o),bottomRight:ia(!l||a.bottom||a.right,s.bottomRight,0,o)}}(t,e/2,n/2);return{outer:{x:i.left,y:i.top,w:e,h:n,radius:s},inner:{x:i.left+r.l,y:i.top+r.t,w:e-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,s.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,s.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,s.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,s.bottomRight-Math.max(r.b,r.r))}}}}(this),a=function WQ(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}(o.radius)?bh:YQ;i.save(),(o.w!==s.w||o.h!==s.h)&&(i.beginPath(),a(i,eC(o,e,s)),i.clip(),a(i,eC(s,-e,o)),i.fillStyle=n,i.fill("evenodd")),i.beginPath(),a(i,eC(s,e)),i.fillStyle=r,i.fill(),i.restore()}inRange(i,e,n){return Jw(this,i,e,n)}inXRange(i,e){return Jw(this,i,null,e)}inYRange(i,e){return Jw(this,null,i,e)}getCenterPoint(i){const{x:e,y:n,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],i);return{x:s?(e+r)/2:e,y:s?n:(n+r)/2}}getRange(i){return"x"===i?this.width/2:this.height/2}}Dg.id="bar",Dg.defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0},Dg.defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};var GQ=Object.freeze({__proto__:null,ArcElement:xg,LineElement:Eg,PointElement:zQ,BarElement:Dg});function YR(t){if(t._decimated){const i=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{value:i})}}function GR(t){t.data.datasets.forEach(i=>{YR(i)})}var QQ={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,i,e)=>{if(!e.enabled)return void GR(t);const n=t.width;t.data.datasets.forEach((r,s)=>{const{_data:o,indexAxis:a}=r,l=t.getDatasetMeta(s),u=o||r.data;if("y"===_h([a,t.options.indexAxis])||!l.controller.supportsDecimation)return;const w=t.scales[l.xAxisID];if("linear"!==w.type&&"time"!==w.type||t.options.parsing)return;let X,{start:R,count:z}=function KQ(t,i){const e=i.length;let r,n=0;const{iScale:s}=t,{min:o,max:a,minDefined:l,maxDefined:u}=s.getUserBounds();return l&&(n=En(oo(i,s.axis,o).lo,0,e-1)),r=u?En(oo(i,s.axis,a).hi+1,n,e)-n:e-n,{start:n,count:r}}(l,u);if(z<=(e.threshold||4*n))YR(r);else{switch(Xt(o)&&(r._data=u,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(Q){this._data=Q}})),e.algorithm){case"lttb":X=function XQ(t,i,e,n,r){const s=r.samples||n;if(s>=e)return t.slice(i,i+e);const o=[],a=(e-2)/(s-2);let l=0;const u=i+e-1;let R,z,G,X,Q,w=i;for(o[l++]=t[w],R=0;R<s-2;R++){let ce,ne=0,ae=0;const fe=Math.floor((R+1)*a)+1+i,ye=Math.min(Math.floor((R+2)*a)+1,e)+i,me=ye-fe;for(ce=fe;ce<ye;ce++)ne+=t[ce].x,ae+=t[ce].y;ne/=me,ae/=me;const Ie=Math.floor(R*a)+1+i,ze=Math.min(Math.floor((R+1)*a)+1,e)+i,{x:Ke,y:et}=t[w];for(G=X=-1,ce=Ie;ce<ze;ce++)X=.5*Math.abs((Ke-ne)*(t[ce].y-et)-(Ke-t[ce].x)*(ae-et)),X>G&&(G=X,z=t[ce],Q=ce);o[l++]=z,w=Q}return o[l++]=t[u],o}(u,R,z,n,e);break;case"min-max":X=function ZQ(t,i,e,n){let o,a,l,u,w,R,z,G,X,Q,r=0,s=0;const ne=[],ce=t[i].x,ye=t[i+e-1].x-ce;for(o=i;o<i+e;++o){a=t[o],l=(a.x-ce)/ye*n,u=a.y;const me=0|l;if(me===w)u<X?(X=u,R=o):u>Q&&(Q=u,z=o),r=(s*r+a.x)/++s;else{const Ie=o-1;if(!Xt(R)&&!Xt(z)){const ze=Math.min(R,z),Ke=Math.max(R,z);ze!==G&&ze!==Ie&&ne.push({...t[ze],x:r}),Ke!==G&&Ke!==Ie&&ne.push({...t[Ke],x:r})}o>0&&Ie!==G&&ne.push(t[Ie]),ne.push(a),w=me,s=0,X=Q=u,R=z=G=o}}return ne}(u,R,z,n);break;default:throw new Error(`Unsupported decimation algorithm '${e.algorithm}'`)}r._decimated=X}})},destroy(t){GR(t)}};function tC(t,i,e,n){if(n)return;let r=i[t],s=e[t];return"angle"===t&&(r=xr(r),s=xr(s)),{property:t,start:r,end:s}}function iC(t,i,e){for(;i>t;i--){const n=e[i];if(!isNaN(n.x)&&!isNaN(n.y))break}return i}function XR(t,i,e,n){return t&&i?n(t[e],i[e]):t?t[e]:i?i[e]:0}function ZR(t,i){let e=[],n=!1;return Di(t)?(n=!0,e=t):e=function JQ(t,i){const{x:e=null,y:n=null}=t||{},r=i.points,s=[];return i.segments.forEach(({start:o,end:a})=>{a=iC(o,a,r);const l=r[o],u=r[a];null!==n?(s.push({x:l.x,y:n}),s.push({x:u.x,y:n})):null!==e&&(s.push({x:e,y:l.y}),s.push({x:e,y:u.y}))}),s}(t,i),e.length?new Eg({points:e,options:{tension:0},_loop:n,_fullLoop:n}):null}function KR(t){return t&&!1!==t.fill}function eq(t,i,e){let r=t[i].fill;const s=[i];let o;if(!e)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!Gi(r))return r;if(o=t[r],!o)return!1;if(o.visible)return r;s.push(r),r=o.fill}return!1}function tq(t,i,e){const n=function sq(t){const i=t.options,e=i.fill;let n=Dt(e&&e.target,e);return void 0===n&&(n=!!i.backgroundColor),!1!==n&&null!==n&&(!0===n?"origin":n)}(t);if(Nt(n))return!isNaN(n.value)&&n;let r=parseFloat(n);return Gi(r)&&Math.floor(r)===r?function iq(t,i,e,n){return("-"===t||"+"===t)&&(e=i+e),!(e===i||e<0||e>=n)&&e}(n[0],i,r,e):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function lq(t,i,e){const n=[];for(let r=0;r<e.length;r++){const s=e[r],{first:o,last:a,point:l}=cq(s,i,"x");if(!(!l||o&&a))if(o)n.unshift(l);else if(t.push(l),!a)break}t.push(...n)}function cq(t,i,e){const n=t.interpolate(i,e);if(!n)return{};const r=n[e],s=t.segments,o=t.points;let a=!1,l=!1;for(let u=0;u<s.length;u++){const w=s[u],R=o[w.start][e],z=o[w.end][e];if(so(r,R,z)){a=r===R,l=r===z;break}}return{first:a,last:l,point:n}}class QR{constructor(i){this.x=i.x,this.y=i.y,this.radius=i.radius}pathSegment(i,e,n){const{x:r,y:s,radius:o}=this;return i.arc(r,s,o,(e=e||{start:0,end:bi}).end,e.start,!0),!n.bounds}interpolate(i){const{x:e,y:n,radius:r}=this,s=i.angle;return{x:e+Math.cos(s)*r,y:n+Math.sin(s)*r,angle:s}}}function nC(t,i,e){const n=function dq(t){const{chart:i,fill:e,line:n}=t;if(Gi(e))return function uq(t,i){const e=t.getDatasetMeta(i);return e&&t.isDatasetVisible(i)?e.dataset:null}(i,e);if("stack"===e)return function oq(t){const{scale:i,index:e,line:n}=t,r=[],s=n.segments,o=n.points,a=function aq(t,i){const e=[],n=t.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){const s=n[r];if(s.index===i)break;s.hidden||e.unshift(s.dataset)}return e}(i,e);a.push(ZR({x:null,y:i.bottom},n));for(let l=0;l<s.length;l++){const u=s[l];for(let w=u.start;w<=u.end;w++)lq(r,o[w],a)}return new Eg({points:r,options:{}})}(t);if("shape"===e)return!0;const r=function hq(t){return(t.scale||{}).getPointPositionForValue?function pq(t){const{scale:i,fill:e}=t,n=i.options,r=i.getLabels().length,s=n.reverse?i.max:i.min,o=function rq(t,i,e){let n;return n="start"===t?e:"end"===t?i.options.reverse?i.min:i.max:Nt(t)?t.value:i.getBaseValue(),n}(e,i,s),a=[];if(n.grid.circular){const l=i.getPointPositionForValue(0,s);return new QR({x:l.x,y:l.y,radius:i.getDistanceFromCenterForValue(o)})}for(let l=0;l<r;++l)a.push(i.getPointPositionForValue(l,o));return a}(t):function fq(t){const{scale:i={},fill:e}=t,n=function nq(t,i){let e=null;return"start"===t?e=i.bottom:"end"===t?e=i.top:Nt(t)?e=i.getPixelForValue(t.value):i.getBasePixel&&(e=i.getBasePixel()),e}(e,i);if(Gi(n)){const r=i.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}(t)}(t);return r instanceof QR?r:ZR(r,n)}(i),{line:r,scale:s,axis:o}=i,a=r.options,l=a.fill,u=a.backgroundColor,{above:w=u,below:R=u}=l||{};n&&r.points.length&&(dg(t,e),function mq(t,i){const{line:e,target:n,above:r,below:s,area:o,scale:a}=i,l=e._loop?"angle":i.axis;t.save(),"x"===l&&s!==r&&(qR(t,n,o.top),JR(t,{line:e,target:n,color:r,scale:a,property:l}),t.restore(),t.save(),qR(t,n,o.bottom)),JR(t,{line:e,target:n,color:s,scale:a,property:l}),t.restore()}(t,{line:r,target:n,above:w,below:R,area:e,scale:s,axis:o}),ug(t))}function qR(t,i,e){const{segments:n,points:r}=i;let s=!0,o=!1;t.beginPath();for(const a of n){const{start:l,end:u}=a,w=r[l],R=r[iC(l,u,r)];s?(t.moveTo(w.x,w.y),s=!1):(t.lineTo(w.x,e),t.lineTo(w.x,w.y)),o=!!i.pathSegment(t,a,{move:o}),o?t.closePath():t.lineTo(R.x,e)}t.lineTo(i.first().x,e),t.closePath(),t.clip()}function JR(t,i){const{line:e,target:n,property:r,color:s,scale:o}=i,a=function qQ(t,i,e){const n=t.segments,r=t.points,s=i.points,o=[];for(const a of n){let{start:l,end:u}=a;u=iC(l,u,r);const w=tC(e,r[l],r[u],a.loop);if(!i.segments){o.push({source:a,target:w,start:r[l],end:r[u]});continue}const R=qP(i,w);for(const z of R){const G=tC(e,s[z.start],s[z.end],z.loop),X=QP(a,r,G);for(const Q of X)o.push({source:Q,target:z,start:{[e]:XR(w,G,"start",Math.max)},end:{[e]:XR(w,G,"end",Math.min)}})}}return o}(e,n,r);for(const{source:l,target:u,start:w,end:R}of a){const{style:{backgroundColor:z=s}={}}=l,G=!0!==n;t.save(),t.fillStyle=z,gq(t,o,G&&tC(r,w,R)),t.beginPath();const X=!!e.pathSegment(t,l);let Q;if(G){X?t.closePath():eN(t,n,R,r);const ne=!!n.pathSegment(t,u,{move:X,reverse:!0});Q=X&&ne,Q||eN(t,n,w,r)}t.closePath(),t.fill(Q?"evenodd":"nonzero"),t.restore()}}function gq(t,i,e){const{top:n,bottom:r}=i.chart.chartArea,{property:s,start:o,end:a}=e||{};"x"===s&&(t.beginPath(),t.rect(o,n,a-o,r-n),t.clip())}function eN(t,i,e,n){const r=i.interpolate(e,n);r&&t.lineTo(r.x,r.y)}var vq={id:"filler",afterDatasetsUpdate(t,i,e){const n=(t.data.datasets||[]).length,r=[];let s,o,a,l;for(o=0;o<n;++o)s=t.getDatasetMeta(o),a=s.dataset,l=null,a&&a.options&&a instanceof Eg&&(l={visible:t.isDatasetVisible(o),index:o,fill:tq(a,o,n),chart:t,axis:s.controller.options.indexAxis,scale:s.vScale,line:a}),s.$filler=l,r.push(l);for(o=0;o<n;++o)l=r[o],l&&!1!==l.fill&&(l.fill=eq(r,o,e.propagate))},beforeDraw(t,i,e){const n="beforeDraw"===e.drawTime,r=t.getSortedVisibleDatasetMetas(),s=t.chartArea;for(let o=r.length-1;o>=0;--o){const a=r[o].$filler;a&&(a.line.updateControlPoints(s,a.axis),n&&a.fill&&nC(t.ctx,a,s))}},beforeDatasetsDraw(t,i,e){if("beforeDatasetsDraw"!==e.drawTime)return;const n=t.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){const s=n[r].$filler;KR(s)&&nC(t.ctx,s,t.chartArea)}},beforeDatasetDraw(t,i,e){const n=i.meta.$filler;!KR(n)||"beforeDatasetDraw"!==e.drawTime||nC(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const tN=(t,i)=>{let{boxHeight:e=i,boxWidth:n=i}=t;return t.usePointStyle&&(e=Math.min(e,i),n=t.pointStyleWidth||Math.min(n,i)),{boxWidth:n,boxHeight:e,itemHeight:Math.max(i,e)}};class iN extends cs{constructor(i){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,e,n){this.maxWidth=i,this.maxHeight=e,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const i=this.options.labels||{};let e=Si(i.generateLabels,[this.chart],this)||[];i.filter&&(e=e.filter(n=>i.filter(n,this.chart.data))),i.sort&&(e=e.sort((n,r)=>i.sort(n,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:i,ctx:e}=this;if(!i.display)return void(this.width=this.height=0);const n=i.labels,r=gn(n.font),s=r.size,o=this._computeTitleHeight(),{boxWidth:a,itemHeight:l}=tN(n,s);let u,w;e.font=r.string,this.isHorizontal()?(u=this.maxWidth,w=this._fitRows(o,s,a,l)+10):(w=this.maxHeight,u=this._fitCols(o,s,a,l)+10),this.width=Math.min(u,i.maxWidth||this.maxWidth),this.height=Math.min(w,i.maxHeight||this.maxHeight)}_fitRows(i,e,n,r){const{ctx:s,maxWidth:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.lineWidths=[0],w=r+a;let R=i;s.textAlign="left",s.textBaseline="middle";let z=-1,G=-w;return this.legendItems.forEach((X,Q)=>{const ne=n+e/2+s.measureText(X.text).width;(0===Q||u[u.length-1]+ne+2*a>o)&&(R+=w,u[u.length-(Q>0?0:1)]=0,G+=w,z++),l[Q]={left:0,top:G,row:z,width:ne,height:r},u[u.length-1]+=ne+a}),R}_fitCols(i,e,n,r){const{ctx:s,maxHeight:o,options:{labels:{padding:a}}}=this,l=this.legendHitBoxes=[],u=this.columnSizes=[],w=o-i;let R=a,z=0,G=0,X=0,Q=0;return this.legendItems.forEach((ne,ae)=>{const ce=n+e/2+s.measureText(ne.text).width;ae>0&&G+r+2*a>w&&(R+=z+a,u.push({width:z,height:G}),X+=z+a,Q++,z=G=0),l[ae]={left:X,top:G,col:Q,width:ce,height:r},z=Math.max(z,ce),G+=r+a}),R+=z,u.push({width:z,height:G}),R}adjustHitBoxes(){if(!this.options.display)return;const i=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:n,labels:{padding:r},rtl:s}}=this,o=Gc(s,this.left,this.width);if(this.isHorizontal()){let a=0,l=Bn(n,this.left+r,this.right-this.lineWidths[a]);for(const u of e)a!==u.row&&(a=u.row,l=Bn(n,this.left+r,this.right-this.lineWidths[a])),u.top+=this.top+i+r,u.left=o.leftForLtr(o.x(l),u.width),l+=u.width+r}else{let a=0,l=Bn(n,this.top+i+r,this.bottom-this.columnSizes[a].height);for(const u of e)u.col!==a&&(a=u.col,l=Bn(n,this.top+i+r,this.bottom-this.columnSizes[a].height)),u.top=l,u.left+=this.left+r,u.left=o.leftForLtr(o.x(u.left),u.width),l+=u.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const i=this.ctx;dg(i,this),this._draw(),ug(i)}}_draw(){const{options:i,columnSizes:e,lineWidths:n,ctx:r}=this,{align:s,labels:o}=i,a=Bt.color,l=Gc(i.rtl,this.left,this.width),u=gn(o.font),{color:w,padding:R}=o,z=u.size,G=z/2;let X;this.drawTitle(),r.textAlign=l.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=u.string;const{boxWidth:Q,boxHeight:ne,itemHeight:ae}=tN(o,z),ye=this.isHorizontal(),me=this._computeTitleHeight();X=ye?{x:Bn(s,this.left+R,this.right-n[0]),y:this.top+R+me,line:0}:{x:this.left+R,y:Bn(s,this.top+me+R,this.bottom-e[0].height),line:0},GP(this.ctx,i.textDirection);const Ie=ae+R;this.legendItems.forEach((ze,Ke)=>{r.strokeStyle=ze.fontColor||w,r.fillStyle=ze.fontColor||w;const et=r.measureText(ze.text).width,Ut=l.textAlign(ze.textAlign||(ze.textAlign=o.textAlign)),Zt=Q+G+et;let Vt=X.x,sn=X.y;l.setWidth(this.width),ye?Ke>0&&Vt+Zt+R>this.right&&(sn=X.y+=Ie,X.line++,Vt=X.x=Bn(s,this.left+R,this.right-n[X.line])):Ke>0&&sn+Ie>this.bottom&&(Vt=X.x=Vt+e[X.line].width+R,X.line++,sn=X.y=Bn(s,this.top+me+R,this.bottom-e[X.line].height)),function(ze,Ke,et){if(isNaN(Q)||Q<=0||isNaN(ne)||ne<0)return;r.save();const Ut=Dt(et.lineWidth,1);if(r.fillStyle=Dt(et.fillStyle,a),r.lineCap=Dt(et.lineCap,"butt"),r.lineDashOffset=Dt(et.lineDashOffset,0),r.lineJoin=Dt(et.lineJoin,"miter"),r.lineWidth=Ut,r.strokeStyle=Dt(et.strokeStyle,a),r.setLineDash(Dt(et.lineDash,[])),o.usePointStyle){const Zt={radius:ne*Math.SQRT2/2,pointStyle:et.pointStyle,rotation:et.rotation,borderWidth:Ut},Vt=l.xPlus(ze,Q/2);PP(r,Zt,Vt,Ke+G,o.pointStyleWidth&&Q)}else{const Zt=Ke+Math.max((z-ne)/2,0),Vt=l.leftForLtr(ze,Q),sn=el(et.borderRadius);r.beginPath(),Object.values(sn).some(er=>0!==er)?bh(r,{x:Vt,y:Zt,w:Q,h:ne,radius:sn}):r.rect(Vt,Zt,Q,ne),r.fill(),0!==Ut&&r.stroke()}r.restore()}(l.x(Vt),sn,ze),Vt=((t,i,e,n)=>t===(n?"left":"right")?e:"center"===t?(i+e)/2:i)(Ut,Vt+Q+G,ye?Vt+Zt:this.right,i.rtl),function(ze,Ke,et){Ja(r,et.text,ze,Ke+ae/2,u,{strikethrough:et.hidden,textAlign:l.textAlign(et.textAlign)})}(l.x(Vt),sn,ze),ye?X.x+=Zt+R:X.y+=Ie}),XP(this.ctx,i.textDirection)}drawTitle(){const i=this.options,e=i.title,n=gn(e.font),r=Vn(e.padding);if(!e.display)return;const s=Gc(i.rtl,this.left,this.width),o=this.ctx,a=e.position,u=r.top+n.size/2;let w,R=this.left,z=this.width;if(this.isHorizontal())z=Math.max(...this.lineWidths),w=this.top+u,R=Bn(i.align,R,this.right-z);else{const X=this.columnSizes.reduce((Q,ne)=>Math.max(Q,ne.height),0);w=u+Bn(i.align,this.top,this.bottom-X-i.labels.padding-this._computeTitleHeight())}const G=Bn(a,R,R+z);o.textAlign=s.textAlign(Mw(a)),o.textBaseline="middle",o.strokeStyle=e.color,o.fillStyle=e.color,o.font=n.string,Ja(o,e.text,G,w,n)}_computeTitleHeight(){const i=this.options.title,e=gn(i.font),n=Vn(i.padding);return i.display?e.lineHeight+n.height:0}_getLegendItemAt(i,e){let n,r,s;if(so(i,this.left,this.right)&&so(e,this.top,this.bottom))for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(r=s[n],so(i,r.left,r.left+r.width)&&so(e,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(i){const e=this.options;if(!function bq(t,i){return!(("mousemove"!==t&&"mouseout"!==t||!i.onHover&&!i.onLeave)&&(!i.onClick||"click"!==t&&"mouseup"!==t))}(i.type,e))return;const n=this._getLegendItemAt(i.x,i.y);if("mousemove"===i.type||"mouseout"===i.type){const r=this._hoveredItem,s=((t,i)=>null!==t&&null!==i&&t.datasetIndex===i.datasetIndex&&t.index===i.index)(r,n);r&&!s&&Si(e.onLeave,[i,r,this],this),this._hoveredItem=n,n&&!s&&Si(e.onHover,[i,n,this],this)}else n&&Si(e.onClick,[i,n,this],this)}}var _q={id:"legend",_element:iN,start(t,i,e){const n=t.legend=new iN({ctx:t.ctx,options:e,chart:t});Hn.configure(t,n,e),Hn.addBox(t,n)},stop(t){Hn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,i,e){const n=t.legend;Hn.configure(t,n,e),n.options=e},afterUpdate(t){const i=t.legend;i.buildLabels(),i.adjustHitBoxes()},afterEvent(t,i){i.replay||t.legend.handleEvent(i.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,i,e){const n=i.datasetIndex,r=e.chart;r.isDatasetVisible(n)?(r.hide(n),i.hidden=!0):(r.show(n),i.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const i=t.data.datasets,{labels:{usePointStyle:e,pointStyle:n,textAlign:r,color:s}}=t.legend.options;return t._getSortedDatasetMetas().map(o=>{const a=o.controller.getStyle(e?0:void 0),l=Vn(a.borderWidth);return{text:i[o.index].label,fillStyle:a.backgroundColor,fontColor:s,hidden:!o.visible,lineCap:a.borderCapStyle,lineDash:a.borderDash,lineDashOffset:a.borderDashOffset,lineJoin:a.borderJoinStyle,lineWidth:(l.width+l.height)/4,strokeStyle:a.borderColor,pointStyle:n||a.pointStyle,rotation:a.rotation,textAlign:r||a.textAlign,borderRadius:0,datasetIndex:o.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class rC extends cs{constructor(i){super(),this.chart=i.chart,this.options=i.options,this.ctx=i.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(i,e){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=i,this.height=this.bottom=e;const r=Di(n.text)?n.text.length:1;this._padding=Vn(n.padding);const s=r*gn(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const i=this.options.position;return"top"===i||"bottom"===i}_drawArgs(i){const{top:e,left:n,bottom:r,right:s,options:o}=this,a=o.align;let u,w,R,l=0;return this.isHorizontal()?(w=Bn(a,n,s),R=e+i,u=s-n):("left"===o.position?(w=n+i,R=Bn(a,r,e),l=-.5*Ri):(w=s-i,R=Bn(a,e,r),l=.5*Ri),u=r-e),{titleX:w,titleY:R,maxWidth:u,rotation:l}}draw(){const i=this.ctx,e=this.options;if(!e.display)return;const n=gn(e.font),s=n.lineHeight/2+this._padding.top,{titleX:o,titleY:a,maxWidth:l,rotation:u}=this._drawArgs(s);Ja(i,e.text,0,0,n,{color:e.color,maxWidth:l,rotation:u,textAlign:Mw(e.align),textBaseline:"middle",translation:[o,a]})}}var Cq={id:"title",_element:rC,start(t,i,e){!function wq(t,i){const e=new rC({ctx:t.ctx,options:i,chart:t});Hn.configure(t,e,i),Hn.addBox(t,e),t.titleBlock=e}(t,e)},stop(t){Hn.removeBox(t,t.titleBlock),delete t.titleBlock},beforeUpdate(t,i,e){const n=t.titleBlock;Hn.configure(t,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Sg=new WeakMap;var xq={id:"subtitle",start(t,i,e){const n=new rC({ctx:t.ctx,options:e,chart:t});Hn.configure(t,n,e),Hn.addBox(t,n),Sg.set(t,n)},stop(t){Hn.removeBox(t,Sg.get(t)),Sg.delete(t)},beforeUpdate(t,i,e){const n=Sg.get(t);Hn.configure(t,n,e),n.options=e},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Ah={average(t){if(!t.length)return!1;let i,e,n=0,r=0,s=0;for(i=0,e=t.length;i<e;++i){const o=t[i].element;if(o&&o.hasValue()){const a=o.tooltipPosition();n+=a.x,r+=a.y,++s}}return{x:n/s,y:r/s}},nearest(t,i){if(!t.length)return!1;let s,o,a,e=i.x,n=i.y,r=Number.POSITIVE_INFINITY;for(s=0,o=t.length;s<o;++s){const l=t[s].element;if(l&&l.hasValue()){const w=Dw(i,l.getCenterPoint());w<r&&(r=w,a=l)}}if(a){const l=a.tooltipPosition();e=l.x,n=l.y}return{x:e,y:n}}};function Vs(t,i){return i&&(Di(i)?Array.prototype.push.apply(t,i):t.push(i)),t}function co(t){return("string"==typeof t||t instanceof String)&&t.indexOf("\n")>-1?t.split("\n"):t}function Eq(t,i){const{element:e,datasetIndex:n,index:r}=i,s=t.getDatasetMeta(n).controller,{label:o,value:a}=s.getLabelAndValue(r);return{chart:t,label:o,parsed:s.getParsed(r),raw:t.data.datasets[n].data[r],formattedValue:a,dataset:s.getDataset(),dataIndex:r,datasetIndex:n,element:e}}function nN(t,i){const e=t.chart.ctx,{body:n,footer:r,title:s}=t,{boxWidth:o,boxHeight:a}=i,l=gn(i.bodyFont),u=gn(i.titleFont),w=gn(i.footerFont),R=s.length,z=r.length,G=n.length,X=Vn(i.padding);let Q=X.height,ne=0,ae=n.reduce((ye,me)=>ye+me.before.length+me.lines.length+me.after.length,0);ae+=t.beforeBody.length+t.afterBody.length,R&&(Q+=R*u.lineHeight+(R-1)*i.titleSpacing+i.titleMarginBottom),ae&&(Q+=G*(i.displayColors?Math.max(a,l.lineHeight):l.lineHeight)+(ae-G)*l.lineHeight+(ae-1)*i.bodySpacing),z&&(Q+=i.footerMarginTop+z*w.lineHeight+(z-1)*i.footerSpacing);let ce=0;const fe=function(ye){ne=Math.max(ne,e.measureText(ye).width+ce)};return e.save(),e.font=u.string,ui(t.title,fe),e.font=l.string,ui(t.beforeBody.concat(t.afterBody),fe),ce=i.displayColors?o+2+i.boxPadding:0,ui(n,ye=>{ui(ye.before,fe),ui(ye.lines,fe),ui(ye.after,fe)}),ce=0,e.font=w.string,ui(t.footer,fe),e.restore(),ne+=X.width,{width:ne,height:Q}}function Mq(t,i,e,n){const{x:r,width:s}=e,{width:o,chartArea:{left:a,right:l}}=t;let u="center";return"center"===n?u=r<=(a+l)/2?"left":"right":r<=s/2?u="left":r>=o-s/2&&(u="right"),function Sq(t,i,e,n){const{x:r,width:s}=n,o=e.caretSize+e.caretPadding;if("left"===t&&r+s+o>i.width||"right"===t&&r-s-o<0)return!0}(u,t,i,e)&&(u="center"),u}function rN(t,i,e){const n=e.yAlign||i.yAlign||function Dq(t,i){const{y:e,height:n}=i;return e<n/2?"top":e>t.height-n/2?"bottom":"center"}(t,e);return{xAlign:e.xAlign||i.xAlign||Mq(t,i,e,n),yAlign:n}}function sN(t,i,e,n){const{caretSize:r,caretPadding:s,cornerRadius:o}=t,{xAlign:a,yAlign:l}=e,u=r+s,{topLeft:w,topRight:R,bottomLeft:z,bottomRight:G}=el(o);let X=function Tq(t,i){let{x:e,width:n}=t;return"right"===i?e-=n:"center"===i&&(e-=n/2),e}(i,a);const Q=function Oq(t,i,e){let{y:n,height:r}=t;return"top"===i?n+=e:n-="bottom"===i?r+e:r/2,n}(i,l,u);return"center"===l?"left"===a?X+=u:"right"===a&&(X-=u):"left"===a?X-=Math.max(w,z)+r:"right"===a&&(X+=Math.max(R,G)+r),{x:En(X,0,n.width-i.width),y:En(Q,0,n.height-i.height)}}function Mg(t,i,e){const n=Vn(e.padding);return"center"===i?t.x+t.width/2:"right"===i?t.x+t.width-n.right:t.x+n.left}function oN(t){return Vs([],co(t))}function aN(t,i){const e=i&&i.dataset&&i.dataset.tooltip&&i.dataset.tooltip.callbacks;return e?t.override(e):t}let lN=(()=>{class t extends cs{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart||e._chart,this._chart=this.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const n=this.chart,r=this.options.setContext(this.getContext()),s=r.enabled&&n.options.animation&&r.animations,o=new iR(this.chart,s);return s._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=function Aq(t,i,e){return ea(t,{tooltip:i,tooltipItems:e,type:"tooltip"})}(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,n){const{callbacks:r}=n,s=r.beforeTitle.apply(this,[e]),o=r.title.apply(this,[e]),a=r.afterTitle.apply(this,[e]);let l=[];return l=Vs(l,co(s)),l=Vs(l,co(o)),l=Vs(l,co(a)),l}getBeforeBody(e,n){return oN(n.callbacks.beforeBody.apply(this,[e]))}getBody(e,n){const{callbacks:r}=n,s=[];return ui(e,o=>{const a={before:[],lines:[],after:[]},l=aN(r,o);Vs(a.before,co(l.beforeLabel.call(this,o))),Vs(a.lines,l.label.call(this,o)),Vs(a.after,co(l.afterLabel.call(this,o))),s.push(a)}),s}getAfterBody(e,n){return oN(n.callbacks.afterBody.apply(this,[e]))}getFooter(e,n){const{callbacks:r}=n,s=r.beforeFooter.apply(this,[e]),o=r.footer.apply(this,[e]),a=r.afterFooter.apply(this,[e]);let l=[];return l=Vs(l,co(s)),l=Vs(l,co(o)),l=Vs(l,co(a)),l}_createItems(e){const n=this._active,r=this.chart.data,s=[],o=[],a=[];let u,w,l=[];for(u=0,w=n.length;u<w;++u)l.push(Eq(this.chart,n[u]));return e.filter&&(l=l.filter((R,z,G)=>e.filter(R,z,G,r))),e.itemSort&&(l=l.sort((R,z)=>e.itemSort(R,z,r))),ui(l,R=>{const z=aN(e.callbacks,R);s.push(z.labelColor.call(this,R)),o.push(z.labelPointStyle.call(this,R)),a.push(z.labelTextColor.call(this,R))}),this.labelColors=s,this.labelPointStyles=o,this.labelTextColors=a,this.dataPoints=l,l}update(e,n){const r=this.options.setContext(this.getContext()),s=this._active;let o,a=[];if(s.length){const l=Ah[r.position].call(this,s,this._eventPosition);a=this._createItems(r),this.title=this.getTitle(a,r),this.beforeBody=this.getBeforeBody(a,r),this.body=this.getBody(a,r),this.afterBody=this.getAfterBody(a,r),this.footer=this.getFooter(a,r);const u=this._size=nN(this,r),w=Object.assign({},l,u),R=rN(this.chart,r,w),z=sN(r,w,R,this.chart);this.xAlign=R.xAlign,this.yAlign=R.yAlign,o={opacity:1,x:z.x,y:z.y,width:u.width,height:u.height,caretX:l.x,caretY:l.y}}else 0!==this.opacity&&(o={opacity:0});this._tooltipItems=a,this.$context=void 0,o&&this._resolveAnimations().update(this,o),e&&r.external&&r.external.call(this,{chart:this.chart,tooltip:this,replay:n})}drawCaret(e,n,r,s){const o=this.getCaretPosition(e,r,s);n.lineTo(o.x1,o.y1),n.lineTo(o.x2,o.y2),n.lineTo(o.x3,o.y3)}getCaretPosition(e,n,r){const{xAlign:s,yAlign:o}=this,{caretSize:a,cornerRadius:l}=r,{topLeft:u,topRight:w,bottomLeft:R,bottomRight:z}=el(l),{x:G,y:X}=e,{width:Q,height:ne}=n;let ae,ce,fe,ye,me,Ie;return"center"===o?(me=X+ne/2,"left"===s?(ae=G,ce=ae-a,ye=me+a,Ie=me-a):(ae=G+Q,ce=ae+a,ye=me-a,Ie=me+a),fe=ae):(ce="left"===s?G+Math.max(u,R)+a:"right"===s?G+Q-Math.max(w,z)-a:this.caretX,"top"===o?(ye=X,me=ye-a,ae=ce-a,fe=ce+a):(ye=X+ne,me=ye+a,ae=ce+a,fe=ce-a),Ie=ye),{x1:ae,x2:ce,x3:fe,y1:ye,y2:me,y3:Ie}}drawTitle(e,n,r){const s=this.title,o=s.length;let a,l,u;if(o){const w=Gc(r.rtl,this.x,this.width);for(e.x=Mg(this,r.titleAlign,r),n.textAlign=w.textAlign(r.titleAlign),n.textBaseline="middle",a=gn(r.titleFont),l=r.titleSpacing,n.fillStyle=r.titleColor,n.font=a.string,u=0;u<o;++u)n.fillText(s[u],w.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+l,u+1===o&&(e.y+=r.titleMarginBottom-l)}}_drawColorBox(e,n,r,s,o){const a=this.labelColors[r],l=this.labelPointStyles[r],{boxHeight:u,boxWidth:w,boxPadding:R}=o,z=gn(o.bodyFont),G=Mg(this,"left",o),X=s.x(G),ne=n.y+(u<z.lineHeight?(z.lineHeight-u)/2:0);if(o.usePointStyle){const ae={radius:Math.min(w,u)/2,pointStyle:l.pointStyle,rotation:l.rotation,borderWidth:1},ce=s.leftForLtr(X,w)+w/2,fe=ne+u/2;e.strokeStyle=o.multiKeyBackground,e.fillStyle=o.multiKeyBackground,Fw(e,ae,ce,fe),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Fw(e,ae,ce,fe)}else{e.lineWidth=Nt(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const ae=s.leftForLtr(X,w-R),ce=s.leftForLtr(s.xPlus(X,1),w-R-2),fe=el(a.borderRadius);Object.values(fe).some(ye=>0!==ye)?(e.beginPath(),e.fillStyle=o.multiKeyBackground,bh(e,{x:ae,y:ne,w,h:u,radius:fe}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),bh(e,{x:ce,y:ne+1,w:w-2,h:u-2,radius:fe}),e.fill()):(e.fillStyle=o.multiKeyBackground,e.fillRect(ae,ne,w,u),e.strokeRect(ae,ne,w,u),e.fillStyle=a.backgroundColor,e.fillRect(ce,ne+1,w-2,u-2))}e.fillStyle=this.labelTextColors[r]}drawBody(e,n,r){const{body:s}=this,{bodySpacing:o,bodyAlign:a,displayColors:l,boxHeight:u,boxWidth:w,boxPadding:R}=r,z=gn(r.bodyFont);let G=z.lineHeight,X=0;const Q=Gc(r.rtl,this.x,this.width),ne=function(et){n.fillText(et,Q.x(e.x+X),e.y+G/2),e.y+=G+o},ae=Q.textAlign(a);let ce,fe,ye,me,Ie,ze,Ke;for(n.textAlign=a,n.textBaseline="middle",n.font=z.string,e.x=Mg(this,ae,r),n.fillStyle=r.bodyColor,ui(this.beforeBody,ne),X=l&&"right"!==ae?"center"===a?w/2+R:w+2+R:0,me=0,ze=s.length;me<ze;++me){for(ce=s[me],fe=this.labelTextColors[me],n.fillStyle=fe,ui(ce.before,ne),ye=ce.lines,l&&ye.length&&(this._drawColorBox(n,e,me,Q,r),G=Math.max(z.lineHeight,u)),Ie=0,Ke=ye.length;Ie<Ke;++Ie)ne(ye[Ie]),G=z.lineHeight;ui(ce.after,ne)}X=0,G=z.lineHeight,ui(this.afterBody,ne),e.y-=o}drawFooter(e,n,r){const s=this.footer,o=s.length;let a,l;if(o){const u=Gc(r.rtl,this.x,this.width);for(e.x=Mg(this,r.footerAlign,r),e.y+=r.footerMarginTop,n.textAlign=u.textAlign(r.footerAlign),n.textBaseline="middle",a=gn(r.footerFont),n.fillStyle=r.footerColor,n.font=a.string,l=0;l<o;++l)n.fillText(s[l],u.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+r.footerSpacing}}drawBackground(e,n,r,s){const{xAlign:o,yAlign:a}=this,{x:l,y:u}=e,{width:w,height:R}=r,{topLeft:z,topRight:G,bottomLeft:X,bottomRight:Q}=el(s.cornerRadius);n.fillStyle=s.backgroundColor,n.strokeStyle=s.borderColor,n.lineWidth=s.borderWidth,n.beginPath(),n.moveTo(l+z,u),"top"===a&&this.drawCaret(e,n,r,s),n.lineTo(l+w-G,u),n.quadraticCurveTo(l+w,u,l+w,u+G),"center"===a&&"right"===o&&this.drawCaret(e,n,r,s),n.lineTo(l+w,u+R-Q),n.quadraticCurveTo(l+w,u+R,l+w-Q,u+R),"bottom"===a&&this.drawCaret(e,n,r,s),n.lineTo(l+X,u+R),n.quadraticCurveTo(l,u+R,l,u+R-X),"center"===a&&"left"===o&&this.drawCaret(e,n,r,s),n.lineTo(l,u+z),n.quadraticCurveTo(l,u,l+z,u),n.closePath(),n.fill(),s.borderWidth>0&&n.stroke()}_updateAnimationTarget(e){const n=this.chart,r=this.$animations,s=r&&r.x,o=r&&r.y;if(s||o){const a=Ah[e.position].call(this,this._active,this._eventPosition);if(!a)return;const l=this._size=nN(this,e),u=Object.assign({},a,this._size),w=rN(n,e,u),R=sN(e,u,w,n);(s._to!==R.x||o._to!==R.y)&&(this.xAlign=w.xAlign,this.yAlign=w.yAlign,this.width=l.width,this.height=l.height,this.caretX=a.x,this.caretY=a.y,this._resolveAnimations().update(this,R))}}_willRender(){return!!this.opacity}draw(e){const n=this.options.setContext(this.getContext());let r=this.opacity;if(!r)return;this._updateAnimationTarget(n);const s={width:this.width,height:this.height},o={x:this.x,y:this.y};r=Math.abs(r)<.001?0:r;const a=Vn(n.padding);n.enabled&&(this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length)&&(e.save(),e.globalAlpha=r,this.drawBackground(o,e,s,n),GP(e,n.textDirection),o.y+=a.top,this.drawTitle(o,e,n),this.drawBody(o,e,n),this.drawFooter(o,e,n),XP(e,n.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,n){const r=this._active,s=e.map(({datasetIndex:l,index:u})=>{const w=this.chart.getDatasetMeta(l);if(!w)throw new Error("Cannot find a dataset at index "+l);return{datasetIndex:l,element:w.data[u],index:u}}),o=!tg(r,s),a=this._positionChanged(s,n);(o||a)&&(this._active=s,this._eventPosition=n,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,n,r=!0){if(n&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const s=this.options,o=this._active||[],a=this._getActiveElements(e,o,n,r),l=this._positionChanged(a,e),u=n||!tg(a,o)||l;return u&&(this._active=a,(s.enabled||s.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,n))),u}_getActiveElements(e,n,r,s){const o=this.options;if("mouseout"===e.type)return[];if(!s)return n;const a=this.chart.getElementsAtEventForMode(e,o.mode,o,r);return o.reverse&&a.reverse(),a}_positionChanged(e,n){const{caretX:r,caretY:s,options:o}=this,a=Ah[o.position].call(this,e,n);return!1!==a&&(r!==a.x||s!==a.y)}}return t.positioners=Ah,t})();var kq=Object.freeze({__proto__:null,Decimation:QQ,Filler:vq,Legend:_q,SubTitle:xq,Title:Cq,Tooltip:{id:"tooltip",_element:lN,positioners:Ah,afterInit(t,i,e){e&&(t.tooltip=new lN({chart:t,options:e}))},beforeUpdate(t,i,e){t.tooltip&&t.tooltip.initialize(e)},reset(t,i,e){t.tooltip&&t.tooltip.initialize(e)},afterDraw(t){const i=t.tooltip;if(i&&i._willRender()){const e={tooltip:i};if(!1===t.notifyPlugins("beforeTooltipDraw",e))return;i.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",e)}},afterEvent(t,i){t.tooltip&&t.tooltip.handleEvent(i.event,i.replay,i.inChartArea)&&(i.changed=!0)},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,i)=>i.bodyFont.size,boxWidth:(t,i)=>i.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:{beforeTitle:ro,title(t){if(t.length>0){const i=t[0],e=i.chart.data.labels,n=e?e.length:0;if(this&&this.options&&"dataset"===this.options.mode)return i.dataset.label||"";if(i.label)return i.label;if(n>0&&i.dataIndex<n)return e[i.dataIndex]}return""},afterTitle:ro,beforeBody:ro,beforeLabel:ro,label(t){if(this&&this.options&&"dataset"===this.options.mode)return t.label+": "+t.formattedValue||t.formattedValue;let i=t.dataset.label||"";i&&(i+=": ");const e=t.formattedValue;return Xt(e)||(i+=e),i},labelColor(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const e=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ro,afterBody:ro,beforeFooter:ro,footer:ro,afterFooter:ro}},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>"filter"!==t&&"itemSort"!==t&&"external"!==t,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]}});class Tg extends rl{constructor(i){super(i),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(i){const e=this._addedLabels;if(e.length){const n=this.getLabels();for(const{index:r,label:s}of e)n[r]===s&&n.splice(r,1);this._addedLabels=[]}super.init(i)}parse(i,e){if(Xt(i))return null;const n=this.getLabels();return((t,i)=>null===t?null:En(Math.round(t),0,i))(e=isFinite(e)&&n[e]===i?e:function Rq(t,i,e,n){const r=t.indexOf(i);return-1===r?((t,i,e,n)=>("string"==typeof i?(e=t.push(i)-1,n.unshift({index:e,label:i})):isNaN(i)&&(e=null),e))(t,i,e,n):r!==t.lastIndexOf(i)?e:r}(n,i,Dt(e,i),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:i,maxDefined:e}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(i||(n=0),e||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const i=this.min,e=this.max,n=this.options.offset,r=[];let s=this.getLabels();s=0===i&&e===s.length-1?s:s.slice(i,e+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=i;o<=e;o++)r.push({value:o});return r}getLabelForValue(i){const e=this.getLabels();return i>=0&&i<e.length?e[i]:i}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(i){return"number"!=typeof i&&(i=this.parse(i)),null===i?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getPixelForTick(i){const e=this.ticks;return i<0||i>e.length-1?null:this.getPixelForValue(e[i].value)}getValueForPixel(i){return Math.round(this._startValue+this.getDecimalForPixel(i)*this._valueRange)}getBasePixel(){return this.bottom}}function cN(t,i,{horizontal:e,minRotation:n}){const r=ls(n),s=(e?Math.sin(r):Math.cos(r))||.001;return Math.min(i/s,.75*i*(""+t).length)}Tg.id="category",Tg.defaults={ticks:{callback:Tg.prototype.getLabelForValue}};class Og extends rl{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(i,e){return Xt(i)||("number"==typeof i||i instanceof Number)&&!isFinite(+i)?null:+i}handleTickRangeOptions(){const{beginAtZero:i}=this.options,{minDefined:e,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this;const o=l=>r=e?r:l,a=l=>s=n?s:l;if(i){const l=Fs(r),u=Fs(s);l<0&&u<0?a(0):l>0&&u>0&&o(0)}if(r===s){let l=1;(s>=Number.MAX_SAFE_INTEGER||r<=Number.MIN_SAFE_INTEGER)&&(l=Math.abs(.05*s)),a(s+l),i||o(r-l)}this.min=r,this.max=s}getTickLimit(){const i=this.options.ticks;let r,{maxTicksLimit:e,stepSize:n}=i;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const i=this.options,e=i.ticks;let n=this.getTickLimit();n=Math.max(2,n);const o=function Fq(t,i){const e=[],{bounds:r,step:s,min:o,max:a,precision:l,count:u,maxTicks:w,maxDigits:R,includeBounds:z}=t,G=s||1,X=w-1,{min:Q,max:ne}=i,ae=!Xt(o),ce=!Xt(a),fe=!Xt(u),ye=(ne-Q)/(R+1);let Ie,ze,Ke,et,me=cP((ne-Q)/X/G)*G;if(me<1e-14&&!ae&&!ce)return[{value:Q},{value:ne}];et=Math.ceil(ne/me)-Math.floor(Q/me),et>X&&(me=cP(et*me/X/G)*G),Xt(l)||(Ie=Math.pow(10,l),me=Math.ceil(me*Ie)/Ie),"ticks"===r?(ze=Math.floor(Q/me)*me,Ke=Math.ceil(ne/me)*me):(ze=Q,Ke=ne),ae&&ce&&s&&function mX(t,i){const e=Math.round(t);return e-i<=t&&e+i>=t}((a-o)/s,me/1e3)?(et=Math.round(Math.min((a-o)/me,w)),me=(a-o)/et,ze=o,Ke=a):fe?(ze=ae?o:ze,Ke=ce?a:Ke,et=u-1,me=(Ke-ze)/et):(et=(Ke-ze)/me,et=hh(et,Math.round(et),me/1e3)?Math.round(et):Math.ceil(et));const Ut=Math.max(uP(me),uP(ze));Ie=Math.pow(10,Xt(l)?Ut:l),ze=Math.round(ze*Ie)/Ie,Ke=Math.round(Ke*Ie)/Ie;let Zt=0;for(ae&&(z&&ze!==o?(e.push({value:o}),ze<o&&Zt++,hh(Math.round((ze+Zt*me)*Ie)/Ie,o,cN(o,ye,t))&&Zt++):ze<o&&Zt++);Zt<et;++Zt)e.push({value:Math.round((ze+Zt*me)*Ie)/Ie});return ce&&z&&Ke!==a?e.length&&hh(e[e.length-1].value,a,cN(a,ye,t))?e[e.length-1].value=a:e.push({value:a}):(!ce||Ke===a)&&e.push({value:Ke}),e}({maxTicks:n,bounds:i.bounds,min:i.min,max:i.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:!1!==e.includeBounds},this._range||this);return"ticks"===i.bounds&&dP(o,this,"value"),i.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const i=this.ticks;let e=this.min,n=this.max;if(super.configure(),this.options.offset&&i.length){const r=(n-e)/Math.max(i.length-1,1)/2;e-=r,n+=r}this._startValue=e,this._endValue=n,this._valueRange=n-e}getLabelForValue(i){return wh(i,this.chart.options.locale,this.options.ticks.format)}}class sC extends Og{determineDataLimits(){const{min:i,max:e}=this.getMinMax(!0);this.min=Gi(i)?i:0,this.max=Gi(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const i=this.isHorizontal(),e=i?this.width:this.height,n=ls(this.options.ticks.minRotation),r=(i?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,s.lineHeight/r))}getPixelForValue(i){return null===i?NaN:this.getPixelForDecimal((i-this._startValue)/this._valueRange)}getValueForPixel(i){return this._startValue+this.getDecimalForPixel(i)*this._valueRange}}function dN(t){return t/Math.pow(10,Math.floor(Gr(t)))==1}sC.id="linear",sC.defaults={ticks:{callback:mg.formatters.numeric}};class oC extends rl{constructor(i){super(i),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(i,e){const n=Og.prototype.parse.apply(this,[i,e]);if(0!==n)return Gi(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:i,max:e}=this.getMinMax(!0);this.min=Gi(i)?Math.max(0,i):null,this.max=Gi(e)?Math.max(0,e):null,this.options.beginAtZero&&(this._zero=!0),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:i,maxDefined:e}=this.getUserBounds();let n=this.min,r=this.max;const s=l=>n=i?n:l,o=l=>r=e?r:l,a=(l,u)=>Math.pow(10,Math.floor(Gr(l))+u);n===r&&(n<=0?(s(1),o(10)):(s(a(n,-1)),o(a(r,1)))),n<=0&&s(a(r,-1)),r<=0&&o(a(n,1)),this._zero&&this.min!==this._suggestedMin&&n===a(this.min,0)&&s(a(n,-1)),this.min=n,this.max=r}buildTicks(){const i=this.options,n=function Lq(t,i){const e=Math.floor(Gr(i.max)),n=Math.ceil(i.max/Math.pow(10,e)),r=[];let s=Wr(t.min,Math.pow(10,Math.floor(Gr(i.min)))),o=Math.floor(Gr(s)),a=Math.floor(s/Math.pow(10,o)),l=o<0?Math.pow(10,Math.abs(o)):1;do{r.push({value:s,major:dN(s)}),++a,10===a&&(a=1,++o,l=o>=0?1:l),s=Math.round(a*Math.pow(10,o)*l)/l}while(o<e||o===e&&a<n);const u=Wr(t.max,s);return r.push({value:u,major:dN(s)}),r}({min:this._userMin,max:this._userMax},this);return"ticks"===i.bounds&&dP(n,this,"value"),i.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(i){return void 0===i?"0":wh(i,this.chart.options.locale,this.options.ticks.format)}configure(){const i=this.min;super.configure(),this._startValue=Gr(i),this._valueRange=Gr(this.max)-Gr(i)}getPixelForValue(i){return(void 0===i||0===i)&&(i=this.min),null===i||isNaN(i)?NaN:this.getPixelForDecimal(i===this.min?0:(Gr(i)-this._startValue)/this._valueRange)}getValueForPixel(i){const e=this.getDecimalForPixel(i);return Math.pow(10,this._startValue+e*this._valueRange)}}function aC(t){const i=t.ticks;if(i.display&&t.display){const e=Vn(i.backdropPadding);return Dt(i.font&&i.font.size,Bt.font.size)+e.height}return 0}function Bq(t,i,e){return e=Di(e)?e:[e],{w:GX(t,i.string,e),h:e.length*i.lineHeight}}function uN(t,i,e,n,r){return t===n||t===r?{start:i-e/2,end:i+e/2}:t<n||t>r?{start:i-e,end:i}:{start:i,end:i+e}}function Hq(t,i,e,n,r){const s=Math.abs(Math.sin(e)),o=Math.abs(Math.cos(e));let a=0,l=0;n.start<i.l?(a=(i.l-n.start)/s,t.l=Math.min(t.l,i.l-a)):n.end>i.r&&(a=(n.end-i.r)/s,t.r=Math.max(t.r,i.r+a)),r.start<i.t?(l=(i.t-r.start)/o,t.t=Math.min(t.t,i.t-l)):r.end>i.b&&(l=(r.end-i.b)/o,t.b=Math.max(t.b,i.b+l))}function jq(t){return 0===t||180===t?"center":t<180?"left":"right"}function Uq(t,i,e){return"right"===e?t-=i:"center"===e&&(t-=i/2),t}function $q(t,i,e){return 90===e||270===e?t-=i/2:(e>270||e<90)&&(t-=i),t}function hN(t,i,e,n){const{ctx:r}=t;if(e)r.arc(t.xCenter,t.yCenter,i,0,bi);else{let s=t.getPointPosition(0,i);r.moveTo(s.x,s.y);for(let o=1;o<n;o++)s=t.getPointPosition(o,i),r.lineTo(s.x,s.y)}}oC.id="logarithmic",oC.defaults={ticks:{callback:mg.formatters.logarithmic,major:{enabled:!0}}};class Ih extends Og{constructor(i){super(i),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const i=this._padding=Vn(aC(this.options)/2),e=this.width=this.maxWidth-i.width,n=this.height=this.maxHeight-i.height;this.xCenter=Math.floor(this.left+e/2+i.left),this.yCenter=Math.floor(this.top+n/2+i.top),this.drawingArea=Math.floor(Math.min(e,n)/2)}determineDataLimits(){const{min:i,max:e}=this.getMinMax(!1);this.min=Gi(i)&&!isNaN(i)?i:0,this.max=Gi(e)&&!isNaN(e)?e:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/aC(this.options))}generateTickLabels(i){Og.prototype.generateTickLabels.call(this,i),this._pointLabels=this.getLabels().map((e,n)=>{const r=Si(this.options.pointLabels.callback,[e,n],this);return r||0===r?r:""}).filter((e,n)=>this.chart.getDataVisibility(n))}fit(){const i=this.options;i.display&&i.pointLabels.display?function Vq(t){const i={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},e=Object.assign({},i),n=[],r=[],s=t._pointLabels.length,o=t.options.pointLabels,a=o.centerPointLabels?Ri/s:0;for(let l=0;l<s;l++){const u=o.setContext(t.getPointLabelContext(l));r[l]=u.padding;const w=t.getPointPosition(l,t.drawingArea+r[l],a),R=gn(u.font),z=Bq(t.ctx,R,t._pointLabels[l]);n[l]=z;const G=xr(t.getIndexAngle(l)+a),X=Math.round(Ew(G));Hq(e,i,G,uN(X,w.x,z.w,0,180),uN(X,w.y,z.h,90,270))}t.setCenterPoint(i.l-e.l,e.r-i.r,i.t-e.t,e.b-i.b),t._pointLabelItems=function zq(t,i,e){const n=[],r=t._pointLabels.length,s=t.options,o=aC(s)/2,a=t.drawingArea,l=s.pointLabels.centerPointLabels?Ri/r:0;for(let u=0;u<r;u++){const w=t.getPointPosition(u,a+o+e[u],l),R=Math.round(Ew(xr(w.angle+Ui))),z=i[u],G=$q(w.y,z.h,R),X=jq(R),Q=Uq(w.x,z.w,X);n.push({x:w.x,y:G,textAlign:X,left:Q,top:G,right:Q+z.w,bottom:G+z.h})}return n}(t,n,r)}(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(i,e,n,r){this.xCenter+=Math.floor((i-e)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(i,e,n,r))}getIndexAngle(i){return xr(i*(bi/(this._pointLabels.length||1))+ls(this.options.startAngle||0))}getDistanceFromCenterForValue(i){if(Xt(i))return NaN;const e=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-i)*e:(i-this.min)*e}getValueForDistanceFromCenter(i){if(Xt(i))return NaN;const e=i/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-e:this.min+e}getPointLabelContext(i){const e=this._pointLabels||[];if(i>=0&&i<e.length){const n=e[i];return function Gq(t,i,e){return ea(t,{label:e,index:i,type:"pointLabel"})}(this.getContext(),i,n)}}getPointPosition(i,e,n=0){const r=this.getIndexAngle(i)-Ui+n;return{x:Math.cos(r)*e+this.xCenter,y:Math.sin(r)*e+this.yCenter,angle:r}}getPointPositionForValue(i,e){return this.getPointPosition(i,this.getDistanceFromCenterForValue(e))}getBasePosition(i){return this.getPointPositionForValue(i||0,this.getBaseValue())}getPointLabelPosition(i){const{left:e,top:n,right:r,bottom:s}=this._pointLabelItems[i];return{left:e,top:n,right:r,bottom:s}}drawBackground(){const{backgroundColor:i,grid:{circular:e}}=this.options;if(i){const n=this.ctx;n.save(),n.beginPath(),hN(this,this.getDistanceFromCenterForValue(this._endValue),e,this._pointLabels.length),n.closePath(),n.fillStyle=i,n.fill(),n.restore()}}drawGrid(){const i=this.ctx,e=this.options,{angleLines:n,grid:r}=e,s=this._pointLabels.length;let o,a,l;if(e.pointLabels.display&&function Wq(t,i){const{ctx:e,options:{pointLabels:n}}=t;for(let r=i-1;r>=0;r--){const s=n.setContext(t.getPointLabelContext(r)),o=gn(s.font),{x:a,y:l,textAlign:u,left:w,top:R,right:z,bottom:G}=t._pointLabelItems[r],{backdropColor:X}=s;if(!Xt(X)){const Q=el(s.borderRadius),ne=Vn(s.backdropPadding);e.fillStyle=X;const ae=w-ne.left,ce=R-ne.top,fe=z-w+ne.width,ye=G-R+ne.height;Object.values(Q).some(me=>0!==me)?(e.beginPath(),bh(e,{x:ae,y:ce,w:fe,h:ye,radius:Q}),e.fill()):e.fillRect(ae,ce,fe,ye)}Ja(e,t._pointLabels[r],a,l+o.lineHeight/2,o,{color:s.color,textAlign:u,textBaseline:"middle"})}}(this,s),r.display&&this.ticks.forEach((u,w)=>{0!==w&&(a=this.getDistanceFromCenterForValue(u.value),function Yq(t,i,e,n){const r=t.ctx,s=i.circular,{color:o,lineWidth:a}=i;!s&&!n||!o||!a||e<0||(r.save(),r.strokeStyle=o,r.lineWidth=a,r.setLineDash(i.borderDash),r.lineDashOffset=i.borderDashOffset,r.beginPath(),hN(t,e,s,n),r.closePath(),r.stroke(),r.restore())}(this,r.setContext(this.getContext(w-1)),a,s))}),n.display){for(i.save(),o=s-1;o>=0;o--){const u=n.setContext(this.getPointLabelContext(o)),{color:w,lineWidth:R}=u;!R||!w||(i.lineWidth=R,i.strokeStyle=w,i.setLineDash(u.borderDash),i.lineDashOffset=u.borderDashOffset,a=this.getDistanceFromCenterForValue(e.ticks.reverse?this.min:this.max),l=this.getPointPosition(o,a),i.beginPath(),i.moveTo(this.xCenter,this.yCenter),i.lineTo(l.x,l.y),i.stroke())}i.restore()}}drawBorder(){}drawLabels(){const i=this.ctx,e=this.options,n=e.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let s,o;i.save(),i.translate(this.xCenter,this.yCenter),i.rotate(r),i.textAlign="center",i.textBaseline="middle",this.ticks.forEach((a,l)=>{if(0===l&&!e.reverse)return;const u=n.setContext(this.getContext(l)),w=gn(u.font);if(s=this.getDistanceFromCenterForValue(this.ticks[l].value),u.showLabelBackdrop){i.font=w.string,o=i.measureText(a.label).width,i.fillStyle=u.backdropColor;const R=Vn(u.backdropPadding);i.fillRect(-o/2-R.left,-s-w.size/2-R.top,o+R.width,w.size+R.height)}Ja(i,a.label,0,-s,w,{color:u.color})}),i.restore()}drawTitle(){}}Ih.id="radialLinear",Ih.defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:mg.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:t=>t,padding:5,centerPointLabels:!1}},Ih.defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"},Ih.descriptors={angleLines:{_fallback:"grid"}};const Ag={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},cr=Object.keys(Ag);function Xq(t,i){return t-i}function fN(t,i){if(Xt(i))return null;const e=t._adapter,{parser:n,round:r,isoWeekday:s}=t._parseOpts;let o=i;return"function"==typeof n&&(o=n(o)),Gi(o)||(o="string"==typeof n?e.parse(o,n):e.parse(o)),null===o?null:(r&&(o="week"!==r||!Uc(s)&&!0!==s?e.startOf(o,r):e.startOf(o,"isoWeek",s)),+o)}function pN(t,i,e,n){const r=cr.length;for(let s=cr.indexOf(t);s<r-1;++s){const o=Ag[cr[s]];if(o.common&&Math.ceil((e-i)/((o.steps?o.steps:Number.MAX_SAFE_INTEGER)*o.size))<=n)return cr[s]}return cr[r-1]}function mN(t,i,e){if(e){if(e.length){const{lo:n,hi:r}=Sw(e,i);t[e[n]>=i?e[n]:e[r]]=!0}}else t[i]=!0}function gN(t,i,e){const n=[],r={},s=i.length;let o,a;for(o=0;o<s;++o)a=i[o],r[a]=o,n.push({value:a,major:!1});return 0!==s&&e?function Qq(t,i,e,n){const r=t._adapter,s=+r.startOf(i[0].value,n),o=i[i.length-1].value;let a,l;for(a=s;a<=o;a=+r.add(a,1,n))l=e[a],l>=0&&(i[l].major=!0);return i}(t,n,r,e):n}let lC=(()=>{class t extends rl{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,n){const r=e.time||(e.time={}),s=this._adapter=new FK._date(e.adapters.date);s.init(n),dh(r.displayFormats,s.formats()),this._parseOpts={parser:r.parser,round:r.round,isoWeekday:r.isoWeekday},super.init(e),this._normalized=n.normalized}parse(e,n){return void 0===e?null:fN(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,n=this._adapter,r=e.time.unit||"day";let{min:s,max:o,minDefined:a,maxDefined:l}=this.getUserBounds();function u(w){!a&&!isNaN(w.min)&&(s=Math.min(s,w.min)),!l&&!isNaN(w.max)&&(o=Math.max(o,w.max))}(!a||!l)&&(u(this._getLabelBounds()),("ticks"!==e.bounds||"labels"!==e.ticks.source)&&u(this.getMinMax(!1))),s=Gi(s)&&!isNaN(s)?s:+n.startOf(Date.now(),r),o=Gi(o)&&!isNaN(o)?o:+n.endOf(Date.now(),r)+1,this.min=Math.min(s,o-1),this.max=Math.max(s+1,o)}_getLabelBounds(){const e=this.getLabelTimestamps();let n=Number.POSITIVE_INFINITY,r=Number.NEGATIVE_INFINITY;return e.length&&(n=e[0],r=e[e.length-1]),{min:n,max:r}}buildTicks(){const e=this.options,n=e.time,r=e.ticks,s="labels"===r.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&s.length&&(this.min=this._userMin||s[0],this.max=this._userMax||s[s.length-1]);const o=this.min,l=function bX(t,i,e){let n=0,r=t.length;for(;n<r&&t[n]<i;)n++;for(;r>n&&t[r-1]>e;)r--;return n>0||r<t.length?t.slice(n,r):t}(s,o,this.max);return this._unit=n.unit||(r.autoSkip?pN(n.minUnit,this.min,this.max,this._getLabelCapacity(o)):function Zq(t,i,e,n,r){for(let s=cr.length-1;s>=cr.indexOf(e);s--){const o=cr[s];if(Ag[o].common&&t._adapter.diff(r,n,o)>=i-1)return o}return cr[e?cr.indexOf(e):0]}(this,l.length,n.minUnit,this.min,this.max)),this._majorUnit=r.major.enabled&&"year"!==this._unit?function Kq(t){for(let i=cr.indexOf(t)+1,e=cr.length;i<e;++i)if(Ag[cr[i]].common)return cr[i]}(this._unit):void 0,this.initOffsets(s),e.reverse&&l.reverse(),gN(this,l,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e){let s,o,n=0,r=0;this.options.offset&&e.length&&(s=this.getDecimalForValue(e[0]),n=1===e.length?1-s:(this.getDecimalForValue(e[1])-s)/2,o=this.getDecimalForValue(e[e.length-1]),r=1===e.length?o:(o-this.getDecimalForValue(e[e.length-2]))/2);const a=e.length<3?.5:.25;n=En(n,0,a),r=En(r,0,a),this._offsets={start:n,end:r,factor:1/(n+1+r)}}_generate(){const e=this._adapter,n=this.min,r=this.max,s=this.options,o=s.time,a=o.unit||pN(o.minUnit,n,r,this._getLabelCapacity(n)),l=Dt(o.stepSize,1),u="week"===a&&o.isoWeekday,w=Uc(u)||!0===u,R={};let G,X,z=n;if(w&&(z=+e.startOf(z,"isoWeek",u)),z=+e.startOf(z,w?"day":a),e.diff(r,n,a)>1e5*l)throw new Error(n+" and "+r+" are too far apart with stepSize of "+l+" "+a);const Q="data"===s.ticks.source&&this.getDataTimestamps();for(G=z,X=0;G<r;G=+e.add(G,l,a),X++)mN(R,G,Q);return(G===r||"ticks"===s.bounds||1===X)&&mN(R,G,Q),Object.keys(R).sort((ne,ae)=>ne-ae).map(ne=>+ne)}getLabelForValue(e){const r=this.options.time;return this._adapter.format(e,r.tooltipFormat?r.tooltipFormat:r.displayFormats.datetime)}_tickFormatFunction(e,n,r,s){const o=this.options,a=o.time.displayFormats,l=this._unit,u=this._majorUnit,R=u&&a[u],z=r[n],X=this._adapter.format(e,s||(u&&R&&z&&z.major?R:l&&a[l])),Q=o.ticks.callback;return Q?Si(Q,[X,n,r],this):X}generateTickLabels(e){let n,r,s;for(n=0,r=e.length;n<r;++n)s=e[n],s.label=this._tickFormatFunction(s.value,n,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const n=this._offsets,r=this.getDecimalForValue(e);return this.getPixelForDecimal((n.start+r)*n.factor)}getValueForPixel(e){const n=this._offsets,r=this.getDecimalForPixel(e)/n.factor-n.end;return this.min+r*(this.max-this.min)}_getLabelSize(e){const n=this.options.ticks,r=this.ctx.measureText(e).width,s=ls(this.isHorizontal()?n.maxRotation:n.minRotation),o=Math.cos(s),a=Math.sin(s),l=this._resolveTickFontOptions(0).size;return{w:r*o+l*a,h:r*a+l*o}}_getLabelCapacity(e){const n=this.options.time,r=n.displayFormats,s=r[n.unit]||r.millisecond,o=this._tickFormatFunction(e,0,gN(this,[e],this._majorUnit),s),a=this._getLabelSize(o),l=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return l>0?l:1}getDataTimestamps(){let n,r,e=this._cache.data||[];if(e.length)return e;const s=this.getMatchingVisibleMetas();if(this._normalized&&s.length)return this._cache.data=s[0].controller.getAllParsedValues(this);for(n=0,r=s.length;n<r;++n)e=e.concat(s[n].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let n,r;if(e.length)return e;const s=this.getLabels();for(n=0,r=s.length;n<r;++n)e.push(fN(this,s[n]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return mP(e.sort(Xq))}}return t.id="time",t.defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",major:{enabled:!1}}},t})();function Ig(t,i,e){let s,o,a,l,n=0,r=t.length-1;e?(i>=t[n].pos&&i<=t[r].pos&&({lo:n,hi:r}=oo(t,"pos",i)),({pos:s,time:a}=t[n]),({pos:o,time:l}=t[r])):(i>=t[n].time&&i<=t[r].time&&({lo:n,hi:r}=oo(t,"time",i)),({time:s,pos:a}=t[n]),({time:o,pos:l}=t[r]));const u=o-s;return u?a+(l-a)*(i-s)/u:a}class cC extends lC{constructor(i){super(i),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const i=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(i);this._minPos=Ig(e,this.min),this._tableRange=Ig(e,this.max)-this._minPos,super.initOffsets(i)}buildLookupTable(i){const{min:e,max:n}=this,r=[],s=[];let o,a,l,u,w;for(o=0,a=i.length;o<a;++o)u=i[o],u>=e&&u<=n&&r.push(u);if(r.length<2)return[{time:e,pos:0},{time:n,pos:1}];for(o=0,a=r.length;o<a;++o)w=r[o+1],l=r[o-1],u=r[o],Math.round((w+l)/2)!==u&&s.push({time:u,pos:o/(a-1)});return s}_getTimestampsForTable(){let i=this._cache.all||[];if(i.length)return i;const e=this.getDataTimestamps(),n=this.getLabelTimestamps();return i=e.length&&n.length?this.normalize(e.concat(n)):e.length?e:n,i=this._cache.all=i,i}getDecimalForValue(i){return(Ig(this._table,i)-this._minPos)/this._tableRange}getValueForPixel(i){const e=this._offsets,n=this.getDecimalForPixel(i)/e.factor-e.end;return Ig(this._table,n*this._tableRange+this._minPos,!0)}}cC.id="timeseries",cC.defaults=lC.defaults;const Jq=[NK,GQ,kq,Object.freeze({__proto__:null,CategoryScale:Tg,LinearScale:sC,LogarithmicScale:oC,RadialLinearScale:Ih,TimeScale:lC,TimeSeriesScale:cC})];var eJ=U(451);let kg=(()=>{class t{constructor(){this.isLoading$=new ni}show(){this.isLoading$.next(!0)}hide(){this.isLoading$.next(!1)}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})(),dC=(()=>{class t{get calculatedWidth(){let e=this.config.width||this.width||1;return this.el.nativeElement.parentNode.offsetWidth>0&&e<=1&&e>0&&(e*=this.el.nativeElement.parentNode.offsetWidth),e}get calculatedHeight(){let e=this.config.height||this.height||400;return this.el.nativeElement.parentNode.offsetHeight>0&&e<=1&&e>0&&(e*=this.el.nativeElement.parentNode.offsetHeight),e}constructor(e,n){this.el=e,this.r2=n,this.data=[],this.config={},this.clicked=new It,this.dataChanges=new It,this.afterInit=new It,this.afterChecked=new It,this.cloudDataHtmlElements=[],this.dataArr=[]}onResize(e){this.logMessage("debug","rezisze triggered"),window.clearTimeout(this.timeoutId),this.timeoutId=window.setTimeout(()=>{this.options.realignOnResize&&this.reDraw()},200)}ngOnChanges(e){this.logMessage("debug","ngOnChanges fired",e),this.config={width:500,height:300,overflow:!0,strict:!1,zoomOnHover:{transitionTime:0,scale:1,delay:0},realignOnResize:!1,randomizeAngle:!1,step:2,log:!1,...this.config},this.width&&(this.config.width=this.width),this.height&&(this.config.height=this.height),"boolean"==typeof this.overflow&&(this.config.overflow=this.overflow),"boolean"==typeof this.strict&&(this.config.strict=this.strict),"boolean"==typeof this.realignOnResize&&(this.config.realignOnResize=this.realignOnResize),"boolean"==typeof this.randomizeAngle&&(this.config.randomizeAngle=this.randomizeAngle),"string"==typeof this.background&&(this.config.background=this.background),"string"==typeof this.font&&(this.config.font=this.font),this.zoomOnHover&&(this.config.zoomOnHover=this.zoomOnHover),this.step&&(this.config.step=this.step),this.log&&(this.config.log=this.log),this.delay&&(this.config.delay=this.delay),this.logMessage("warn","cloud configuration",this.config),this.config.font&&this.r2.setStyle(this.el.nativeElement,"font",this.config.font),this.config.background&&this.r2.setStyle(this.el.nativeElement,"background",this.config.background),this.reDraw(e)}ngAfterContentInit(){this.afterInit?.emit(),this.logMessage("debug","afterInit emitted")}ngAfterContentChecked(){this.afterChecked?.emit(),this.logMessage("debug","afterChecked emitted")}reDraw(e){this.dataChanges?.emit(e),this.afterChecked?.emit(),this.logMessage("debug","dataChanges emitted"),this.cloudDataHtmlElements=[],this.data?(this.el.nativeElement.innerHTML="",e&&e.data&&(this.dataArr=e.data.currentValue),this.options={...this.config,aspectRatio:this.calculatedWidth/this.calculatedHeight,width:this.calculatedWidth,height:this.calculatedHeight,center:{x:this.calculatedWidth/2,y:this.calculatedHeight/2}},this.r2.setStyle(this.el.nativeElement,"width",this.options.width+"px"),this.r2.setStyle(this.el.nativeElement,"height",this.options.height+"px"),this.drawWordCloud(),this.logMessage("debug","reDraw finished")):console.error("angular-tag-cloud: No data passed. Please pass an Array of CloudData")}descriptiveEntry(e){let n=e.text;return n+=e.color?`-${e.color}`:"",n+=e.external?`-${e.external}`:"",n+=e.link?`-${e.link}`:"",n+=e.rotate?`-${e.rotate}`:"",n}drawWordCloud(){this.dataArr.sort((r,s)=>this.descriptiveEntry(r).localeCompare(this.descriptiveEntry(s))),this.dataArr.sort((r,s)=>s.weight-r.weight);const e=this.dataArr.filter(r=>r.position),n=this.dataArr.filter(r=>!r.position);e.forEach((r,s)=>{this.drawWord(s,r)}),n.forEach((r,s)=>{this.drawWord(s,r)})}hitTest(e){for(const n of this.cloudDataHtmlElements)if(this.overlapping(e,n))return!0;return!1}overlapping(e,n){const r=e.getBoundingClientRect(),s=n.getBoundingClientRect();return!(r.right<s.left||r.left>s.right||r.bottom<s.top||r.top>s.bottom)}getWeightForWord(e){let n=5;return this.dataArr[0].weight>this.dataArr[this.dataArr.length-1].weight&&(this.options.strict?e.weight>10?(n=10,this.logMessage("warn",`[TagCloud strict] Weight property ${e.weight} > 10. Fallback to 10 as you are using strict mode`,e)):e.weight<1?(n=1,this.logMessage("warn",`[TagCloud strict] Given weight property ${e.weight} < 1. Fallback to 1 as you are using strict mode`,e)):e.weight%1!=0?(n=Math.round(e.weight),this.logMessage("warn",`[TagCloud strict] Given weight property ${e.weight} is not an integer. Rounded value to ${n}`,e)):n=e.weight:n=Math.round((e.weight-this.dataArr[this.dataArr.length-1].weight)/(this.dataArr[0].weight-this.dataArr[this.dataArr.length-1].weight)*9)+1),n}setWordColor(e,n){this.r2.setStyle(e,"color",n)}setTooltip(e,n){this.r2.addClass(e,"tooltip");const r=this.r2.createElement("span");r.className="tooltiptext";const s=this.r2.createText(n);r.appendChild(s),e.appendChild(r)}setWordRotation(e,n){const r=n?`rotate(${n}deg)`:"";return this.r2.setStyle(e,"transform",r),r}wrapNodeIntoAnchorElement(e,n){const r=this.r2.createElement("a");return r.href=n.link||"",void 0!==n.external&&n.external&&(r.target="_blank"),r.appendChild(e),r}applyZoomStyle(e,n,r,s){this.options.zoomOnHover&&1!==this.options.zoomOnHover.scale&&(this.options.zoomOnHover.transitionTime||(this.options.zoomOnHover.transitionTime=0),this.options.zoomOnHover.scale||(this.options.zoomOnHover.scale=1),n.onmouseover=()=>{this.options.zoomOnHover?.transitionTime&&this.r2.setStyle(n,"transition",`transform ${this.options.zoomOnHover.transitionTime}s`),this.options.zoomOnHover?.scale&&this.r2.setStyle(n,"transform",`scale(${this.options.zoomOnHover.scale}) ${s}`),this.options.zoomOnHover?.delay&&this.r2.setStyle(n,"transition-delay",`${this.options.zoomOnHover.delay}s`),this.options.zoomOnHover?.color&&this.r2.setStyle(r?e:n,"color",this.options.zoomOnHover.color)},n.onmouseout=()=>{this.r2.setStyle(n,"transform",`none ${s}`),this.options.zoomOnHover?.color&&this.r2.removeStyle(r?e:n,"color")})}setPosition(e,n,r){let s=this.options.randomizeAngle?6.28*Math.random():0,o=0;const a=e.style;a.position="absolute";const l=!!(n.position&&n.position.left&&n.position.top),u=e.offsetWidth,w=e.offsetHeight;let R=l&&n.position?.left?n.position.left:this.options.center.x-u/2,z=l&&n.position?.top?n.position.top:this.options.center.y-w/2;if(a.left=R+"px",a.top=z+"px",this.options.delay&&(e.classList.add("tag-animation-delay"),a.setProperty("--tag-animation-delay",this.options.delay*r+"ms")),!l)if(0===r)a.left=R+2*(Math.random()-.5)*(this.calculatedWidth/5)+"px",a.top=z+2*(Math.random()-.5)*(this.calculatedHeight/5)+"30px";else for(;this.options.width&&this.options.height&&e.offsetHeight&&e.offsetWidth&&this.hitTest(e);)o+=this.options.step||1,s+=(r%2==0?1:-1)*(this.options.step||1),R=this.options.center.x-u/2+o*Math.cos(s)*this.options.aspectRatio,z=this.options.center.y+o*Math.sin(s)-w/2,a.left=R+"px",a.top=z+"px";if(!this.options.overflow&&(R<0||z<0||R+u>this.calculatedWidth||z+w>this.calculatedHeight))return this.logMessage("warn","Word did not fit into the cloud and overflow is set to 'false'. The element will be removed",e),void e.remove()}drawWord(e,n){let r;const s=this.getWeightForWord(n);r=this.r2.createElement("span"),r.className=`w${s}`,r.onclick=()=>{this.clicked?.emit(n)},r.onmouseenter=()=>{r.style.zIndex="2"},r.onmouseleave=()=>{r.style.zIndex="1"};let o=this.r2.createText(n.text);n.color&&this.setWordColor(r,n.color);const a=this.setWordRotation(r,n.rotate);n.link&&(o=this.wrapNodeIntoAnchorElement(o,n)),this.options.zoomOnHover&&1!==this.options.zoomOnHover.scale&&this.applyZoomStyle(o,r,n.link,a),r.appendChild(o),this.r2.appendChild(this.el.nativeElement,r),n.tooltip&&this.setTooltip(r,n.tooltip),r.id=`angular-tag-cloud-item-${e}`,this.setPosition(r,n,e),this.logMessage("debug","Adds new word <span>",r),this.cloudDataHtmlElements.push(r),this.logMessage("debug","Placed words",this.cloudDataHtmlElements)}logMessage(e,...n){this.config&&("debug"===this.config.log?console.log(`[AngularTagCloudModule ${e}]`,...n):"warn"===this.config.log&&"warn"===e&&console.warn(`[AngularTagCloudModule ${e}]`,...n))}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(ki),Ce(_r))};static#t=this.\u0275cmp=nr({type:t,selectors:[["angular-tag-cloud"],["ng-tag-cloud"],["ngtc"]],hostBindings:function(n,r){1&n&&yt("resize",function(o){return r.onResize(o)},0,Lf)},inputs:{data:"data",width:"width",height:"height",step:"step",overflow:"overflow",strict:"strict",zoomOnHover:"zoomOnHover",realignOnResize:"realignOnResize",randomizeAngle:"randomizeAngle",background:"background",font:"font",delay:"delay",config:"config",log:"log"},outputs:{clicked:"clicked",dataChanges:"dataChanges",afterInit:"afterInit",afterChecked:"afterChecked"},standalone:!0,features:[Tn,Eb],decls:0,vars:0,template:function(n,r){},styles:['[_nghost-%COMP%]{font-family:Helvetica,Arial,sans-serif;font-size:10px;line-height:normal;color:#09f;overflow:hidden;position:relative;display:block}.tag-animation-delay[_ngcontent-%COMP%]{--tag-animation-delay: .5s;animation:_ngcontent-%COMP%_fadeIn .5s;opacity:0;animation-fill-mode:forwards;animation-delay:var(--tag-animation-delay)}span[_ngcontent-%COMP%]{padding:0}span.w10[_ngcontent-%COMP%]{font-size:550%}span.w9[_ngcontent-%COMP%]{font-size:500%}span.w8[_ngcontent-%COMP%]{font-size:450%}span.w7[_ngcontent-%COMP%]{font-size:400%}span.w6[_ngcontent-%COMP%]{font-size:350%}span.w5[_ngcontent-%COMP%]{font-size:300%}span.w4[_ngcontent-%COMP%]{font-size:250%}span.w3[_ngcontent-%COMP%]{font-size:200%}span.w2[_ngcontent-%COMP%]{font-size:150%}span.w1[_ngcontent-%COMP%]{font-size:100%}a[_ngcontent-%COMP%]:hover{color:#0df}a[_ngcontent-%COMP%]:hover, span.w10[_ngcontent-%COMP%], span.w9[_ngcontent-%COMP%], span.w8[_ngcontent-%COMP%]{color:#0cf}span.w7[_ngcontent-%COMP%]{color:#39d}span.w6[_ngcontent-%COMP%]{color:#90c5f0}span.w5[_ngcontent-%COMP%]{color:#90a0dd}span.w4[_ngcontent-%COMP%]{color:#90c5f0}span.w3[_ngcontent-%COMP%]{color:#a0ddff}span.w2[_ngcontent-%COMP%]{color:#9ce}span.w1[_ngcontent-%COMP%]{color:#aab5f0}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]{visibility:hidden;width:inherit;background-color:#555;color:#fff;text-align:center;border-radius:6px;padding:5px 10px;position:absolute;bottom:100%;left:0;opacity:0;transition:opacity .3s}.tooltip[_ngcontent-%COMP%]   .tooltiptext[_ngcontent-%COMP%]:after{content:"";position:absolute;top:100%;left:50%;margin-left:-5px;border-width:5px;border-style:solid;border-color:#555 transparent transparent transparent}.tooltip[_ngcontent-%COMP%]:hover   .tooltiptext[_ngcontent-%COMP%]{visibility:visible;opacity:1}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0}to{opacity:1}}']})}return t})();function nJ(t,i){1&t&&(ge(0,"div")(1,"div",1),Ge(2,"div")(3,"div")(4,"div")(5,"div")(6,"div")(7,"div")(8,"div")(9,"div"),pe()())}let yN=(()=>{class t{constructor(e){this.spinnerService=e,this.isLoading$=this.spinnerService.isLoading$}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(kg))};static#t=this.\u0275cmp=nr({type:t,selectors:[["app-spinner"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"lds-roller"]],template:function(n,r){1&n&&(ei(0,nJ,10,0,"div",0),Sb(1,"async")),2&n&&Je("ngIf",Mb(1,1,r.isLoading$))},dependencies:[Ho,_O],styles:['.lds-roller[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_lds-roller 1.2s cubic-bezier(.5,0,.5,1) infinite;transform-origin:40px 40px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:after{content:" ";display:block;position:absolute;width:7px;height:7px;border-radius:50%;background:#000000;margin:-4px 0 0 -4px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){animation-delay:-36ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1):after{top:63px;left:63px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-72ms}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2):after{top:68px;left:56px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.108s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3):after{top:71px;left:48px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){animation-delay:-.144s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4):after{top:72px;left:40px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){animation-delay:-.18s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5):after{top:71px;left:32px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6){animation-delay:-.216s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(6):after{top:68px;left:24px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7){animation-delay:-.252s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(7):after{top:63px;left:17px}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8){animation-delay:-.288s}.lds-roller[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(8):after{top:56px;left:12px}@keyframes _ngcontent-%COMP%_lds-roller{0%{transform:rotate(0)}to{transform:rotate(360deg)}}']})}return t})();const rJ=["chartCanvas"];function sJ(t,i){1&t&&(ge(0,"div",48),Ge(1,"app-spinner"),pe()),2&t&&Je("hidden",wt().papers.length<1)}Jn.register(...Jq);let oJ=(()=>{class t{constructor(e,n,r,s){this.apiService=e,this.stadisticsService=n,this.http=r,this.spinnerService=s,this.selectedTitles=[],this.selectedYears=[],this.conferenceOption="",this.venueName=[],this.papers=[],this.collaborations=[],this.connectedComponents=[],this.singleAuthor=[],this.statistics=[],this.statsAuthors=[],this.statsPaper=[],this.journalsCount=0,this.ConferencesCount=0,this.ConferencesAuthors=0,this.totalAuthorsByYear=[],this.PapersAndArticlesByYear=[],this.totalArticlesByYear=[],this.totalPapersByYear=[],this.singlePapers=[],this.decadeStats=[],this.researchers=[],this.papersWithAuthors=[],this.loadingTable1=!0,this.loadingTable2=!0,this.conferenceName=[],this.commonNames={},this.options={width:500,height:200,overflow:!1,realignOnResize:!1,strict:!1,step:2},this.cloudData=[]}ngOnInit(){this.loadCommonNames(),this.main()}waitResearcherNoEmpty(){var e=this;return jr(function*(){for(;!e.researchers||0===e.researchers.length;)yield new Promise(n=>setTimeout(n,100))})()}waitPapersNoEmpty(){var e=this;return jr(function*(){for(;!e.papers||0===e.papers.length;)yield new Promise(n=>setTimeout(n,100))})()}getResearchersConference(){this.apiService.getResearchersConference(this.selectedTitles,this.venueName).subscribe({next:e=>{this.researchers=[],this.researchers=e,this.statsResearchers(),this.statsTotalAuthorsByYear(),this.researchers.length>1&&(this.lineChart&&this.lineChart.destroy(),this.generateChart("lineChart1","Number of authors",this.statsAuthors),this.generateTotalAuthorsChart("lineChart6","Total Authors by Year",this.totalAuthorsByYear))},error:e=>{console.error("Error in getResearchersConference:",e)}})}statsTotalAuthorsByYear(){const e=this.selectedTitles.map(n=>n.properties.name);e.sort((n,r)=>parseInt(n)-parseInt(r)),this.totalAuthorsByYear=e.map(n=>{const r=this.researchers.reduce((s,o)=>o.years.includes(n)?s+1:s,0);return{year:n,totalAuthors:r}})}getPapersAndArticles(){this.apiService.getPapersAndArticles(this.selectedTitles,this.venueName).subscribe({next:e=>{this.papers=e,this.statsPapers(),this.statsTotalPapersByYear(),this.papers.length>0&&(this.generateChart("lineChart2","Number of papers",this.statsPaper),this.generateTotalAuthorsChart("lineChart7","Total Papers by Year",this.PapersAndArticlesByYear))},error:e=>{console.error("Error in getPapers:",e)}})}statsTotalPapersByYear(){let e=this.papers.map(s=>s.year);e=e.filter((s,o,a)=>a.indexOf(s)===o),e.sort((s,o)=>parseInt(s)-parseInt(o));const n=this.papers.filter(s=>"Paper"===s.type),r=this.papers.filter(s=>"Article"===s.type);this.PapersAndArticlesByYear=e.map(s=>{const o=n.filter(w=>w.year===s),a=r.filter(w=>w.year===s),l=o.reduce((w,R)=>w+R.numPapersAndArticles.low,0),u=a.reduce((w,R)=>w+R.numPapersAndArticles.low,0);return{year:s,totalPapers:l,totalArticles:u}}),this.generateTotalAuthorsChart("lineChart7","Total Papers and Articles by Year",this.PapersAndArticlesByYear)}getCollaborations(){this.apiService.getCollaborations(this.selectedTitles,this.venueName).subscribe({next:e=>{this.collaborations=e,console.log(this.collaborations),this.statsColaboraciones(),this.generateChart3("lineChart3","Density",this.statistics[3].years,this.statistics[3].densidades)},error:e=>{console.error("Error in getCollaborations:",e)}})}getConnectedComponents(){this.apiService.getConnectedComponents(this.selectedTitles,this.venueName).subscribe({next:e=>{this.connectedComponents=e,this.statsConnectedComponents(),this.generateChart3("lineChart11","Number of Connected Components",this.statistics[5].years,this.statistics[5].connectedComponents)},error:e=>{console.error("Error in getConnectedComponents:",e)}})}getConnectedComponentsByvenue(){this.apiService.getConnectedComponentsByvenue(this.selectedTitles,this.venueName).subscribe({next:e=>{this.connectedComponents=e,this.statsConnectedComponentsByvenue(),this.generateChart4("lineChart12","Number of Connected Components",this.statistics[6]),this.generateChart4("lineChart13","Number of Connected Components",this.statistics[7])},error:e=>{console.error("Error in getConnectedComponents:",e)}})}getConferencebyProceeding(){this.apiService.getConferencebyProceeding(this.selectedTitles,this.venueName).subscribe({next:e=>{this.stadisticsService.conferencesNames=[],this.stadisticsService.years=[],this.stadisticsService.inprocedings=[],e.forEach(({title:n,year:r,numberOfInProceedings:s})=>{this.stadisticsService.conferencesNames.push(n),this.stadisticsService.years.push(r),this.stadisticsService.inprocedings.push(s)}),this.loadingTable1=!1,this.generateTablesProceeding(this.stadisticsService.conferencesNames,this.stadisticsService.years,this.stadisticsService.inprocedings)},error:e=>{console.error("Error in getConferencebyProceeding:",e)}})}generateTablesProceeding(e,n,r){const s=document.querySelector("#tableProceeding tbody");s instanceof HTMLElement&&(s.innerHTML="",e.forEach((o,a)=>{const l=o.split(",");if(6==l.length){l[4]=l[4].replace("Proceedings","");const u=l[4].split("."),w={name:l[0]+"-"+l[1].trim(),location:l[2]+","+l[3],date:u.slice(0).join(" ")},R=document.createElement("tr");R.innerHTML=`<td>${w.name}</td><td>${w.location}</td><td>${w.date}</td><td>${n[a]}</td><td>${r[a]}</td>`,s.appendChild(R)}if(5==l.length){l[3]=l[3].replace("Proceedings","").trim();const u=l[3].split(".");if(/\d/.test(u[0]))if(l[1].includes("Florence")){const R={name:l[0],location:l[1].trim()+","+l[2],date:u[0]},z=document.createElement("tr");z.innerHTML=`<td>${R.name}</td><td>${R.location}</td><td>${R.date}</td><td>${n[a]}</td><td>${r[a]}</td>`,s.appendChild(z)}else{const R={name:l[0]+"-"+l[1].trim(),location:l[2],date:u[0]},z=document.createElement("tr");z.innerHTML=`<td>${R.name}</td><td>${R.location}</td><td>${R.date}</td><td>${n[a]}</td><td>${r[a]}</td>`,s.appendChild(z)}else{const R={name:l[0]+"-"+l[1].trim(),location:l[2]+", "+l[3],date:l[4]},z=document.createElement("tr");z.innerHTML=`<td>${R.name}</td><td>${R.location}</td><td>${R.date}</td><td>${n[a]}</td><td>${r[a]}</td>`,s.appendChild(z)}}if(7==l.length){l[5]=l[5].replace("Proceedings","");const u=l[5].split(".");if(l[2].length>15){const w={name:l[0]+"-"+l[1].trim(),location:l[3]+", "+l[4],date:u[0]},R=document.createElement("tr");R.innerHTML=`<td>${w.name}</td><td>${w.location}</td><td>${w.date}</td><td>${n[a]}</td><td>${r[a]}</td>`,s.appendChild(R)}else if(/^[a-zA-Z]+\s+\d{1,2}(-\d{1,2}|\d{1,2}[a-zA-Z]+\s+\d{1,2})$/.test(u[0].trim()))if(l[2].includes("ER")){const R={name:l[0]+","+l[1].trim()+"-"+l[2],location:l[3]+", "+l[4],date:u[0]},z=document.createElement("tr");z.innerHTML=`<td>${R.name}</td><td>${R.location}</td><td>${R.date}</td><td>${n[a]}</td><td>${r[a]}</td>`,s.appendChild(z)}else{const R={name:l[0]+"-"+l[1].trim(),location:l[2]+", "+l[3]+", "+l[4],date:u[0]},z=document.createElement("tr");z.innerHTML=`<td>${R.name}</td><td>${R.location}</td><td>${R.date}</td><td>${n[a]}</td><td>${r[a]}</td>`,s.appendChild(z)}else{const R={name:l[0]+"-"+l[1].trim(),location:l[2]+", "+l[3],date:l[4]+", "+u[0]},z=document.createElement("tr");z.innerHTML=`<td>${R.name}</td><td>${R.location}</td><td>${R.date}</td><td>${n[a]}</td><td>${r[a]}</td>`,s.appendChild(z)}}}))}waitAuthorsWithPapersNoEmpty(){var e=this;return jr(function*(){for(;!e.papersWithAuthors||0===e.papersWithAuthors.length;)yield new Promise(n=>setTimeout(n,100))})()}waitSingleAuthorsNoEmpty(){var e=this;return jr(function*(){for(;!e.singleAuthor||0===e.singleAuthor.length;)yield new Promise(n=>setTimeout(n,100))})()}getAuthorsPapers(){var n,e=this;this.apiService.getAuthorsPapers(this.selectedTitles,this.conferenceOption,this.venueName).subscribe({next:(n=jr(function*(r){e.singleAuthor=r,console.log(e.singleAuthor),e.statsSingleAuthor()}),function(s){return n.apply(this,arguments)}),error:n=>{console.error("Error in getAuthorsPapers:",n)}})}getDistributions(){const e=["1","2","3","4","5 o m\xe1s"],n=[1,2,3,4].map(u=>this.papersWithAuthors.filter(w=>w.numAuthors===u).length);n[4]=this.papersWithAuthors.filter(u=>u.numAuthors>=5).length;let r=this.papers.reduce((u,w)=>u+w.numPapersAndArticles.low,0);const s=[1,2,3,4].map(u=>this.singleAuthor.filter(w=>w.numPublications===u).length);s[4]=this.singleAuthor.filter(u=>u.numPublications>=5).length;const o=this.singleAuthor.length,a=document.querySelector("#authorsTable tbody"),l=document.querySelector("#papersTable tbody");null!==a&&n.forEach((u,w)=>{const R=document.createElement("tr"),z=(u/r*100).toFixed(2),G=u.toString()+"("+z+")";R.innerHTML=`<td>${e[w]}</td><td>${G}</td>`,a.appendChild(R)}),null!==l&&s.forEach((u,w)=>{const R=document.createElement("tr"),z=(u/o*100).toFixed(2),G=u.toString()+"("+z+")";R.innerHTML=`<td>${e[w]}</td><td>${G}</td>`,l.appendChild(R)})}getDemographicData(){const e=this.researchers.map(n=>{let r=n.researcher.properties.name.split(" ")[0];return r.includes("-")&&(r=r.split("-")[0]),(Array.isArray(n.years)?n.years:[n.years]).map(a=>{const l=this.commonNames[r];return{year:a,name:r,genero:l?l.genero:"Unknown",frecuencias:l?l.frec_paises:{}}})}).flat();this.statsGender(e),this.statsGeography(e)}generateNGrams(e,n){const r=[];return e.forEach(s=>{const o=s.toLowerCase().split(" ");for(let a=0;a<o.length-n+1;a++)r.push(o.slice(a,a+n).join(" "))}),r}countFrequencies(e){const n=new Map;return e.forEach(r=>{const s=n.get(r)||0;n.set(r,s+1)}),n}clearTitle(e,n){return e.toLowerCase().split(" ").map(u=>u.replace(/[^\w\s]/g,"")).map(u=>u.replace(/(.)\1+/g,"$1")).map(u=>(0,eJ.singular)(u)).filter(u=>!n.includes(u)).join(" ")}getTopN(e,n){return[...e.entries()].sort((s,o)=>o[1]-s[1]).slice(0,n)}getTopicAnalysis(){const e=["i","me","my","myself","we","our","ours","ourselves","you","your","yours","yourself","yourselves","he","him","his","himself","she","her","hers","herself","it","its","itself","they","them","their","theirs","themselves","what","which","who","whom","this","that","these","those","am","is","are","was","were","be","been","being","have","has","had","having","do","does","did","doing","a","an","the","and","but","if","or","because","as","until","while","of","at","by","for","with","about","against","between","into","through","during","before","after","above","below","to","from","up","down","in","out","on","off","over","under","again","further","then","once","here","there","when","where","why","how","all","any","both","each","few","more","most","other","some","such","no","nor","not","only","own","same","so","than","too","very","s","t","can","will","just","don","should","now",".",","],n=this.papersWithAuthors.map(fe=>({ipName:this.clearTitle(fe.ipName,e),year:parseInt(fe.year)})),r=this.generateNGrams(n.map(fe=>fe.ipName),2),s=this.generateNGrams(n.map(fe=>fe.ipName),3),o=this.countFrequencies(r),a=this.countFrequencies(s),l=this.getTopN(o,20),u=this.getTopN(a,20),w=l.map(([fe,ye])=>({ngram:fe,count:ye,years:n.filter(me=>me.ipName.includes(fe)).map(me=>me.year)})),R=u.map(([fe,ye])=>({ngram:fe,count:ye,years:n.filter(me=>me.ipName.includes(fe)).map(me=>me.year)})),z=document.querySelector("#tableBigramas tbody"),G=document.querySelector("#tableTrigramas tbody");z instanceof HTMLElement&&G instanceof HTMLElement&&(w.forEach(({ngram:fe,count:ye,years:me})=>{const Ie=Math.min(...me),ze=Math.max(...me),Ke=document.createElement("tr");Ke.innerHTML=`<td>${fe}</td><td>${ye}</td><td>${Ie}</td><td>${ze}</td>`,z.appendChild(Ke)}),R.forEach(({ngram:fe,count:ye,years:me})=>{const Ie=Math.min(...me),ze=Math.max(...me),Ke=document.createElement("tr");Ke.innerHTML=`<td>${fe}</td><td>${ye}</td><td>${Ie}</td><td>${ze}</td>`,G.appendChild(Ke)}));const X=[...w,...R];X.sort((fe,ye)=>ye.count-fe.count);const Q=X[0].count,ce=X.map((fe,ye)=>({text:fe.ngram,weight:this.calculateWeight(fe.count,Q,0,20),color:this.randomColor()}));this.cloudData=ce}calculateWeight(e,n,r,s){return Math.round(e/n*(s-r)+r)}statsResearchers(){const e=new Set(this.researchers.map(n=>n.name));this.ConferencesAuthors=e.size,this.statsAuthors=[],this.statsAuthors=Array.from(e).map(n=>{const r=this.selectedTitles.map(o=>o.properties.name);r.sort((o,a)=>parseInt(o)-parseInt(a)),this.selectedYears=r;const s=r.map(o=>this.researchers.reduce((a,l)=>l.name===n&&l.years.includes(o)?a+1:a,0));return{name:n,years:r,numResearchers:s}})}statsPapers(){const e=new Set(this.papers.map(n=>n.name));this.ConferencesCount=e.size,this.statsPaper=Array.from(e).map(n=>{let r=this.papers.map(o=>o.year);r=r.filter((o,a,l)=>l.indexOf(o)===a),r.sort((o,a)=>parseInt(o)-parseInt(a));const s=r.map(o=>this.papers.reduce((a,l)=>l.name===n&&l.year===o?a+l.numPapersAndArticles.low:a,0));return{name:n,years:r,numResearchers:s}})}statsColaboraciones(){let e=[];const n=this.papers.map(o=>{const a=this.collaborations.find(u=>u.year===o.year);return{year:o.year,numColabs:a?a.numColabs:0,numPapersAndArticles:o.numPapersAndArticles.low}});e=e.concat(n);const r={};e.forEach(o=>{const{year:a,numColabs:l,numPapersAndArticles:u}=o;r[a]||(r[a]=0),r[a]+=l/u});const s=Object.entries(r).map(([o,a])=>({year:parseInt(o),density:a}));this.statistics[3]={years:s.map(o=>o.year),densidades:s.map(o=>o.density)}}statsConnectedComponents(){const e=[...this.connectedComponents];e.sort((s,o)=>s.year-o.year);const n=e.map(s=>s.year),r=e.map(s=>s.connectedComponents);this.statistics[5]={years:n,connectedComponents:r}}statsConnectedComponentsByvenue(){const e=new Map,n=new Map;this.connectedComponents.forEach(r=>{const s=r.venueName;e.has(s)||e.set(s,{years:[],connectedComponents:[],venueName:s});const o=e.get(s);o&&(o.years.push(r.year),o.connectedComponents.push(r.connectedComponents))}),this.connectedComponents.forEach(r=>{const s=r.venueName;n.has(s)||n.set(s,{years:[],connectedComponents:[],venueName:s});const o=n.get(s);if(o){o.years.push(r.year);let a=r.connectedComponents;for(;a>1;)a/=10;o.connectedComponents.push(a)}}),this.statistics[6]=Array.from(e.values()),this.statistics[7]=Array.from(n.values())}statsSingleAuthor(){const e=[];this.singleAuthor.forEach(w=>{w.ipNames.forEach(R=>{const z=e.findIndex(G=>G.ipName===R);-1!==z?(e[z].numAuthors++,e[z].authorNames.push(w.researcher)):e.push({ipName:R,numAuthors:1,authorNames:[w.researcher],year:w.year})})}),this.papersWithAuthors=e;const n=e.filter(w=>1===w.numAuthors),r=this.papers.map(w=>{const R=w.year,z=w.numPapersAndArticles.low,X=n.filter(Q=>Q.year===R).length/z*100;return{year:R,percentage:X}});console.log(this.statistics[4]),this.statistics[4]={years:r.map(w=>w.year),porcentajes:r.map(w=>w.percentage)},console.log(this.statistics[4]);let s=this.statistics[4].years,o=this.statistics[4].porcentajes,a={};for(let w=0;w<s.length;w++){let R=s[w],z=o[w];a[R]?a[R].push(z):a[R]=[z]}let l=[],u=[];for(let w in a){let R=a[w],z=R.reduce((G,X)=>G+X,0)/R.length;l.push(w),u.push(z)}this.statistics[4]=[],this.statistics[4].years=l,this.statistics[4].porcentajes=u,this.singlePapers=this.statistics[4],console.log(this.statistics[4]),console.log(this.singlePapers),this.generateBarChart("barChart1","Single Author Papers and Journals",this.statistics[4].years,this.statistics[4].porcentajes)}statsGeography(e){const n={},r=e.filter(w=>Object.keys(w.frecuencias).length>0),s=[...new Set(r.map(w=>w.year))];for(const w of s){const R=r.filter(z=>z.year===w);n[w]={};for(const z of R){let G="",X=-1;for(const Q in z.frecuencias)z.frecuencias[Q]>X&&(G=Q,X=z.frecuencias[Q]);n[w][G]=G in n[w]?n[w][G]+1:1}}for(const w in n){let R=0;for(const z in n[w])R+=n[w][z];for(const z in n[w])n[w][z]=Number((n[w][z]/R).toFixed(4))}const o=Object.keys(n),a=Object.keys(n[o[0]]),l=a,u=a.map(w=>o.map(R=>n[R][w]));this.generateMultipleGraph("lineChart5",o,l,u)}filterAuthorsByDecade(e,n,r){const s=[];return e.forEach(o=>{if(o.year.split(",").map(Number).filter(l=>l>=n&&l<=r).length>0){const l=s.find(u=>u.researcher===o.researcher);l?(l.numPublications+=o.numPublications,l.year+=`, ${o.year}`):s.push({ipNames:o.ipNames,numPublications:o.numPublications,researcher:o.researcher,year:o.year})}}),s}statsProlificAuthors(e){const n=Math.min(...e),r=Math.max(...e),s=10*Math.floor(n/10),o=10*Math.floor(r/10),a=[];for(let l=s;l<=o;l+=10){const u=`${l}s`,w=l,R=l+9,z=this.filterAuthorsByDecade(this.singleAuthor,w,R);a.push({label:u,startYear:w,endYear:R,authors:z})}return a.forEach(l=>{l.authors.sort((u,w)=>w.numPublications-u.numPublications),l.authors.length>20&&(l.authors=l.authors.slice(0,20))}),a}statsProlificAuthors2(e){const n=Math.min(...e),r=Math.max(...e),o=this.filterAuthorsByDecade(this.singleAuthor,n,r).sort((l,u)=>u.numPublications-l.numPublications).slice(0,20),a={degree:document.querySelector("#degree tbody")};for(const l of o){const u=a.degree;if(u instanceof HTMLElement){const w=l.year.split(",").map(Number),R=Math.min(...w),z=Math.max(...w),G=document.createElement("tr");G.innerHTML=`\n  \n                         <td >${l.researcher}</td>\n                         <td style="padding-left: 50px" >${l.numPublications}</td>\n                         <td style="padding-left: 50px">${R}</td> \n                         <td style="padding-left: 80px">${z}</td>`,u.appendChild(G)}}}generateTablesDecades2(e){const n={"1990s":document.querySelector("#table90 tbody"),"2000s":document.querySelector("#table00 tbody"),"2010s":document.querySelector("#table10 tbody"),"2020s":document.querySelector("#table20 tbody")};for(const r of e){const s=n[r.label];s instanceof HTMLElement&&r.authors.slice(0,20).forEach(o=>{const a=document.createElement("tr");a.innerHTML=`<td>${o.researcher}</td><td>${o.numPublications}</td>`,s.appendChild(a)})}}generateTotalPapersAndArticles(e,n,r,s){const o=r.map(a=>a.year);"lineChart7"==e&&(this.lineChart7=new Jn(e,{type:"line",data:{labels:o,datasets:[{label:"Papers",data:this.totalPapersByYear,fill:!1,borderColor:"rgb(0, 22, 68)",borderWidth:1},{label:"Articles",data:this.totalArticlesByYear,fill:!1,borderColor:"rgb(68, 0, 22)",borderWidth:1}]},options:{plugins:{legend:{labels:{color:"black",font:{size:18,family:"Roboto"}}}},scales:{y:{type:"linear",display:!0}}}}))}generateTotalAuthorsChart(e,n,r){const s=r.map(u=>u.year),o=r.map(u=>u.totalAuthors),a=r.map(u=>u.totalPapers),l=r.map(u=>u.totalArticles);"lineChart6"==e&&(this.lineChart6=new Jn(e,{type:"line",data:{labels:s,datasets:[{label:n,data:o,fill:!1,borderColor:"rgb(0, 22, 68)",borderWidth:1}]},options:{plugins:{legend:{labels:{color:"black",font:{size:18,family:"Roboto"}}}},scales:{y:{type:"linear",display:!0}}}})),"lineChart7"==e&&(this.lineChart7=new Jn(e,{type:"line",data:{labels:s,datasets:[{label:"Papers",data:a,fill:!1,borderColor:"rgba(51, 153, 255)",borderWidth:1},{label:"Articles",data:l,fill:!1,borderColor:"rgba(255, 0, 0, 1)",borderWidth:1}]},options:{plugins:{legend:{labels:{color:"black",font:{size:18,family:"Roboto"}}}},scales:{y:{type:"linear",display:!0}}}}))}generateChart(e,n,r){const s=r.map((o,a)=>({label:o.name,data:o.numResearchers,fill:!1,borderColor:this.getRandomColor(a),borderWidth:1}));"lineChart2"==e&&(this.lineChart2=new Jn(e,{type:"line",data:{labels:r[0].years,datasets:s},options:{plugins:{legend:{labels:{color:"black",font:{size:18,family:"Roboto"}}}},scales:{y:{type:"linear",display:!0}}}})),"lineChart1"==e&&(this.lineChart=new Jn(e,{type:"line",data:{labels:r[0].years,datasets:s},options:{plugins:{legend:{labels:{color:"black",font:{size:18,family:"Roboto"}}}},scales:{y:{type:"linear",display:!0}}}}))}generateChart3(e,n,r,s){("lineChart11"==e||"lineChart3"==e)&&(this.lineChart3=new Jn(e,{type:"line",data:{labels:r,datasets:[{label:n,data:s,fill:!1,borderColor:"rgb(0, 22, 68)",borderWidth:1}]},options:{plugins:{legend:{labels:{color:"black",font:{size:18,family:"Roboto"}}}},scales:{y:{type:"linear",display:!0}}}}))}generateChart4(e,n,r){const s=r.map((a,l)=>({label:a.venueName,data:a.connectedComponents,years:a.years,fill:!1,borderColor:this.getRandomColor(l),borderWidth:1})),o=Array.from(new Set([].concat(...s.map(a=>a.years))));o.sort(),this.lineChart=new Jn(e,{type:"line",data:{labels:o,datasets:s},options:{plugins:{legend:{labels:{color:"black",font:{size:18,family:"Roboto"}}}},scales:{y:{type:"linear",display:!0}}}})}statsGender(e){const n={};e.forEach(w=>{const{year:R,genero:z}=w;let G="";G="M"==z||"?M"==z||"1M"==z||"?"==z?"Men":"F"==z||"?F"==z||"1F"==z?"Women":"Unknown",n[G]||(n[G]=[]);const X=n[G].find(Q=>Q.year===R);X?X.count++:n[G].push({year:R,count:1})});const r={},o=n.Women;n.Men.forEach(w=>{const z=w.count;r[w.year]={hombres:z,mujeres:0,total:z}}),o.forEach(w=>{const R=w.year,z=w.count;r[R]?(r[R].mujeres=z,r[R].total+=z):r[R]={mujeres:z,hombres:0,total:z}});const a=Object.keys(r).sort(),l=a.map(w=>Number((r[w].hombres/r[w].total).toFixed(4))),u=a.map(w=>Number((r[w].mujeres/r[w].total).toFixed(4)));this.generateCircularChart("lineChart4",a,["Hombres","Mujeres"],[l,u]),this.generateMultipleGraph("lineChart8",a,["Hombres","Mujeres"],[l,u])}generateMultipleGraph(e,n,r,s){const a={type:"line",data:{labels:n,datasets:r.map((u,w)=>({label:u,data:s[w],fill:!1,borderColor:this.getRandomColor(w),borderWidth:1}))},options:{plugins:{legend:{labels:{color:"black",font:{size:18,family:"Roboto"}}}},scales:{y:{type:"linear",display:!0}}}},l=document.getElementById(e);new Jn(l,a)}generateCircularChart(e,n,r,s){const o=["#FF5733","#3399FF"],l={type:"pie",data:{labels:n,datasets:r.map((w,R)=>({label:w,data:s[R],backgroundColor:o[R],borderColor:"black"}))},options:{plugins:{legend:{display:!1,labels:{color:"black",font:{size:18,family:"Roboto"}}}}}},u=document.getElementById(e);new Jn(u,l)}generateBarChart(e,n,r,s){this.barChart=new Jn("barChart1",{type:"bar",data:{labels:r,datasets:[{label:n,data:s,backgroundColor:"rgb(0, 22, 68)",borderColor:"rgb(0, 22, 68)",borderWidth:1}]},options:{plugins:{legend:{labels:{color:"black",font:{size:18,family:"Roboto"}}}},scales:{y:{beginAtZero:!0}}}})}randomColor(){return`rgba(${Math.floor(256*Math.random())}, ${Math.floor(256*Math.random())}, ${Math.floor(256*Math.random())}, 1)`}getRandomColor(e){return{0:"rgba(51, 153, 255)",1:"rgba(255, 0, 0, 1)",2:"rgba(98, 192, 75, 1)",3:"rbga(192, 141, 75, 1)",4:"rgba(226, 232, 107, 1)",5:"rgba(176, 75, 192, 1)"}[e]}loadCommonNames(){this.http.get("assets/common_names.txt",{responseType:"text"}).subscribe(e=>{this.commonNames=this.parseCommonNames(e)},e=>{console.error("Error al cargar los datos:",e)})}parseCommonNames(e){const n=e.split("\n"),r={};let s="",o={frec_paises:{},genero:""};for(const a of n)if(a.startsWith("nombre:"))s=a.split(":")[1].trim(),o={frec_paises:{},genero:""};else if(a.startsWith("frec_paises:")){const l=a.substring(a.indexOf("{"),a.lastIndexOf("}")+1),u=JSON.parse(l);o.frec_paises=u}else a.startsWith("genero:")?o.genero=a.split(":")[1].trim():""===a.trim()&&(r[s]=o);return r}main(){var e=this;return jr(function*(){try{for(e.selectedTitles=e.stadisticsService.getSelectedTitles(),e.conferenceOption=e.stadisticsService.getConferenceOption(),e.venueName=e.stadisticsService.getVenueName(),e.stadisticsService.venueNameConfirm!=e.stadisticsService.getVenueName()?e.getConferencebyProceeding():e.generateTablesProceeding(e.stadisticsService.conferencesNames,e.stadisticsService.years,e.stadisticsService.inprocedings),e.getResearchersConference(),e.getPapersAndArticles(),e.getConferencebyProceeding(),0==e.researchers.length&&(yield e.waitResearcherNoEmpty()),e.getDemographicData(),0==e.papers.length?(yield e.waitPapersNoEmpty(),e.getCollaborations(),e.getAuthorsPapers()):(e.getCollaborations(),e.getAuthorsPapers()),0==e.papersWithAuthors.length?(yield e.waitAuthorsWithPapersNoEmpty(),e.getTopicAnalysis(),e.getDistributions()):(e.getTopicAnalysis(),e.getDistributions()),0==e.singleAuthor.length?(yield e.waitSingleAuthorsNoEmpty(),e.decadeStats=e.statsProlificAuthors(e.selectedYears),e.generateTablesDecades2(e.decadeStats)):(e.decadeStats=e.statsProlificAuthors(e.selectedYears),e.generateTablesDecades2(e.decadeStats)),e.statsProlificAuthors2(e.selectedYears),e.getConnectedComponents(),e.getConnectedComponentsByvenue();e.stadisticsService.conferencesNames.length<1;)e.loadingTable1=!0,yield new Promise(n=>setTimeout(n,1e3)),e.spinnerService.show();e.loadingTable1=!1,e.stadisticsService.venueNameConfirm=e.stadisticsService.getVenueName()}catch(n){console.error("Error in getData with:",n)}})()}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(sh),Ce(aw),Ce(cm),Ce(kg))};static#t=this.\u0275cmp=nr({type:t,selectors:[["istics"]],viewQuery:function(n,r){if(1&n&&Rp(rJ,5),2&n){let s;yu(s=bu())&&(r.chartCanvas=s.first)}},decls:245,vars:12,consts:[[1,"flex-container"],[1,"flex-item"],[1,"canvas-container"],["id","lineChart6"],[1,"flex-item",3,"hidden"],["id","lineChart1"],[1,"line"],["id","lineChart7"],["id","lineChart2"],["id","lineChart3"],["id","barChart1"],[1,"special"],[1,"container-table"],[1,"table"],["id","authorsTable"],[1,"linev"],["id","papersTable"],[1,"flex-container2"],[1,"graph-bars"],[1,"canvas-container1"],[1,"legend"],[1,"men"],[1,"women"],["id","lineChart4",1,"circular"],[1,"graph-bars2"],[1,"canvas-container2"],["id","lineChart8"],["id","lineChart5"],["id","tableBigramas"],["id","tableTrigramas"],[1,"conceptual"],[3,"config","data"],[1,"container-table2"],["id","table90"],["colspan","2"],["id","table00"],["id","table10",1,"centered-table"],["id","table20",1,"centered-table"],[1,"line3"],["id","degree"],[1,"line3",3,"hidden"],[3,"hidden"],[1,"table",3,"hidden"],["id","tableProceeding"],["class","overlay",3,"hidden",4,"ngIf"],["id","lineChart11"],["id","lineChart12"],["id","lineChart13"],[1,"overlay",3,"hidden"]],template:function(n,r){1&n&&(ge(0,"div")(1,"h2"),Se(2,"Statistics"),pe(),ge(3,"div",0)(4,"div",1)(5,"h3"),Se(6,"Authors / Year"),pe(),ge(7,"div",2),Ge(8,"canvas",3),pe()(),ge(9,"div",4)(10,"h3"),Se(11,"Authors by Conference or Journal / Year"),pe(),ge(12,"div",2),Ge(13,"canvas",5),pe()()(),Ge(14,"hr",6),ge(15,"div",0)(16,"div",1)(17,"h3"),Se(18,"Conference Papers and Journal Articles / Year"),pe(),ge(19,"div",2),Ge(20,"canvas",7),pe()(),ge(21,"div",4)(22,"h3"),Se(23,"Papers and Articles by Conference and Jorunal / Year"),pe(),ge(24,"div",2),Ge(25,"canvas",8),pe()()(),Ge(26,"hr",6),ge(27,"div",0)(28,"div",1)(29,"h3"),Se(30,"Density evolution over the years"),pe(),ge(31,"div",2),Ge(32,"canvas",9),pe()(),ge(33,"div",1)(34,"h3"),Se(35,"Percentage of single-author Papers and Jorunal / Year"),pe(),ge(36,"div",2),Ge(37,"canvas",10),pe()()(),Ge(38,"hr",6),ge(39,"h3",11),Se(40,"Distributions of authors by paper and journal and of papers and journals by author"),pe(),ge(41,"div",12)(42,"div",13)(43,"table",14)(44,"thead")(45,"tr")(46,"th"),Se(47,"Author"),pe(),ge(48,"th"),Se(49,"Papers/Journal (%)"),pe()()(),Ge(50,"tbody"),pe()(),Ge(51,"div",15),ge(52,"div",13)(53,"table",16)(54,"thead")(55,"tr")(56,"th"),Se(57,"Papers"),pe(),ge(58,"th"),Se(59,"Papers/Journal (%)"),pe()()(),Ge(60,"tbody"),pe()()(),Ge(61,"hr",6),ge(62,"h3",11),Se(63," Percentage of Publications Men-Women / Year"),pe(),ge(64,"div",17)(65,"div",18)(66,"div",19)(67,"div",20),Ge(68,"div",21),Se(69," Men "),Ge(70,"div",22),Se(71," Women "),pe(),Ge(72,"canvas",23),pe()(),ge(73,"div",24)(74,"div",25),Ge(75,"canvas",26),pe()()(),Ge(76,"hr",6),ge(77,"h3"),Se(78," Percentage of publications by Country / Year"),pe(),ge(79,"div",0)(80,"div",1)(81,"div",2),Ge(82,"canvas",27),pe()()(),Ge(83,"hr",6),ge(84,"h3",11),Se(85,"Most frequent Bigrams and Trigrams"),pe(),ge(86,"div",12)(87,"div",13)(88,"table",28)(89,"thead")(90,"tr")(91,"th"),Se(92,"Bigrams"),pe(),ge(93,"th"),Se(94,"Appearances"),pe(),ge(95,"th"),Se(96,"First "),Ge(97,"br"),Se(98," a\xf1o"),pe(),ge(99,"th"),Se(100,"Recent "),Ge(101,"br"),Se(102," a\xf1o"),pe()()(),Ge(103,"tbody"),pe()(),Ge(104,"div",15),ge(105,"div",13)(106,"table",29)(107,"thead")(108,"tr")(109,"th"),Se(110,"Trigrams"),pe(),ge(111,"th"),Se(112,"Appearances"),pe(),ge(113,"th"),Se(114,"First "),Ge(115,"br"),Se(116," a\xf1o"),pe(),ge(117,"th"),Se(118,"Recent "),Ge(119,"br"),Se(120," a\xf1o"),pe()()(),Ge(121,"tbody"),pe()()(),Ge(122,"hr",6),ge(123,"h3",11),Se(124,"Frequent terms from all titles of papers"),pe(),ge(125,"div",30),Ge(126,"angular-tag-cloud",31),pe(),Ge(127,"hr",6),ge(128,"h3",11),Se(129,"Most prolific authors according to their number of publications accumulated by decade"),pe(),ge(130,"div",32)(131,"div",13)(132,"table",33)(133,"thead")(134,"tr")(135,"th",34),Se(136," (a) 1989-1999 "),pe()(),Ge(137,"hr"),ge(138,"tr")(139,"th"),Se(140,"Author"),pe(),ge(141,"th"),Se(142,"#"),pe()()(),Ge(143,"tbody"),pe()(),Ge(144,"div",15),ge(145,"div",13)(146,"table",35)(147,"thead")(148,"tr")(149,"th",34),Se(150," (b) 1999-2009 "),pe()(),Ge(151,"hr"),ge(152,"tr")(153,"th"),Se(154,"Author"),pe(),ge(155,"th"),Se(156,"#"),pe()()(),Ge(157,"tbody"),pe()(),Ge(158,"div",15),ge(159,"div",13)(160,"table",36)(161,"thead")(162,"tr")(163,"th",34),Se(164," (a) 2009-2019 "),pe()(),Ge(165,"hr"),ge(166,"tr")(167,"th"),Se(168,"Author"),pe(),ge(169,"th"),Se(170,"#"),pe()()(),Ge(171,"tbody"),pe()(),Ge(172,"div",15),ge(173,"div",13)(174,"table",37)(175,"thead")(176,"tr")(177,"th",34),Se(178," (a) 2019-2024 "),pe()(),Ge(179,"hr"),ge(180,"tr")(181,"th"),Se(182,"Author"),pe(),ge(183,"th"),Se(184,"#"),pe()()(),Ge(185,"tbody"),pe()()(),Ge(186,"hr",38),ge(187,"h3"),Se(188,"Authors with their first and most recent year of publication"),pe(),ge(189,"div",32)(190,"div",13)(191,"table",39)(192,"thead")(193,"tr")(194,"th"),Se(195,"Author"),pe(),ge(196,"th"),Se(197,"Degree"),pe(),ge(198,"th"),Se(199,"First "),Ge(200,"br"),Se(201," year"),pe(),ge(202,"th"),Se(203,"Recent "),Ge(204,"br"),Se(205," year"),pe()()(),Ge(206,"tbody"),pe()()(),Ge(207,"hr",40),ge(208,"h3",41),Se(209,"Proceeding by Conference"),pe(),ge(210,"div",32)(211,"div",42)(212,"table",43)(213,"thead")(214,"tr")(215,"th"),Se(216,"Name"),pe(),ge(217,"th"),Se(218,"Location"),pe(),ge(219,"th"),Se(220,"Date"),pe(),ge(221,"th"),Se(222,"Year"),pe(),ge(223,"th"),Se(224,"numberOfInProceedings"),pe()()(),Ge(225,"tbody"),pe()()(),ei(226,sJ,2,1,"div",44),Ge(227,"hr",40),ge(228,"div",0)(229,"div",4)(230,"h3"),Se(231,"All Connected Components by year"),pe(),ge(232,"div",2),Ge(233,"canvas",45),pe()(),ge(234,"div",4)(235,"h3"),Se(236,"Connected components for each Conference by year"),pe(),ge(237,"div",2),Ge(238,"canvas",46),pe()()(),ge(239,"div",0)(240,"div",4)(241,"h3"),Se(242,"Relative size of components connected by conference"),pe(),ge(243,"div",2),Ge(244,"canvas",47),pe()()()()),2&n&&(Xe(9),Je("hidden",r.ConferencesAuthors<2),Xe(12),Je("hidden",r.papers.length<1||r.ConferencesCount<2),Xe(105),Je("config",r.options)("data",r.cloudData),Xe(81),Je("hidden",r.papers.length<1),Xe(1),Je("hidden",r.papers.length<1),Xe(3),Je("hidden",r.papers.length<1),Xe(15),Je("ngIf",r.loadingTable1),Xe(1),Je("hidden",r.papers.length<1),Xe(2),Je("hidden",r.papers.length<1),Xe(5),Je("hidden",r.papers.length<1),Xe(6),Je("hidden",r.papers.length<1))},dependencies:[Ho,dC,yN],styles:['@charset "UTF-8";h2[_ngcontent-%COMP%]{text-align:center;font-size:40px}h3[_ngcontent-%COMP%]{text-align:center;font-size:25px;margin-bottom:10px}.flex-container[_ngcontent-%COMP%], .flex-container2[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;overflow:auto}.graph-bars[_ngcontent-%COMP%], .graph-bars2[_ngcontent-%COMP%]{padding:20px;margin-bottom:50px}.canvas-container1[_ngcontent-%COMP%]{border:2px solid rgb(0,22,68);padding:20px;width:91%}.canvas-container2[_ngcontent-%COMP%]{border:2px solid rgb(0,22,68);padding:20px;width:96%}.legend[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:18px;margin-bottom:20px}.flex-item[_ngcontent-%COMP%]{padding:20px;margin-bottom:50px}.canvas-container[_ngcontent-%COMP%]{border:2px solid rgb(0,22,68);padding:20px;width:95%}canvas[_ngcontent-%COMP%]{max-width:100%;height:auto;display:block}.line[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:20px;background-color:#001644}.container-table[_ngcontent-%COMP%]{width:100%;justify-content:center;display:flex;overflow:auto}.container-table2[_ngcontent-%COMP%]{justify-content:center;display:flex;margin-right:100px}.linev[_ngcontent-%COMP%]{border-right:1px solid rgb(0,22,68);margin-right:45px;margin-left:20px}.table[_ngcontent-%COMP%]{text-align:center}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:20px;vertical-align:middle;text-align:center;vertical-align:center;font-size:20px}div[_ngcontent-%COMP%]{min-width:40px;min-height:1px;margin-right:5px}.special[_ngcontent-%COMP%]{margin-bottom:40px}#degree[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(2), #degree[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){padding-left:60px}#degree[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(4){padding-left:90px}.men[_ngcontent-%COMP%]{background-color:#39f}.women[_ngcontent-%COMP%]{background-color:#ff5733;margin-left:20PX}.line3[_ngcontent-%COMP%]{margin-top:30px;margin-bottom:30px}@media screen and (max-width: 768px){td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{padding:10px}.legend[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:10px;margin-bottom:20px}.container-table[_ngcontent-%COMP%], .container-table2[_ngcontent-%COMP%]{flex-direction:column}.table[_ngcontent-%COMP%]{border-right:none;padding-right:0;padding-bottom:20px}#tableInstitution[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]:nth-child(3){padding-left:0}#tableInstitution[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]:nth-child(3){padding-left:0}}.conceptual[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:200px}.overlay[_ngcontent-%COMP%]{position:relative;top:10px;left:0;width:100%;height:100%;z-index:10;display:flex;justify-content:center;align-items:center}']})}return t})();function aJ(t,i){1&t&&(ge(0,"div",15),Ge(1,"app-spinner"),pe())}function lJ(t,i){1&t&&(ge(0,"div",13),Ge(1,"app-spinner"),pe())}function cJ(t,i){1&t&&(ge(0,"div",13),Ge(1,"app-spinner"),pe())}let dJ=(()=>{class t{constructor(e,n,r){this.infoService=e,this.apiService=n,this.spinnerService=r,this.allPublications=0,this.allAuthors=0,this.allConferences=0,this.loadingGraph1=!0,this.loadingGraph2=!0,this.loadingGraph3=!0,this.loadingGraph4=!0}ngOnInit(){this.main()}getPublicationsbyYear(){this.apiService.getPublicationsbyYear().subscribe({next:e=>{this.infoService.PublicationsByYear=e},error:e=>{console.error("Error al obtener las publicaciones en getPublicationsbyYear:",e)}})}getAuthorsbyYear(){this.apiService.getAuthorsbyYear().subscribe({next:e=>{this.infoService.AuthorsByYear=e,this.infoService.AuthorsByYear.sort((n,r)=>parseInt(n.yearName)-parseInt(r.yearName))},error:e=>{console.error("Error al obtener los autores en getAuthorsbyYear:",e)}})}getConferencesbyYear(){this.apiService.getConferencesbyYear().subscribe({next:e=>{this.infoService.ConferencesByYear=e,this.infoService.ConferencesByYear.sort((n,r)=>parseInt(n.yearName)-parseInt(r.yearName))},error:e=>{console.error("Error al obtener las conferencias en getConferencesbyYear:",e)}})}getPublications(){this.apiService.getPublications().subscribe({next:e=>{this.infoService.AllPublications=e.length>0?e[0].all_publications:0},error:e=>{console.error("Error al obtener las publicaciones en getPublications:",e)}})}getConferences(){this.apiService.getConferences().subscribe({next:e=>{this.infoService.AllConferences=e.length>0?e[0].all_conferences:0},error:e=>{console.error("Error al obtener las conferencias en getConferences:",e)}})}getAuthors(){this.apiService.getAuthors().subscribe({next:e=>{this.infoService.AllAuthors=e.length>0?e[0].all_authors:0},error:e=>{console.error("Error al obtener las publicaciones en getBooks:",e)}})}generateBarChart(e,n,r,s){this.barChart=new Jn(e,{type:"bar",data:{labels:r,datasets:[{label:n,data:s,backgroundColor:"rgb(0, 22, 68)",borderColor:"rgb(0, 22, 68)",borderWidth:1}]},options:{plugins:{legend:{labels:{color:"black",font:{size:18,family:"Roboto"}}}},scales:{y:{beginAtZero:!0}}}})}generateBarChartTriple(e,n,r,s,o){this.barChart=new Jn(e,{type:"bar",data:{labels:n,datasets:[{label:"Conferences and Papers",data:r,backgroundColor:"rgba(255, 99, 132, 0.5)",borderColor:"rgba(255, 99, 132, 0.5)",borderWidth:1},{label:"Journal Articles",data:s,backgroundColor:"rgba(54, 162, 235, 1)",borderColor:"rgba(54, 162, 235, 1)",borderWidth:1},{label:"Thesis",data:o,backgroundColor:"rgba(255, 206, 86, 2)",borderColor:"rgba(255, 206, 86, 2)",borderWidth:1}]},options:{plugins:{legend:{labels:{color:"black",font:{size:18,family:"Roboto"}}}},scales:{y:{beginAtZero:!0},x:{stacked:!0}}}})}waitForData(){var e=this;return jr(function*(){for(;e.infoService.PublicationsByYear.length<1||e.infoService.ConferencesByYear.length<1||e.infoService.AuthorsByYear.length<1;)yield new Promise(n=>setTimeout(n,1e4))})()}getSchools(){this.apiService.getSchools().subscribe({next:e=>{this.infoService.instituions=e,this.generateTablesDecades(this.infoService.instituions)},error:e=>{console.error("Error in getSchools:",e)}})}generateTablesDecades(e){const n=document.querySelector("#tableInstitution tbody");n instanceof HTMLElement&&e.forEach(({School:r,NumberOfAuthors:s})=>{const o=document.createElement("tr");o.innerHTML=`<td >${r}</td><td>${s}</td>`;const a=o.querySelector("td:first-child"),l=o.querySelector("td:last-child");a&&l&&(a.style.textAlign="left",l.style.textAlign="center"),n.appendChild(o)})}main(){var e=this;return jr(function*(){try{for(e.getAuthors(),e.getConferences(),e.getPublications(),e.infoService.instituions.length<1?e.getSchools():e.generateTablesDecades(e.infoService.instituions);e.infoService.AllPublications<1||e.infoService.AllConferences<1||e.infoService.AllAuthors<1;)yield new Promise(s=>setTimeout(s,1e3)),e.spinnerService.show();for(e.allAuthors=e.infoService.AllAuthors,e.allPublications=e.infoService.AllPublications,e.allConferences=e.infoService.AllConferences,e.infoService.PublicationsByYear.length<1&&e.getPublicationsbyYear(),e.infoService.ConferencesByYear.length<1&&e.getConferencesbyYear(),e.infoService.AuthorsByYear.length<1&&e.getAuthorsbyYear();e.infoService.ConferencesByYear.length<1;)e.loadingGraph1=!0,yield new Promise(s=>setTimeout(s,1e3)),e.spinnerService.show();e.loadingGraph1=!1;const n=e.infoService.ConferencesByYear.map(s=>s.yearName);for(e.generateBarChart("barChart3","Conferences by Year",n,e.infoService.ConferencesByYear.map(s=>s.allConferences));e.infoService.AuthorsByYear.length<1;)e.loadingGraph2=!0,yield new Promise(s=>setTimeout(s,1e3)),e.spinnerService.show();e.loadingGraph2=!1;const r=e.infoService.AuthorsByYear.map(s=>s.yearName);for(e.generateBarChart("barChart2","Authors by Year",r,e.infoService.AuthorsByYear.map(s=>s.allAuthors));e.infoService.PublicationsByYear.length<1;)e.loadingGraph3=!0,yield new Promise(s=>setTimeout(s,1e3)),e.spinnerService.show();for(e.loadingGraph3=!1;e.infoService.instituions.length<1;)e.loadingGraph4=!0,yield new Promise(s=>setTimeout(s,1e3)),e.spinnerService.show();e.loadingGraph4=!1,e.generateBarChartTriple("tripleBarChart",e.infoService.PublicationsByYear.map(s=>s.yearName),e.infoService.PublicationsByYear.map(s=>s.ConferencesAndPapers),e.infoService.PublicationsByYear.map(s=>s.JournalArticles),e.infoService.PublicationsByYear.map(s=>s.Thesis)),e.spinnerService.hide()}catch(n){console.error("Error in getData:",n)}})()}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(ww),Ce(sh),Ce(kg))};static#t=this.\u0275cmp=nr({type:t,selectors:[["info-config"]],decls:45,vars:6,consts:[[1,"container"],[1,"leftContainer"],[1,"click-element"],[1,"table"],["id","tableInstitution"],["class","centerSpinner",4,"ngIf"],[1,"rightContainer"],[1,"flex-container"],[1,"flex-item"],[1,"canvas-container"],["class","overlay",4,"ngIf"],["id","barChart3"],["id","barChart2"],[1,"overlay"],["id","tripleBarChart"],[1,"centerSpinner"]],template:function(n,r){1&n&&(ge(0,"h2"),Se(1,"Information"),pe(),ge(2,"div",0)(3,"div",1)(4,"ul")(5,"li",2),Se(6),pe(),ge(7,"li",2),Se(8),pe(),ge(9,"li",2),Se(10),pe()(),ge(11,"div",3)(12,"table",4)(13,"thead")(14,"tr")(15,"th"),Se(16,"Institution"),pe(),ge(17,"th"),Se(18,"Number of Authors"),pe()()(),ge(19,"tbody"),ei(20,aJ,2,0,"div",5),pe()()()(),ge(21,"div",6)(22,"div",7)(23,"div",8)(24,"h3"),Se(25,"Number of Conferences by Year"),pe(),ge(26,"div",9),ei(27,lJ,2,0,"div",10),Ge(28,"canvas",11),pe(),Ge(29,"div"),ge(30,"div",7)(31,"div",8)(32,"h3"),Se(33,"Number of Authors by Year"),pe(),ge(34,"div",9),ei(35,cJ,2,0,"div",10),Ge(36,"canvas",12),pe()()(),ge(37,"div",7)(38,"div",8)(39,"h3"),Se(40,"Number of Conferences and Papers, Journal Articles and Thesis by Year"),pe(),ge(41,"div",9)(42,"div",13),Ge(43,"app-spinner"),pe(),Ge(44,"canvas",14),pe()()()()()()()),2&n&&(Xe(6),Vr("Total of Publications: ",r.allPublications,""),Xe(2),Vr("Total of Authors: ",r.allAuthors,""),Xe(2),Vr("Total of Conferences: ",r.allConferences,""),Xe(10),Je("ngIf",r.loadingGraph1),Xe(7),Je("ngIf",r.loadingGraph1),Xe(8),Je("ngIf",r.loadingGraph2))},dependencies:[Ho,yN],styles:["h2[_ngcontent-%COMP%]{text-align:center;font-size:40px;margin-bottom:50px}h3[_ngcontent-%COMP%]{text-align:left;font-size:18px;margin-bottom:10px}.container[_ngcontent-%COMP%]{display:flex;width:100%}.leftContainer[_ngcontent-%COMP%]{width:20%;background-color:#00164408;border-left:1px solid rgb(0,22,68);justify-content:center;align-items:center;padding:10px}.rightContainer[_ngcontent-%COMP%]{flex:10;width:100%;align-items:center}.flex-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;overflow:auto}.flex-item[_ngcontent-%COMP%]{padding:20px;margin-bottom:50px}.canvas-container[_ngcontent-%COMP%]{border:2px solid rgb(0,22,68);padding:20px;width:95%}canvas[_ngcontent-%COMP%]{max-width:100%;height:auto;display:block}.click-element[_ngcontent-%COMP%]{margin-bottom:5px;font-size:18px}.click-element[_ngcontent-%COMP%]:hover{transform:scale(1.05);transition:transform .3s ease;font-weight:700}.overlay[_ngcontent-%COMP%]{position:relative;top:50px;left:0;width:100%;height:100%;z-index:10;display:flex;justify-content:center;align-items:center}.centerSpinner[_ngcontent-%COMP%]{position:relative;top:20px;left:50px;width:100%;height:100%;z-index:10;display:flex;justify-content:center;align-items:center}.table[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;font-size:15px;width:90%}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:10px;border:1px solid #ddd}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2;padding:5px}.leftContainer[_ngcontent-%COMP%], .rightContainer[_ngcontent-%COMP%]{border-right:1px solid rgb(0,22,68);border-top:1px solid rgb(0,22,68)}"]})}return t})();function uJ(t,i){if(1&t){const e=en();ge(0,"li",15),yt("click",function(){const s=Yt(e).$implicit;return Pt(wt().selectSuggestion(s))}),Se(1),pe()}if(2&t){const e=i.$implicit;Xe(1),Vr(" ",e," ")}}function hJ(t,i){if(1&t){const e=en();ge(0,"li"),Se(1),ge(2,"button",18),yt("click",function(){const s=Yt(e).$implicit;return Pt(wt(2).deleteFilter(s))}),Se(3,"X"),pe()()}if(2&t){const e=i.$implicit;Xe(1),Vr(" ",e," ")}}function fJ(t,i){if(1&t&&(ge(0,"div",16)(1,"div")(2,"p"),Se(3,"Authors:"),pe(),Ge(4,"hr"),ge(5,"ul"),ei(6,hJ,4,1,"li",17),pe()()()),2&t){const e=wt();Xe(6),Je("ngForOf",e.authors)}}function pJ(t,i){1&t&&(ge(0,"div")(1,"div",19)(2,"div",20),Ge(3,"div",21),ge(4,"div",22),Se(5,"Journal Article"),pe()(),ge(6,"div",20),Ge(7,"div",23),ge(8,"div",22),Se(9,"Workshop Paper"),pe()(),ge(10,"div",20),Ge(11,"div",24),ge(12,"div",22),Se(13,"Part in Books or Collection"),pe()()()())}function mJ(t,i){1&t&&Ge(0,"hr",25)}function gJ(t,i){1&t&&(ge(0,"tr"),Ge(1,"th"),ge(2,"th",26),Se(3,"Publications"),pe(),ge(4,"th",27),Se(5,"Date"),pe(),ge(6,"th"),Se(7,"Author Name"),pe()())}let vJ=(()=>{class t{constructor(e,n){this.apiService=e,this.homeService=n,this.filtersBOX="",this.completeConference=[],this.authors=[],this.authorsQuery=[],this.publications=[],this.showPublications=!1}autocompleteAuthor(e){this.apiService.autocompleteAuthors(e).subscribe({next:n=>{this.completeConference=n.map(r=>r.replace(/&aacute;/g,"\xe1").replace(/&eacute;/g,"\xe9").replace(/&iacute;/g,"\xed").replace(/&oacute;/g,"\xf3").replace(/&uacute;/g,"\xfa").replace(/&ntilde;/g,"\xf1").replace(/&Aacute;/g,"\xc1").replace(/&Eacute;/g,"\xc9").replace(/&Iacute;/g,"\xcd").replace(/&Oacute;/g,"\xd3").replace(/&Uacute;/g,"\xda").replace(/&Ntilde;/g,"\xd1").replace(/&agrave;/g,"\xe0").replace(/&egrave;/g,"\xe8").replace(/&ograve;/g,"\xf2").replace(/&Agrave;/g,"\xc0").replace(/&Egrave;/g,"\xc8").replace(/&Ograve;/g,"\xd2").replace(/&acirc;/g,"\xe2").replace(/&Acirc;/g,"\xc2").replace(/&atilde;/g,"\xe3").replace(/&Atilde;/g,"\xc3").replace(/&ouml;/g,"\xf6").replace(/&Ouml;/g,"\xd6")),this.normalized()},error:n=>{console.error("Error in autocompleteConference",n)}})}normalized(){const e=[],n=[];for(const r of this.completeConference){const s=r.normalize("NFD").replace(/[\u0300-\u036f]/g,"");if(n.includes(s)){e.push(s);const o=e.findIndex(a=>a.normalize("NFD").replace(/[\u0300-\u036f]/g,"")===s);-1!==o&&e.splice(o,1)}else e.push(r),n.push(s)}this.completeConference=e}getAuthorsPublications(e){this.publications=[],console.log(this.authors),this.authorsQuery=this.authors.map(n=>n.replace(/\xe1/g,"&aacute;").replace(/\xe9/g,"&eacute;").replace(/\xed/g,"&iacute;").replace(/\xf3/g,"&oacute;").replace(/\xfa/g,"&uacute;").replace(/\xf1/g,"&ntilde;").replace(/\xc1/g,"&Aacute;").replace(/\xc9/g,"&Eacute;").replace(/\xcd/g,"&Iacute;").replace(/\xd3/g,"&Oacute;").replace(/\xda/g,"&Uacute;").replace(/\xd1/g,"&Ntilde;").replace(/\xe0/g,"&agrave;").replace(/\xe8/g,"&egrave;").replace(/\xf2/g,"&ograve;").replace(/\xc0/g,"&Agrave;").replace(/\xc8/g,"&Egrave;").replace(/\xd2/g,"&Ograve;").replace(/\xe2/g,"&acirc;").replace(/\xc2/g,"&Acirc;").replace(/\xe3/g,"&atilde;").replace(/\xc3/g,"&Atilde;").replace(/\xf6/g,"&ouml;").replace(/\xd6/g,"&Ouml;")),console.log(this.authors),this.apiService.getAuthorsPublications(this.authorsQuery).subscribe({next:n=>{this.publications=n,this.showPublications=!0,this.generateTablePublications(this.publications)},error:n=>{console.error("Error in getAuthorsPublications",n)}})}completeSuggestion(e){""!==e.trim()&&this.authors.push(e.trim())}selectSuggestion(e){this.filtersBOX=e}deleteFilter(e){const n=this.authors.indexOf(e);-1!==n&&this.authors.splice(n,1)}generateTablePublications(e){const n=document.querySelector("#tablePublications tbody");n instanceof HTMLElement&&(n.innerHTML="",e.forEach(({title:r,DayOfPublication:s,AuthorName:o,PublicationType:a})=>{const l=document.createElement("tr");let u;switch(a){case"Journal Article":u="red";break;case"Workshop Paper":u="blue";break;case"Part in Books or Collection":u="yellow";break;default:u="black"}l.innerHTML=`<td style="background-color: ${u}; width: 10px; border: 1px solid black; height: 10px;"></td><td style="padding-left: 20px; padding-right: 50px;">${r}</td><td style="padding-right: 30px;">${s}</td><td>${o}</td>`,n.appendChild(l)}))}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(sh),Ce(Cw))};static#t=this.\u0275cmp=nr({type:t,selectors:[["app-authors"]],decls:24,vars:7,consts:[[1,"container"],[1,"box-conference"],["type","text","placeholder","Enter the Conference or Journal",3,"ngModel","ngModelChange","input"],["type","button",1,"button-add",3,"click"],["class","click-element ",3,"click",4,"ngFor","ngForOf"],["class","filters-list",4,"ngIf"],[1,"buttons"],[1,"button-publications"],[3,"disabled","click"],[4,"ngIf"],["class","line",4,"ngIf"],[1,"flex-container"],[1,"container-table2"],[1,"table"],["id","tablePublications"],[1,"click-element",3,"click"],[1,"filters-list"],[4,"ngFor","ngForOf"],[1,"button-delete",3,"click"],["id","legend",1,"legend"],[1,"legend-item"],[1,"color-square","red"],[1,"legend-text"],[1,"color-square","blue"],[1,"color-square","yellow"],[1,"line"],[2,"padding-left","20px","padding-right","50px"],[2,"padding-right","30px"]],template:function(n,r){1&n&&(ge(0,"div",0)(1,"h1"),Se(2,"Authors"),pe(),ge(3,"div",1)(4,"input",2),yt("ngModelChange",function(o){return r.filtersBOX=o})("input",function(){return r.autocompleteAuthor(r.filtersBOX)}),pe(),ge(5,"button",3),yt("click",function(){return r.completeSuggestion(r.filtersBOX)}),Se(6,"Add"),pe(),ge(7,"div")(8,"ul"),ei(9,uJ,2,1,"li",4),pe()()(),ei(10,fJ,7,1,"div",5),ge(11,"div",6)(12,"div",7)(13,"button",8),yt("click",function(){return r.getAuthorsPublications(r.authors)}),Se(14,"Search Publications"),pe()()()(),ei(15,pJ,14,0,"div",9)(16,mJ,1,0,"hr",10),ge(17,"div",11)(18,"div",12)(19,"div",13)(20,"table",14)(21,"thead"),ei(22,gJ,8,0,"tr",9),pe(),Ge(23,"tbody"),pe()()()()),2&n&&(Xe(4),Je("ngModel",r.filtersBOX),Xe(5),Je("ngForOf",r.completeConference),Xe(1),Je("ngIf",r.authors.length>0),Xe(3),Je("disabled",0===r.authors.length),Xe(2),Je("ngIf",r.showPublications),Xe(1),Je("ngIf",r.showPublications),Xe(6),Je("ngIf",r.showPublications))},dependencies:[m_,Ho,Hu,p0,Am],styles:[".container[_ngcontent-%COMP%]{width:70%;max-width:600px;margin:0 auto;padding:10px 20px;background-color:#fff;border-radius:5px;box-shadow:0 2px 5px #001644}.filters-list[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:2px}.filters-list[_ngcontent-%COMP%]{box-shadow:0 2px 5px #001644;background-color:#f5f5f5;padding:15px;border-radius:5px;margin-bottom:20px}h1[_ngcontent-%COMP%]{text-align:center;font-size:35px}.box-conference[_ngcontent-%COMP%]{margin-bottom:10px}input[type=text][_ngcontent-%COMP%]{padding:8px;width:70%;border:1px solid #cccccc;border-radius:4px}button[_ngcontent-%COMP%]{padding:8px 16px;background-color:#001644;color:#fff;border:none;border-radius:4px}.title-select[_ngcontent-%COMP%]{margin-bottom:2px}select[_ngcontent-%COMP%]{padding:8px;width:85%;border:1px solid #cccccc;border-radius:4px;margin-bottom:10px}label[_ngcontent-%COMP%]{display:block;margin-bottom:5px}input[type=checkbox][_ngcontent-%COMP%]{margin-right:8px}.button-add[_ngcontent-%COMP%]{margin-left:8px;margin-bottom:5px;font-weight:700}button[_ngcontent-%COMP%]:disabled{background-color:#ccc;cursor:not-allowed}.button-delete[_ngcontent-%COMP%]{background-color:red;padding:1px 4px;margin:2px;font-weight:700}.click-element[_ngcontent-%COMP%]{cursor:pointer;margin-bottom:5px}.click-element[_ngcontent-%COMP%]:hover{transform:scale(1.1);transition:transform .3s ease;font-weight:700}p[_ngcontent-%COMP%]{font-weight:700;margin:10px 0 0}hr[_ngcontent-%COMP%]{border:.5;border-color:#000;height:1px;background-color:#000;margin:0 0 10px}.button-publications[_ngcontent-%COMP%]:hover{transform:scale(1.1);transition:transform .3s ease}.buttons[_ngcontent-%COMP%]{display:flex;margin-bottom:20px}.flex-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;overflow:auto;margin-left:-20px}.container-table2[_ngcontent-%COMP%]{justify-content:center;display:flex;margin-right:100px}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:left}h3[_ngcontent-%COMP%]{text-align:center;font-size:25px;margin-bottom:20px}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{font-size:20px;padding-bottom:15px}.color-square[_ngcontent-%COMP%]{width:20px;height:20px;display:inline-block;margin-right:5px;border:1px solid black;margin-bottom:-5px}.red[_ngcontent-%COMP%]{background-color:red}.blue[_ngcontent-%COMP%]{background-color:#00f}.yellow[_ngcontent-%COMP%]{background-color:#ff0}.legend-item[_ngcontent-%COMP%]{margin:10px}.legend-text[_ngcontent-%COMP%]{display:inline-block}.legend[_ngcontent-%COMP%]{margin-bottom:10px;display:inline-flex;margin-top:50px;margin-left:50px}table[_ngcontent-%COMP%]{border-spacing:0px 10px}.line[_ngcontent-%COMP%]{margin-bottom:20px;background-color:#001644;border-width:0}"]})}return t})();var Zc=U(396);let bN=(()=>{class t{getNetworkOptions(){return{autoResize:!0,height:"500px",width:"100%",physics:{enabled:!0},layout:{randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!0,levelSeparation:170,direction:"UD",sortMethod:"directed",nodeSpacing:100}},nodes:{scaling:{min:150,max:160,label:{enabled:!1,min:14,max:30,maxVisible:40,drawThreshold:5},customScalingFunction:(e,n,r,s)=>n===e?.5:Math.max(0,1/(n-e)*(s-e))},size:10,font:{size:20,color:"#ffffff"}}}}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac})}return t})(),yJ=(()=>{class t{getNodes(){const e=Array.from({length:5},(r,s)=>++s).map(r=>({id:r,label:`Node ${r}`}));return new Zc.DataSet(e)}getEdges(){return new Zc.DataSet([{from:1,to:3},{from:1,to:2},{from:2,to:4},{from:2,to:5}])}static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275prov=ke({token:t,factory:t.\u0275fac})}return t})(),bJ=(()=>{class t{constructor(e,n,r){this.el=e,this.renderer=n,this.appNetworkService=r,this.subscriptions=new nt}ngOnInit(){this.subscriptions.add(this.selected.subscribe(e=>{new Zc.Network(this.el.nativeElement,e,this.appNetworkService.getNetworkOptions())}))}ngOnDestroy(){this.subscriptions&&this.subscriptions.unsubscribe()}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(ki),Ce(_r),Ce(bN))};static#t=this.\u0275dir=ct({type:t,selectors:[["","selected-nodes",""]],inputs:{selected:"selected"}})}return t})();const _J=["menuDiv"],wJ=["treeContainer"];function CJ(t,i){if(1&t&&(ge(0,"div",2,6)(2,"h1"),Se(3," Previous Selected Node"),pe(),Ge(4,"div",7),pe()),2&t){const e=wt();Xe(4),Je("selected",e.selectedData)}}function xJ(t,i){1&t&&(ge(0,"h1"),Se(1," Selected node"),pe())}const EJ=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:rX},{path:"statistics",component:oJ},{path:"info",component:dJ},{path:"authors",component:vJ},{path:"network",component:(()=>{class t{constructor(e,n){this.appNetworkService=e,this.appNetworkInitService=n,this.menuStatus=!0,this.data={},this.nodes=new Zc.DataSet,this.edges=new Zc.DataSet,this.nodeNo=6,this.selectedData=new ni}ngOnInit(){this.nodes=this.appNetworkInitService.getNodes(),this.edges=this.appNetworkInitService.getEdges(),this.data={nodes:this.nodes,edges:this.edges},this.network=new Zc.Network(this.treeContainer.nativeElement,this.data,this.appNetworkService.getNetworkOptions()),this.network.on("select",e=>this.onSelect(e))}ngOnDestroy(){null!=this.network&&this.network.destroy()}onSelect(e){if(1==e.nodes.length){this.nodes.add({id:this.nodeNo,label:`Node ${this.nodeNo}`}),this.edges.add({from:e.nodes[0],to:this.nodeNo}),this.nodeNo++;const n={edges:e.edges,nodes:e.nodes,pointer:e.pointer};this.selectNode&&(this.prevSelectNode=this.selectNode),this.selectNode=n;const r=this.edges.get().filter(a=>this.network.getSelectedEdges().some(l=>l==a.id)).map(a=>({to:a.to,from:a.from})),s=this.network.getSelectedNodes()[0];let o=this.nodes.get().filter(a=>r.some(l=>l.to==a.id));if(o.some(a=>a.id==s)){const a=this.nodes.get()[0];o.unshift(a)}else{const a=this.nodes.get().find(l=>l.id==s);void 0!==a&&o.unshift(a)}this.selectedData.next({edges:r,nodes:o})}}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(bN),Ce(yJ))};static#t=this.\u0275cmp=nr({type:t,selectors:[["app-networks"]],viewQuery:function(n,r){if(1&n&&(Rp(_J,7),Rp(wJ,7)),2&n){let s;yu(s=bu())&&(r.menuDiv=s.first),yu(s=bu())&&(r.treeContainer=s.first)}},decls:9,vars:5,consts:[[2,"display","flex","justify-content","center"],["style","flex:4",4,"ngIf"],[2,"flex","4"],["treeContainer",""],[2,"flex","1"],[4,"ngIf"],["menuDiv",""],["selected-nodes","",3,"selected"]],template:function(n,r){1&n&&(ge(0,"div",0),ei(1,CJ,5,1,"div",1),Ge(2,"div",2,3),ge(4,"div",4),ei(5,xJ,2,0,"h1",5),ge(6,"div"),Se(7),Sb(8,"json"),pe()()()),2&n&&(Xe(1),Je("ngIf",r.selectedData),Xe(4),Je("ngIf",r.selectNode),Xe(2),Vr("",Mb(8,3,r.selectNode)," "))},dependencies:[Ho,bJ,wO]})}return t})()}];let DJ=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({imports:[Ak.forRoot(EJ),_w.forRoot(),Ak]})}return t})();function SJ(t,i){1&t&&(ge(0,"a",6),Se(1,"Statistics"),pe())}let MJ=(()=>{class t{constructor(e,n){this.http=e,this.homeService=n,this.publications=[],this.title="interfaz",this.info="Web app for dblp stats",this.activeLink=!0}ngOnInit(){this.homeService.activeLink$.subscribe(e=>{this.activeLink=e})}static#e=this.\u0275fac=function(n){return new(n||t)(Ce(cm),Ce(Cw))};static#t=this.\u0275cmp=nr({type:t,selectors:[["app-root"]],decls:15,vars:1,consts:[[1,"nav"],["routerLink","/","routerLinkActive","active"],["routerLink","/statistics","routerLinkActive","active",4,"ngIf"],["routerLink","/info","routerLinkActive","active"],["routerLink","/authors","routerLinkActive","active"],[1,"container"],["routerLink","/statistics","routerLinkActive","active"]],template:function(n,r){1&n&&(ge(0,"html")(1,"body")(2,"div",0)(3,"nav")(4,"a",1),Se(5,"Home"),pe(),ei(6,SJ,2,0,"a",2),ge(7,"a",3),Se(8,"Info"),pe(),ge(9,"a",4),Se(10,"Authors"),pe(),ge(11,"a",4),Se(12,"Network"),pe()()(),ge(13,"div",5),Ge(14,"router-outlet"),pe()()()),2&n&&(Xe(6),Je("ngIf",r.activeLink))},dependencies:[Ho,Z0,Xm,Ck],styles:["body[_ngcontent-%COMP%]{font-family:Roboto;background-color:#fff;margin:0;background-color:#ffffff80;height:100vh;background-position:center bottom 10px;background-repeat:no-repeat}body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0}.nav[_ngcontent-%COMP%]{background-color:#001644;padding:20px;margin:0 0 20px;font-size:x-large}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;margin-right:30px;font-weight:700}nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ccc}nav[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{font-weight:700}.container[_ngcontent-%COMP%]{margin:30px;padding:20px;background-color:#f5f5f5;box-shadow:0 2px 5px #001644}h1[_ngcontent-%COMP%]{text-align:center;color:#333}"]})}return t})();RegExp(/[&<>"']/g.source);const nee=new Ne("ng-select-selection-model");function ree(){return new see}class see{constructor(){this._selected=[]}get value(){return this._selected}select(i,e,n){if(i.selected=!0,(!i.children||!e&&n)&&this._selected.push(i),e)if(i.parent){const r=i.parent.children.length,s=i.parent.children.filter(o=>o.selected).length;i.parent.selected=r===s}else i.children&&(this._setChildrenSelectedState(i.children,!0),this._removeChildren(i),this._selected=n&&this._activeChildren(i)?[...this._selected.filter(r=>r.parent!==i),i]:[...this._selected,...i.children.filter(r=>!r.disabled)])}unselect(i,e){if(this._selected=this._selected.filter(n=>n!==i),i.selected=!1,e)if(i.parent&&i.parent.selected){const n=i.parent.children;this._removeParent(i.parent),this._removeChildren(i.parent),this._selected.push(...n.filter(r=>r!==i&&!r.disabled)),i.parent.selected=!1}else i.children&&(this._setChildrenSelectedState(i.children,!1),this._removeChildren(i))}clear(i){this._selected=i?this._selected.filter(e=>e.disabled):[]}_setChildrenSelectedState(i,e){for(const n of i)n.disabled||(n.selected=e)}_removeChildren(i){this._selected=[...this._selected.filter(e=>e.parent!==i),...i.children.filter(e=>e.parent===i&&e.disabled&&e.selected)]}_removeParent(i){this._selected=this._selected.filter(e=>e!==i)}_activeChildren(i){return i.children.every(e=>!e.disabled||e.selected)}}let xN=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({providers:[{provide:nee,useValue:ree}],imports:[La]})}return t})(),oee=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({})}return t})(),EN=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({imports:[As,Im,Im,oee,As]})}return t})(),aee=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=jt({type:t});static#i=this.\u0275inj=ht({imports:[La,M1,EI,dC,_w,xN,OI,Im,vm,EN,DI]})}return t})(),lee=(()=>{class t{static#e=this.\u0275fac=function(n){return new(n||t)};static#t=this.\u0275mod=jt({type:t,bootstrap:[MJ]});static#i=this.\u0275inj=ht({providers:[sh,aw,ww,kg],imports:[B5,DJ,M1,EI,dC,_w,xN,OI,Im,vm,EN,DI,aee,La]})}return t})();F5().bootstrapModule(lee).catch(t=>console.error(t))},451:function(na){na.exports=function(){var ee=[],U=[],S={},B={},D={};function I(b){return"string"==typeof b?new RegExp("^"+b+"$","i"):b}function P(b,y){return b===y?y:b===b.toLowerCase()?y.toLowerCase():b===b.toUpperCase()?y.toUpperCase():b[0]===b[0].toUpperCase()?y.charAt(0).toUpperCase()+y.substr(1).toLowerCase():y.toLowerCase()}function L(b,y){return b.replace(y[0],function(g,x){var c=function N(b,y){return b.replace(/\$(\d{1,2})/g,function(g,x){return y[x]||""})}(y[1],arguments);return P(""===g?b[x-1]:g,c)})}function T(b,y,g){if(!b.length||S.hasOwnProperty(b))return y;for(var x=g.length;x--;){var c=g[x];if(c[0].test(y))return L(y,c)}return y}function F(b,y,g){return function(x){var c=x.toLowerCase();return y.hasOwnProperty(c)?P(x,c):b.hasOwnProperty(c)?P(x,b[c]):T(c,x,g)}}function M(b,y,g,x){return function(c){var m=c.toLowerCase();return!!y.hasOwnProperty(m)||!b.hasOwnProperty(m)&&T(m,m,g)===m}}function E(b,y,g){return(g?y+" ":"")+(1===y?E.singular(b):E.plural(b))}return E.plural=F(D,B,ee),E.isPlural=M(D,B,ee),E.singular=F(B,D,U),E.isSingular=M(B,D,U),E.addPluralRule=function(b,y){ee.push([I(b),y])},E.addSingularRule=function(b,y){U.push([I(b),y])},E.addUncountableRule=function(b){"string"!=typeof b?(E.addPluralRule(b,"$0"),E.addSingularRule(b,"$0")):S[b.toLowerCase()]=!0},E.addIrregularRule=function(b,y){y=y.toLowerCase(),b=b.toLowerCase(),D[b]=y,B[y]=b},[["I","we"],["me","us"],["he","they"],["she","they"],["them","them"],["myself","ourselves"],["yourself","yourselves"],["itself","themselves"],["herself","themselves"],["himself","themselves"],["themself","themselves"],["is","are"],["was","were"],["has","have"],["this","these"],["that","those"],["echo","echoes"],["dingo","dingoes"],["volcano","volcanoes"],["tornado","tornadoes"],["torpedo","torpedoes"],["genus","genera"],["viscus","viscera"],["stigma","stigmata"],["stoma","stomata"],["dogma","dogmata"],["lemma","lemmata"],["schema","schemata"],["anathema","anathemata"],["ox","oxen"],["axe","axes"],["die","dice"],["yes","yeses"],["foot","feet"],["eave","eaves"],["goose","geese"],["tooth","teeth"],["quiz","quizzes"],["human","humans"],["proof","proofs"],["carve","carves"],["valve","valves"],["looey","looies"],["thief","thieves"],["groove","grooves"],["pickaxe","pickaxes"],["passerby","passersby"]].forEach(function(b){return E.addIrregularRule(b[0],b[1])}),[[/s?$/i,"s"],[/[^\u0000-\u007F]$/i,"$0"],[/([^aeiou]ese)$/i,"$1"],[/(ax|test)is$/i,"$1es"],[/(alias|[^aou]us|t[lm]as|gas|ris)$/i,"$1es"],[/(e[mn]u)s?$/i,"$1s"],[/([^l]ias|[aeiou]las|[ejzr]as|[iu]am)$/i,"$1"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1i"],[/(alumn|alg|vertebr)(?:a|ae)$/i,"$1ae"],[/(seraph|cherub)(?:im)?$/i,"$1im"],[/(her|at|gr)o$/i,"$1oes"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|automat|quor)(?:a|um)$/i,"$1a"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)(?:a|on)$/i,"$1a"],[/sis$/i,"ses"],[/(?:(kni|wi|li)fe|(ar|l|ea|eo|oa|hoo)f)$/i,"$1$2ves"],[/([^aeiouy]|qu)y$/i,"$1ies"],[/([^ch][ieo][ln])ey$/i,"$1ies"],[/(x|ch|ss|sh|zz)$/i,"$1es"],[/(matr|cod|mur|sil|vert|ind|append)(?:ix|ex)$/i,"$1ices"],[/\b((?:tit)?m|l)(?:ice|ouse)$/i,"$1ice"],[/(pe)(?:rson|ople)$/i,"$1ople"],[/(child)(?:ren)?$/i,"$1ren"],[/eaux$/i,"$0"],[/m[ae]n$/i,"men"],["thou","you"]].forEach(function(b){return E.addPluralRule(b[0],b[1])}),[[/s$/i,""],[/(ss)$/i,"$1"],[/(wi|kni|(?:after|half|high|low|mid|non|night|[^\w]|^)li)ves$/i,"$1fe"],[/(ar|(?:wo|[ae])l|[eo][ao])ves$/i,"$1f"],[/ies$/i,"y"],[/\b([pl]|zomb|(?:neck|cross)?t|coll|faer|food|gen|goon|group|lass|talk|goal|cut)ies$/i,"$1ie"],[/\b(mon|smil)ies$/i,"$1ey"],[/\b((?:tit)?m|l)ice$/i,"$1ouse"],[/(seraph|cherub)im$/i,"$1"],[/(x|ch|ss|sh|zz|tto|go|cho|alias|[^aou]us|t[lm]as|gas|(?:her|at|gr)o|[aeiou]ris)(?:es)?$/i,"$1"],[/(analy|diagno|parenthe|progno|synop|the|empha|cri|ne)(?:sis|ses)$/i,"$1sis"],[/(movie|twelve|abuse|e[mn]u)s$/i,"$1"],[/(test)(?:is|es)$/i,"$1is"],[/(alumn|syllab|vir|radi|nucle|fung|cact|stimul|termin|bacill|foc|uter|loc|strat)(?:us|i)$/i,"$1us"],[/(agend|addend|millenni|dat|extrem|bacteri|desiderat|strat|candelabr|errat|ov|symposi|curricul|quor)a$/i,"$1um"],[/(apheli|hyperbat|periheli|asyndet|noumen|phenomen|criteri|organ|prolegomen|hedr|automat)a$/i,"$1on"],[/(alumn|alg|vertebr)ae$/i,"$1a"],[/(cod|mur|sil|vert|ind)ices$/i,"$1ex"],[/(matr|append)ices$/i,"$1ix"],[/(pe)(rson|ople)$/i,"$1rson"],[/(child)ren$/i,"$1"],[/(eau)x?$/i,"$1"],[/men$/i,"man"]].forEach(function(b){return E.addSingularRule(b[0],b[1])}),["adulthood","advice","agenda","aid","aircraft","alcohol","ammo","analytics","anime","athletics","audio","bison","blood","bream","buffalo","butter","carp","cash","chassis","chess","clothing","cod","commerce","cooperation","corps","debris","diabetes","digestion","elk","energy","equipment","excretion","expertise","firmware","flounder","fun","gallows","garbage","graffiti","hardware","headquarters","health","herpes","highjinks","homework","housework","information","jeans","justice","kudos","labour","literature","machinery","mackerel","mail","media","mews","moose","music","mud","manga","news","only","personnel","pike","plankton","pliers","police","pollution","premises","rain","research","rice","salmon","scissors","series","sewage","shambles","shrimp","software","species","staff","swine","tennis","traffic","transportation","trout","tuna","wealth","welfare","whiting","wildebeest","wildlife","you",/pok[e\xe9]mon$/i,/[^aeiou]ese$/i,/deer$/i,/fish$/i,/measles$/i,/o[iu]s$/i,/pox$/i,/sheep$/i].forEach(E.addUncountableRule),E}()},396:function(na){"use strict";na.exports=function(ee){var U={};function S(B){if(U[B])return U[B].exports;var D=U[B]={i:B,l:!1,exports:{}};return ee[B].call(D.exports,D,D.exports,S),D.l=!0,D.exports}return S.m=ee,S.c=U,S.d=function(B,D,I){S.o(B,D)||Object.defineProperty(B,D,{configurable:!1,enumerable:!0,get:I})},S.n=function(B){var D=B&&B.__esModule?function(){return B.default}:function(){return B};return S.d(D,"a",D),D},S.o=function(B,D){return Object.prototype.hasOwnProperty.call(B,D)},S.p="",S(S.s=123)}([function(ee,U,S){U.__esModule=!0,U.default=function(B,D){if(!(B instanceof D))throw new TypeError("Cannot call a class as a function")}},function(ee,U,S){U.__esModule=!0;var D=function I(P){return P&&P.__esModule?P:{default:P}}(S(169));U.default=function(){function P(N,L){for(var T=0;T<L.length;T++){var F=L[T];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),(0,D.default)(N,F.key,F)}}return function(N,L,T){return L&&P(N.prototype,L),T&&P(N,T),N}}()},function(ee,U,S){var D=M(S(77)),P=M(S(29)),L=M(S(8)),F=M(S(6));function M(c){return c&&c.__esModule?c:{default:c}}var E=S(9),b=S(157);function y(c,m,h,d){var v=!1;!0===d&&(v=null===m[h]&&void 0!==c[h]),v?delete c[h]:c[h]=m[h]}U.isNumber=function(c){return c instanceof Number||"number"==typeof c},U.recursiveDOMDelete=function(c){if(c)for(;!0===c.hasChildNodes();)U.recursiveDOMDelete(c.firstChild),c.removeChild(c.firstChild)},U.giveRange=function(c,m,h,d){return m==c?.5:Math.max(0,1/(m-c)*(d-c))},U.isString=function(c){return c instanceof String||"string"==typeof c},U.isDate=function(c){if(c instanceof Date)return!0;if(U.isString(c)){if(g.exec(c))return!0;if(!isNaN(Date.parse(c)))return!0}return!1},U.randomUUID=function(){return b.v4()},U.assignAllKeys=function(c,m){for(var h in c)c.hasOwnProperty(h)&&"object"!==(0,F.default)(c[h])&&(c[h]=m)},U.fillIfDefined=function(c,m){var h=arguments.length>2&&void 0!==arguments[2]&&arguments[2];for(var d in c)void 0!==m[d]&&(null===m[d]||"object"!==(0,F.default)(m[d])?y(c,m,d,h):"object"===(0,F.default)(c[d])&&U.fillIfDefined(c[d],m[d],h))},U.extend=function(c,m){for(var h=1;h<arguments.length;h++){var d=arguments[h];for(var v in d)d.hasOwnProperty(v)&&(c[v]=d[v])}return c},U.selectiveExtend=function(c,m,h){if(!Array.isArray(c))throw new Error("Array with property names expected as first argument");for(var d=2;d<arguments.length;d++)for(var v=arguments[d],C=0;C<c.length;C++){var f=c[C];v&&v.hasOwnProperty(f)&&(m[f]=v[f])}return m},U.selectiveDeepExtend=function(c,m,h){var d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(h))throw new TypeError("Arrays are not supported by deepExtend");for(var v=0;v<c.length;v++){var C=c[v];if(h.hasOwnProperty(C))if(h[C]&&h[C].constructor===Object)void 0===m[C]&&(m[C]={}),m[C].constructor===Object?U.deepExtend(m[C],h[C],!1,d):y(m,h,C,d);else{if(Array.isArray(h[C]))throw new TypeError("Arrays are not supported by deepExtend");y(m,h,C,d)}}return m},U.selectiveNotDeepExtend=function(c,m,h){var d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(Array.isArray(h))throw new TypeError("Arrays are not supported by deepExtend");for(var v in h)if(h.hasOwnProperty(v)&&-1===c.indexOf(v))if(h[v]&&h[v].constructor===Object)void 0===m[v]&&(m[v]={}),m[v].constructor===Object?U.deepExtend(m[v],h[v]):y(m,h,v,d);else if(Array.isArray(h[v])){m[v]=[];for(var C=0;C<h[v].length;C++)m[v].push(h[v][C])}else y(m,h,v,d);return m},U.deepExtend=function(c,m){var h=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=arguments.length>3&&void 0!==arguments[3]&&arguments[3];for(var v in m)if(m.hasOwnProperty(v)||!0===h)if(m[v]&&m[v].constructor===Object)void 0===c[v]&&(c[v]={}),c[v].constructor===Object?U.deepExtend(c[v],m[v],h):y(c,m,v,d);else if(Array.isArray(m[v])){c[v]=[];for(var C=0;C<m[v].length;C++)c[v].push(m[v][C])}else y(c,m,v,d);return c},U.equalArray=function(c,m){if(c.length!=m.length)return!1;for(var h=0,d=c.length;h<d;h++)if(c[h]!=m[h])return!1;return!0},U.convert=function(c,m){var h;if(void 0!==c){if(null===c)return null;if(!m)return c;if("string"!=typeof m&&!(m instanceof String))throw new Error("Type must be a string");switch(m){case"boolean":case"Boolean":return!!c;case"number":case"Number":return U.isString(c)&&!isNaN(Date.parse(c))?E(c).valueOf():Number(c.valueOf());case"string":case"String":return String(c);case"Date":if(U.isNumber(c))return new Date(c);if(c instanceof Date)return new Date(c.valueOf());if(E.isMoment(c))return new Date(c.valueOf());if(U.isString(c))return(h=g.exec(c))?new Date(Number(h[1])):E(new Date(c)).toDate();throw new Error("Cannot convert object of type "+U.getType(c)+" to type Date");case"Moment":if(U.isNumber(c))return E(c);if(c instanceof Date)return E(c.valueOf());if(E.isMoment(c))return E(c);if(U.isString(c))return h=g.exec(c),E(h?Number(h[1]):c);throw new Error("Cannot convert object of type "+U.getType(c)+" to type Date");case"ISODate":if(U.isNumber(c))return new Date(c);if(c instanceof Date)return c.toISOString();if(E.isMoment(c))return c.toDate().toISOString();if(U.isString(c))return(h=g.exec(c))?new Date(Number(h[1])).toISOString():E(c).format();throw new Error("Cannot convert object of type "+U.getType(c)+" to type ISODate");case"ASPDate":if(U.isNumber(c))return"/Date("+c+")/";if(c instanceof Date)return"/Date("+c.valueOf()+")/";if(U.isString(c))return"/Date("+((h=g.exec(c))?new Date(Number(h[1])).valueOf():new Date(c).valueOf())+")/";throw new Error("Cannot convert object of type "+U.getType(c)+" to type ASPDate");default:throw new Error('Unknown type "'+m+'"')}}};var g=/^\/?Date\((\-?\d+)/i;U.getType=function(c){var m=typeof c>"u"?"undefined":(0,F.default)(c);return"object"==m?null===c?"null":c instanceof Boolean?"Boolean":c instanceof Number?"Number":c instanceof String?"String":Array.isArray(c)?"Array":c instanceof Date?"Date":"Object":"number"==m?"Number":"boolean"==m?"Boolean":"string"==m?"String":void 0===m?"undefined":m},U.copyAndExtendArray=function(c,m){for(var h=[],d=0;d<c.length;d++)h.push(c[d]);return h.push(m),h},U.copyArray=function(c){for(var m=[],h=0;h<c.length;h++)m.push(c[h]);return m},U.getAbsoluteLeft=function(c){return c.getBoundingClientRect().left},U.getAbsoluteRight=function(c){return c.getBoundingClientRect().right},U.getAbsoluteTop=function(c){return c.getBoundingClientRect().top},U.addClassName=function(c,m){var h=c.className.split(" "),d=m.split(" ");h=h.concat(d.filter(function(v){return h.indexOf(v)<0})),c.className=h.join(" ")},U.removeClassName=function(c,m){var h=c.className.split(" "),d=m.split(" ");h=h.filter(function(v){return d.indexOf(v)<0}),c.className=h.join(" ")},U.forEach=function(c,m){var h,d;if(Array.isArray(c))for(h=0,d=c.length;h<d;h++)m(c[h],h,c);else for(h in c)c.hasOwnProperty(h)&&m(c[h],h,c)},U.toArray=function(c){var m=[];for(var h in c)c.hasOwnProperty(h)&&m.push(c[h]);return m},U.updateProperty=function(c,m,h){return c[m]!==h&&(c[m]=h,!0)},U.throttle=function(c){var m=!1;return function(){m||(m=!0,requestAnimationFrame(function(){m=!1,c()}))}},U.addEventListener=function(c,m,h,d){c.addEventListener?(void 0===d&&(d=!1),"mousewheel"===m&&navigator.userAgent.indexOf("Firefox")>=0&&(m="DOMMouseScroll"),c.addEventListener(m,h,d)):c.attachEvent("on"+m,h)},U.removeEventListener=function(c,m,h,d){c.removeEventListener?(void 0===d&&(d=!1),"mousewheel"===m&&navigator.userAgent.indexOf("Firefox")>=0&&(m="DOMMouseScroll"),c.removeEventListener(m,h,d)):c.detachEvent("on"+m,h)},U.preventDefault=function(c){c||(c=window.event),c.preventDefault?c.preventDefault():c.returnValue=!1},U.getTarget=function(c){var m;return c||(c=window.event),c.target?m=c.target:c.srcElement&&(m=c.srcElement),null!=m.nodeType&&3==m.nodeType&&(m=m.parentNode),m},U.hasParent=function(c,m){for(var h=c;h;){if(h===m)return!0;h=h.parentNode}return!1},U.option={},U.option.asBoolean=function(c,m){return"function"==typeof c&&(c=c()),null!=c?0!=c:m||null},U.option.asNumber=function(c,m){return"function"==typeof c&&(c=c()),null!=c?Number(c)||m||null:m||null},U.option.asString=function(c,m){return"function"==typeof c&&(c=c()),null!=c?String(c):m||null},U.option.asSize=function(c,m){return"function"==typeof c&&(c=c()),U.isString(c)?c:U.isNumber(c)?c+"px":m||null},U.option.asElement=function(c,m){return"function"==typeof c&&(c=c()),c||m||null},U.hexToRGB=function(c){c=c.replace(/^#?([a-f\d])([a-f\d])([a-f\d])$/i,function(d,v,C,f){return v+v+C+C+f+f});var h=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(c);return h?{r:parseInt(h[1],16),g:parseInt(h[2],16),b:parseInt(h[3],16)}:null},U.overrideOpacity=function(c,m){var h;return-1!=c.indexOf("rgba")?c:-1!=c.indexOf("rgb")?"rgba("+(h=c.substr(c.indexOf("(")+1).replace(")","").split(","))[0]+","+h[1]+","+h[2]+","+m+")":null==(h=U.hexToRGB(c))?c:"rgba("+h.r+","+h.g+","+h.b+","+m+")"},U.RGBToHex=function(c,m,h){return"#"+((1<<24)+(c<<16)+(m<<8)+h).toString(16).slice(1)},U.parseColor=function(c){var m;if(!0===U.isString(c)){if(!0===U.isValidRGB(c)){var h=c.substr(4).substr(0,c.length-5).split(",").map(function(_){return parseInt(_)});c=U.RGBToHex(h[0],h[1],h[2])}if(!0===U.isValidHex(c)){var d=U.hexToHSV(c),v={h:d.h,s:.8*d.s,v:Math.min(1,1.02*d.v)},C={h:d.h,s:Math.min(1,1.25*d.s),v:.8*d.v},f=U.HSVToHex(C.h,C.s,C.v),p=U.HSVToHex(v.h,v.s,v.v);m={background:c,border:f,highlight:{background:p,border:f},hover:{background:p,border:f}}}else m={background:c,border:c,highlight:{background:c,border:c},hover:{background:c,border:c}}}else(m={}).background=c.background||void 0,m.border=c.border||void 0,U.isString(c.highlight)?m.highlight={border:c.highlight,background:c.highlight}:(m.highlight={},m.highlight.background=c.highlight&&c.highlight.background||void 0,m.highlight.border=c.highlight&&c.highlight.border||void 0),U.isString(c.hover)?m.hover={border:c.hover,background:c.hover}:(m.hover={},m.hover.background=c.hover&&c.hover.background||void 0,m.hover.border=c.hover&&c.hover.border||void 0);return m},U.RGBToHSV=function(c,m,h){c/=255,m/=255,h/=255;var d=Math.min(c,Math.min(m,h)),v=Math.max(c,Math.max(m,h));return d==v?{h:0,s:0,v:d}:{h:60*((c==d?3:h==d?1:5)-(c==d?m-h:h==d?c-m:h-c)/(v-d))/360,s:(v-d)/v,v}};var x_split=function(m){var h={};return m.split(";").forEach(function(d){if(""!=d.trim()){var v=d.split(":"),C=v[0].trim(),f=v[1].trim();h[C]=f}}),h},x_join=function(m){return(0,L.default)(m).map(function(h){return h+": "+m[h]}).join("; ")};U.addCssText=function(c,m){var h=x_split(c.style.cssText),d=x_split(m),v=U.extend(h,d);c.style.cssText=x_join(v)},U.removeCssText=function(c,m){var h=x_split(c.style.cssText),d=x_split(m);for(var v in d)d.hasOwnProperty(v)&&delete h[v];c.style.cssText=x_join(h)},U.HSVToRGB=function(c,m,h){var d,v,C,f=Math.floor(6*c),p=6*c-f,_=h*(1-m),O=h*(1-p*m),V=h*(1-(1-p)*m);switch(f%6){case 0:d=h,v=V,C=_;break;case 1:d=O,v=h,C=_;break;case 2:d=_,v=h,C=V;break;case 3:d=_,v=O,C=h;break;case 4:d=V,v=_,C=h;break;case 5:d=h,v=_,C=O}return{r:Math.floor(255*d),g:Math.floor(255*v),b:Math.floor(255*C)}},U.HSVToHex=function(c,m,h){var d=U.HSVToRGB(c,m,h);return U.RGBToHex(d.r,d.g,d.b)},U.hexToHSV=function(c){var m=U.hexToRGB(c);return U.RGBToHSV(m.r,m.g,m.b)},U.isValidHex=function(c){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(c)},U.isValidRGB=function(c){return c=c.replace(" ",""),/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/i.test(c)},U.isValidRGBA=function(c){return c=c.replace(" ",""),/rgba\((\d{1,3}),(\d{1,3}),(\d{1,3}),(.{1,3})\)/i.test(c)},U.selectiveBridgeObject=function(c,m){if(null!==m&&"object"===(typeof m>"u"?"undefined":(0,F.default)(m))){for(var h=(0,P.default)(m),d=0;d<c.length;d++)m.hasOwnProperty(c[d])&&"object"==(0,F.default)(m[c[d]])&&(h[c[d]]=U.bridgeObject(m[c[d]]));return h}return null},U.bridgeObject=function(c){if(null!==c&&"object"===(typeof c>"u"?"undefined":(0,F.default)(c))){var m=(0,P.default)(c);if(c instanceof Element)m=c;else for(var h in m=(0,P.default)(c),c)c.hasOwnProperty(h)&&"object"==(0,F.default)(c[h])&&(m[h]=U.bridgeObject(c[h]));return m}return null},U.insertSort=function(c,m){for(var h=0;h<c.length;h++){for(var d=c[h],v=h;v>0&&m(d,c[v-1])<0;v--)c[v]=c[v-1];c[v]=d}return c},U.mergeOptions=function(c,m,h){var d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},v=function(Y){return null!=Y},C=function(Y){return null!==Y&&"object"===(typeof Y>"u"?"undefined":(0,F.default)(Y))};if(!C(c))throw new Error("Parameter mergeTarget must be an object");if(!C(m))throw new Error("Parameter options must be an object");if(!v(h))throw new Error("Parameter option must have a value");if(!C(d))throw new Error("Parameter globalOptions must be an object");var _=m[h],V=C(d)&&!function(Y){for(var q in Y)if(Y.hasOwnProperty(q))return!1;return!0}(d)?d[h]:void 0,j=V?V.enabled:void 0;if(void 0!==_){if("boolean"==typeof _)return C(c[h])||(c[h]={}),void(c[h].enabled=_);if(null===_&&!C(c[h])){if(!v(V))return;c[h]=(0,P.default)(V)}if(C(_)){var $=!0;void 0!==_.enabled?$=_.enabled:void 0!==j&&($=V.enabled),function(Y,q,re){C(Y[re])||(Y[re]={});var se=q[re],de=Y[re];for(var ve in se)se.hasOwnProperty(ve)&&(de[ve]=se[ve])}(c,m,h),c[h].enabled=$}}},U.binarySearchCustom=function(c,m,h,d){for(var C=0,f=0,p=c.length-1;f<=p&&C<1e4;){var _=Math.floor((f+p)/2),O=c[_],j=m(void 0===d?O[h]:O[h][d]);if(0==j)return _;-1==j?f=_+1:p=_-1,C++}return-1},U.binarySearchValue=function(c,m,h,d,v){var O,V,j,$,f=0,p=0,_=c.length-1;for(v=v??function(W,Y){return W==Y?0:W<Y?-1:1};p<=_&&f<1e4;){if($=Math.floor(.5*(_+p)),O=c[Math.max(0,$-1)][h],V=c[$][h],j=c[Math.min(c.length-1,$+1)][h],0==v(V,m))return $;if(v(O,m)<0&&v(V,m)>0)return"before"==d?Math.max(0,$-1):$;if(v(V,m)<0&&v(j,m)>0)return"before"==d?$:Math.min(c.length-1,$+1);v(V,m)<0?p=$+1:_=$-1,f++}return-1},U.easingFunctions={linear:function(m){return m},easeInQuad:function(m){return m*m},easeOutQuad:function(m){return m*(2-m)},easeInOutQuad:function(m){return m<.5?2*m*m:(4-2*m)*m-1},easeInCubic:function(m){return m*m*m},easeOutCubic:function(m){return--m*m*m+1},easeInOutCubic:function(m){return m<.5?4*m*m*m:(m-1)*(2*m-2)*(2*m-2)+1},easeInQuart:function(m){return m*m*m*m},easeOutQuart:function(m){return 1- --m*m*m*m},easeInOutQuart:function(m){return m<.5?8*m*m*m*m:1-8*--m*m*m*m},easeInQuint:function(m){return m*m*m*m*m},easeOutQuint:function(m){return 1+--m*m*m*m*m},easeInOutQuint:function(m){return m<.5?16*m*m*m*m*m:1+16*--m*m*m*m*m}},U.getScrollBarWidth=function(){var c=document.createElement("p");c.style.width="100%",c.style.height="200px";var m=document.createElement("div");m.style.position="absolute",m.style.top="0px",m.style.left="0px",m.style.visibility="hidden",m.style.width="200px",m.style.height="150px",m.style.overflow="hidden",m.appendChild(c),document.body.appendChild(m);var h=c.offsetWidth;m.style.overflow="scroll";var d=c.offsetWidth;return h==d&&(d=m.clientWidth),document.body.removeChild(m),h-d},U.topMost=function(c,m){var h=void 0;Array.isArray(m)||(m=[m]);var d=!0,v=!1,C=void 0;try{for(var p,f=(0,D.default)(c);!(d=(p=f.next()).done);d=!0){var _=p.value;if(_){h=_[m[0]];for(var O=1;O<m.length;O++)h&&(h=h[m[O]]);if(typeof h<"u")break}}}catch(V){v=!0,C=V}finally{try{!d&&f.return&&f.return()}finally{if(v)throw C}}return h}},function(ee,U,S){ee.exports={default:S(194),__esModule:!0}},function(ee,U,S){U.__esModule=!0;var D=function I(P){return P&&P.__esModule?P:{default:P}}(S(6));U.default=function(P,N){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||"object"!==(typeof N>"u"?"undefined":(0,D.default)(N))&&"function"!=typeof N?P:N}},function(ee,U,S){U.__esModule=!0;var D=T(S(196)),P=T(S(29)),L=T(S(6));function T(F){return F&&F.__esModule?F:{default:F}}U.default=function(F,M){if("function"!=typeof M&&null!==M)throw new TypeError("Super expression must either be null or a function, not "+(typeof M>"u"?"undefined":(0,L.default)(M)));F.prototype=(0,P.default)(M&&M.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),M&&(D.default?(0,D.default)(F,M):F.__proto__=M)}},function(ee,U,S){U.__esModule=!0;var D=L(S(142)),P=L(S(144)),N="function"==typeof P.default&&"symbol"==typeof D.default?function(T){return typeof T}:function(T){return T&&"function"==typeof P.default&&T.constructor===P.default&&T!==P.default.prototype?"symbol":typeof T};function L(T){return T&&T.__esModule?T:{default:T}}U.default="function"==typeof P.default&&"symbol"===N(D.default)?function(T){return typeof T>"u"?"undefined":N(T)}:function(T){return T&&"function"==typeof P.default&&T.constructor===P.default&&T!==P.default.prototype?"symbol":typeof T>"u"?"undefined":N(T)}},function(ee,U){var S=ee.exports={version:"2.5.1"};"number"==typeof __e&&(__e=S)},function(ee,U,S){ee.exports={default:S(140),__esModule:!0}},function(ee,U,S){ee.exports=typeof window<"u"&&window.moment||S(154)},function(ee,U,S){if(typeof window<"u"){var D=S(175),I=window.Hammer||S(176);ee.exports=D(I,{preventDefault:"mouse"})}else ee.exports=function(){return function B(){var P=function(){};return{on:P,off:P,destroy:P,emit:P,get:function(L){return{set:P}}}}()}},function(ee,U,S){var D=T(S(19)),P=T(S(6)),L=T(S(8));function T(b){return b&&b.__esModule?b:{default:b}}var F=S(2),M=S(43);function E(b,y){if(b&&!Array.isArray(b)&&(y=b,b=null),this._options=y||{},this._data={},this.length=0,this._fieldId=this._options.fieldId||"id",this._type={},this._options.type)for(var g=(0,L.default)(this._options.type),x=0,c=g.length;x<c;x++){var m=g[x],h=this._options.type[m];this._type[m]="Date"==h||"ISODate"==h||"ASPDate"==h?"Date":h}this._subscribers={},b&&this.add(b),this.setOptions(y)}E.prototype.setOptions=function(b){b&&void 0!==b.queue&&(!1===b.queue?this._queue&&(this._queue.destroy(),delete this._queue):(this._queue||(this._queue=M.extend(this,{replace:["add","update","remove"]})),"object"===(0,P.default)(b.queue)&&this._queue.setOptions(b.queue)))},E.prototype.on=function(b,y){var g=this._subscribers[b];g||(this._subscribers[b]=g=[]),g.push({callback:y})},E.prototype.off=function(b,y){var g=this._subscribers[b];g&&(this._subscribers[b]=g.filter(function(x){return x.callback!=y}))},E.prototype._trigger=function(b,y,g){if("*"==b)throw new Error("Cannot trigger event *");var x=[];b in this._subscribers&&(x=x.concat(this._subscribers[b])),"*"in this._subscribers&&(x=x.concat(this._subscribers["*"]));for(var c=0,m=x.length;c<m;c++){var h=x[c];h.callback&&h.callback(b,y,g||null)}},E.prototype.add=function(b,y){var x,g=[];if(Array.isArray(b))for(var m=0,h=b.length;m<h;m++)x=this._addItem(b[m]),g.push(x);else{if(!b||"object"!==(typeof b>"u"?"undefined":(0,P.default)(b)))throw new Error("Unknown dataType");x=this._addItem(b),g.push(x)}return g.length&&this._trigger("add",{items:g},y),g},E.prototype.update=function(b,y){var g=[],x=[],c=[],m=[],h=this,d=h._fieldId,v=function(O){var V=O[d];if(h._data[V]){var j=F.extend({},h._data[V]);V=h._updateItem(O),x.push(V),m.push(O),c.push(j)}else V=h._addItem(O),g.push(V)};if(Array.isArray(b))for(var C=0,f=b.length;C<f;C++)b[C]&&"object"===(0,P.default)(b[C])?v(b[C]):console.warn("Ignoring input item, which is not an object at index "+C);else{if(!b||"object"!==(typeof b>"u"?"undefined":(0,P.default)(b)))throw new Error("Unknown dataType");v(b)}return g.length&&this._trigger("add",{items:g},y),x.length&&this._trigger("update",{items:x,oldData:c,data:m},y),g.concat(x)},E.prototype.get=function(b){var g,x,c,h,y=this,m=F.getType(arguments[0]);"String"==m||"Number"==m?(g=arguments[0],c=arguments[1]):"Array"==m?(x=arguments[0],c=arguments[1]):c=arguments[0],h=c&&c.returnType?-1==["Array","Object"].indexOf(c.returnType)?"Array":c.returnType:"Array";var p,_,V,j,v=c&&c.type||this._options.type,C=c&&c.filter,f=[];if(null!=g)(p=y._getItem(g,v))&&C&&!C(p)&&(p=null);else if(null!=x)for(V=0,j=x.length;V<j;V++)p=y._getItem(x[V],v),(!C||C(p))&&f.push(p);else for(V=0,j=(_=(0,L.default)(this._data)).length;V<j;V++)p=y._getItem(_[V],v),(!C||C(p))&&f.push(p);if(c&&c.order&&null==g&&this._sort(f,c.order),c&&c.fields){var $=c.fields;if(null!=g)p=this._filterFields(p,$);else for(V=0,j=f.length;V<j;V++)f[V]=this._filterFields(f[V],$)}if("Object"==h){var Y,W={};for(V=0,j=f.length;V<j;V++)W[(Y=f[V]).id]=Y;return W}return null!=g?p:f},E.prototype.getIds=function(b){var h,d,C,f,y=this._data,g=b&&b.filter,x=b&&b.order,c=b&&b.type||this._options.type,m=(0,L.default)(y),p=[];if(g)if(x){for(f=[],h=0,d=m.length;h<d;h++)g(C=this._getItem(m[h],c))&&f.push(C);for(this._sort(f,x),h=0,d=f.length;h<d;h++)p.push(f[h][this._fieldId])}else for(h=0,d=m.length;h<d;h++)g(C=this._getItem(m[h],c))&&p.push(C[this._fieldId]);else if(x){for(f=[],h=0,d=m.length;h<d;h++)f.push(y[m[h]]);for(this._sort(f,x),h=0,d=f.length;h<d;h++)p.push(f[h][this._fieldId])}else for(h=0,d=m.length;h<d;h++)p.push((C=y[m[h]])[this._fieldId]);return p},E.prototype.getDataSet=function(){return this},E.prototype.forEach=function(b,y){var h,d,v,C,g=y&&y.filter,x=y&&y.type||this._options.type,m=(0,L.default)(this._data);if(y&&y.order){var f=this.get(y);for(h=0,d=f.length;h<d;h++)b(v=f[h],C=v[this._fieldId])}else for(h=0,d=m.length;h<d;h++)v=this._getItem(C=m[h],x),(!g||g(v))&&b(v,C)},E.prototype.map=function(b,y){var d,v,C,f,g=y&&y.filter,x=y&&y.type||this._options.type,c=[],h=(0,L.default)(this._data);for(d=0,v=h.length;d<v;d++)f=this._getItem(C=h[d],x),(!g||g(f))&&c.push(b(f,C));return y&&y.order&&this._sort(c,y.order),c},E.prototype._filterFields=function(b,y){if(!b)return b;var m,h,g={},x=(0,L.default)(b),c=x.length;if(Array.isArray(y))for(m=0;m<c;m++)-1!=y.indexOf(h=x[m])&&(g[h]=b[h]);else for(m=0;m<c;m++)y.hasOwnProperty(h=x[m])&&(g[y[h]]=b[h]);return g},E.prototype._sort=function(b,y){if(F.isString(y)){var g=y;b.sort(function(x,c){var m=x[g],h=c[g];return m>h?1:m<h?-1:0})}else{if("function"!=typeof y)throw new TypeError("Order must be a function or a string");b.sort(y)}},E.prototype.remove=function(b,y){var m,h,d,v,c,g=[],x=[];for(m=0,h=(c=Array.isArray(b)?b:[b]).length;m<h;m++)(v=this._remove(c[m]))&&null!=(d=v[this._fieldId])&&(g.push(d),x.push(v));return g.length&&this._trigger("remove",{items:g,oldData:x},y),g},E.prototype._remove=function(b){var y,g;return F.isNumber(b)||F.isString(b)?g=b:b&&"object"===(typeof b>"u"?"undefined":(0,P.default)(b))&&(g=b[this._fieldId]),void 0!==g&&this._data[g]?(y=this._data[g],delete this._data[g],this.length--,y):null},E.prototype.clear=function(b){var y,g,x=(0,L.default)(this._data),c=[];for(y=0,g=x.length;y<g;y++)c.push(this._data[x[y]]);return this._data={},this.length=0,this._trigger("remove",{items:x,oldData:c},b),x},E.prototype.max=function(b){var m,h,y=this._data,g=(0,L.default)(y),x=null,c=null;for(m=0,h=g.length;m<h;m++){var v=y[g[m]],C=v[b];null!=C&&(!x||C>c)&&(x=v,c=C)}return x},E.prototype.min=function(b){var m,h,y=this._data,g=(0,L.default)(y),x=null,c=null;for(m=0,h=g.length;m<h;m++){var v=y[g[m]],C=v[b];null!=C&&(!x||C<c)&&(x=v,c=C)}return x},E.prototype.distinct=function(b){var h,d,v,y=this._data,g=(0,L.default)(y),x=[],c=this._options.type&&this._options.type[b]||null,m=0;for(h=0,v=g.length;h<v;h++){var p=y[g[h]][b],_=!1;for(d=0;d<m;d++)if(x[d]==p){_=!0;break}!_&&void 0!==p&&(x[m]=p,m++)}if(c)for(h=0,v=x.length;h<v;h++)x[h]=F.convert(x[h],c);return x},E.prototype._addItem=function(b){var y=b[this._fieldId];if(null!=y){if(this._data[y])throw new Error("Cannot add item: item with id "+y+" already exists")}else y=F.randomUUID(),b[this._fieldId]=y;var c,m,g={},x=(0,L.default)(b);for(c=0,m=x.length;c<m;c++){var h=x[c];g[h]=F.convert(b[h],this._type[h])}return this._data[y]=g,this.length++,y},E.prototype._getItem=function(b,y){var g,c,m,h=this._data[b];if(!h)return null;var d={},v=(0,L.default)(h);if(y)for(c=0,m=v.length;c<m;c++)d[g=v[c]]=F.convert(h[g],y[g]);else for(c=0,m=v.length;c<m;c++)d[g=v[c]]=h[g];return d[this._fieldId]||(d[this._fieldId]=h.id),d},E.prototype._updateItem=function(b){var y=b[this._fieldId];if(null==y)throw new Error("Cannot update item: item has no id (item: "+(0,D.default)(b)+")");var g=this._data[y];if(!g)throw new Error("Cannot update item: no item with id "+y+" found");for(var x=(0,L.default)(b),c=0,m=x.length;c<m;c++){var h=x[c];g[h]=F.convert(b[h],this._type[h])}return y},ee.exports=E},function(ee,U,S){var D=function I(T){return T&&T.__esModule?T:{default:T}}(S(8));var P=S(2),N=S(11);function L(T,F){this._data=null,this._ids={},this.length=0,this._options=F||{},this._fieldId="id",this._subscribers={};var M=this;this.listener=function(){M._onEvent.apply(M,arguments)},this.setData(T)}L.prototype.setData=function(T){var F,E,b,y;if(this._data){for(this._data.off&&this._data.off("*",this.listener),y=[],E=0,b=(F=this._data.getIds({filter:this._options&&this._options.filter})).length;E<b;E++)y.push(this._data._data[F[E]]);this._ids={},this.length=0,this._trigger("remove",{items:F,oldData:y})}if(this._data=T,this._data){for(this._fieldId=this._options.fieldId||this._data&&this._data.options&&this._data.options.fieldId||"id",E=0,b=(F=this._data.getIds({filter:this._options&&this._options.filter})).length;E<b;E++)this._ids[F[E]]=!0;this.length=F.length,this._trigger("add",{items:F}),this._data.on&&this._data.on("*",this.listener)}},L.prototype.refresh=function(){var T,F,M,E=this._data.getIds({filter:this._options&&this._options.filter}),b=(0,D.default)(this._ids),y={},g=[],x=[],c=[];for(F=0,M=E.length;F<M;F++)y[T=E[F]]=!0,this._ids[T]||(g.push(T),this._ids[T]=!0);for(F=0,M=b.length;F<M;F++)y[T=b[F]]||(x.push(T),c.push(this._data._data[T]),delete this._ids[T]);this.length+=g.length-x.length,g.length&&this._trigger("add",{items:g}),x.length&&this._trigger("remove",{items:x,oldData:c})},L.prototype.get=function(T){var M,E,b,F=this,y=P.getType(arguments[0]);"String"==y||"Number"==y||"Array"==y?(M=arguments[0],E=arguments[1],b=arguments[2]):(E=arguments[0],b=arguments[1]);var g=P.extend({},this._options,E);this._options.filter&&E&&E.filter&&(g.filter=function(c){return F._options.filter(c)&&E.filter(c)});var x=[];return null!=M&&x.push(M),x.push(g),x.push(b),this._data&&this._data.get.apply(this._data,x)},L.prototype.getIds=function(T){var F;if(this._data){var M=this._options.filter;F=this._data.getIds({filter:T&&T.filter?M?function(y){return M(y)&&T.filter(y)}:T.filter:M,order:T&&T.order})}else F=[];return F},L.prototype.map=function(T,F){var M=[];if(this._data){var E=this._options.filter;M=this._data.map(T,{filter:F&&F.filter?E?function(g){return E(g)&&F.filter(g)}:F.filter:E,order:F&&F.order})}else M=[];return M},L.prototype.getDataSet=function(){for(var T=this;T instanceof L;)T=T._data;return T||null},L.prototype._onEvent=function(T,F,M){var E,b,y,x=F&&F.items,c=[],m=[],h=[],d=[],v=[],C=[];if(x&&this._data){switch(T){case"add":for(E=0,b=x.length;E<b;E++)this.get(y=x[E])&&(this._ids[y]=!0,c.push(y));break;case"update":for(E=0,b=x.length;E<b;E++)this.get(y=x[E])?this._ids[y]?(m.push(y),v.push(F.data[E]),d.push(F.oldData[E])):(this._ids[y]=!0,c.push(y)):this._ids[y]&&(delete this._ids[y],h.push(y),C.push(F.oldData[E]));break;case"remove":for(E=0,b=x.length;E<b;E++)this._ids[y=x[E]]&&(delete this._ids[y],h.push(y),C.push(F.oldData[E]))}this.length+=c.length-h.length,c.length&&this._trigger("add",{items:c},M),m.length&&this._trigger("update",{items:m,oldData:d,data:v},M),h.length&&this._trigger("remove",{items:h,oldData:C},M)}},L.prototype.on=N.prototype.on,L.prototype.off=N.prototype.off,L.prototype._trigger=N.prototype._trigger,L.prototype.subscribe=L.prototype.on,L.prototype.unsubscribe=L.prototype.off,ee.exports=L},function(ee,U,S){var B=S(57)("wks"),D=S(40),I=S(18).Symbol,P="function"==typeof I;(ee.exports=function(L){return B[L]||(B[L]=P&&I[L]||(P?I:D)("Symbol."+L))}).store=B},function(ee,U,S){U.prepareElements=function(B){for(var D in B)B.hasOwnProperty(D)&&(B[D].redundant=B[D].used,B[D].used=[])},U.cleanupElements=function(B){for(var D in B)if(B.hasOwnProperty(D)&&B[D].redundant){for(var I=0;I<B[D].redundant.length;I++)B[D].redundant[I].parentNode.removeChild(B[D].redundant[I]);B[D].redundant=[]}},U.resetElements=function(B){U.prepareElements(B),U.cleanupElements(B),U.prepareElements(B)},U.getSVGElement=function(B,D,I){var P;return D.hasOwnProperty(B)?D[B].redundant.length>0?(P=D[B].redundant[0],D[B].redundant.shift()):(P=document.createElementNS("http://www.w3.org/2000/svg",B),I.appendChild(P)):(P=document.createElementNS("http://www.w3.org/2000/svg",B),D[B]={used:[],redundant:[]},I.appendChild(P)),D[B].used.push(P),P},U.getDOMElement=function(B,D,I,P){var N;return D.hasOwnProperty(B)?D[B].redundant.length>0?(N=D[B].redundant[0],D[B].redundant.shift()):(N=document.createElement(B),void 0!==P?I.insertBefore(N,P):I.appendChild(N)):(N=document.createElement(B),D[B]={used:[],redundant:[]},void 0!==P?I.insertBefore(N,P):I.appendChild(N)),D[B].used.push(N),N},U.drawPoint=function(B,D,I,P,N,L){var T;if("circle"==I.style?((T=U.getSVGElement("circle",P,N)).setAttributeNS(null,"cx",B),T.setAttributeNS(null,"cy",D),T.setAttributeNS(null,"r",.5*I.size)):((T=U.getSVGElement("rect",P,N)).setAttributeNS(null,"x",B-.5*I.size),T.setAttributeNS(null,"y",D-.5*I.size),T.setAttributeNS(null,"width",I.size),T.setAttributeNS(null,"height",I.size)),void 0!==I.styles&&T.setAttributeNS(null,"style",I.styles),T.setAttributeNS(null,"class",I.className+" vis-point"),L){var F=U.getSVGElement("text",P,N);L.xOffset&&(B+=L.xOffset),L.yOffset&&(D+=L.yOffset),L.content&&(F.textContent=L.content),L.className&&F.setAttributeNS(null,"class",L.className+" vis-label"),F.setAttributeNS(null,"x",B),F.setAttributeNS(null,"y",D)}return T},U.drawBar=function(B,D,I,P,N,L,T,F){if(0!=P){P<0&&(D-=P*=-1);var M=U.getSVGElement("rect",L,T);M.setAttributeNS(null,"x",B-.5*I),M.setAttributeNS(null,"y",D),M.setAttributeNS(null,"width",I),M.setAttributeNS(null,"height",P),M.setAttributeNS(null,"class",N),F&&M.setAttributeNS(null,"style",F)}}},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0}),U.printStyle=void 0;var D=b(S(19)),P=b(S(6)),L=b(S(8)),F=b(S(0)),E=b(S(1));function b(h){return h&&h.__esModule?h:{default:h}}var y=S(2),g=!1,x=void 0,c="background: #FFeeee; color: #dd0000",m=function(){function h(){(0,F.default)(this,h)}return(0,E.default)(h,null,[{key:"validate",value:function(v,C,f){g=!1,x=C;var p=C;return void 0!==f&&(p=C[f]),h.parse(v,p,[]),g}},{key:"parse",value:function(v,C,f){for(var p in v)v.hasOwnProperty(p)&&h.check(p,v,C,f)}},{key:"check",value:function(v,C,f,p){if(void 0!==f[v]||void 0!==f.__any__){var _=v,O=!0;void 0===f[v]&&void 0!==f.__any__&&(_="__any__",O="object"===h.getType(C[v]));var V=f[_];O&&void 0!==V.__type__&&(V=V.__type__),h.checkFields(v,C,f,_,V,p)}else h.getSuggestion(v,f,p)}},{key:"checkFields",value:function(v,C,f,p,_,O){var V=function(Y){console.log("%c"+Y+h.printLocation(O,v),c)},j=h.getType(C[v]),$=_[j];void 0!==$?"array"===h.getType($)&&-1===$.indexOf(C[v])?(V('Invalid option detected in "'+v+'". Allowed values are:'+h.print($)+' not "'+C[v]+'". '),g=!0):"object"===j&&"__any__"!==p&&(O=y.copyAndExtendArray(O,v),h.parse(C[v],f[p],O)):void 0===_.any&&(V('Invalid type received for "'+v+'". Expected: '+h.print((0,L.default)(_))+". Received ["+j+'] "'+C[v]+'"'),g=!0)}},{key:"getType",value:function(v){var C=typeof v>"u"?"undefined":(0,P.default)(v);return"object"===C?null===v?"null":v instanceof Boolean?"boolean":v instanceof Number?"number":v instanceof String?"string":Array.isArray(v)?"array":v instanceof Date?"date":void 0!==v.nodeType?"dom":!0===v._isAMomentObject?"moment":"object":"number"===C?"number":"boolean"===C?"boolean":"string"===C?"string":void 0===C?"undefined":C}},{key:"getSuggestion",value:function(v,C,f){var j,p=h.findInOptions(v,C,f,!1),_=h.findInOptions(v,x,[],!0);j=void 0!==p.indexMatch?" in "+h.printLocation(p.path,v,"")+'Perhaps it was incomplete? Did you mean: "'+p.indexMatch+'"?\n\n':_.distance<=4&&p.distance>_.distance?" in "+h.printLocation(p.path,v,"")+"Perhaps it was misplaced? Matching option found at: "+h.printLocation(_.path,_.closestMatch,""):p.distance<=8?'. Did you mean "'+p.closestMatch+'"?'+h.printLocation(p.path,v):". Did you mean one of these: "+h.print((0,L.default)(C))+h.printLocation(f,v),console.log('%cUnknown option detected: "'+v+'"'+j,c),g=!0}},{key:"findInOptions",value:function(v,C,f){var p=arguments.length>3&&void 0!==arguments[3]&&arguments[3],_=1e9,O="",V=[],j=v.toLowerCase(),$=void 0;for(var W in C){var Y=void 0;if(void 0!==C[W].__type__&&!0===p){var q=h.findInOptions(v,C[W],y.copyAndExtendArray(f,W));_>q.distance&&(O=q.closestMatch,V=q.path,_=q.distance,$=q.indexMatch)}else-1!==W.toLowerCase().indexOf(j)&&($=W),_>(Y=h.levenshteinDistance(v,W))&&(O=W,V=y.copyArray(f),_=Y)}return{closestMatch:O,path:V,distance:_,indexMatch:$}}},{key:"printLocation",value:function(v,C){for(var p="\n\n"+(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Problem value found at: \n")+"options = {\n",_=0;_<v.length;_++){for(var O=0;O<_+1;O++)p+="  ";p+=v[_]+": {\n"}for(var V=0;V<v.length+1;V++)p+="  ";p+=C+"\n";for(var j=0;j<v.length+1;j++){for(var $=0;$<v.length-j;$++)p+="  ";p+="}\n"}return p+"\n\n"}},{key:"print",value:function(v){return(0,D.default)(v).replace(/(\")|(\[)|(\])|(,"__type__")/g,"").replace(/(\,)/g,", ")}},{key:"levenshteinDistance",value:function(v,C){if(0===v.length)return C.length;if(0===C.length)return v.length;var p,_,f=[];for(p=0;p<=C.length;p++)f[p]=[p];for(_=0;_<=v.length;_++)f[0][_]=_;for(p=1;p<=C.length;p++)for(_=1;_<=v.length;_++)f[p][_]=C.charAt(p-1)==v.charAt(_-1)?f[p-1][_-1]:Math.min(f[p-1][_-1]+1,Math.min(f[p][_-1]+1,f[p-1][_]+1));return f[C.length][v.length]}}]),h}();U.default=m,U.printStyle=c},function(ee,U,S){var B=S(2);function D(I,P){this.options=null,this.props=null}D.prototype.setOptions=function(I){I&&B.extend(this.options,I)},D.prototype.redraw=function(){return!1},D.prototype.destroy=function(){},D.prototype._isResized=function(){var I=this.props._previousWidth!==this.props.width||this.props._previousHeight!==this.props.height;return this.props._previousWidth=this.props.width,this.props._previousHeight=this.props.height,I},ee.exports=D},function(ee,U,S){var B=S(18),D=S(7),I=S(80),P=S(26),N="prototype",L=function(T,F,M){var v,C,f,E=T&L.F,b=T&L.G,y=T&L.S,g=T&L.P,x=T&L.B,c=T&L.W,m=b?D:D[F]||(D[F]={}),h=m[N],d=b?B:y?B[F]:(B[F]||{})[N];for(v in b&&(M=F),M)(!(C=!E&&d&&void 0!==d[v])||!(v in m))&&(f=C?d[v]:M[v],m[v]=b&&"function"!=typeof d[v]?M[v]:x&&C?I(f,B):c&&d[v]==f?function(p){var _=function(O,V,j){if(this instanceof p){switch(arguments.length){case 0:return new p;case 1:return new p(O);case 2:return new p(O,V)}return new p(O,V,j)}return p.apply(this,arguments)};return _[N]=p[N],_}(f):g&&"function"==typeof f?I(Function.call,f):f,g&&((m.virtual||(m.virtual={}))[v]=f,T&L.R&&h&&!h[v]&&P(h,v,f)))};L.F=1,L.G=2,L.S=4,L.P=8,L.B=16,L.W=32,L.U=64,L.R=128,ee.exports=L},function(ee,U){var S=ee.exports=typeof window<"u"&&window.Math==Math?window:typeof self<"u"&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=S)},function(ee,U,S){ee.exports={default:S(160),__esModule:!0}},function(ee,U,S){var B=S(27),D=S(81),I=S(53),P=Object.defineProperty;U.f=S(21)?Object.defineProperty:function(L,T,F){if(B(L),T=I(T,!0),B(F),D)try{return P(L,T,F)}catch{}if("get"in F||"set"in F)throw TypeError("Accessors not supported!");return"value"in F&&(L[T]=F.value),L}},function(ee,U,S){ee.exports=!S(28)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(ee,U){var S={}.hasOwnProperty;ee.exports=function(B,D){return S.call(B,D)}},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=T(S(6)),P=T(S(0)),L=T(S(1));function T(M){return M&&M.__esModule?M:{default:M}}var F=function(){function M(E,b,y){(0,P.default)(this,M),this.body=b,this.labelModule=y,this.setOptions(E),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}return(0,L.default)(M,[{key:"setOptions",value:function(b){this.options=b}},{key:"_setMargins",value:function(b){this.margin={},this.options.margin&&("object"==(0,D.default)(this.options.margin)?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),b.adjustSizes(this.margin)}},{key:"_distanceToBorder",value:function(b,y){var g=this.options.borderWidth;return this.resize(b),Math.min(Math.abs(this.width/2/Math.cos(y)),Math.abs(this.height/2/Math.sin(y)))+g}},{key:"enableShadow",value:function(b,y){y.shadow&&(b.shadowColor=y.shadowColor,b.shadowBlur=y.shadowSize,b.shadowOffsetX=y.shadowX,b.shadowOffsetY=y.shadowY)}},{key:"disableShadow",value:function(b,y){y.shadow&&(b.shadowColor="rgba(0,0,0,0)",b.shadowBlur=0,b.shadowOffsetX=0,b.shadowOffsetY=0)}},{key:"enableBorderDashes",value:function(b,y){if(!1!==y.borderDashes)if(void 0!==b.setLineDash){var g=y.borderDashes;!0===g&&(g=[5,15]),b.setLineDash(g)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,y.borderDashes=!1}},{key:"disableBorderDashes",value:function(b,y){!1!==y.borderDashes&&(void 0!==b.setLineDash?b.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,y.borderDashes=!1))}},{key:"needsRefresh",value:function(b,y){return!0===this.refreshNeeded?(this.refreshNeeded=!1,!0):void 0===this.width||this.labelModule.differentState(b,y)}},{key:"initContextForDraw",value:function(b,y){b.lineWidth=Math.min(this.width,y.borderWidth/this.body.view.scale),b.strokeStyle=y.borderColor,b.fillStyle=y.color}},{key:"performStroke",value:function(b,y){var g=y.borderWidth/this.body.view.scale;b.save(),g>0&&(this.enableBorderDashes(b,y),b.stroke(),this.disableBorderDashes(b,y)),b.restore()}},{key:"performFill",value:function(b,y){this.enableShadow(b,y),b.fill(),this.disableShadow(b,y),this.performStroke(b,y)}},{key:"_addBoundingBoxMargin",value:function(b){this.boundingBox.left-=b,this.boundingBox.top-=b,this.boundingBox.bottom+=b,this.boundingBox.right+=b}},{key:"_updateBoundingBox",value:function(b,y,g,x,c){void 0!==g&&this.resize(g,x,c),this.left=b-this.width/2,this.top=y-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}},{key:"updateBoundingBox",value:function(b,y,g,x,c){this._updateBoundingBox(b,y,g,x,c)}},{key:"getDimensionsFromLabel",value:function(b,y,g){this.textSize=this.labelModule.getTextSize(b,y,g);var x=this.textSize.width,c=this.textSize.height;return 0===x&&(x=14,c=14),{width:x,height:c}}}]),M}();U.default=F},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=g(S(3)),P=g(S(0)),L=g(S(1)),F=g(S(4)),E=g(S(5));function g(c){return c&&c.__esModule?c:{default:c}}var x=function(c){function m(h,d,v){return(0,P.default)(this,m),(0,F.default)(this,(m.__proto__||(0,D.default)(m)).call(this,h,d,v))}return(0,E.default)(m,c),(0,L.default)(m,[{key:"resize",value:function(d){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover,f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{size:this.options.size};if(this.needsRefresh(v,C)){this.labelModule.getTextSize(d,v,C);var p=2*f.size;this.width=p,this.height=p,this.radius=.5*this.width}}},{key:"_drawShape",value:function(d,v,C,f,p,_,O,V){this.resize(d,_,O,V),this.left=f-this.width/2,this.top=p-this.height/2,this.initContextForDraw(d,V),d[v](f,p,V.size),this.performFill(d,V),void 0!==this.options.label&&(this.labelModule.calculateLabelSize(d,_,O,f,p,"hanging"),this.labelModule.draw(d,f,p+.5*this.height+.5*this.labelModule.size.height,_,O,"hanging")),this.updateBoundingBox(f,p)}},{key:"updateBoundingBox",value:function(d,v){this.boundingBox.top=v-this.options.size,this.boundingBox.left=d-this.options.size,this.boundingBox.right=d+this.options.size,this.boundingBox.bottom=v+this.options.size,void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}]),m}(g(S(23)).default);U.default=x},function(ee,U,S){var B=S(78),D=S(51);ee.exports=function(I){return B(D(I))}},function(ee,U,S){var B=S(20),D=S(39);ee.exports=S(21)?function(I,P,N){return B.f(I,P,D(1,N))}:function(I,P,N){return I[P]=N,I}},function(ee,U,S){var B=S(32);ee.exports=function(D){if(!B(D))throw TypeError(D+" is not an object!");return D}},function(ee,U){ee.exports=function(S){try{return!!S()}catch{return!0}}},function(ee,U,S){ee.exports={default:S(138),__esModule:!0}},function(ee,U,S){U.__esModule=!0;var D=N(S(188)),P=N(S(77));function N(L){return L&&L.__esModule?L:{default:L}}U.default=function(T,F){if(Array.isArray(T))return T;if((0,D.default)(Object(T)))return function L(T,F){var M=[],E=!0,b=!1,y=void 0;try{for(var x,g=(0,P.default)(T);!(E=(x=g.next()).done)&&(M.push(x.value),!F||M.length!==F);E=!0);}catch(c){b=!0,y=c}finally{try{!E&&g.return&&g.return()}finally{if(b)throw y}}return M}(T,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(ee,U){ee.exports={}},function(ee,U){ee.exports=function(S){return"object"==typeof S?null!==S:"function"==typeof S}},function(ee,U,S){var B=S(84),D=S(58);ee.exports=Object.keys||function(P){return B(P,D)}},function(ee,U,S){function B(D,I,P){this.x=void 0!==D?D:0,this.y=void 0!==I?I:0,this.z=void 0!==P?P:0}B.subtract=function(D,I){var P=new B;return P.x=D.x-I.x,P.y=D.y-I.y,P.z=D.z-I.z,P},B.add=function(D,I){var P=new B;return P.x=D.x+I.x,P.y=D.y+I.y,P.z=D.z+I.z,P},B.avg=function(D,I){return new B((D.x+I.x)/2,(D.y+I.y)/2,(D.z+I.z)/2)},B.crossProduct=function(D,I){var P=new B;return P.x=D.y*I.z-D.z*I.y,P.y=D.z*I.x-D.x*I.z,P.z=D.x*I.y-D.y*I.x,P},B.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},ee.exports=B},function(ee,U,S){var B,I;void 0!==(I="function"==typeof(B=function(){return function P(N){var b,L=N&&N.preventDefault||!1,T=N&&N.container||window,F={},M={keydown:{},keyup:{}},E={};for(b=97;b<=122;b++)E[String.fromCharCode(b)]={code:b-97+65,shift:!1};for(b=65;b<=90;b++)E[String.fromCharCode(b)]={code:b,shift:!0};for(b=0;b<=9;b++)E[""+b]={code:48+b,shift:!1};for(b=1;b<=12;b++)E["F"+b]={code:111+b,shift:!1};for(b=0;b<=9;b++)E["num"+b]={code:96+b,shift:!1};E["num*"]={code:106,shift:!1},E["num+"]={code:107,shift:!1},E["num-"]={code:109,shift:!1},E["num/"]={code:111,shift:!1},E["num."]={code:110,shift:!1},E.left={code:37,shift:!1},E.up={code:38,shift:!1},E.right={code:39,shift:!1},E.down={code:40,shift:!1},E.space={code:32,shift:!1},E.enter={code:13,shift:!1},E.shift={code:16,shift:void 0},E.esc={code:27,shift:!1},E.backspace={code:8,shift:!1},E.tab={code:9,shift:!1},E.ctrl={code:17,shift:!1},E.alt={code:18,shift:!1},E.delete={code:46,shift:!1},E.pageup={code:33,shift:!1},E.pagedown={code:34,shift:!1},E["="]={code:187,shift:!1},E["-"]={code:189,shift:!1},E["]"]={code:221,shift:!1},E["["]={code:219,shift:!1};var y=function(c){x(c,"keydown")},g=function(c){x(c,"keyup")},x=function(c,m){if(void 0!==M[m][c.keyCode]){for(var h=M[m][c.keyCode],d=0;d<h.length;d++)(void 0===h[d].shift||1==h[d].shift&&1==c.shiftKey||0==h[d].shift&&0==c.shiftKey)&&h[d].fn(c);1==L&&c.preventDefault()}};return F.bind=function(c,m,h){if(void 0===h&&(h="keydown"),void 0===E[c])throw new Error("unsupported key: "+c);void 0===M[h][E[c].code]&&(M[h][E[c].code]=[]),M[h][E[c].code].push({fn:m,shift:E[c].shift})},F.bindAll=function(c,m){for(var h in void 0===m&&(m="keydown"),E)E.hasOwnProperty(h)&&F.bind(h,c,m)},F.getKey=function(c){for(var m in E)if(E.hasOwnProperty(m)){if(1==c.shiftKey&&1==E[m].shift&&c.keyCode==E[m].code)return m;if(0==c.shiftKey&&0==E[m].shift&&c.keyCode==E[m].code)return m;if(c.keyCode==E[m].code&&"shift"==m)return m}return"unknown key, currently not supported"},F.unbind=function(c,m,h){if(void 0===h&&(h="keydown"),void 0===E[c])throw new Error("unsupported key: "+c);if(void 0!==m){var d=[],v=M[h][E[c].code];if(void 0!==v)for(var C=0;C<v.length;C++)v[C].fn==m&&v[C].shift==E[c].shift||d.push(M[h][E[c].code][C]);M[h][E[c].code]=d}else M[h][E[c].code]=[]},F.reset=function(){M={keydown:{},keyup:{}}},F.destroy=function(){M={keydown:{},keyup:{}},T.removeEventListener("keydown",y,!0),T.removeEventListener("keyup",g,!0)},T.addEventListener("keydown",y,!0),T.addEventListener("keyup",g,!0),F}})?B.apply(U,[]):B)&&(ee.exports=I)},function(ee,U,S){U.convertHiddenOptions=function(B,D,I){if(I&&!Array.isArray(I))return U.convertHiddenOptions(B,D,[I]);if(D.hiddenDates=[],I&&1==Array.isArray(I)){for(var P=0;P<I.length;P++)if(void 0===I[P].repeat){var N={};N.start=B(I[P].start).toDate().valueOf(),N.end=B(I[P].end).toDate().valueOf(),D.hiddenDates.push(N)}D.hiddenDates.sort(function(L,T){return L.start-T.start})}},U.updateHiddenDates=function(B,D,I){if(I&&!Array.isArray(I))return U.updateHiddenDates(B,D,[I]);if(I&&void 0!==D.domProps.centerContainer.width){U.convertHiddenOptions(B,D,I);for(var P=B(D.range.start),N=B(D.range.end),T=(D.range.end-D.range.start)/D.domProps.centerContainer.width,F=0;F<I.length;F++)if(void 0!==I[F].repeat){var M=B(I[F].start),E=B(I[F].end);if("Invalid Date"==M._d)throw new Error("Supplied start date is not valid: "+I[F].start);if("Invalid Date"==E._d)throw new Error("Supplied end date is not valid: "+I[F].end);if(E-M>=4*T){var y=0,g=N.clone();switch(I[F].repeat){case"daily":M.day()!=E.day()&&(y=1),M.dayOfYear(P.dayOfYear()),M.year(P.year()),M.subtract(7,"days"),E.dayOfYear(P.dayOfYear()),E.year(P.year()),E.subtract(7-y,"days"),g.add(1,"weeks");break;case"weekly":var x=E.diff(M,"days"),c=M.day();M.date(P.date()),M.month(P.month()),M.year(P.year()),E=M.clone(),M.day(c),E.day(c),E.add(x,"days"),M.subtract(1,"weeks"),E.subtract(1,"weeks"),g.add(1,"weeks");break;case"monthly":M.month()!=E.month()&&(y=1),M.month(P.month()),M.year(P.year()),M.subtract(1,"months"),E.month(P.month()),E.year(P.year()),E.subtract(1,"months"),E.add(y,"months"),g.add(1,"months");break;case"yearly":M.year()!=E.year()&&(y=1),M.year(P.year()),M.subtract(1,"years"),E.year(P.year()),E.subtract(1,"years"),E.add(y,"years"),g.add(1,"years");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",I[F].repeat)}for(;M<g;)switch(D.hiddenDates.push({start:M.valueOf(),end:E.valueOf()}),I[F].repeat){case"daily":M.add(1,"days"),E.add(1,"days");break;case"weekly":M.add(1,"weeks"),E.add(1,"weeks");break;case"monthly":M.add(1,"months"),E.add(1,"months");break;case"yearly":M.add(1,"y"),E.add(1,"y");break;default:return void console.log("Wrong repeat format, allowed are: daily, weekly, monthly, yearly. Given:",I[F].repeat)}D.hiddenDates.push({start:M.valueOf(),end:E.valueOf()})}}U.removeDuplicates(D);var m=U.isHidden(D.range.start,D.hiddenDates),h=U.isHidden(D.range.end,D.hiddenDates),d=D.range.start,v=D.range.end;1==m.hidden&&(d=1==D.range.startToFront?m.startDate-1:m.endDate+1),1==h.hidden&&(v=1==D.range.endToFront?h.startDate-1:h.endDate+1),(1==m.hidden||1==h.hidden)&&D.range._applyRange(d,v)}},U.removeDuplicates=function(B){for(var D=B.hiddenDates,I=[],P=0;P<D.length;P++)for(var N=0;N<D.length;N++)P!=N&&1!=D[N].remove&&1!=D[P].remove&&(D[N].start>=D[P].start&&D[N].end<=D[P].end?D[N].remove=!0:D[N].start>=D[P].start&&D[N].start<=D[P].end?(D[P].end=D[N].end,D[N].remove=!0):D[N].end>=D[P].start&&D[N].end<=D[P].end&&(D[P].start=D[N].start,D[N].remove=!0));for(P=0;P<D.length;P++)!0!==D[P].remove&&I.push(D[P]);B.hiddenDates=I,B.hiddenDates.sort(function(L,T){return L.start-T.start})},U.printDates=function(B){for(var D=0;D<B.length;D++)console.log(D,new Date(B[D].start),new Date(B[D].end),B[D].start,B[D].end,B[D].remove)},U.stepOverHiddenDates=function(B,D,I){for(var P=!1,N=D.current.valueOf(),L=0;L<D.hiddenDates.length;L++){var F=D.hiddenDates[L].end;if(N>=D.hiddenDates[L].start&&N<F){P=!0;break}}if(1==P&&N<D._end.valueOf()&&N!=I){var M=B(I),E=B(F);M.year()!=E.year()?D.switchedYear=!0:M.month()!=E.month()?D.switchedMonth=!0:M.dayOfYear()!=E.dayOfYear()&&(D.switchedDay=!0),D.current=E}},U.toScreen=function(B,D,I){var P;if(0==B.body.hiddenDates.length)return P=B.range.conversion(I),(D.valueOf()-P.offset)*P.scale;var N=U.isHidden(D,B.body.hiddenDates);1==N.hidden&&(D=N.startDate);var L=U.getHiddenDurationBetween(B.body.hiddenDates,B.range.start,B.range.end);if(D<B.range.start){P=B.range.conversion(I,L);var T=U.getHiddenDurationBeforeStart(B.body.hiddenDates,D,P.offset);return D=B.options.moment(D).toDate().valueOf(),-(P.offset-(D+=T).valueOf())*P.scale}return D>B.range.end?(D=U.correctTimeForHidden(B.options.moment,B.body.hiddenDates,{start:B.range.start,end:D},D),P=B.range.conversion(I,L),(D.valueOf()-P.offset)*P.scale):(D=U.correctTimeForHidden(B.options.moment,B.body.hiddenDates,B.range,D),P=B.range.conversion(I,L),(D.valueOf()-P.offset)*P.scale)},U.toTime=function(B,D,I){if(0==B.body.hiddenDates.length){var P=B.range.conversion(I);return new Date(D/P.scale+P.offset)}var N=U.getHiddenDurationBetween(B.body.hiddenDates,B.range.start,B.range.end),T=(B.range.end-B.range.start-N)*D/I,F=U.getAccumulatedHiddenDuration(B.body.hiddenDates,B.range,T);return new Date(F+T+B.range.start)},U.getHiddenDurationBetween=function(B,D,I){for(var P=0,N=0;N<B.length;N++){var L=B[N].start,T=B[N].end;L>=D&&T<I&&(P+=T-L)}return P},U.getHiddenDurationBeforeStart=function(B,D,I){for(var P=0,N=0;N<B.length;N++){var L=B[N].start,T=B[N].end;L>=D&&T<=I&&(P+=T-L)}return P},U.correctTimeForHidden=function(B,D,I,P){return(P=B(P).toDate().valueOf())-U.getHiddenDurationBefore(B,D,I,P)},U.getHiddenDurationBefore=function(B,D,I,P){var N=0;P=B(P).toDate().valueOf();for(var L=0;L<D.length;L++){var T=D[L].start,F=D[L].end;T>=I.start&&F<I.end&&P>=F&&(N+=F-T)}return N},U.getAccumulatedHiddenDuration=function(B,D,I){for(var P=0,N=0,L=D.start,T=0;T<B.length;T++){var F=B[T].start,M=B[T].end;if(F>=D.start&&M<D.end){if(N+=F-L,L=M,N>=I)break;P+=M-F}}return P},U.snapAwayFromHidden=function(B,D,I,P){var N=U.isHidden(D,B);return 1==N.hidden?I<0?1==P?N.startDate-(N.endDate-D)-1:N.startDate-1:1==P?N.endDate+(D-N.startDate)+1:N.endDate+1:D},U.isHidden=function(B,D){for(var I=0;I<D.length;I++){var P=D[I].start,N=D[I].end;if(B>=P&&B<N)return{hidden:!0,startDate:P,endDate:N}}return{hidden:!1,startDate:P,endDate:N}}},function(ee,U,S){U.onTouch=function(B,D){D.inputHandler=function(I){I.isFirst&&D(I)},B.on("hammer.input",D.inputHandler)},U.onRelease=function(B,D){return D.inputHandler=function(I){I.isFinal&&D(I)},B.on("hammer.input",D.inputHandler)},U.offTouch=function(B,D){B.off("hammer.input",D.inputHandler)},U.offRelease=U.offTouch,U.disablePreventDefaultVertically=function(B){return B.getTouchAction=function(){return["pan-y"]},B}},function(ee,U,S){var D=N(S(6)),P=N(S(8));function N(E){return E&&E.__esModule?E:{default:E}}var L=S(10),T=S(2),F=S(9);function M(E,b,y){this.id=null,this.parent=null,this.data=E,this.dom=null,this.conversion=b||{},this.options=y||{},this.selected=!1,this.displayed=!1,this.groupShowing=!0,this.dirty=!0,this.top=null,this.right=null,this.left=null,this.width=null,this.height=null,this.editable=null,this._updateEditStatus()}M.prototype.stack=!0,M.prototype.select=function(){this.selected=!0,this.dirty=!0,this.displayed&&this.redraw()},M.prototype.unselect=function(){this.selected=!1,this.dirty=!0,this.displayed&&this.redraw()},M.prototype.setData=function(E){null!=E.group&&this.data.group!=E.group&&null!=this.parent&&this.parent.itemSet._moveToGroup(this,E.group),this.parent&&(this.parent.stackDirty=!0),null!=E.subgroup&&this.data.subgroup!=E.subgroup&&null!=this.parent&&this.parent.changeSubgroup(this,this.data.subgroup,E.subgroup),this.data=E,this._updateEditStatus(),this.dirty=!0,this.displayed&&this.redraw()},M.prototype.setParent=function(E){this.displayed?(this.hide(),this.parent=E,this.parent&&this.show()):this.parent=E},M.prototype.isVisible=function(E){return!1},M.prototype.show=function(){return!1},M.prototype.hide=function(){return!1},M.prototype.redraw=function(){},M.prototype.repositionX=function(){},M.prototype.repositionY=function(){},M.prototype._repaintDragCenter=function(){if(this.selected&&this.options.editable.updateTime&&!this.dom.dragCenter){var E=this,b=document.createElement("div");b.className="vis-drag-center",b.dragCenterItem=this;var y=new L(b);y.on("tap",function(g){E.parent.itemSet.body.emitter.emit("click",{event:g,item:E.id})}),y.on("doubletap",function(g){g.stopPropagation(),E.parent.itemSet._onUpdateItem(E),E.parent.itemSet.body.emitter.emit("doubleClick",{event:g,item:E.id})}),this.dom.box?this.dom.dragLeft?this.dom.box.insertBefore(b,this.dom.dragLeft):this.dom.box.appendChild(b):this.dom.point&&this.dom.point.appendChild(b),this.dom.dragCenter=b}else!this.selected&&this.dom.dragCenter&&(this.dom.dragCenter.parentNode&&this.dom.dragCenter.parentNode.removeChild(this.dom.dragCenter),this.dom.dragCenter=null)},M.prototype._repaintDeleteButton=function(E){if(this.selected&&((this.options.editable.overrideItems||null==this.editable)&&this.options.editable.remove||!this.options.editable.overrideItems&&null!=this.editable&&this.editable.remove)&&!this.dom.deleteButton){var y=this,g=document.createElement("div");g.className=this.options.rtl?"vis-delete-rtl":"vis-delete",g.title="Delete this item",new L(g).on("tap",function(x){x.stopPropagation(),y.parent.removeFromDataSet(y)}),E.appendChild(g),this.dom.deleteButton=g}else!this.selected&&this.dom.deleteButton&&(this.dom.deleteButton.parentNode&&this.dom.deleteButton.parentNode.removeChild(this.dom.deleteButton),this.dom.deleteButton=null)},M.prototype._repaintOnItemUpdateTimeTooltip=function(E){if(this.options.tooltipOnItemUpdateTime){var h;if(!this.selected||!this.options.editable.updateTime&&!0!==this.data.editable||!1===this.data.editable||this.dom.onItemUpdateTimeTooltip)!this.selected&&this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.parentNode&&this.dom.onItemUpdateTimeTooltip.parentNode.removeChild(this.dom.onItemUpdateTimeTooltip),this.dom.onItemUpdateTimeTooltip=null);else{var y=document.createElement("div");y.className="vis-onUpdateTime-tooltip",E.appendChild(y),this.dom.onItemUpdateTimeTooltip=y}this.dom.onItemUpdateTimeTooltip&&(this.dom.onItemUpdateTimeTooltip.style.visibility=this.parent.itemSet.touchParams.itemIsDragging?"visible":"hidden",this.options.rtl?this.dom.onItemUpdateTimeTooltip.style.right=this.dom.content.style.right:this.dom.onItemUpdateTimeTooltip.style.left=this.dom.content.style.left,("top"==this.options.orientation.item?this.top:this.parent.height-this.top-this.height)+this.parent.top-50<-this.parent.itemSet.body.domProps.scrollTop?(this.dom.onItemUpdateTimeTooltip.style.bottom="",this.dom.onItemUpdateTimeTooltip.style.top=this.height+2+"px"):(this.dom.onItemUpdateTimeTooltip.style.top="",this.dom.onItemUpdateTimeTooltip.style.bottom=this.height+2+"px"),this.options.tooltipOnItemUpdateTime&&this.options.tooltipOnItemUpdateTime.template?h=this.options.tooltipOnItemUpdateTime.template.bind(this)(this.data):(h="start: "+F(this.data.start).format("MM/DD/YYYY hh:mm"),this.data.end&&(h+="<br> end: "+F(this.data.end).format("MM/DD/YYYY hh:mm"))),this.dom.onItemUpdateTimeTooltip.innerHTML=h)}},M.prototype._updateContents=function(E){var b,g,x,c,m=this.parent.itemSet.itemsData.get(this.id),h=this.dom.box||this.dom.point,d=h.getElementsByClassName("vis-item-visible-frame")[0];if(x=this.options.visibleFrameTemplate?(c=this.options.visibleFrameTemplate.bind(this))(m,h):"",d)if(x instanceof Object&&!(x instanceof Element))c(m,d);else if(this._contentToString(this.itemVisibleFrameContent)!==this._contentToString(x)){if(x instanceof Element)d.innerHTML="",d.appendChild(x);else if(null!=x)d.innerHTML=x;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.itemVisibleFrameContent=x}if((b=this.options.template?(g=this.options.template.bind(this))(m,E,this.data):this.data.content)instanceof Object&&!(b instanceof Element))g(m,E);else if(this._contentToString(this.content)!==this._contentToString(b)){if(b instanceof Element)E.innerHTML="",E.appendChild(b);else if(null!=b)E.innerHTML=b;else if("background"!=this.data.type||void 0!==this.data.content)throw new Error('Property "content" missing in item '+this.id);this.content=b}},M.prototype._updateDataAttributes=function(E){if(this.options.dataAttributes&&this.options.dataAttributes.length>0){var b=[];if(Array.isArray(this.options.dataAttributes))b=this.options.dataAttributes;else{if("all"!=this.options.dataAttributes)return;b=(0,P.default)(this.data)}for(var y=0;y<b.length;y++){var g=b[y],x=this.data[g];null!=x?E.setAttribute("data-"+g,x):E.removeAttribute("data-"+g)}}},M.prototype._updateStyle=function(E){this.style&&(T.removeCssText(E,this.style),this.style=null),this.data.style&&(T.addCssText(E,this.data.style),this.style=this.data.style)},M.prototype._contentToString=function(E){return"string"==typeof E?E:E&&"outerHTML"in E?E.outerHTML:E},M.prototype._updateEditStatus=function(){this.options&&("boolean"==typeof this.options.editable?this.editable={updateTime:this.options.editable,updateGroup:this.options.editable,remove:this.options.editable}:"object"===(0,D.default)(this.options.editable)&&(this.editable={},T.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.options.editable))),(!this.options||!this.options.editable||!0!==this.options.editable.overrideItems)&&this.data&&("boolean"==typeof this.data.editable?this.editable={updateTime:this.data.editable,updateGroup:this.data.editable,remove:this.data.editable}:"object"===(0,D.default)(this.data.editable)&&(this.editable={},T.selectiveExtend(["updateTime","updateGroup","remove"],this.editable,this.data.editable)))},M.prototype.getWidthLeft=function(){return 0},M.prototype.getWidthRight=function(){return 0},M.prototype.getTitle=function(){return this.data.title},ee.exports=M},function(ee,U){ee.exports=function(S,B){return{enumerable:!(1&S),configurable:!(2&S),writable:!(4&S),value:B}}},function(ee,U){var S=0,B=Math.random();ee.exports=function(D){return"Symbol(".concat(void 0===D?"":D,")_",(++S+B).toString(36))}},function(ee,U,S){var B=S(51);ee.exports=function(D){return Object(B(D))}},function(ee,U){U.f={}.propertyIsEnumerable},function(ee,U,S){function B(D){this.delay=null,this.max=1/0,this._queue=[],this._timeout=null,this._extended=null,this.setOptions(D)}B.prototype.setOptions=function(D){D&&typeof D.delay<"u"&&(this.delay=D.delay),D&&typeof D.max<"u"&&(this.max=D.max),this._flushIfNeeded()},B.extend=function(D,I){var P=new B(I);if(void 0!==D.flush)throw new Error("Target object already has a property flush");D.flush=function(){P.flush()};var N=[{name:"flush",original:void 0}];if(I&&I.replace)for(var L=0;L<I.replace.length;L++){var T=I.replace[L];N.push({name:T,original:D[T]}),P.replace(D,T)}return P._extended={object:D,methods:N},P},B.prototype.destroy=function(){if(this.flush(),this._extended){for(var D=this._extended.object,I=this._extended.methods,P=0;P<I.length;P++){var N=I[P];N.original?D[N.name]=N.original:delete D[N.name]}this._extended=null}},B.prototype.replace=function(D,I){var P=this,N=D[I];if(!N)throw new Error("Method "+I+" undefined");D[I]=function(){for(var L=[],T=0;T<arguments.length;T++)L[T]=arguments[T];P.queue({args:L,fn:N,context:this})}},B.prototype.queue=function(D){this._queue.push("function"==typeof D?{fn:D}:D),this._flushIfNeeded()},B.prototype._flushIfNeeded=function(){if(this._queue.length>this.max&&this.flush(),clearTimeout(this._timeout),this.queue.length>0&&"number"==typeof this.delay){var D=this;this._timeout=setTimeout(function(){D.flush()},this.delay)}},B.prototype.flush=function(){for(;this._queue.length>0;){var D=this._queue.shift();D.fn.apply(D.context||D.fn,D.args||[])}},ee.exports=B},function(ee,U){function S(D){if(D)return function B(D){for(var I in S.prototype)D[I]=S.prototype[I];return D}(D)}ee.exports=S,S.prototype.on=S.prototype.addEventListener=function(D,I){return this._callbacks=this._callbacks||{},(this._callbacks[D]=this._callbacks[D]||[]).push(I),this},S.prototype.once=function(D,I){var P=this;function N(){P.off(D,N),I.apply(this,arguments)}return this._callbacks=this._callbacks||{},N.fn=I,this.on(D,N),this},S.prototype.off=S.prototype.removeListener=S.prototype.removeAllListeners=S.prototype.removeEventListener=function(D,I){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var P=this._callbacks[D];if(!P)return this;if(1==arguments.length)return delete this._callbacks[D],this;for(var N,L=0;L<P.length;L++)if((N=P[L])===I||N.fn===I){P.splice(L,1);break}return this},S.prototype.emit=function(D){this._callbacks=this._callbacks||{};var I=[].slice.call(arguments,1),P=this._callbacks[D];if(P)for(var N=0,L=(P=P.slice(0)).length;N<L;++N)P[N].apply(this,I);return this},S.prototype.listeners=function(D){return this._callbacks=this._callbacks||{},this._callbacks[D]||[]},S.prototype.hasListeners=function(D){return!!this.listeners(D).length}},function(ee,U,S){var D=function I(b){return b&&b.__esModule?b:{default:b}}(S(6));var P=S(2),N=S(16),L=S(66),T=S(36),F=S(9);function M(b,y){this.dom={foreground:null,lines:[],majorTexts:[],minorTexts:[],redundant:{lines:[],majorTexts:[],minorTexts:[]}},this.props={range:{start:0,end:0,minimumStep:0},lineTop:0},this.defaultOptions={orientation:{axis:"bottom"},showMinorLabels:!0,showMajorLabels:!0,maxMinorChars:7,format:L.FORMAT,moment:F,timeAxis:null},this.options=P.extend({},this.defaultOptions),this.body=b,this._create(),this.setOptions(y)}(M.prototype=new N).setOptions=function(b){b&&(P.selectiveExtend(["showMinorLabels","showMajorLabels","maxMinorChars","hiddenDates","timeAxis","moment","rtl"],this.options,b),P.selectiveDeepExtend(["format"],this.options,b),"orientation"in b&&("string"==typeof b.orientation?this.options.orientation.axis=b.orientation:"object"===(0,D.default)(b.orientation)&&"axis"in b.orientation&&(this.options.orientation.axis=b.orientation.axis)),"locale"in b&&("function"==typeof F.locale?F.locale(b.locale):F.lang(b.locale)))},M.prototype._create=function(){this.dom.foreground=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.foreground.className="vis-time-axis vis-foreground",this.dom.background.className="vis-time-axis vis-background"},M.prototype.destroy=function(){this.dom.foreground.parentNode&&this.dom.foreground.parentNode.removeChild(this.dom.foreground),this.dom.background.parentNode&&this.dom.background.parentNode.removeChild(this.dom.background),this.body=null},M.prototype.redraw=function(){var b=this.props,y=this.dom.foreground,g=this.dom.background,x="top"==this.options.orientation.axis?this.body.dom.top:this.body.dom.bottom,c=y.parentNode!==x;this._calculateCharSize();var h=this.options.showMajorLabels&&"none"!==this.options.orientation.axis;b.minorLabelHeight=this.options.showMinorLabels&&"none"!==this.options.orientation.axis?b.minorCharHeight:0,b.majorLabelHeight=h?b.majorCharHeight:0,b.height=b.minorLabelHeight+b.majorLabelHeight,b.width=y.offsetWidth,b.minorLineHeight=this.body.domProps.root.height-b.majorLabelHeight-("top"==this.options.orientation.axis?this.body.domProps.bottom.height:this.body.domProps.top.height),b.minorLineWidth=1,b.majorLineHeight=b.minorLineHeight+b.majorLabelHeight,b.majorLineWidth=1;var d=y.nextSibling,v=g.nextSibling;return y.parentNode&&y.parentNode.removeChild(y),g.parentNode&&g.parentNode.removeChild(g),y.style.height=this.props.height+"px",this._repaintLabels(),d?x.insertBefore(y,d):x.appendChild(y),v?this.body.dom.backgroundVertical.insertBefore(g,v):this.body.dom.backgroundVertical.appendChild(g),this._isResized()||c},M.prototype._repaintLabels=function(){var b=this.options.orientation.axis,y=P.convert(this.body.range.start,"Number"),g=P.convert(this.body.range.end,"Number"),x=this.body.util.toTime((this.props.minorCharWidth||10)*this.options.maxMinorChars).valueOf(),c=x-T.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this.body.range,x);c-=this.body.util.toTime(0).valueOf();var m=new L(new Date(y),new Date(g),c,this.body.hiddenDates,this.options);m.setMoment(this.options.moment),this.options.format&&m.setFormat(this.options.format),this.options.timeAxis&&m.setScale(this.options.timeAxis),this.step=m;var h=this.dom;h.redundant.lines=h.lines,h.redundant.majorTexts=h.majorTexts,h.redundant.minorTexts=h.minorTexts,h.lines=[],h.majorTexts=[],h.minorTexts=[];var v,C,f,p,O,j,$,W,se,V=0,Y=void 0,q=0;for(m.start(),v=m.getCurrent(),f=this.body.util.toScreen(v);m.hasNext()&&q<1e3;){if(O="week"===(q++,p=m.isMajor(),se=m.getClassName(),W=m.getLabelMinor(),C=f,m.next(),v=m.getCurrent(),m.isMajor(),j=V,V=(f=this.body.util.toScreen(v))-C,m.scale)||V>=.4*j,this.options.showMinorLabels&&O){var de=this._repaintMinorText(C,W,b,se);de.style.width=V+"px"}p&&this.options.showMajorLabels?(C>0&&(null==Y&&(Y=C),de=this._repaintMajorText(C,m.getLabelMajor(),b,se)),$=this._repaintMajorLine(C,V,b,se)):O?$=this._repaintMinorLine(C,V,b,se):$&&($.style.width=parseInt($.style.width)+V+"px")}if(1e3===q&&!E&&(console.warn("Something is wrong with the Timeline scale. Limited drawing of grid lines to 1000 lines."),E=!0),this.options.showMajorLabels){var ve=this.body.util.toTime(0),Oe=m.getLabelMajor(ve);(null==Y||Oe.length*(this.props.majorCharWidth||10)+10<Y)&&this._repaintMajorText(0,Oe,b,se)}P.forEach(this.dom.redundant,function(Me){for(;Me.length;){var be=Me.pop();be&&be.parentNode&&be.parentNode.removeChild(be)}})},M.prototype._repaintMinorText=function(b,y,g,x){var c=this.dom.redundant.minorTexts.shift();if(!c){var m=document.createTextNode("");(c=document.createElement("div")).appendChild(m),this.dom.foreground.appendChild(c)}return this.dom.minorTexts.push(c),c.innerHTML=y,c.style.top="top"==g?this.props.majorLabelHeight+"px":"0",this.options.rtl?(c.style.left="",c.style.right=b+"px"):c.style.left=b+"px",c.className="vis-text vis-minor "+x,c},M.prototype._repaintMajorText=function(b,y,g,x){var c=this.dom.redundant.majorTexts.shift();if(!c){var m=document.createElement("div");(c=document.createElement("div")).appendChild(m),this.dom.foreground.appendChild(c)}return c.childNodes[0].innerHTML=y,c.className="vis-text vis-major "+x,c.style.top="top"==g?"0":this.props.minorLabelHeight+"px",this.options.rtl?(c.style.left="",c.style.right=b+"px"):c.style.left=b+"px",this.dom.majorTexts.push(c),c},M.prototype._repaintMinorLine=function(b,y,g,x){var c=this.dom.redundant.lines.shift();c||(c=document.createElement("div"),this.dom.background.appendChild(c)),this.dom.lines.push(c);var m=this.props;return c.style.top="top"==g?m.majorLabelHeight+"px":this.body.domProps.top.height+"px",c.style.height=m.minorLineHeight+"px",this.options.rtl?(c.style.left="",c.style.right=b-m.minorLineWidth/2+"px",c.className="vis-grid vis-vertical-rtl vis-minor "+x):(c.style.left=b-m.minorLineWidth/2+"px",c.className="vis-grid vis-vertical vis-minor "+x),c.style.width=y+"px",c},M.prototype._repaintMajorLine=function(b,y,g,x){var c=this.dom.redundant.lines.shift();c||(c=document.createElement("div"),this.dom.background.appendChild(c)),this.dom.lines.push(c);var m=this.props;return c.style.top="top"==g?"0":this.body.domProps.top.height+"px",this.options.rtl?(c.style.left="",c.style.right=b-m.majorLineWidth/2+"px",c.className="vis-grid vis-vertical-rtl vis-major "+x):(c.style.left=b-m.majorLineWidth/2+"px",c.className="vis-grid vis-vertical vis-major "+x),c.style.height=m.majorLineHeight+"px",c.style.width=y+"px",c},M.prototype._calculateCharSize=function(){this.dom.measureCharMinor||(this.dom.measureCharMinor=document.createElement("DIV"),this.dom.measureCharMinor.className="vis-text vis-minor vis-measure",this.dom.measureCharMinor.style.position="absolute",this.dom.measureCharMinor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMinor)),this.props.minorCharHeight=this.dom.measureCharMinor.clientHeight,this.props.minorCharWidth=this.dom.measureCharMinor.clientWidth,this.dom.measureCharMajor||(this.dom.measureCharMajor=document.createElement("DIV"),this.dom.measureCharMajor.className="vis-text vis-major vis-measure",this.dom.measureCharMajor.style.position="absolute",this.dom.measureCharMajor.appendChild(document.createTextNode("0")),this.dom.foreground.appendChild(this.dom.measureCharMajor)),this.props.majorCharHeight=this.dom.measureCharMajor.clientHeight,this.props.majorCharWidth=this.dom.measureCharMajor.clientWidth};var E=!1;ee.exports=M},function(ee,U,S){var B=S(10),D=S(2),I=S(16),P=S(9),N=S(98);function L(T,F){this.body=T,this.defaultOptions={moment:P,locales:N,locale:"en",id:void 0,title:void 0},this.options=D.extend({},this.defaultOptions),this.customTime=F&&F.time?F.time:new Date,this.eventParams={},this.setOptions(F),this._create()}(L.prototype=new I).setOptions=function(T){T&&D.selectiveExtend(["moment","locale","locales","id"],this.options,T)},L.prototype._create=function(){var T=document.createElement("div");T["custom-time"]=this,T.className="vis-custom-time "+(this.options.id||""),T.style.position="absolute",T.style.top="0px",T.style.height="100%",this.bar=T;var F=document.createElement("div");function M(E){this.body.range._onMouseWheel(E)}F.style.position="relative",F.style.top="0px",F.style.left="-10px",F.style.height="100%",F.style.width="20px",F.addEventListener?(F.addEventListener("mousewheel",M.bind(this),!1),F.addEventListener("DOMMouseScroll",M.bind(this),!1)):F.attachEvent("onmousewheel",M.bind(this)),T.appendChild(F),this.hammer=new B(F),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:B.DIRECTION_HORIZONTAL})},L.prototype.destroy=function(){this.hide(),this.hammer.destroy(),this.hammer=null,this.body=null},L.prototype.redraw=function(){var T=this.body.dom.backgroundVertical;this.bar.parentNode!=T&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),T.appendChild(this.bar));var F=this.body.util.toScreen(this.customTime),M=this.options.locales[this.options.locale];M||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),M=this.options.locales.en);var E=this.options.title;return void 0===E?E=(E=M.time+": "+this.options.moment(this.customTime).format("dddd, MMMM Do YYYY, H:mm:ss")).charAt(0).toUpperCase()+E.substring(1):"function"==typeof E&&(E=E.call(this.customTime)),this.bar.style.left=F+"px",this.bar.title=E,!1},L.prototype.hide=function(){this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar)},L.prototype.setCustomTime=function(T){this.customTime=D.convert(T,"Date"),this.redraw()},L.prototype.getCustomTime=function(){return new Date(this.customTime.valueOf())},L.prototype.setCustomTitle=function(T){this.options.title=T},L.prototype._onDragStart=function(T){this.eventParams.dragging=!0,this.eventParams.customTime=this.customTime,T.stopPropagation()},L.prototype._onDrag=function(T){if(this.eventParams.dragging){var F=this.body.util.toScreen(this.eventParams.customTime)+T.deltaX,M=this.body.util.toTime(F);this.setCustomTime(M),this.body.emitter.emit("timechange",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:T}),T.stopPropagation()}},L.prototype._onDragEnd=function(T){this.eventParams.dragging&&(this.body.emitter.emit("timechanged",{id:this.options.id,time:new Date(this.customTime.valueOf()),event:T}),T.stopPropagation())},L.customTimeFromTarget=function(T){for(var F=T.target;F;){if(F.hasOwnProperty("custom-time"))return F["custom-time"];F=F.parentNode}return null},ee.exports=L},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=N(S(0)),P=N(S(1));function N($){return $&&$.__esModule?$:{default:$}}var L=S(2),T=S(117).default,F=S(48).default,M=S(193).default,E=S(200).default,b=S(201).default,y=S(202).default,g=S(203).default,x=S(204).default,c=S(205).default,m=S(206).default,h=S(207).default,d=S(208).default,v=S(209).default,C=S(210).default,f=S(211).default,p=S(212).default,_=S(213).default,V=S(15).printStyle,j=function(){function $(W,Y,q,re,se,de){(0,D.default)(this,$),this.options=L.bridgeObject(se),this.globalOptions=se,this.defaultOptions=de,this.body=Y,this.edges=[],this.id=void 0,this.imagelist=q,this.grouplist=re,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new T(this.body,this.options,!1),this.setOptions(W)}return(0,P.default)($,[{key:"attachEdge",value:function(Y){-1===this.edges.indexOf(Y)&&this.edges.push(Y)}},{key:"detachEdge",value:function(Y){var q=this.edges.indexOf(Y);-1!=q&&this.edges.splice(q,1)}},{key:"setOptions",value:function(Y){var q=this.options.shape;if(Y){if(void 0!==Y.id&&(this.id=Y.id),void 0===this.id)throw new Error("Node must have an id");return $.checkMass(Y,this.id),void 0!==Y.x&&(null===Y.x?(this.x=void 0,this.predefinedPosition=!1):(this.x=parseInt(Y.x),this.predefinedPosition=!0)),void 0!==Y.y&&(null===Y.y?(this.y=void 0,this.predefinedPosition=!1):(this.y=parseInt(Y.y),this.predefinedPosition=!0)),void 0!==Y.size&&(this.baseSize=Y.size),void 0!==Y.value&&(Y.value=parseFloat(Y.value)),$.parseOptions(this.options,Y,!0,this.globalOptions,this.grouplist),this.chooser=F.choosify("node",[Y,this.options,this.defaultOptions]),this._load_images(),this.updateLabelModule(Y),this.updateShape(q),void 0!==Y.hidden||void 0!==Y.physics}}},{key:"_load_images",value:function(){if("circularImage"===this.options.shape||"image"===this.options.shape){if(void 0===this.options.image)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(void 0===this.imagelist)throw new Error("Internal Error: No images provided");if("string"==typeof this.options.image)this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(void 0===this.options.image.unselected)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.imageObjAlt=void 0!==this.options.image.selected?this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):void 0}}}},{key:"getFormattingValues",value:function(){var Y={color:this.options.color.background,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};return this.selected||this.hover?!0===this.chooser?this.selected?(Y.borderWidth*=2,Y.color=this.options.color.highlight.background,Y.borderColor=this.options.color.highlight.border,Y.shadow=this.options.shadow.enabled):this.hover&&(Y.color=this.options.color.hover.background,Y.borderColor=this.options.color.hover.border,Y.shadow=this.options.shadow.enabled):"function"==typeof this.chooser&&(this.chooser(Y,this.options.id,this.selected,this.hover),!1===Y.shadow&&(Y.shadowColor!==this.options.shadow.color||Y.shadowSize!==this.options.shadow.size||Y.shadowX!==this.options.shadow.x||Y.shadowY!==this.options.shadow.y)&&(Y.shadow=!0)):Y.shadow=this.options.shadow.enabled,Y}},{key:"updateLabelModule",value:function(Y){null==this.options.label&&(this.options.label=""),$.updateGroupOptions(this.options,Y,this.grouplist);var q=this.grouplist.get(this.options.group,!1);this.labelModule.update(this.options,[Y,this.options,q,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateShape",value:function(Y){if(Y===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new M(this.options,this.body,this.labelModule);break;case"circle":this.shape=new E(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new b(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"database":this.shape=new y(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new g(this.options,this.body,this.labelModule);break;case"dot":this.shape=new x(this.options,this.body,this.labelModule);break;case"ellipse":default:this.shape=new c(this.options,this.body,this.labelModule);break;case"icon":this.shape=new m(this.options,this.body,this.labelModule);break;case"image":this.shape=new h(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new d(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new v(this.options,this.body,this.labelModule);break;case"star":this.shape=new C(this.options,this.body,this.labelModule);break;case"text":this.shape=new f(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new p(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new _(this.options,this.body,this.labelModule)}this.needsRefresh()}},{key:"select",value:function(){this.selected=!0,this.needsRefresh()}},{key:"unselect",value:function(){this.selected=!1,this.needsRefresh()}},{key:"needsRefresh",value:function(){this.shape.refreshNeeded=!0}},{key:"getTitle",value:function(){return this.options.title}},{key:"distanceToBorder",value:function(Y,q){return this.shape.distanceToBorder(Y,q)}},{key:"isFixed",value:function(){return this.options.fixed.x&&this.options.fixed.y}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"getLabelSize",value:function(){return this.labelModule.size()}},{key:"setValueRange",value:function(Y,q,re){if(void 0!==this.options.value){var se=this.options.scaling.customScalingFunction(Y,q,re,this.options.value),de=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+se*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.size=this.options.scaling.min+se*de}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}},{key:"draw",value:function(Y){var q=this.getFormattingValues();this.shape.draw(Y,this.x,this.y,this.selected,this.hover,q)}},{key:"updateBoundingBox",value:function(Y){this.shape.updateBoundingBox(this.x,this.y,Y)}},{key:"resize",value:function(Y){var q=this.getFormattingValues();this.shape.resize(Y,this.selected,this.hover,q)}},{key:"getItemsOnPoint",value:function(Y){var q=[];return this.labelModule.visible()&&F.pointInRect(this.labelModule.getSize(),Y)&&q.push({nodeId:this.id,labelId:0}),F.pointInRect(this.shape.boundingBox,Y)&&q.push({nodeId:this.id}),q}},{key:"isOverlappingWith",value:function(Y){return this.shape.left<Y.right&&this.shape.left+this.shape.width>Y.left&&this.shape.top<Y.bottom&&this.shape.top+this.shape.height>Y.top}},{key:"isBoundingBoxOverlappingWith",value:function(Y){return this.shape.boundingBox.left<Y.right&&this.shape.boundingBox.right>Y.left&&this.shape.boundingBox.top<Y.bottom&&this.shape.boundingBox.bottom>Y.top}}],[{key:"updateGroupOptions",value:function(Y,q,re){if(void 0!==re){var se=Y.group;if(void 0!==q&&void 0!==q.group&&se!==q.group)throw new Error("updateGroupOptions: group values in options don't match.");if("number"==typeof se||"string"==typeof se&&""!=se){var ve=re.get(se);L.selectiveNotDeepExtend(["font"],Y,ve),Y.color=L.parseColor(Y.color)}}}},{key:"parseOptions",value:function(Y,q){var re=arguments.length>2&&void 0!==arguments[2]&&arguments[2],se=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},de=arguments[4];if(L.selectiveNotDeepExtend(["color","fixed","shadow"],Y,q,re),$.checkMass(q),L.mergeOptions(Y,q,"shadow",se),null!=q.color){var Oe=L.parseColor(q.color);L.fillIfDefined(Y.color,Oe)}else!0===re&&null===q.color&&(Y.color=L.bridgeObject(se.color));null!=q.fixed&&("boolean"==typeof q.fixed?(Y.fixed.x=q.fixed,Y.fixed.y=q.fixed):(void 0!==q.fixed.x&&"boolean"==typeof q.fixed.x&&(Y.fixed.x=q.fixed.x),void 0!==q.fixed.y&&"boolean"==typeof q.fixed.y&&(Y.fixed.y=q.fixed.y))),!0===re&&null===q.font&&(Y.font=L.bridgeObject(se.font)),$.updateGroupOptions(Y,q,de),void 0!==q.scaling&&L.mergeOptions(Y.scaling,q.scaling,"label",se.scaling)}},{key:"checkMass",value:function(Y,q){if(void 0!==Y.mass&&Y.mass<=0){var re="";void 0!==q&&(re=" in node id: "+q),console.log("%cNegative or zero mass disallowed"+re+", setting mass to 1.",V),Y.mass=1}}}]),$}();U.default=j},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=T(S(6)),P=T(S(0)),L=T(S(1));function T(E){return E&&E.__esModule?E:{default:E}}var F=S(2),M=function(){function E(){(0,P.default)(this,E)}return(0,L.default)(E,null,[{key:"choosify",value:function(y,g){var x=["node","edge","label"],c=!0,m=F.topMost(g,"chosen");if("boolean"==typeof m)c=m;else if("object"===(typeof m>"u"?"undefined":(0,D.default)(m))){if(-1===x.indexOf(y))throw new Error("choosify: subOption '"+y+"' should be one of '"+x.join("', '")+"'");var h=F.topMost(g,["chosen",y]);("boolean"==typeof h||"function"==typeof h)&&(c=h)}return c}},{key:"pointInRect",value:function(y,g,x){if(y.width<=0||y.height<=0)return!1;if(void 0!==x){var c={x:g.x-x.x,y:g.y-x.y};if(0!==x.angle){var m=-x.angle;g={x:Math.cos(m)*c.x-Math.sin(m)*c.y,y:Math.sin(m)*c.x+Math.cos(m)*c.y}}else g=c}return y.left<g.x&&y.x+y.width>g.x&&y.top<g.y&&y.y+y.width>g.y}},{key:"isValidLabel",value:function(y){return"string"==typeof y&&""!==y}}]),E}();U.default=M},function(ee,U,S){S(125);for(var B=S(18),D=S(26),I=S(31),P=S(13)("toStringTag"),N="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),L=0;L<N.length;L++){var T=N[L],F=B[T],M=F&&F.prototype;M&&!M[P]&&D(M,P,T),I[T]=I.Array}},function(ee,U){var S={}.toString;ee.exports=function(B){return S.call(B).slice(8,-1)}},function(ee,U){ee.exports=function(S){if(null==S)throw TypeError("Can't call method on  "+S);return S}},function(ee,U){ee.exports=!0},function(ee,U,S){var B=S(32);ee.exports=function(D,I){if(!B(D))return D;var P,N;if(I&&"function"==typeof(P=D.toString)&&!B(N=P.call(D))||"function"==typeof(P=D.valueOf)&&!B(N=P.call(D))||!I&&"function"==typeof(P=D.toString)&&!B(N=P.call(D)))return N;throw TypeError("Can't convert object to primitive value")}},function(ee,U,S){var B=S(27),D=S(130),I=S(58),P=S(56)("IE_PROTO"),N=function(){},L="prototype",T=function(){var y,F=S(82)("iframe"),M=I.length;for(F.style.display="none",S(134).appendChild(F),F.src="javascript:",(y=F.contentWindow.document).open(),y.write("<script>document.F=Object<\/script>"),y.close(),T=y.F;M--;)delete T[L][I[M]];return T()};ee.exports=Object.create||function(M,E){var b;return null!==M?(N[L]=B(M),b=new N,N[L]=null,b[P]=M):b=T(),void 0===E?b:D(b,E)}},function(ee,U){var S=Math.ceil,B=Math.floor;ee.exports=function(D){return isNaN(D=+D)?0:(D>0?B:S)(D)}},function(ee,U,S){var B=S(57)("keys"),D=S(40);ee.exports=function(I){return B[I]||(B[I]=D(I))}},function(ee,U,S){var B=S(18),D="__core-js_shared__",I=B[D]||(B[D]={});ee.exports=function(P){return I[P]||(I[P]={})}},function(ee,U){ee.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(ee,U,S){var B=S(20).f,D=S(22),I=S(13)("toStringTag");ee.exports=function(P,N,L){P&&!D(P=L?P:P.prototype,I)&&B(P,I,{configurable:!0,value:N})}},function(ee,U,S){var B=S(135)(!0);S(79)(String,"String",function(D){this._t=String(D),this._i=0},function(){var P,D=this._t,I=this._i;return I>=D.length?{value:void 0,done:!0}:(P=B(D,I),this._i+=P.length,{value:P,done:!1})})},function(ee,U,S){U.f=S(13)},function(ee,U,S){var B=S(18),D=S(7),I=S(52),P=S(61),N=S(20).f;ee.exports=function(L){var T=D.Symbol||(D.Symbol=I?{}:B.Symbol||{});"_"!=L.charAt(0)&&!(L in T)&&N(T,L,{value:P.f(L)})}},function(ee,U){U.f=Object.getOwnPropertySymbols},function(ee,U,S){var D=T(S(8)),P=T(S(19)),L=T(S(6));function T(x){return x&&x.__esModule?x:{default:x}}var F=S(2),M=S(9),E=S(16),b=S(36);function y(x,c){var m=M().hours(0).minutes(0).seconds(0).milliseconds(0),h=m.clone().add(-3,"days").valueOf(),d=m.clone().add(3,"days").valueOf();this.millisecondsPerPixelCache=void 0,void 0===c?(this.start=h,this.end=d):(this.start=c.start||h,this.end=c.end||d),this.rolling=!1,this.body=x,this.deltaDifference=0,this.scaleOffset=0,this.startToFront=!1,this.endToFront=!0,this.defaultOptions={rtl:!1,start:null,end:null,moment:M,direction:"horizontal",moveable:!0,zoomable:!0,min:null,max:null,zoomMin:10,zoomMax:31536e10,rollingMode:{follow:!1,offset:.5}},this.options=F.extend({},this.defaultOptions),this.props={touch:{}},this.animationTimer=null,this.body.emitter.on("panstart",this._onDragStart.bind(this)),this.body.emitter.on("panmove",this._onDrag.bind(this)),this.body.emitter.on("panend",this._onDragEnd.bind(this)),this.body.emitter.on("mousewheel",this._onMouseWheel.bind(this)),this.body.emitter.on("touch",this._onTouch.bind(this)),this.body.emitter.on("pinch",this._onPinch.bind(this)),this.body.dom.rollingModeBtn.addEventListener("click",this.startRolling.bind(this)),this.setOptions(c)}function g(x){if("horizontal"!=x&&"vertical"!=x)throw new TypeError('Unknown direction "'+x+'". Choose "horizontal" or "vertical".')}(y.prototype=new E).setOptions=function(x){x&&(F.selectiveExtend(["animation","direction","min","max","zoomMin","zoomMax","moveable","zoomable","moment","activate","hiddenDates","zoomKey","rtl","showCurrentTime","rollingMode","horizontalScroll"],this.options,x),x.rollingMode&&x.rollingMode.follow&&this.startRolling(),("start"in x||"end"in x)&&this.setRange(x.start,x.end))},y.prototype.startRolling=function(){var x=this;!function c(){x.stopRolling(),x.rolling=!0;var m=x.end-x.start,h=F.convert(new Date,"Date").valueOf();x.setRange(h-m*x.options.rollingMode.offset,h+m*(1-x.options.rollingMode.offset),{animation:!1}),(m=1/x.conversion(x.body.domProps.center.width).scale/10)<30&&(m=30),m>1e3&&(m=1e3),x.body.dom.rollingModeBtn.style.visibility="hidden",x.currentTimeTimer=setTimeout(c,m)}()},y.prototype.stopRolling=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),this.rolling=!1,this.body.dom.rollingModeBtn.style.visibility="visible")},y.prototype.setRange=function(x,c,m,h,d){m||(m={}),!0!==m.byUser&&(m.byUser=!1);var v=this,C=null!=x?F.convert(x,"Date").valueOf():null,f=null!=c?F.convert(c,"Date").valueOf():null;if(this._cancelAnimation(),this.millisecondsPerPixelCache=void 0,m.animation){var p=this.start,_=this.end,O="object"===(0,L.default)(m.animation)&&"duration"in m.animation?m.animation.duration:500,V="object"===(0,L.default)(m.animation)&&"easingFunction"in m.animation?m.animation.easingFunction:"easeInOutQuad",j=F.easingFunctions[V];if(!j)throw new Error("Unknown easing function "+(0,P.default)(V)+". Choose from: "+(0,D.default)(F.easingFunctions).join(", "));var $=(new Date).valueOf(),W=!1;return function se(){if(!v.props.touch.dragging){var ve=(new Date).valueOf()-$,Oe=j(ve/O),Ee=ve>O;q=v._applyRange(Ee||null===C?C:p+(C-p)*Oe,Ee||null===f?f:_+(f-_)*Oe),b.updateHiddenDates(v.options.moment,v.body,v.options.hiddenDates),W=W||q;var ue={start:new Date(v.start),end:new Date(v.end),byUser:m.byUser,event:m.event};if(d&&d(Oe,q,Ee),q&&v.body.emitter.emit("rangechange",ue),Ee){if(W&&(v.body.emitter.emit("rangechanged",ue),h))return h()}else v.animationTimer=setTimeout(se,20)}}()}var q=this._applyRange(C,f);if(b.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),q){var re={start:new Date(this.start),end:new Date(this.end),byUser:m.byUser,event:m.event};if(this.body.emitter.emit("rangechange",re),clearTimeout(v.timeoutID),v.timeoutID=setTimeout(function(){v.body.emitter.emit("rangechanged",re)},200),h)return h()}},y.prototype.getMillisecondsPerPixel=function(){return void 0===this.millisecondsPerPixelCache&&(this.millisecondsPerPixelCache=(this.end-this.start)/this.body.dom.center.clientWidth),this.millisecondsPerPixelCache},y.prototype._cancelAnimation=function(){this.animationTimer&&(clearTimeout(this.animationTimer),this.animationTimer=null)},y.prototype._applyRange=function(x,c){var C,m=null!=x?F.convert(x,"Date").valueOf():this.start,h=null!=c?F.convert(c,"Date").valueOf():this.end,d=null!=this.options.max?F.convert(this.options.max,"Date").valueOf():null,v=null!=this.options.min?F.convert(this.options.min,"Date").valueOf():null;if(isNaN(m)||null===m)throw new Error('Invalid start "'+x+'"');if(isNaN(h)||null===h)throw new Error('Invalid end "'+c+'"');if(h<m&&(h=m),null!==v&&m<v&&(m+=C=v-m,h+=C,null!=d&&h>d&&(h=d)),null!==d&&h>d&&(m-=C=h-d,h-=C,null!=v&&m<v&&(m=v)),null!==this.options.zoomMin){var f=parseFloat(this.options.zoomMin);f<0&&(f=0),h-m<f&&(this.end-this.start===f&&m>=this.start-.5&&h<=this.end?(m=this.start,h=this.end):(m-=(C=f-(h-m))/2,h+=C/2))}if(null!==this.options.zoomMax){var _=parseFloat(this.options.zoomMax);_<0&&(_=0),h-m>_&&(this.end-this.start===_&&m<this.start&&h>this.end?(m=this.start,h=this.end):(m+=(C=h-m-_)/2,h-=C/2))}var O=this.start!=m||this.end!=h;return!(m>=this.start&&m<=this.end||h>=this.start&&h<=this.end)&&!(this.start>=m&&this.start<=h||this.end>=m&&this.end<=h)&&this.body.emitter.emit("checkRangedItems"),this.start=m,this.end=h,O},y.prototype.getRange=function(){return{start:this.start,end:this.end}},y.prototype.conversion=function(x,c){return y.conversion(this.start,this.end,x,c)},y.conversion=function(x,c,m,h){return void 0===h&&(h=0),0!=m&&c-x!=0?{offset:x,scale:m/(c-x-h)}:{offset:0,scale:1}},y.prototype._onDragStart=function(x){this.deltaDifference=0,this.previousDelta=0,this.options.moveable&&this._isInsideRange(x)&&this.props.touch.allowDragging&&(this.stopRolling(),this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.dragging=!0,this.body.dom.root&&(this.body.dom.root.style.cursor="move"))},y.prototype._onDrag=function(x){if(x&&this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging){var c=this.options.direction;g(c);var m="horizontal"==c?x.deltaX:x.deltaY;m-=this.deltaDifference;var h=this.props.touch.end-this.props.touch.start;h-=b.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end);var C,v="horizontal"==c?this.body.domProps.center.width:this.body.domProps.center.height,f=this.props.touch.start+(C=this.options.rtl?m/v*h:-m/v*h),p=this.props.touch.end+C,_=b.snapAwayFromHidden(this.body.hiddenDates,f,this.previousDelta-m,!0),O=b.snapAwayFromHidden(this.body.hiddenDates,p,this.previousDelta-m,!0);if(_!=f||O!=p)return this.deltaDifference+=m,this.props.touch.start=_,this.props.touch.end=O,void this._onDrag(x);this.previousDelta=m,this._applyRange(f,p);var V=new Date(this.start),j=new Date(this.end);this.body.emitter.emit("rangechange",{start:V,end:j,byUser:!0,event:x}),this.body.emitter.emit("panmove")}},y.prototype._onDragEnd=function(x){this.props.touch.dragging&&this.options.moveable&&this.props.touch.allowDragging&&(this.props.touch.dragging=!1,this.body.dom.root&&(this.body.dom.root.style.cursor="auto"),this.body.emitter.emit("rangechanged",{start:new Date(this.start),end:new Date(this.end),byUser:!0,event:x}))},y.prototype._onMouseWheel=function(x){var c=0;if(x.wheelDelta?c=x.wheelDelta/120:x.detail&&(c=-x.detail/3),!(this.options.zoomKey&&!x[this.options.zoomKey]&&this.options.zoomable||!this.options.zoomable&&this.options.moveable)&&this.options.zoomable&&this.options.moveable&&this._isInsideRange(x)&&c){var m,h;if(m=c<0?1-c/5:1/(1+c/5),this.rolling)h=this.start+(this.end-this.start)*this.options.rollingMode.offset;else{var d=this.getPointer({x:x.clientX,y:x.clientY},this.body.dom.center);h=this._pointerToDate(d)}this.zoom(m,h,c,x),x.preventDefault()}},y.prototype._onTouch=function(x){this.props.touch.start=this.start,this.props.touch.end=this.end,this.props.touch.allowDragging=!0,this.props.touch.center=null,this.scaleOffset=0,this.deltaDifference=0,F.preventDefault(x)},y.prototype._onPinch=function(x){if(this.options.zoomable&&this.options.moveable){F.preventDefault(x),this.props.touch.allowDragging=!1,this.props.touch.center||(this.props.touch.center=this.getPointer(x.center,this.body.dom.center)),this.stopRolling();var c=1/(x.scale+this.scaleOffset),m=this._pointerToDate(this.props.touch.center),h=b.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),d=b.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,m),v=h-d,C=m-d+(this.props.touch.start-(m-d))*c,f=m+v+(this.props.touch.end-(m+v))*c;this.startToFront=1-c<=0,this.endToFront=c-1<=0;var p=b.snapAwayFromHidden(this.body.hiddenDates,C,1-c,!0),_=b.snapAwayFromHidden(this.body.hiddenDates,f,c-1,!0);(p!=C||_!=f)&&(this.props.touch.start=p,this.props.touch.end=_,this.scaleOffset=1-x.scale,C=p,f=_),this.setRange(C,f,{animation:!1,byUser:!0,event:x}),this.startToFront=!1,this.endToFront=!0}},y.prototype._isInsideRange=function(x){var m,c=x.center?x.center.x:x.clientX;m=this.options.rtl?c-F.getAbsoluteLeft(this.body.dom.centerContainer):F.getAbsoluteRight(this.body.dom.centerContainer)-c;var h=this.body.util.toTime(m);return h>=this.start&&h<=this.end},y.prototype._pointerToDate=function(x){var c,m=this.options.direction;return g(m),"horizontal"==m?this.body.util.toTime(x.x).valueOf():(c=this.conversion(this.body.domProps.center.height),x.y/c.scale+c.offset)},y.prototype.getPointer=function(x,c){return this.options.rtl?{x:F.getAbsoluteRight(c)-x.x,y:x.y-F.getAbsoluteTop(c)}:{x:x.x-F.getAbsoluteLeft(c),y:x.y-F.getAbsoluteTop(c)}},y.prototype.zoom=function(x,c,m,h){null==c&&(c=(this.start+this.end)/2);var d=b.getHiddenDurationBetween(this.body.hiddenDates,this.start,this.end),v=b.getHiddenDurationBefore(this.options.moment,this.body.hiddenDates,this,c),C=d-v,f=c-v+(this.start-(c-v))*x,p=c+C+(this.end-(c+C))*x;this.startToFront=!(m>0),this.endToFront=!(-m>0);var _=b.snapAwayFromHidden(this.body.hiddenDates,f,m,!0),O=b.snapAwayFromHidden(this.body.hiddenDates,p,-m,!0);(_!=f||O!=p)&&(f=_,p=O),this.setRange(f,p,{animation:!1,byUser:!0,event:h}),this.startToFront=!1,this.endToFront=!0},y.prototype.move=function(x){var c=this.end-this.start,h=this.end+c*x;this.start=this.start+c*x,this.end=h},y.prototype.moveTo=function(x){var m=(this.start+this.end)/2-x;this.setRange(this.start-m,this.end-m,{animation:!1,byUser:!0,event:null})},ee.exports=y},function(ee,U,S){var D=N(S(19)),P=N(S(6));function N(c){return c&&c.__esModule?c:{default:c}}var L=S(44),T=S(10),F=S(37),M=S(2),E=S(45),b=S(97),y=S(36),g=S(46);function x(){}L(x.prototype),x.prototype._create=function(c){this.dom={},this.dom.container=c,this.dom.root=document.createElement("div"),this.dom.background=document.createElement("div"),this.dom.backgroundVertical=document.createElement("div"),this.dom.backgroundHorizontal=document.createElement("div"),this.dom.centerContainer=document.createElement("div"),this.dom.leftContainer=document.createElement("div"),this.dom.rightContainer=document.createElement("div"),this.dom.center=document.createElement("div"),this.dom.left=document.createElement("div"),this.dom.right=document.createElement("div"),this.dom.top=document.createElement("div"),this.dom.bottom=document.createElement("div"),this.dom.shadowTop=document.createElement("div"),this.dom.shadowBottom=document.createElement("div"),this.dom.shadowTopLeft=document.createElement("div"),this.dom.shadowBottomLeft=document.createElement("div"),this.dom.shadowTopRight=document.createElement("div"),this.dom.shadowBottomRight=document.createElement("div"),this.dom.rollingModeBtn=document.createElement("div"),this.dom.root.className="vis-timeline",this.dom.background.className="vis-panel vis-background",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical",this.dom.backgroundHorizontal.className="vis-panel vis-background vis-horizontal",this.dom.centerContainer.className="vis-panel vis-center",this.dom.leftContainer.className="vis-panel vis-left",this.dom.rightContainer.className="vis-panel vis-right",this.dom.top.className="vis-panel vis-top",this.dom.bottom.className="vis-panel vis-bottom",this.dom.left.className="vis-content",this.dom.center.className="vis-content",this.dom.right.className="vis-content",this.dom.shadowTop.className="vis-shadow vis-top",this.dom.shadowBottom.className="vis-shadow vis-bottom",this.dom.shadowTopLeft.className="vis-shadow vis-top",this.dom.shadowBottomLeft.className="vis-shadow vis-bottom",this.dom.shadowTopRight.className="vis-shadow vis-top",this.dom.shadowBottomRight.className="vis-shadow vis-bottom",this.dom.rollingModeBtn.className="vis-rolling-mode-btn",this.dom.root.appendChild(this.dom.background),this.dom.root.appendChild(this.dom.backgroundVertical),this.dom.root.appendChild(this.dom.backgroundHorizontal),this.dom.root.appendChild(this.dom.centerContainer),this.dom.root.appendChild(this.dom.leftContainer),this.dom.root.appendChild(this.dom.rightContainer),this.dom.root.appendChild(this.dom.top),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.bottom),this.dom.root.appendChild(this.dom.rollingModeBtn),this.dom.centerContainer.appendChild(this.dom.center),this.dom.leftContainer.appendChild(this.dom.left),this.dom.rightContainer.appendChild(this.dom.right),this.dom.centerContainer.appendChild(this.dom.shadowTop),this.dom.centerContainer.appendChild(this.dom.shadowBottom),this.dom.leftContainer.appendChild(this.dom.shadowTopLeft),this.dom.leftContainer.appendChild(this.dom.shadowBottomLeft),this.dom.rightContainer.appendChild(this.dom.shadowTopRight),this.dom.rightContainer.appendChild(this.dom.shadowBottomRight),this.props={root:{},background:{},centerContainer:{},leftContainer:{},rightContainer:{},center:{},left:{},right:{},top:{},bottom:{},border:{},scrollTop:0,scrollTopMin:0},this.on("rangechange",function(){!0===this.initialDrawDone&&this._redraw()}.bind(this)),this.on("rangechanged",function(){this.initialRangeChangeDone||(this.initialRangeChangeDone=!0)}.bind(this)),this.on("touch",this._onTouch.bind(this)),this.on("panmove",this._onDrag.bind(this));var m=this;this._origRedraw=this._redraw.bind(this),this._redraw=M.throttle(this._origRedraw),this.on("_change",function(O){m.itemSet&&m.itemSet.initialItemSetDrawn&&O&&1==O.queue?m._redraw():m._origRedraw()}),this.hammer=new T(this.dom.root);var h=this.hammer.get("pinch").set({enable:!0});function v(O){this.isActive()&&this.emit("mousewheel",O);var V=0,j=0;if("detail"in O&&(j=-1*O.detail),"wheelDelta"in O&&(j=O.wheelDelta),"wheelDeltaY"in O&&(j=O.wheelDeltaY),"wheelDeltaX"in O&&(V=-1*O.wheelDeltaX),"axis"in O&&O.axis===O.HORIZONTAL_AXIS&&(V=-1*j,j=0),"deltaY"in O&&(j=-1*O.deltaY),"deltaX"in O&&(V=O.deltaX),this.options.zoomKey&&!O[this.options.zoomKey])if(O.preventDefault(),this.options.verticalScroll&&Math.abs(j)>=Math.abs(V)){var W=this.props.scrollTop+j;this.isActive()&&(this._setScrollTop(W),this._redraw(),this.emit("scroll",O))}else if(this.options.horizontalScroll){var q=(Math.abs(V)>=Math.abs(j)?V:j)/120*(this.range.end-this.range.start)/20;this.range.setRange(this.range.start+q,this.range.end+q,{animation:!1,byUser:!0,event:O})}}function C(O){m.options.verticalScroll&&(O.preventDefault(),m.isActive())&&(m._setScrollTop(-O.target.scrollTop),m._redraw(),m.emit("scrollSide",O))}F.disablePreventDefaultVertically(h),this.hammer.get("pan").set({threshold:5,direction:T.DIRECTION_HORIZONTAL}),this.listeners={},["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(O){var V=function($){m.isActive()&&m.emit(O,$)};m.hammer.on(O,V),m.listeners[O]=V}),F.onTouch(this.hammer,function(O){m.emit("touch",O)}.bind(this)),F.onRelease(this.hammer,function(O){m.emit("release",O)}.bind(this)),this.dom.centerContainer.addEventListener?(this.dom.centerContainer.addEventListener("mousewheel",v.bind(this),!1),this.dom.centerContainer.addEventListener("DOMMouseScroll",v.bind(this),!1)):this.dom.centerContainer.attachEvent("onmousewheel",v.bind(this)),this.dom.left.parentNode.addEventListener("scroll",C.bind(this)),this.dom.right.parentNode.addEventListener("scroll",C.bind(this));var f=!1;if(this.dom.center.addEventListener("dragover",function p(O){if(O.preventDefault&&O.preventDefault(),!(!O.target.className.indexOf("vis")>-1||f))return O.dataTransfer.dropEffect="move",f=!0,!1}.bind(this),!1),this.dom.center.addEventListener("drop",function _(O){O.preventDefault&&O.preventDefault(),O.stopPropagation&&O.stopPropagation();try{var V=JSON.parse(O.dataTransfer.getData("text"));if(!V||!V.content)return}catch{return!1}return f=!1,O.center={x:O.clientX,y:O.clientY},"item"!==V.target?m.itemSet._onAddItem(O):m.itemSet._onDropObjectOnItem(O),m.emit("drop",m.getEventProperties(O)),!1}.bind(this),!1),this.customTimes=[],this.touch={},this.redrawCount=0,this.initialDrawDone=!1,this.initialRangeChangeDone=!1,!c)throw new Error("No container provided");c.appendChild(this.dom.root)},x.prototype.setOptions=function(c){if(c){if(M.selectiveExtend(["width","height","minHeight","maxHeight","autoResize","start","end","clickToUse","dataAttributes","hiddenDates","locale","locales","moment","rtl","zoomKey","horizontalScroll","verticalScroll"],this.options,c),this.dom.rollingModeBtn.style.visibility="hidden",this.options.rtl&&(this.dom.container.style.direction="rtl",this.dom.backgroundVertical.className="vis-panel vis-background vis-vertical-rtl"),this.options.verticalScroll&&(this.options.rtl?this.dom.rightContainer.className="vis-panel vis-right vis-vertical-scroll":this.dom.leftContainer.className="vis-panel vis-left vis-vertical-scroll"),"object"!==(0,P.default)(this.options.orientation)&&(this.options.orientation={item:void 0,axis:void 0}),"orientation"in c&&("string"==typeof c.orientation?this.options.orientation={item:c.orientation,axis:c.orientation}:"object"===(0,P.default)(c.orientation)&&("item"in c.orientation&&(this.options.orientation.item=c.orientation.item),"axis"in c.orientation&&(this.options.orientation.axis=c.orientation.axis))),"both"===this.options.orientation.axis){if(!this.timeAxis2){var h=this.timeAxis2=new E(this.body);h.setOptions=function(C){var f=C?M.extend({},C):{};f.orientation="top",E.prototype.setOptions.call(h,f)},this.components.push(h)}}else if(this.timeAxis2){var d=this.components.indexOf(this.timeAxis2);-1!==d&&this.components.splice(d,1),this.timeAxis2.destroy(),this.timeAxis2=null}if("function"==typeof c.drawPoints&&(c.drawPoints={onRender:c.drawPoints}),"hiddenDates"in this.options&&y.convertHiddenOptions(this.options.moment,this.body,this.options.hiddenDates),"clickToUse"in c&&(c.clickToUse?this.activator||(this.activator=new b(this.dom.root)):this.activator&&(this.activator.destroy(),delete this.activator)),"showCustomTime"in c)throw new Error("Option `showCustomTime` is deprecated. Create a custom time bar via timeline.addCustomTime(time [, id])");this._initAutoResize()}if(this.components.forEach(function(C){return C.setOptions(c)}),"configure"in c){this.configurator||(this.configurator=this._createConfigurator()),this.configurator.setOptions(c.configure);var v=M.deepExtend({},this.options);this.components.forEach(function(C){M.deepExtend(v,C.options)}),this.configurator.setModuleOptions({global:v})}this._redraw()},x.prototype.isActive=function(){return!this.activator||this.activator.active},x.prototype.destroy=function(){for(var c in this.setItems(null),this.setGroups(null),this.off(),this._stopAutoResize(),this.dom.root.parentNode&&this.dom.root.parentNode.removeChild(this.dom.root),this.dom=null,this.activator&&(this.activator.destroy(),delete this.activator),this.listeners)this.listeners.hasOwnProperty(c)&&delete this.listeners[c];this.listeners=null,this.hammer=null,this.components.forEach(function(m){return m.destroy()}),this.body=null},x.prototype.setCustomTime=function(c,m){var h=this.customTimes.filter(function(d){return m===d.options.id});if(0===h.length)throw new Error("No custom time bar found with id "+(0,D.default)(m));h.length>0&&h[0].setCustomTime(c)},x.prototype.getCustomTime=function(c){var m=this.customTimes.filter(function(h){return h.options.id===c});if(0===m.length)throw new Error("No custom time bar found with id "+(0,D.default)(c));return m[0].getCustomTime()},x.prototype.setCustomTimeTitle=function(c,m){var h=this.customTimes.filter(function(d){return d.options.id===m});if(0===h.length)throw new Error("No custom time bar found with id "+(0,D.default)(m));if(h.length>0)return h[0].setCustomTitle(c)},x.prototype.getEventProperties=function(c){return{event:c}},x.prototype.addCustomTime=function(c,m){var h=void 0!==c?M.convert(c,"Date").valueOf():new Date;if(this.customTimes.some(function(C){return C.options.id===m}))throw new Error("A custom time with id "+(0,D.default)(m)+" already exists");var v=new g(this.body,M.extend({},this.options,{time:h,id:m}));return this.customTimes.push(v),this.components.push(v),this._redraw(),m},x.prototype.removeCustomTime=function(c){var m=this.customTimes.filter(function(h){return h.options.id===c});if(0===m.length)throw new Error("No custom time bar found with id "+(0,D.default)(c));m.forEach(function(h){this.customTimes.splice(this.customTimes.indexOf(h),1),this.components.splice(this.components.indexOf(h),1),h.destroy()}.bind(this))},x.prototype.getVisibleItems=function(){return this.itemSet&&this.itemSet.getVisibleItems()||[]},x.prototype.fit=function(c,m){var h=this.getDataRange();if(null!==h.min||null!==h.max){var d=h.max-h.min,v=new Date(h.min.valueOf()-.01*d),C=new Date(h.max.valueOf()+.01*d);this.range.setRange(v,C,{animation:!c||void 0===c.animation||c.animation},m)}},x.prototype.getDataRange=function(){throw new Error("Cannot invoke abstract method getDataRange")},x.prototype.setWindow=function(c,m,h,d){var C;"function"==typeof arguments[2]&&(d=arguments[2],h={}),1==arguments.length?this.range.setRange((C=arguments[0]).start,C.end,{animation:void 0===C.animation||C.animation}):2==arguments.length&&"function"==typeof arguments[1]?this.range.setRange((C=arguments[0]).start,C.end,{animation:void 0===C.animation||C.animation},d=arguments[1]):this.range.setRange(c,m,{animation:!h||void 0===h.animation||h.animation},d)},x.prototype.moveTo=function(c,m,h){"function"==typeof arguments[1]&&(h=arguments[1],m={});var d=this.range.end-this.range.start,v=M.convert(c,"Date").valueOf();this.range.setRange(v-d/2,v+d/2,{animation:!m||void 0===m.animation||m.animation},h)},x.prototype.getWindow=function(){var c=this.range.getRange();return{start:new Date(c.start),end:new Date(c.end)}},x.prototype.zoomIn=function(c,m,h){if(!(!c||c<0||c>1)){"function"==typeof arguments[1]&&(h=arguments[1],m={});var d=this.getWindow(),v=d.start.valueOf(),C=d.end.valueOf(),f=C-v,_=(f-f/(1+c))/2;this.setWindow(v+_,C-_,m,h)}},x.prototype.zoomOut=function(c,m,h){if(!(!c||c<0||c>1)){"function"==typeof arguments[1]&&(h=arguments[1],m={});var d=this.getWindow(),v=d.start.valueOf(),C=d.end.valueOf(),f=C-v;this.setWindow(v-f*c/2,C+f*c/2,m,h)}},x.prototype.redraw=function(){this._redraw()},x.prototype._redraw=function(){this.redrawCount++;var c=!1,m=this.options,h=this.props,d=this.dom;if(d&&d.container&&0!=d.root.offsetWidth){y.updateHiddenDates(this.options.moment,this.body,this.options.hiddenDates),"top"==m.orientation?(M.addClassName(d.root,"vis-top"),M.removeClassName(d.root,"vis-bottom")):(M.removeClassName(d.root,"vis-top"),M.addClassName(d.root,"vis-bottom")),d.root.style.maxHeight=M.option.asSize(m.maxHeight,""),d.root.style.minHeight=M.option.asSize(m.minHeight,""),d.root.style.width=M.option.asSize(m.width,""),h.border.left=(d.centerContainer.offsetWidth-d.centerContainer.clientWidth)/2,h.border.right=h.border.left,h.border.top=(d.centerContainer.offsetHeight-d.centerContainer.clientHeight)/2,h.border.bottom=h.border.top,h.borderRootHeight=d.root.offsetHeight-d.root.clientHeight,h.borderRootWidth=d.root.offsetWidth-d.root.clientWidth,0===d.centerContainer.clientHeight&&(h.border.left=h.border.top,h.border.right=h.border.left),0===d.root.clientHeight&&(h.borderRootWidth=h.borderRootHeight),h.center.height=d.center.offsetHeight,h.left.height=d.left.offsetHeight,h.right.height=d.right.offsetHeight,h.top.height=d.top.clientHeight||-h.border.top,h.bottom.height=d.bottom.clientHeight||-h.border.bottom;var v=Math.max(h.left.height,h.center.height,h.right.height);d.root.style.height=M.option.asSize(m.height,h.top.height+v+h.bottom.height+h.borderRootHeight+h.border.top+h.border.bottom+"px"),h.root.height=d.root.offsetHeight,h.background.height=h.root.height-h.borderRootHeight;var f=h.root.height-h.top.height-h.bottom.height-h.borderRootHeight;h.centerContainer.height=f,h.leftContainer.height=f,h.rightContainer.height=h.leftContainer.height,h.root.width=d.root.offsetWidth,h.background.width=h.root.width-h.borderRootWidth,this.initialDrawDone||(h.scrollbarWidth=M.getScrollBarWidth()),m.verticalScroll?m.rtl?(h.left.width=d.leftContainer.clientWidth||-h.border.left,h.right.width=d.rightContainer.clientWidth+h.scrollbarWidth||-h.border.right):(h.left.width=d.leftContainer.clientWidth+h.scrollbarWidth||-h.border.left,h.right.width=d.rightContainer.clientWidth||-h.border.right):(h.left.width=d.leftContainer.clientWidth||-h.border.left,h.right.width=d.rightContainer.clientWidth||-h.border.right),this._setDOM();var p=this._updateScrollTop();"top"!=m.orientation.item&&(p+=Math.max(h.centerContainer.height-h.center.height-h.border.top-h.border.bottom,0)),d.center.style.top=p+"px";var _=0==h.scrollTop?"hidden":"",O=h.scrollTop==h.scrollTopMin?"hidden":"";d.shadowTop.style.visibility=_,d.shadowBottom.style.visibility=O,d.shadowTopLeft.style.visibility=_,d.shadowBottomLeft.style.visibility=O,d.shadowTopRight.style.visibility=_,d.shadowBottomRight.style.visibility=O,m.verticalScroll&&(d.rightContainer.className="vis-panel vis-right vis-vertical-scroll",d.leftContainer.className="vis-panel vis-left vis-vertical-scroll",d.shadowTopRight.style.visibility="hidden",d.shadowBottomRight.style.visibility="hidden",d.shadowTopLeft.style.visibility="hidden",d.shadowBottomLeft.style.visibility="hidden",d.left.style.top="0px",d.right.style.top="0px"),(!m.verticalScroll||h.center.height<h.centerContainer.height)&&(d.left.style.top=p+"px",d.right.style.top=p+"px",d.rightContainer.className=d.rightContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),d.leftContainer.className=d.leftContainer.className.replace(new RegExp("(?:^|\\s)vis-vertical-scroll(?:\\s|$)")," "),h.left.width=d.leftContainer.clientWidth||-h.border.left,h.right.width=d.rightContainer.clientWidth||-h.border.right,this._setDOM());var V=h.center.height>h.centerContainer.height;if(this.hammer.get("pan").set({direction:V?T.DIRECTION_ALL:T.DIRECTION_HORIZONTAL}),this.components.forEach(function($){c=$.redraw()||c}),c){if(this.redrawCount<5)return void this.body.emitter.emit("_change");console.log("WARNING: infinite loop in redraw?")}else this.redrawCount=0;this.body.emitter.emit("changed")}},x.prototype._setDOM=function(){var c=this.props,m=this.dom;c.leftContainer.width=c.left.width,c.rightContainer.width=c.right.width;var h=c.root.width-c.left.width-c.right.width-c.borderRootWidth;c.center.width=h,c.centerContainer.width=h,c.top.width=h,c.bottom.width=h,m.background.style.height=c.background.height+"px",m.backgroundVertical.style.height=c.background.height+"px",m.backgroundHorizontal.style.height=c.centerContainer.height+"px",m.centerContainer.style.height=c.centerContainer.height+"px",m.leftContainer.style.height=c.leftContainer.height+"px",m.rightContainer.style.height=c.rightContainer.height+"px",m.background.style.width=c.background.width+"px",m.backgroundVertical.style.width=c.centerContainer.width+"px",m.backgroundHorizontal.style.width=c.background.width+"px",m.centerContainer.style.width=c.center.width+"px",m.top.style.width=c.top.width+"px",m.bottom.style.width=c.bottom.width+"px",m.background.style.left="0",m.background.style.top="0",m.backgroundVertical.style.left=c.left.width+c.border.left+"px",m.backgroundVertical.style.top="0",m.backgroundHorizontal.style.left="0",m.backgroundHorizontal.style.top=c.top.height+"px",m.centerContainer.style.left=c.left.width+"px",m.centerContainer.style.top=c.top.height+"px",m.leftContainer.style.left="0",m.leftContainer.style.top=c.top.height+"px",m.rightContainer.style.left=c.left.width+c.center.width+"px",m.rightContainer.style.top=c.top.height+"px",m.top.style.left=c.left.width+"px",m.top.style.top="0",m.bottom.style.left=c.left.width+"px",m.bottom.style.top=c.top.height+c.centerContainer.height+"px",m.center.style.left="0",m.left.style.left="0",m.right.style.left="0"},x.prototype.repaint=function(){throw new Error("Function repaint is deprecated. Use redraw instead.")},x.prototype.setCurrentTime=function(c){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");this.currentTime.setCurrentTime(c)},x.prototype.getCurrentTime=function(){if(!this.currentTime)throw new Error("Option showCurrentTime must be true");return this.currentTime.getCurrentTime()},x.prototype._toTime=function(c){return y.toTime(this,c,this.props.center.width)},x.prototype._toGlobalTime=function(c){return y.toTime(this,c,this.props.root.width)},x.prototype._toScreen=function(c){return y.toScreen(this,c,this.props.center.width)},x.prototype._toGlobalScreen=function(c){return y.toScreen(this,c,this.props.root.width)},x.prototype._initAutoResize=function(){1==this.options.autoResize?this._startAutoResize():this._stopAutoResize()},x.prototype._startAutoResize=function(){var c=this;this._stopAutoResize(),this._onResize=function(){1==c.options.autoResize?c.dom.root&&(c.dom.root.offsetWidth!=c.props.lastWidth||c.dom.root.offsetHeight!=c.props.lastHeight)&&(c.props.lastWidth=c.dom.root.offsetWidth,c.props.lastHeight=c.dom.root.offsetHeight,c.props.scrollbarWidth=M.getScrollBarWidth(),c.body.emitter.emit("_change")):c._stopAutoResize()},M.addEventListener(window,"resize",this._onResize),c.dom.root&&(c.props.lastWidth=c.dom.root.offsetWidth,c.props.lastHeight=c.dom.root.offsetHeight),this.watchTimer=setInterval(this._onResize,1e3)},x.prototype._stopAutoResize=function(){this.watchTimer&&(clearInterval(this.watchTimer),this.watchTimer=void 0),this._onResize&&(M.removeEventListener(window,"resize",this._onResize),this._onResize=null)},x.prototype._onTouch=function(c){this.touch.allowDragging=!0,this.touch.initialScrollTop=this.props.scrollTop},x.prototype._onPinch=function(c){this.touch.allowDragging=!1},x.prototype._onDrag=function(c){if(c&&this.touch.allowDragging){var m=c.deltaY,h=this._getScrollTop(),d=this._setScrollTop(this.touch.initialScrollTop+m);this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),d!=h&&this.emit("verticalDrag")}},x.prototype._setScrollTop=function(c){return this.props.scrollTop=c,this._updateScrollTop(),this.props.scrollTop},x.prototype._updateScrollTop=function(){var c=Math.min(this.props.centerContainer.height-this.props.center.height,0);return c!=this.props.scrollTopMin&&("top"!=this.options.orientation.item&&(this.props.scrollTop+=c-this.props.scrollTopMin),this.props.scrollTopMin=c),this.props.scrollTop>0&&(this.props.scrollTop=0),this.props.scrollTop<c&&(this.props.scrollTop=c),this.options.verticalScroll&&(this.dom.left.parentNode.scrollTop=-this.props.scrollTop,this.dom.right.parentNode.scrollTop=-this.props.scrollTop),this.props.scrollTop},x.prototype._getScrollTop=function(){return this.props.scrollTop},x.prototype._createConfigurator=function(){throw new Error("Cannot invoke abstract method _createConfigurator")},ee.exports=x},function(ee,U,S){var B=S(9),D=S(36),I=S(2);function P(N,L,T,F,M){this.moment=B,this.current=this.moment(),this._start=this.moment(),this._end=this.moment(),this.autoScale=!0,this.scale="day",this.step=1,this.setRange(N,L,T),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,this.hiddenDates=Array.isArray(F)?F:null!=F?[F]:[],this.format=P.FORMAT,this.options=M||{}}P.FORMAT={minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},P.prototype.setMoment=function(N){this.moment=N,this.current=this.moment(this.current.valueOf()),this._start=this.moment(this._start.valueOf()),this._end=this.moment(this._end.valueOf())},P.prototype.setFormat=function(N){var L=I.deepExtend({},P.FORMAT);this.format=I.deepExtend(L,N)},P.prototype.setRange=function(N,L,T){if(!(N instanceof Date&&L instanceof Date))throw"No legal start or end date in method setRange";this._start=null!=N?this.moment(N.valueOf()):new Date,this._end=null!=L?this.moment(L.valueOf()):new Date,this.autoScale&&this.setMinimumStep(T)},P.prototype.start=function(){this.current=this._start.clone(),this.roundToMinor()},P.prototype.roundToMinor=function(){switch("week"==this.scale&&this.current.weekday(0),this.scale){case"year":this.current.year(this.step*Math.floor(this.current.year()/this.step)),this.current.month(0);case"month":this.current.date(1);case"week":case"day":case"weekday":this.current.hours(0);case"hour":this.current.minutes(0);case"minute":this.current.seconds(0);case"second":this.current.milliseconds(0)}if(1!=this.step)switch(this.scale){case"millisecond":this.current.subtract(this.current.milliseconds()%this.step,"milliseconds");break;case"second":this.current.subtract(this.current.seconds()%this.step,"seconds");break;case"minute":this.current.subtract(this.current.minutes()%this.step,"minutes");break;case"hour":this.current.subtract(this.current.hours()%this.step,"hours");break;case"weekday":case"day":this.current.subtract((this.current.date()-1)%this.step,"day");break;case"week":this.current.subtract(this.current.week()%this.step,"week");break;case"month":this.current.subtract(this.current.month()%this.step,"month");break;case"year":this.current.subtract(this.current.year()%this.step,"year")}},P.prototype.hasNext=function(){return this.current.valueOf()<=this._end.valueOf()},P.prototype.next=function(){var N=this.current.valueOf();switch(this.scale){case"millisecond":this.current.add(this.step,"millisecond");break;case"second":this.current.add(this.step,"second");break;case"minute":this.current.add(this.step,"minute");break;case"hour":this.current.add(this.step,"hour"),this.current.month()<6?this.current.subtract(this.current.hours()%this.step,"hour"):this.current.hours()%this.step!=0&&this.current.add(this.step-this.current.hours()%this.step,"hour");break;case"weekday":case"day":this.current.add(this.step,"day");break;case"week":if(0!==this.current.weekday())this.current.weekday(0),this.current.add(this.step,"week");else if(!1===this.options.showMajorLabels)this.current.add(this.step,"week");else{var L=this.current.clone();L.add(1,"week"),L.isSame(this.current,"month")?this.current.add(this.step,"week"):(this.current.add(this.step,"week"),this.current.date(1))}break;case"month":this.current.add(this.step,"month");break;case"year":this.current.add(this.step,"year")}if(1!=this.step)switch(this.scale){case"millisecond":this.current.milliseconds()>0&&this.current.milliseconds()<this.step&&this.current.milliseconds(0);break;case"second":this.current.seconds()>0&&this.current.seconds()<this.step&&this.current.seconds(0);break;case"minute":this.current.minutes()>0&&this.current.minutes()<this.step&&this.current.minutes(0);break;case"hour":this.current.hours()>0&&this.current.hours()<this.step&&this.current.hours(0);break;case"weekday":case"day":this.current.date()<this.step+1&&this.current.date(1);break;case"week":this.current.week()<this.step&&this.current.week(1);break;case"month":this.current.month()<this.step&&this.current.month(0)}this.current.valueOf()==N&&(this.current=this._end.clone()),this.switchedDay=!1,this.switchedMonth=!1,this.switchedYear=!1,D.stepOverHiddenDates(this.moment,this,N)},P.prototype.getCurrent=function(){return this.current},P.prototype.setScale=function(N){N&&"string"==typeof N.scale&&(this.scale=N.scale,this.step=N.step>0?N.step:1,this.autoScale=!1)},P.prototype.setAutoScale=function(N){this.autoScale=N},P.prototype.setMinimumStep=function(N){if(null!=N){var L=31104e6,T=2592e6,F=864e5,M=36e5,E=6e4,b=1e3;1e3*L>N&&(this.scale="year",this.step=1e3),500*L>N&&(this.scale="year",this.step=500),100*L>N&&(this.scale="year",this.step=100),50*L>N&&(this.scale="year",this.step=50),10*L>N&&(this.scale="year",this.step=10),5*L>N&&(this.scale="year",this.step=5),L>N&&(this.scale="year",this.step=1),3*T>N&&(this.scale="month",this.step=3),T>N&&(this.scale="month",this.step=1),5*F>N&&(this.scale="day",this.step=5),2*F>N&&(this.scale="day",this.step=2),F>N&&(this.scale="day",this.step=1),F/2>N&&(this.scale="weekday",this.step=1),4*M>N&&(this.scale="hour",this.step=4),M>N&&(this.scale="hour",this.step=1),15*E>N&&(this.scale="minute",this.step=15),10*E>N&&(this.scale="minute",this.step=10),5*E>N&&(this.scale="minute",this.step=5),E>N&&(this.scale="minute",this.step=1),15*b>N&&(this.scale="second",this.step=15),10*b>N&&(this.scale="second",this.step=10),5*b>N&&(this.scale="second",this.step=5),b>N&&(this.scale="second",this.step=1),200>N&&(this.scale="millisecond",this.step=200),100>N&&(this.scale="millisecond",this.step=100),50>N&&(this.scale="millisecond",this.step=50),10>N&&(this.scale="millisecond",this.step=10),5>N&&(this.scale="millisecond",this.step=5),1>N&&(this.scale="millisecond",this.step=1)}},P.snap=function(N,L,T){var F=B(N);if("year"==L){var M=F.year()+Math.round(F.month()/12);F.year(Math.round(M/T)*T),F.month(0),F.date(0),F.hours(0),F.minutes(0),F.seconds(0),F.milliseconds(0)}else if("month"==L)F.date()>15?(F.date(1),F.add(1,"month")):F.date(1),F.hours(0),F.minutes(0),F.seconds(0),F.milliseconds(0);else if("week"==L)F.weekday()>2?(F.weekday(0),F.add(1,"week")):F.weekday(0),F.hours(0),F.minutes(0),F.seconds(0),F.milliseconds(0);else if("day"==L){switch(T){case 5:case 2:F.hours(24*Math.round(F.hours()/24));break;default:F.hours(12*Math.round(F.hours()/12))}F.minutes(0),F.seconds(0),F.milliseconds(0)}else if("weekday"==L){switch(T){case 5:case 2:F.hours(12*Math.round(F.hours()/12));break;default:F.hours(6*Math.round(F.hours()/6))}F.minutes(0),F.seconds(0),F.milliseconds(0)}else if("hour"==L)F.minutes(4===T?60*Math.round(F.minutes()/60):30*Math.round(F.minutes()/30)),F.seconds(0),F.milliseconds(0);else if("minute"==L){switch(T){case 15:case 10:F.minutes(5*Math.round(F.minutes()/5)),F.seconds(0);break;case 5:F.seconds(60*Math.round(F.seconds()/60));break;default:F.seconds(30*Math.round(F.seconds()/30))}F.milliseconds(0)}else if("second"==L)switch(T){case 15:case 10:F.seconds(5*Math.round(F.seconds()/5)),F.milliseconds(0);break;case 5:F.milliseconds(1e3*Math.round(F.milliseconds()/1e3));break;default:F.milliseconds(500*Math.round(F.milliseconds()/500))}else if("millisecond"==L){var E=T>5?T/2:1;F.milliseconds(Math.round(F.milliseconds()/E)*E)}return F},P.prototype.isMajor=function(){if(1==this.switchedYear)switch(this.scale){case"year":case"month":case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedMonth)switch(this.scale){case"week":case"weekday":case"day":case"hour":case"minute":case"second":case"millisecond":return!0;default:return!1}else if(1==this.switchedDay)switch(this.scale){case"millisecond":case"second":case"minute":case"hour":return!0;default:return!1}var N=this.moment(this.current);switch(this.scale){case"millisecond":return 0==N.milliseconds();case"second":return 0==N.seconds();case"minute":return 0==N.hours()&&0==N.minutes();case"hour":return 0==N.hours();case"weekday":case"day":case"week":return 1==N.date();case"month":return 0==N.month();default:return!1}},P.prototype.getLabelMinor=function(N){if(null==N&&(N=this.current),N instanceof Date&&(N=this.moment(N)),"function"==typeof this.format.minorLabels)return this.format.minorLabels(N,this.scale,this.step);var L=this.format.minorLabels[this.scale];return"week"===this.scale&&this.isMajor()&&0!==N.weekday()?"":L&&L.length>0?this.moment(N).format(L):""},P.prototype.getLabelMajor=function(N){if(null==N&&(N=this.current),N instanceof Date&&(N=this.moment(N)),"function"==typeof this.format.majorLabels)return this.format.majorLabels(N,this.scale,this.step);var L=this.format.majorLabels[this.scale];return L&&L.length>0?this.moment(N).format(L):""},P.prototype.getClassName=function(){var N=this.moment,L=this.moment(this.current),T=L.locale?L.locale("en"):L.lang("en"),F=this.step,M=[];function E(c){return c/F%2==0?" vis-even":" vis-odd"}function b(c){return c.isSame(new Date,"day")?" vis-today":c.isSame(N().add(1,"day"),"day")?" vis-tomorrow":c.isSame(N().add(-1,"day"),"day")?" vis-yesterday":""}function y(c){return c.isSame(new Date,"week")?" vis-current-week":""}function g(c){return c.isSame(new Date,"month")?" vis-current-month":""}switch(this.scale){case"millisecond":M.push(b(T)),M.push(E(T.milliseconds()));break;case"second":M.push(b(T)),M.push(E(T.seconds()));break;case"minute":M.push(b(T)),M.push(E(T.minutes()));break;case"hour":M.push("vis-h"+T.hours()+(4==this.step?"-h"+(T.hours()+4):"")),M.push(b(T)),M.push(E(T.hours()));break;case"weekday":M.push("vis-"+T.format("dddd").toLowerCase()),M.push(b(T)),M.push(y(T)),M.push(E(T.date()));break;case"day":M.push("vis-day"+T.date()),M.push("vis-"+T.format("MMMM").toLowerCase()),M.push(b(T)),M.push(g(T)),M.push(this.step<=2?b(T):""),M.push(this.step<=2?"vis-"+T.format("dddd").toLowerCase():""),M.push(E(T.date()-1));break;case"week":M.push("vis-week"+T.format("w")),M.push(y(T)),M.push(E(T.week()));break;case"month":M.push("vis-"+T.format("MMMM").toLowerCase()),M.push(g(T)),M.push(E(T.month()));break;case"year":M.push("vis-year"+T.year()),M.push(function x(c){return c.isSame(new Date,"year")?" vis-current-year":""}(T)),M.push(E(T.year()))}return M.filter(String).join(" ")},ee.exports=P},function(ee,U,S){var B=S(2),D=S(16),I=S(9),P=S(98);function N(L,T){this.body=L,this.defaultOptions={rtl:!1,showCurrentTime:!0,moment:I,locales:P,locale:"en"},this.options=B.extend({},this.defaultOptions),this.offset=0,this._create(),this.setOptions(T)}(N.prototype=new D)._create=function(){var L=document.createElement("div");L.className="vis-current-time",L.style.position="absolute",L.style.top="0px",L.style.height="100%",this.bar=L},N.prototype.destroy=function(){this.options.showCurrentTime=!1,this.redraw(),this.body=null},N.prototype.setOptions=function(L){L&&B.selectiveExtend(["rtl","showCurrentTime","moment","locale","locales"],this.options,L)},N.prototype.redraw=function(){if(this.options.showCurrentTime){var L=this.body.dom.backgroundVertical;this.bar.parentNode!=L&&(this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),L.appendChild(this.bar),this.start());var T=this.options.moment((new Date).valueOf()+this.offset),F=this.body.util.toScreen(T),M=this.options.locales[this.options.locale];M||(this.warned||(console.log("WARNING: options.locales['"+this.options.locale+"'] not found. See http://visjs.org/docs/timeline/#Localization"),this.warned=!0),M=this.options.locales.en);var E=M.current+" "+M.time+": "+T.format("dddd, MMMM Do YYYY, H:mm:ss");E=E.charAt(0).toUpperCase()+E.substring(1),this.options.rtl?this.bar.style.right=F+"px":this.bar.style.left=F+"px",this.bar.title=E}else this.bar.parentNode&&this.bar.parentNode.removeChild(this.bar),this.stop();return!1},N.prototype.start=function(){var L=this;!function T(){L.stop();var M=1/L.body.range.conversion(L.body.domProps.center.width).scale/10;M<30&&(M=30),M>1e3&&(M=1e3),L.redraw(),L.body.emitter.emit("currentTimeTick"),L.currentTimeTimer=setTimeout(T,M)}()},N.prototype.stop=function(){void 0!==this.currentTimeTimer&&(clearTimeout(this.currentTimeTimer),delete this.currentTimeTimer)},N.prototype.setCurrentTime=function(L){var T=B.convert(L,"Date").valueOf(),F=(new Date).valueOf();this.offset=T-F,this.redraw()},N.prototype.getCurrentTime=function(){return new Date((new Date).valueOf()+this.offset)},ee.exports=N},function(ee,U,S){var D=function I(T){return T&&T.__esModule?T:{default:T}}(S(8));var P=S(2),N=S(100);function L(T,F,M){if(this.groupId=T,this.subgroups={},this.subgroupStack={},this.subgroupStackAll=!1,this.doInnerStack=!1,this.subgroupIndex=0,this.subgroupOrderer=F&&F.subgroupOrder,this.itemSet=M,this.isVisible=null,this.stackDirty=!0,F&&F.nestedGroups&&(this.nestedGroups=F.nestedGroups,this.showNested=0!=F.showNested),F&&F.subgroupStack)if("boolean"==typeof F.subgroupStack)this.doInnerStack=F.subgroupStack,this.subgroupStackAll=F.subgroupStack;else for(var E in F.subgroupStack)this.subgroupStack[E]=F.subgroupStack[E],this.doInnerStack=this.doInnerStack||F.subgroupStack[E];this.nestedInGroup=null,this.dom={},this.props={label:{width:0,height:0}},this.className=null,this.items={},this.visibleItems=[],this.itemsInRange=[],this.orderedItems={byStart:[],byEnd:[]},this.checkRangedItems=!1;var b=this;this.itemSet.body.emitter.on("checkRangedItems",function(){b.checkRangedItems=!0}),this._create(),this.setData(F)}L.prototype._create=function(){var T=document.createElement("div");T.className=this.itemSet.options.groupEditable.order?"vis-label draggable":"vis-label",this.dom.label=T;var F=document.createElement("div");F.className="vis-inner",T.appendChild(F),this.dom.inner=F;var M=document.createElement("div");M.className="vis-group",M["timeline-group"]=this,this.dom.foreground=M,this.dom.background=document.createElement("div"),this.dom.background.className="vis-group",this.dom.axis=document.createElement("div"),this.dom.axis.className="vis-group",this.dom.marker=document.createElement("div"),this.dom.marker.style.visibility="hidden",this.dom.marker.style.position="absolute",this.dom.marker.innerHTML="",this.dom.background.appendChild(this.dom.marker)},L.prototype.setData=function(T){var F,M;if((F=this.itemSet.options&&this.itemSet.options.groupTemplate?(M=this.itemSet.options.groupTemplate.bind(this))(T,this.dom.inner):T&&T.content)instanceof Element){for(this.dom.inner.appendChild(F);this.dom.inner.firstChild;)this.dom.inner.removeChild(this.dom.inner.firstChild);this.dom.inner.appendChild(F)}else F instanceof Object?M(T,this.dom.inner):this.dom.inner.innerHTML=null!=F?F:this.groupId||"";if(this.dom.label.title=T&&T.title||"",this.dom.inner.firstChild?P.removeClassName(this.dom.inner,"vis-hidden"):P.addClassName(this.dom.inner,"vis-hidden"),T&&T.nestedGroups){(!this.nestedGroups||this.nestedGroups!=T.nestedGroups)&&(this.nestedGroups=T.nestedGroups),(void 0!==T.showNested||void 0===this.showNested)&&(this.showNested=0!=T.showNested),P.addClassName(this.dom.label,"vis-nesting-group");var E=this.itemSet.options.rtl?"collapsed-rtl":"collapsed";this.showNested?(P.removeClassName(this.dom.label,E),P.addClassName(this.dom.label,"expanded")):(P.removeClassName(this.dom.label,"expanded"),P.addClassName(this.dom.label,E))}else this.nestedGroups&&(this.nestedGroups=null,P.removeClassName(this.dom.label,E=this.itemSet.options.rtl?"collapsed-rtl":"collapsed"),P.removeClassName(this.dom.label,"expanded"),P.removeClassName(this.dom.label,"vis-nesting-group"));T&&T.nestedInGroup&&(P.addClassName(this.dom.label,"vis-nested-group"),this.itemSet.options&&this.itemSet.options.rtl?this.dom.inner.style.paddingRight="30px":this.dom.inner.style.paddingLeft="30px");var b=T&&T.className||null;b!=this.className&&(this.className&&(P.removeClassName(this.dom.label,this.className),P.removeClassName(this.dom.foreground,this.className),P.removeClassName(this.dom.background,this.className),P.removeClassName(this.dom.axis,this.className)),P.addClassName(this.dom.label,b),P.addClassName(this.dom.foreground,b),P.addClassName(this.dom.background,b),P.addClassName(this.dom.axis,b),this.className=b),this.style&&(P.removeCssText(this.dom.label,this.style),this.style=null),T&&T.style&&(P.addCssText(this.dom.label,T.style),this.style=T.style)},L.prototype.getLabelWidth=function(){return this.props.label.width},L.prototype._didMarkerHeightChange=function(){var T=this.dom.marker.clientHeight;if(T!=this.lastMarkerHeight){this.lastMarkerHeight=T;var F={},M=0;if(P.forEach(this.items,function(y,g){y.dirty=!0,y.displayed&&(F[g]=y.redraw(!0),M=F[g].length)}),M>0)for(var b=0;b<M;b++)P.forEach(F,function(y){y[b]()});return!0}},L.prototype._calculateGroupSizeAndPosition=function(){var F=this.dom.foreground.offsetLeft,M=this.dom.foreground.offsetWidth;this.top=this.dom.foreground.offsetTop,this.right=F,this.width=M},L.prototype._redrawItems=function(T,F,M,E){if(T||this.stackDirty||this.isVisible&&!F){var y={},g=null;if("function"==typeof this.itemSet.options.order){var x=this,m={},h=0;if(P.forEach(this.items,function(f,p){f.displayed||(m[p]=f.redraw(!0),h=m[p].length,x.visibleItems.push(f))}),h>0)for(var v=0;v<h;v++)P.forEach(m,function(f){f[v]()});if(P.forEach(this.items,function(f){f.repositionX(false)}),this.doInnerStack&&this.itemSet.options.stackSubgroups){for(g in this.subgroups)y[g]=this.subgroups[g].items.slice().sort(function(f,p){return x.itemSet.options.order(f.data,p.data)});N.stackSubgroupsWithInnerStack(y,M,this.subgroups)}else{var C=this.orderedItems.byStart.slice().sort(function(f,p){return x.itemSet.options.order(f.data,p.data)});N.stack(C,M,!0)}this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,E)}else if(this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,E),this.itemSet.options.stack)if(this.doInnerStack&&this.itemSet.options.stackSubgroups){for(g in this.subgroups)y[g]=this.subgroups[g].items;N.stackSubgroupsWithInnerStack(y,M,this.subgroups)}else N.stack(this.visibleItems,M,!0);else N.nostack(this.visibleItems,M,this.subgroups,this.itemSet.options.stackSubgroups);this.stackDirty=!1}},L.prototype._didResize=function(T,F){T=P.updateProperty(this,"height",F)||T;var E=this.dom.inner.clientHeight;return T=P.updateProperty(this.props.label,"width",this.dom.inner.clientWidth)||T,P.updateProperty(this.props.label,"height",E)||T},L.prototype._applyGroupHeight=function(T){this.dom.background.style.height=T+"px",this.dom.foreground.style.height=T+"px",this.dom.label.style.height=T+"px"},L.prototype._updateItemsVerticalPosition=function(T){for(var F=0,M=this.visibleItems.length;F<M;F++){var E=this.visibleItems[F];E.repositionY(T),!this.isVisible&&"__background__"!=this.groupId&&E.displayed&&E.hide()}},L.prototype.redraw=function(T,F,M,E){var g,c,b=!1,y=this.isVisible,x=[function(){M=this._didMarkerHeightChange.bind(this)}.bind(this),this._updateSubGroupHeights.bind(this,F),this._calculateGroupSizeAndPosition.bind(this),function(){this.isVisible=this._isGroupVisible.bind(this)(T,F)}.bind(this),function(){this._redrawItems.bind(this)(M,y,F,T)}.bind(this),this._updateSubgroupsSizes.bind(this),function(){g=this._calculateHeight.bind(this)(F)}.bind(this),this._calculateGroupSizeAndPosition.bind(this),function(){b=this._didResize.bind(this)(b,g)}.bind(this),function(){this._applyGroupHeight.bind(this)(g)}.bind(this),function(){this._updateItemsVerticalPosition.bind(this)(F)}.bind(this),function(){return!this.isVisible&&this.height&&(b=!1),b}];return E?x:(x.forEach(function(m){c=m()}),c)},L.prototype._updateSubGroupHeights=function(T){if((0,D.default)(this.subgroups).length>0){var F=this;this.resetSubgroups(),P.forEach(this.visibleItems,function(M){void 0!==M.data.subgroup&&(F.subgroups[M.data.subgroup].height=Math.max(F.subgroups[M.data.subgroup].height,M.height+T.item.vertical),F.subgroups[M.data.subgroup].visible=!0)})}},L.prototype._isGroupVisible=function(T,F){return this.top<=T.body.domProps.centerContainer.height-T.body.domProps.scrollTop+F.axis&&this.top+this.height+F.axis>=-T.body.domProps.scrollTop},L.prototype._calculateHeight=function(T){var F,M=this.visibleItems;if(M.length>0){var E=M[0].top,b=M[0].top+M[0].height;if(P.forEach(M,function(g){E=Math.min(E,g.top),b=Math.max(b,g.top+g.height)}),E>T.axis){var y=E-T.axis;b-=y,P.forEach(M,function(g){g.top-=y})}F=b+T.item.vertical/2}else F=0;return Math.max(F,this.props.label.height)},L.prototype.show=function(){this.dom.label.parentNode||this.itemSet.dom.labelSet.appendChild(this.dom.label),this.dom.foreground.parentNode||this.itemSet.dom.foreground.appendChild(this.dom.foreground),this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background),this.dom.axis.parentNode||this.itemSet.dom.axis.appendChild(this.dom.axis)},L.prototype.hide=function(){var T=this.dom.label;T.parentNode&&T.parentNode.removeChild(T);var F=this.dom.foreground;F.parentNode&&F.parentNode.removeChild(F);var M=this.dom.background;M.parentNode&&M.parentNode.removeChild(M);var E=this.dom.axis;E.parentNode&&E.parentNode.removeChild(E)},L.prototype.add=function(T){this.items[T.id]=T,T.setParent(this),this.stackDirty=!0,void 0!==T.data.subgroup&&(this._addToSubgroup(T),this.orderSubgroups()),-1==this.visibleItems.indexOf(T)&&this._checkIfVisible(T,this.visibleItems,this.itemSet.body.range)},L.prototype._addToSubgroup=function(T,F){null!=(F=F||T.data.subgroup)&&void 0===this.subgroups[F]&&(this.subgroups[F]={height:0,top:0,start:T.data.start,end:T.data.end||T.data.start,visible:!1,index:this.subgroupIndex,items:[],stack:this.subgroupStackAll||this.subgroupStack[F]||!1},this.subgroupIndex++),new Date(T.data.start)<new Date(this.subgroups[F].start)&&(this.subgroups[F].start=T.data.start);var M=T.data.end||T.data.start;new Date(M)>new Date(this.subgroups[F].end)&&(this.subgroups[F].end=M),this.subgroups[F].items.push(T)},L.prototype._updateSubgroupsSizes=function(){var T=this;if(T.subgroups)for(var F in T.subgroups){var E=T.subgroups[F].items[0].data.start,b=(T.subgroups[F].items[0].data.end||T.subgroups[F].items[0].data.start)-1;T.subgroups[F].items.forEach(function(y){new Date(y.data.start)<new Date(E)&&(E=y.data.start);var g=y.data.end||y.data.start;new Date(g)>new Date(b)&&(b=g)}),T.subgroups[F].start=E,T.subgroups[F].end=new Date(b-1)}},L.prototype.orderSubgroups=function(){if(void 0!==this.subgroupOrderer){var F,T=[];if("string"==typeof this.subgroupOrderer){for(F in this.subgroups)T.push({subgroup:F,sortField:this.subgroups[F].items[0].data[this.subgroupOrderer]});T.sort(function(E,b){return E.sortField-b.sortField})}else if("function"==typeof this.subgroupOrderer){for(F in this.subgroups)T.push(this.subgroups[F].items[0].data);T.sort(this.subgroupOrderer)}if(T.length>0)for(var M=0;M<T.length;M++)this.subgroups[T[M].subgroup].index=M}},L.prototype.resetSubgroups=function(){for(var T in this.subgroups)this.subgroups.hasOwnProperty(T)&&(this.subgroups[T].visible=!1,this.subgroups[T].height=0)},L.prototype.remove=function(T){delete this.items[T.id],T.setParent(null),this.stackDirty=!0;var F=this.visibleItems.indexOf(T);-1!=F&&this.visibleItems.splice(F,1),void 0!==T.data.subgroup&&(this._removeFromSubgroup(T),this.orderSubgroups())},L.prototype._removeFromSubgroup=function(T,F){if(null!=(F=F||T.data.subgroup)){var M=this.subgroups[F];if(M){var E=M.items.indexOf(T);E>=0&&(M.items.splice(E,1),M.items.length?this._updateSubgroupsSizes():delete this.subgroups[F])}}},L.prototype.removeFromDataSet=function(T){this.itemSet.removeItem(T.id)},L.prototype.order=function(){for(var T=P.toArray(this.items),F=[],M=[],E=0;E<T.length;E++)void 0!==T[E].data.end&&M.push(T[E]),F.push(T[E]);this.orderedItems={byStart:F,byEnd:M},N.orderByStart(this.orderedItems.byStart),N.orderByEnd(this.orderedItems.byEnd)},L.prototype._updateItemsInRange=function(T,F,M){var E=[],b={},y=(M.end-M.start)/4,g=M.start-y,x=M.end+y,c=function(j){return j<g?-1:j<=x?0:1};if(F.length>0)for(var m=0;m<F.length;m++)this._checkIfVisibleWithReference(F[m],E,b,M);var h=P.binarySearchCustom(T.byStart,c,"data","start");if(this._traceVisible(h,T.byStart,E,b,function(V){return V.data.start<g||V.data.start>x}),1==this.checkRangedItems)for(this.checkRangedItems=!1,m=0;m<T.byEnd.length;m++)this._checkIfVisibleWithReference(T.byEnd[m],E,b,M);else{var d=P.binarySearchCustom(T.byEnd,c,"data","end");this._traceVisible(d,T.byEnd,E,b,function(V){return V.data.end<g||V.data.end>x})}var v={},C=0;for(m=0;m<E.length;m++){var f=E[m];f.displayed||(v[m]=f.redraw(!0),C=v[m].length)}if(C>0)for(var O=0;O<C;O++)P.forEach(v,function(V){V[O]()});for(m=0;m<E.length;m++)E[m].repositionX();return E},L.prototype._traceVisible=function(T,F,M,E,b){if(-1!=T){var y,g;for(y=T;y>=0&&!b(g=F[y]);y--)void 0===E[g.id]&&(E[g.id]=!0,M.push(g));for(y=T+1;y<F.length&&!b(g=F[y]);y++)void 0===E[g.id]&&(E[g.id]=!0,M.push(g))}},L.prototype._checkIfVisible=function(T,F,M){T.isVisible(M)?(T.displayed||T.show(),T.repositionX(),F.push(T)):T.displayed&&T.hide()},L.prototype._checkIfVisibleWithReference=function(T,F,M,E){T.isVisible(E)?void 0===M[T.id]&&(M[T.id]=!0,F.push(T)):T.displayed&&T.hide()},L.prototype.changeSubgroup=function(T,F,M){this._removeFromSubgroup(T,F),this._addToSubgroup(T,M),this.orderSubgroups()},ee.exports=L},function(ee,U,S){var D=function I(L){return L&&L.__esModule?L:{default:L}}(S(29));var P=S(68);function N(L,T,F){P.call(this,L,T,F),this.width=0,this.height=0,this.top=0,this.left=0}(N.prototype=(0,D.default)(P.prototype)).redraw=function(L,T,F){this.visibleItems=this._updateItemsInRange(this.orderedItems,this.visibleItems,L),this.width=this.dom.background.offsetWidth,this.dom.background.style.height="0";for(var E=0,b=this.visibleItems.length;E<b;E++)this.visibleItems[E].repositionY(T);return!1},N.prototype.show=function(){this.dom.background.parentNode||this.itemSet.dom.background.appendChild(this.dom.background)},ee.exports=N},function(ee,U,S){var B=S(38);function D(I,P,N){if(this.props={content:{width:0}},this.overflow=!1,this.options=N,I){if(null==I.start)throw new Error('Property "start" missing in item '+I.id);if(null==I.end)throw new Error('Property "end" missing in item '+I.id)}B.call(this,I,P,N)}(D.prototype=new B(null,null,null)).baseClassName="vis-item vis-range",D.prototype.isVisible=function(I){return this.data.start<I.end&&this.data.end>I.start},D.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.visibleFrame=document.createElement("div"),this.dom.visibleFrame.className="vis-item-visible-frame",this.dom.box.appendChild(this.dom.visibleFrame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dom.box["timeline-item"]=this,this.dirty=!0)},D.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var I=this.parent.dom.foreground;if(!I)throw new Error("Cannot redraw item: parent has no foreground container element");I.appendChild(this.dom.box)}this.displayed=!0},D.prototype._updateDirtyDomComponents=function(){this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box),this.dom.box.className=this.baseClassName+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly"),this.dom.content.style.maxWidth="none")},D.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.frame).overflow,{content:{width:this.dom.content.offsetWidth},box:{height:this.dom.box.offsetHeight}}},D.prototype._updateDomComponentsSizes=function(I){this.props.content.width=I.content.width,this.height=I.box.height,this.dom.content.style.maxWidth="",this.dirty=!1},D.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDeleteButton(this.dom.box),this._repaintDragCenter(),this._repaintDragLeft(),this._repaintDragRight()},D.prototype.redraw=function(I){var P,L,N=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(P=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(P)}.bind(this),this._repaintDomAdditionals.bind(this)];return I?N:(N.forEach(function(T){L=T()}),L)},D.prototype.show=function(){this.displayed||this.redraw()},D.prototype.hide=function(){if(this.displayed){var I=this.dom.box;I.parentNode&&I.parentNode.removeChild(I),this.displayed=!1}},D.prototype.repositionX=function(I){var F,M,P=this.parent.width,N=this.conversion.toScreen(this.data.start),L=this.conversion.toScreen(this.data.end),T=void 0===this.data.align?this.options.align:this.data.align;!1!==this.data.limitSize&&(void 0===I||!0===I)&&(N<-P&&(N=-P),L>2*P&&(L=2*P));var E=Math.max(L-N+.5,1);switch(this.overflow?(this.options.rtl?this.right=N:this.left=N,this.width=E+this.props.content.width,M=this.props.content.width):(this.options.rtl?this.right=N:this.left=N,this.width=E,M=Math.min(L-N,this.props.content.width)),this.options.rtl?this.dom.box.style.right=this.right+"px":this.dom.box.style.left=this.left+"px",this.dom.box.style.width=E+"px",T){case"left":this.options.rtl?this.dom.content.style.right="0":this.dom.content.style.left="0";break;case"right":this.options.rtl?this.dom.content.style.right=Math.max(E-M,0)+"px":this.dom.content.style.left=Math.max(E-M,0)+"px";break;case"center":this.options.rtl?this.dom.content.style.right=Math.max((E-M)/2,0)+"px":this.dom.content.style.left=Math.max((E-M)/2,0)+"px";break;default:F=this.overflow?L>0?Math.max(-N,0):-M:N<0?-N:0,this.options.rtl?this.dom.content.style.right=F+"px":(this.dom.content.style.left=F+"px",this.dom.content.style.width="calc(100% - "+F+"px)")}},D.prototype.repositionY=function(){this.dom.box.style.top="top"==this.options.orientation.item?this.top+"px":this.parent.height-this.top-this.height+"px"},D.prototype._repaintDragLeft=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragLeft){var I=document.createElement("div");I.className="vis-drag-left",I.dragLeftItem=this,this.dom.box.appendChild(I),this.dom.dragLeft=I}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragLeft&&(this.dom.dragLeft.parentNode&&this.dom.dragLeft.parentNode.removeChild(this.dom.dragLeft),this.dom.dragLeft=null)},D.prototype._repaintDragRight=function(){if((this.selected||this.options.itemsAlwaysDraggable.range)&&this.options.editable.updateTime&&!this.dom.dragRight){var I=document.createElement("div");I.className="vis-drag-right",I.dragRightItem=this,this.dom.box.appendChild(I),this.dom.dragRight=I}else!this.selected&&!this.options.itemsAlwaysDraggable.range&&this.dom.dragRight&&(this.dom.dragRight.parentNode&&this.dom.dragRight.parentNode.removeChild(this.dom.dragRight),this.dom.dragRight=null)},ee.exports=D},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=M(S(19)),P=M(S(6)),L=M(S(0)),F=M(S(1));function M(g){return g&&g.__esModule?g:{default:g}}var E=S(2),b=S(179).default,y=function(){function g(x,c,m){var h=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1;(0,L.default)(this,g),this.parent=x,this.changedOptions=[],this.container=c,this.allowCreation=!1,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},E.extend(this.options,this.defaultOptions),this.configureOptions=m,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new b(h),this.wrapper=void 0}return(0,F.default)(g,[{key:"setOptions",value:function(c){if(void 0!==c){this.popupHistory={},this._removePopup();var m=!0;"string"==typeof c?this.options.filter=c:c instanceof Array?this.options.filter=c.join():"object"===(typeof c>"u"?"undefined":(0,P.default)(c))?(void 0!==c.container&&(this.options.container=c.container),void 0!==c.filter&&(this.options.filter=c.filter),void 0!==c.showButton&&(this.options.showButton=c.showButton),void 0!==c.enabled&&(m=c.enabled)):"boolean"==typeof c?(this.options.filter=!0,m=c):"function"==typeof c&&(this.options.filter=c,m=!0),!1===this.options.filter&&(m=!1),this.options.enabled=m}this._clean()}},{key:"setModuleOptions",value:function(c){this.moduleOptions=c,!0===this.options.enabled&&(this._clean(),void 0!==this.options.container&&(this.container=this.options.container),this._create())}},{key:"_create",value:function(){var c=this;this._clean(),this.changedOptions=[];var m=this.options.filter,h=0,d=!1;for(var v in this.configureOptions)this.configureOptions.hasOwnProperty(v)&&(this.allowCreation=!1,d=!1,"function"==typeof m?d=(d=m(v,[]))||this._handleObject(this.configureOptions[v],[v],!0):(!0===m||-1!==m.indexOf(v))&&(d=!0),!1!==d&&(this.allowCreation=!0,h>0&&this._makeItem([]),this._makeHeader(v),this._handleObject(this.configureOptions[v],[v])),h++);if(!0===this.options.showButton){var C=document.createElement("div");C.className="vis-configuration vis-config-button",C.innerHTML="generate options",C.onclick=function(){c._printOptions()},C.onmouseover=function(){C.className="vis-configuration vis-config-button hover"},C.onmouseout=function(){C.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(C)}this._push()}},{key:"_push",value:function(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(var c=0;c<this.domElements.length;c++)this.wrapper.appendChild(this.domElements[c]);this._showPopupIfNeeded()}},{key:"_clean",value:function(){for(var c=0;c<this.domElements.length;c++)this.wrapper.removeChild(this.domElements[c]);void 0!==this.wrapper&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}},{key:"_getValue",value:function(c){for(var m=this.moduleOptions,h=0;h<c.length;h++){if(void 0===m[c[h]]){m=void 0;break}m=m[c[h]]}return m}},{key:"_makeItem",value:function(c){if(!0===this.allowCreation){var m=document.createElement("div");m.className="vis-configuration vis-config-item vis-config-s"+c.length;for(var h=arguments.length,d=Array(h>1?h-1:0),v=1;v<h;v++)d[v-1]=arguments[v];return d.forEach(function(C){m.appendChild(C)}),this.domElements.push(m),this.domElements.length}return 0}},{key:"_makeHeader",value:function(c){var m=document.createElement("div");m.className="vis-configuration vis-config-header",m.innerHTML=c,this._makeItem([],m)}},{key:"_makeLabel",value:function(c,m){var h=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=document.createElement("div");return d.className="vis-configuration vis-config-label vis-config-s"+m.length,d.innerHTML=!0===h?"<i><b>"+c+":</b></i>":c+":",d}},{key:"_makeDropdown",value:function(c,m,h){var d=document.createElement("select");d.className="vis-configuration vis-config-select";var v=0;void 0!==m&&-1!==c.indexOf(m)&&(v=c.indexOf(m));for(var C=0;C<c.length;C++){var f=document.createElement("option");f.value=c[C],C===v&&(f.selected="selected"),f.innerHTML=c[C],d.appendChild(f)}var p=this;d.onchange=function(){p._update(this.value,h)};var _=this._makeLabel(h[h.length-1],h);this._makeItem(h,_,d)}},{key:"_makeRange",value:function(c,m,h){var d=c[0],v=c[1],C=c[2],f=c[3],p=document.createElement("input");p.className="vis-configuration vis-config-range";try{p.type="range",p.min=v,p.max=C}catch{}p.step=f;var _="",O=0;if(void 0!==m){var V=1.2;m<0&&m*V<v?(p.min=Math.ceil(m*V),O=p.min,_="range increased"):m/V<v&&(p.min=Math.ceil(m/V),O=p.min,_="range increased"),m*V>C&&1!==C&&(p.max=Math.ceil(m*V),O=p.max,_="range increased"),p.value=m}else p.value=d;var j=document.createElement("input");j.className="vis-configuration vis-config-rangeinput",j.value=p.value;var $=this;p.onchange=function(){j.value=this.value,$._update(Number(this.value),h)},p.oninput=function(){j.value=this.value};var W=this._makeLabel(h[h.length-1],h),Y=this._makeItem(h,W,p,j);""!==_&&this.popupHistory[Y]!==O&&(this.popupHistory[Y]=O,this._setupPopup(_,Y))}},{key:"_setupPopup",value:function(c,m){var h=this;if(!0===this.initialized&&!0===this.allowCreation&&this.popupCounter<this.popupLimit){var d=document.createElement("div");d.id="vis-configuration-popup",d.className="vis-configuration-popup",d.innerHTML=c,d.onclick=function(){h._removePopup()},this.popupCounter+=1,this.popupDiv={html:d,index:m}}}},{key:"_removePopup",value:function(){void 0!==this.popupDiv.html&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}},{key:"_showPopupIfNeeded",value:function(){var c=this;if(void 0!==this.popupDiv.html){var h=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=h.left+"px",this.popupDiv.html.style.top=h.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=setTimeout(function(){c.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=setTimeout(function(){c._removePopup()},1800)}}},{key:"_makeCheckbox",value:function(c,m,h){var d=document.createElement("input");d.type="checkbox",d.className="vis-configuration vis-config-checkbox",d.checked=c,void 0!==m&&(d.checked=m,m!==c&&("object"===(typeof c>"u"?"undefined":(0,P.default)(c))?m!==c.enabled&&this.changedOptions.push({path:h,value:m}):this.changedOptions.push({path:h,value:m})));var v=this;d.onchange=function(){v._update(this.checked,h)};var C=this._makeLabel(h[h.length-1],h);this._makeItem(h,C,d)}},{key:"_makeTextInput",value:function(c,m,h){var d=document.createElement("input");d.type="text",d.className="vis-configuration vis-config-text",d.value=m,m!==c&&this.changedOptions.push({path:h,value:m});var v=this;d.onchange=function(){v._update(this.value,h)};var C=this._makeLabel(h[h.length-1],h);this._makeItem(h,C,d)}},{key:"_makeColorField",value:function(c,m,h){var d=this,v=c[1],C=document.createElement("div");"none"!==(m=void 0===m?v:m)?(C.className="vis-configuration vis-config-colorBlock",C.style.backgroundColor=m):C.className="vis-configuration vis-config-colorBlock none",m=void 0===m?v:m,C.onclick=function(){d._showColorPicker(m,C,h)};var f=this._makeLabel(h[h.length-1],h);this._makeItem(h,f,C)}},{key:"_showColorPicker",value:function(c,m,h){var d=this;m.onclick=function(){},this.colorPicker.insertTo(m),this.colorPicker.show(),this.colorPicker.setColor(c),this.colorPicker.setUpdateCallback(function(v){var C="rgba("+v.r+","+v.g+","+v.b+","+v.a+")";m.style.backgroundColor=C,d._update(C,h)}),this.colorPicker.setCloseCallback(function(){m.onclick=function(){d._showColorPicker(c,m,h)}})}},{key:"_handleObject",value:function(c){var m=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],h=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=!1,v=this.options.filter,C=!1;for(var f in c)if(c.hasOwnProperty(f)){d=!0;var p=c[f],_=E.copyAndExtendArray(m,f);if("function"==typeof v&&!1===(d=v(f,m))&&!(p instanceof Array)&&"string"!=typeof p&&"boolean"!=typeof p&&p instanceof Object&&(this.allowCreation=!1,d=this._handleObject(p,_,!0),this.allowCreation=!1===h),!1!==d){C=!0;var O=this._getValue(_);if(p instanceof Array)this._handleArray(p,O,_);else if("string"==typeof p)this._makeTextInput(p,O,_);else if("boolean"==typeof p)this._makeCheckbox(p,O,_);else if(p instanceof Object){var V=!0;if(-1!==m.indexOf("physics")&&this.moduleOptions.physics.solver!==f&&(V=!1),!0===V)if(void 0!==p.enabled){var j=E.copyAndExtendArray(_,"enabled"),$=this._getValue(j);if(!0===$){var W=this._makeLabel(f,_,!0);this._makeItem(_,W),C=this._handleObject(p,_)||C}else this._makeCheckbox(p,$,_)}else{var Y=this._makeLabel(f,_,!0);this._makeItem(_,Y),C=this._handleObject(p,_)||C}}else console.error("dont know how to handle",p,f,_)}}return C}},{key:"_handleArray",value:function(c,m,h){"string"==typeof c[0]&&"color"===c[0]?(this._makeColorField(c,m,h),c[1]!==m&&this.changedOptions.push({path:h,value:m})):"string"==typeof c[0]?(this._makeDropdown(c,m,h),c[0]!==m&&this.changedOptions.push({path:h,value:m})):"number"==typeof c[0]&&(this._makeRange(c,m,h),c[0]!==m&&this.changedOptions.push({path:h,value:Number(m)}))}},{key:"_update",value:function(c,m){var h=this._constructOptions(c,m);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",h),this.initialized=!0,this.parent.setOptions(h)}},{key:"_constructOptions",value:function(c,m){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},d=h;c="false"!==(c="true"===c||c)&&c;for(var v=0;v<m.length;v++)"global"!==m[v]&&(void 0===d[m[v]]&&(d[m[v]]={}),v!==m.length-1?d=d[m[v]]:d[m[v]]=c);return h}},{key:"_printOptions",value:function(){var c=this.getOptions();this.optionsContainer.innerHTML="<pre>var options = "+(0,D.default)(c,null,2)+"</pre>"}},{key:"getOptions",value:function(){for(var c={},m=0;m<this.changedOptions.length;m++)this._constructOptions(this.changedOptions[m].value,this.changedOptions[m].path,c);return c}}]),g}();U.default=y},function(ee,U,S){var D=function I(F){return F&&F.__esModule?F:{default:F}}(S(6));var P=S(14);function N(F,M){}function L(F,M){return{style:(M=typeof M>"u"?{}:M).style||F.options.drawPoints.style,styles:M.styles||F.options.drawPoints.styles,size:M.size||F.options.drawPoints.size,className:M.className||F.className}}N.draw=function(F,M,E,b){b=b||0;for(var y=function T(F,M){var E=void 0;return F.options&&F.options.drawPoints&&F.options.drawPoints.onRender&&"function"==typeof F.options.drawPoints.onRender&&(E=F.options.drawPoints.onRender),M.group.options&&M.group.options.drawPoints&&M.group.options.drawPoints.onRender&&"function"==typeof M.group.options.drawPoints.onRender&&(E=M.group.options.drawPoints.onRender),E}(E,M),g=0;g<F.length;g++)if(y){var x=y(F[g],M);(!0===x||"object"===(typeof x>"u"?"undefined":(0,D.default)(x)))&&P.drawPoint(F[g].screen_x+b,F[g].screen_y,L(M,x),E.svgElements,E.svg,F[g].label)}else P.drawPoint(F[g].screen_x+b,F[g].screen_y,L(M),E.svgElements,E.svg,F[g].label)},N.drawIcon=function(F,M,E,b,y,g){var x=.5*y,c=P.getSVGElement("rect",g.svgElements,g.svg);c.setAttributeNS(null,"x",M),c.setAttributeNS(null,"y",E-x),c.setAttributeNS(null,"width",b),c.setAttributeNS(null,"height",2*x),c.setAttributeNS(null,"class","vis-outline"),P.drawPoint(M+.5*b,E,L(F),g.svgElements,g.svg)},ee.exports=N},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=g(S(3)),P=g(S(0)),L=g(S(1)),F=g(S(4)),E=g(S(5));function g(c){return c&&c.__esModule?c:{default:c}}var x=function(c){function m(h,d,v){(0,P.default)(this,m);var C=(0,F.default)(this,(m.__proto__||(0,D.default)(m)).call(this,h,d,v));return C.labelOffset=0,C.selected=!1,C}return(0,E.default)(m,c),(0,L.default)(m,[{key:"setOptions",value:function(d,v,C){this.options=d,void 0===v&&void 0===C||this.setImages(v,C)}},{key:"setImages",value:function(d,v){v&&this.selected?(this.imageObj=v,this.imageObjAlt=d):(this.imageObj=d,this.imageObjAlt=v)}},{key:"switchImages",value:function(d){var v=d&&!this.selected||!d&&this.selected;if(this.selected=d,void 0!==this.imageObjAlt&&v){var C=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=C}}},{key:"_resizeImage",value:function(){var d,v;if(!1===this.options.shapeProperties.useImageSize){var C=1,f=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?C=this.imageObj.width/this.imageObj.height:f=this.imageObj.height/this.imageObj.width),d=2*this.options.size*C,v=2*this.options.size*f}else d=this.imageObj.width,v=this.imageObj.height;this.width=d,this.height=v,this.radius=.5*this.width}},{key:"_drawRawCircle",value:function(d,v,C,f){this.initContextForDraw(d,f),d.circle(v,C,f.size),this.performFill(d,f)}},{key:"_drawImageAtPosition",value:function(d,v){if(0!=this.imageObj.width){d.globalAlpha=1,this.enableShadow(d,v);var C=1;!0===this.options.shapeProperties.interpolation&&(C=this.imageObj.width/this.width/this.body.view.scale),this.imageObj.drawImageAtPosition(d,C,this.left,this.top,this.width,this.height),this.disableShadow(d,v)}}},{key:"_drawImageLabel",value:function(d,v,C,f,p){var _,O=0;if(void 0!==this.height){O=.5*this.height;var V=this.labelModule.getTextSize(d,f,p);V.lineCount>=1&&(O+=V.height/2)}_=C+O,this.options.label&&(this.labelOffset=O),this.labelModule.draw(d,v,_,f,p,"hanging")}}]),m}(g(S(23)).default);U.default=x},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=b(S(19)),P=b(S(6)),L=b(S(29)),F=b(S(0)),E=b(S(1));function b(C){return C&&C.__esModule?C:{default:C}}var y=S(2),g=S(117).default,x=S(48).default,c=S(215).default,m=S(217).default,h=S(218).default,d=S(219).default,v=function(){function C(f,p,_,O){if((0,F.default)(this,C),void 0===p)throw new Error("No body provided");this.options=y.bridgeObject(_),this.globalOptions=_,this.defaultOptions=O,this.body=p,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new g(this.body,this.options,!0),this.setOptions(f)}return(0,E.default)(C,[{key:"setOptions",value:function(p){if(p){C.parseOptions(this.options,p,!0,this.globalOptions),void 0!==p.id&&(this.id=p.id),void 0!==p.from&&(this.fromId=p.from),void 0!==p.to&&(this.toId=p.to),void 0!==p.title&&(this.title=p.title),void 0!==p.value&&(p.value=parseFloat(p.value)),this.chooser=x.choosify("edge",[p,this.options,this.defaultOptions]),this.updateLabelModule(p);var O=this.updateEdgeType();return this._setInteractionWidths(),this.connect(),(void 0!==p.hidden||void 0!==p.physics)&&(O=!0),O}}},{key:"getFormattingValues",value:function(){var V=this.options.color.inherit,j={toArrow:!0===this.options.arrows.to||!0===this.options.arrows.to.enabled,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,middleArrow:!0===this.options.arrows.middle||!0===this.options.arrows.middle.enabled,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,fromArrow:!0===this.options.arrows.from||!0===this.options.arrows.from.enabled,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,arrowStrikethrough:this.options.arrowStrikethrough,color:V?void 0:this.options.color.color,inheritsColor:V,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width};if(this.selected||this.hover)if(!0===this.chooser){if(this.selected){var $=this.options.selectionWidth;"function"==typeof $?j.width=$(j.width):"number"==typeof $&&(j.width+=$),j.width=Math.max(j.width,.3/this.body.view.scale),j.color=this.options.color.highlight,j.shadow=this.options.shadow.enabled}else if(this.hover){var W=this.options.hoverWidth;"function"==typeof W?j.width=W(j.width):"number"==typeof W&&(j.width+=W),j.width=Math.max(j.width,.3/this.body.view.scale),j.color=this.options.color.hover,j.shadow=this.options.shadow.enabled}}else"function"==typeof this.chooser&&(this.chooser(j,this.options.id,this.selected,this.hover),void 0!==j.color&&(j.inheritsColor=!1),!1===j.shadow&&(j.shadowColor!==this.options.shadow.color||j.shadowSize!==this.options.shadow.size||j.shadowX!==this.options.shadow.x||j.shadowY!==this.options.shadow.y)&&(j.shadow=!0));else j.shadow=this.options.shadow.enabled,j.width=Math.max(j.width,.3/this.body.view.scale);return j}},{key:"updateLabelModule",value:function(p){this.labelModule.update(this.options,[p,this.options,this.globalOptions,this.defaultOptions]),void 0!==this.labelModule.baseSize&&(this.baseFontSize=this.labelModule.baseSize)}},{key:"updateEdgeType",value:function(){var p=this.options.smooth,_=!1,O=!0;return void 0!==this.edgeType&&((this.edgeType instanceof m&&!0===p.enabled&&"dynamic"===p.type||this.edgeType instanceof c&&!0===p.enabled&&"cubicBezier"===p.type||this.edgeType instanceof h&&!0===p.enabled&&"dynamic"!==p.type&&"cubicBezier"!==p.type||this.edgeType instanceof d&&!1===p.type.enabled)&&(O=!1),!0===O&&(_=this.cleanup())),!0===O?!0===p.enabled?"dynamic"===p.type?(_=!0,this.edgeType=new m(this.options,this.body,this.labelModule)):this.edgeType="cubicBezier"===p.type?new c(this.options,this.body,this.labelModule):new h(this.options,this.body,this.labelModule):this.edgeType=new d(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),_}},{key:"connect",value:function(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=void 0!==this.from&&void 0!==this.to,!0===this.connected?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}},{key:"disconnect",value:function(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}},{key:"getTitle",value:function(){return this.title}},{key:"isSelected",value:function(){return this.selected}},{key:"getValue",value:function(){return this.options.value}},{key:"setValueRange",value:function(p,_,O){if(void 0!==this.options.value){var V=this.options.scaling.customScalingFunction(p,_,O,this.options.value),j=this.options.scaling.max-this.options.scaling.min;!0===this.options.scaling.label.enabled&&(this.options.font.size=this.options.scaling.label.min+V*(this.options.scaling.label.max-this.options.scaling.label.min)),this.options.width=this.options.scaling.min+V*j}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}},{key:"_setInteractionWidths",value:function(){this.edgeType.hoverWidth="function"==typeof this.options.hoverWidth?this.options.hoverWidth(this.options.width):this.options.hoverWidth+this.options.width,this.edgeType.selectionWidth="function"==typeof this.options.selectionWidth?this.options.selectionWidth(this.options.width):this.options.selectionWidth+this.options.width}},{key:"draw",value:function(p){var _=this.getFormattingValues();if(!_.hidden){var O=this.edgeType.getViaNode(),V={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,_.fromArrow&&(V.from=this.edgeType.getArrowData(p,"from",O,this.selected,this.hover,_),!1===_.arrowStrikethrough&&(this.edgeType.fromPoint=V.from.core)),_.toArrow&&(V.to=this.edgeType.getArrowData(p,"to",O,this.selected,this.hover,_),!1===_.arrowStrikethrough&&(this.edgeType.toPoint=V.to.core)),_.middleArrow&&(V.middle=this.edgeType.getArrowData(p,"middle",O,this.selected,this.hover,_)),this.edgeType.drawLine(p,_,this.selected,this.hover,O),this.drawArrows(p,V,_),this.drawLabel(p,O)}}},{key:"drawArrows",value:function(p,_,O){O.fromArrow&&this.edgeType.drawArrowHead(p,O,this.selected,this.hover,_.from),O.middleArrow&&this.edgeType.drawArrowHead(p,O,this.selected,this.hover,_.middle),O.toArrow&&this.edgeType.drawArrowHead(p,O,this.selected,this.hover,_.to)}},{key:"drawLabel",value:function(p,_){if(void 0!==this.options.label){var O=this.from,V=this.to;if(this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(p,this.selected,this.hover),O.id!=V.id){this.labelModule.pointToSelf=!1;var j=this.edgeType.getPoint(.5,_);p.save();var $=this._getRotation(p);0!=$.angle&&(p.translate($.x,$.y),p.rotate($.angle)),this.labelModule.draw(p,j.x,j.y,this.selected,this.hover),p.restore()}else{this.labelModule.pointToSelf=!0;var W,Y,q=this.options.selfReferenceSize;O.shape.width>O.shape.height?(W=O.x+.5*O.shape.width,Y=O.y-q):(W=O.x+q,Y=O.y-.5*O.shape.height),j=this._pointOnCircle(W,Y,q,.125),this.labelModule.draw(p,j.x,j.y,this.selected,this.hover)}}}},{key:"getItemsOnPoint",value:function(p){var _=[];if(this.labelModule.visible()){var O=this._getRotation();x.pointInRect(this.labelModule.getSize(),p,O)&&_.push({edgeId:this.id,labelId:0})}return this.isOverlappingWith({left:p.x,top:p.y})&&_.push({edgeId:this.id}),_}},{key:"isOverlappingWith",value:function(p){if(this.connected){return this.edgeType.getDistanceToEdge(this.from.x,this.from.y,this.to.x,this.to.y,p.left,p.top)<10}return!1}},{key:"_getRotation",value:function(p){var _=this.edgeType.getViaNode(),O=this.edgeType.getPoint(.5,_);void 0!==p&&this.labelModule.calculateLabelSize(p,this.selected,this.hover,O.x,O.y);var V={x:O.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||"horizontal"===this.options.font.align)return V;var $=this.from.x-this.to.x,W=Math.atan2(this.from.y-this.to.y,$);return(W<-1&&$<0||W>0&&$<0)&&(W+=Math.PI),V.angle=W,V}},{key:"_pointOnCircle",value:function(p,_,O,V){var j=2*V*Math.PI;return{x:p+O*Math.cos(j),y:_-O*Math.sin(j)}}},{key:"select",value:function(){this.selected=!0}},{key:"unselect",value:function(){this.selected=!1}},{key:"cleanup",value:function(){return this.edgeType.cleanup()}},{key:"remove",value:function(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}},{key:"endPointsValid",value:function(){return void 0!==this.body.nodes[this.fromId]&&void 0!==this.body.nodes[this.toId]}}],[{key:"parseOptions",value:function(p,_){var O=arguments.length>2&&void 0!==arguments[2]&&arguments[2],V=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},j=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(y.selectiveDeepExtend(["arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","to","title","value","width","font","chosen","widthConstraint"],p,_,O),p.label=x.isValidLabel(_.label)?_.label:void 0,y.mergeOptions(p,_,"smooth",V),y.mergeOptions(p,_,"shadow",V),null!=_.dashes?p.dashes=_.dashes:!0===O&&null===_.dashes&&(p.dashes=(0,L.default)(V.dashes)),null!=_.scaling?(void 0!==_.scaling.min&&(p.scaling.min=_.scaling.min),void 0!==_.scaling.max&&(p.scaling.max=_.scaling.max),y.mergeOptions(p.scaling,_.scaling,"label",V.scaling)):!0===O&&null===_.scaling&&(p.scaling=(0,L.default)(V.scaling)),null!=_.arrows)if("string"==typeof _.arrows){var W=_.arrows.toLowerCase();p.arrows.to.enabled=-1!=W.indexOf("to"),p.arrows.middle.enabled=-1!=W.indexOf("middle"),p.arrows.from.enabled=-1!=W.indexOf("from")}else{if("object"!==(0,P.default)(_.arrows))throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+(0,D.default)(_.arrows));y.mergeOptions(p.arrows,_.arrows,"to",V.arrows),y.mergeOptions(p.arrows,_.arrows,"middle",V.arrows),y.mergeOptions(p.arrows,_.arrows,"from",V.arrows)}else!0===O&&null===_.arrows&&(p.arrows=(0,L.default)(V.arrows));if(null!=_.color){var Y=_.color,q=p.color;if(j)y.deepExtend(q,V.color,!1,O);else for(var re in q)q.hasOwnProperty(re)&&delete q[re];if(y.isString(q))q.color=q,q.highlight=q,q.hover=q,q.inherit=!1,void 0===Y.opacity&&(q.opacity=1);else{var se=!1;void 0!==Y.color&&(q.color=Y.color,se=!0),void 0!==Y.highlight&&(q.highlight=Y.highlight,se=!0),void 0!==Y.hover&&(q.hover=Y.hover,se=!0),void 0!==Y.inherit&&(q.inherit=Y.inherit),void 0!==Y.opacity&&(q.opacity=Math.min(1,Math.max(0,Y.opacity))),!0===se?q.inherit=!1:void 0===q.inherit&&(q.inherit="from")}}else!0===O&&null===_.color&&(p.color=y.bridgeObject(V.color));!0===O&&null===_.font&&(p.font=y.bridgeObject(V.font))}}]),C}();U.default=v},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=g(S(3)),P=g(S(0)),L=g(S(1)),F=g(S(4)),E=g(S(5));function g(c){return c&&c.__esModule?c:{default:c}}var x=function(c){function m(h,d,v){return(0,P.default)(this,m),(0,F.default)(this,(m.__proto__||(0,D.default)(m)).call(this,h,d,v))}return(0,E.default)(m,c),(0,L.default)(m,[{key:"_findBorderPositionBezier",value:function(d,v){var V,j,Y,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this._getViaCoordinates(),p=0,_=0,O=1,re=this.to,se=!1;for(d.id===this.from.id&&(re=this.from,se=!0);_<=O&&p<10;){var de=.5*(_+O);if(V=this.getPoint(de,C),j=Math.atan2(re.y-V.y,re.x-V.x),Y=re.distanceToBorder(v,j)-Math.sqrt(Math.pow(V.x-re.x,2)+Math.pow(V.y-re.y,2)),Math.abs(Y)<.2)break;Y<0?!1===se?_=de:O=de:!1===se?O=de:_=de,p++}return V.t=de,V}},{key:"_getDistanceToBezierEdge",value:function(d,v,C,f,p,_,O){var V=1e9,j=void 0,$=void 0,W=void 0,Y=void 0,q=void 0,re=d,se=v;for($=1;$<10;$++)W=.1*$,Y=Math.pow(1-W,2)*d+2*W*(1-W)*O.x+Math.pow(W,2)*C,q=Math.pow(1-W,2)*v+2*W*(1-W)*O.y+Math.pow(W,2)*f,$>0&&(V=(j=this._getDistanceToLine(re,se,Y,q,p,_))<V?j:V),re=Y,se=q;return V}},{key:"_bezierCurve",value:function(d,v,C,f){var p=void 0!==C&&void 0!==C.x,_=void 0!==f&&void 0!==f.x;d.beginPath(),d.moveTo(this.fromPoint.x,this.fromPoint.y),p&&_?d.bezierCurveTo(C.x,C.y,f.x,f.y,this.toPoint.x,this.toPoint.y):p?d.quadraticCurveTo(C.x,C.y,this.toPoint.x,this.toPoint.y):d.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(d,v),d.stroke(),this.disableShadow(d,v)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}}]),m}(g(S(118)).default);U.default=x},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=N(S(0)),P=N(S(1));function N(F){return F&&F.__esModule?F:{default:F}}var L=S(2),T=function(){function F(){(0,D.default)(this,F)}return(0,P.default)(F,null,[{key:"getRange",value:function(E){var m,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],y=1e9,g=-1e9,x=1e9,c=-1e9;if(b.length>0)for(var h=0;h<b.length;h++)x>(m=E[b[h]]).shape.boundingBox.left&&(x=m.shape.boundingBox.left),c<m.shape.boundingBox.right&&(c=m.shape.boundingBox.right),y>m.shape.boundingBox.top&&(y=m.shape.boundingBox.top),g<m.shape.boundingBox.bottom&&(g=m.shape.boundingBox.bottom);return 1e9===x&&-1e9===c&&1e9===y&&-1e9===g&&(y=0,g=0,x=0,c=0),{minX:x,maxX:c,minY:y,maxY:g}}},{key:"getRangeCore",value:function(E){var m,b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],y=1e9,g=-1e9,x=1e9,c=-1e9;if(b.length>0)for(var h=0;h<b.length;h++)x>(m=E[b[h]]).x&&(x=m.x),c<m.x&&(c=m.x),y>m.y&&(y=m.y),g<m.y&&(g=m.y);return 1e9===x&&-1e9===c&&1e9===y&&-1e9===g&&(y=0,g=0,x=0,c=0),{minX:x,maxX:c,minY:y,maxY:g}}},{key:"findCenter",value:function(E){return{x:.5*(E.maxX+E.minX),y:.5*(E.maxY+E.minY)}}},{key:"cloneOptions",value:function(E,b){var y={};return void 0===b||"node"===b?(L.deepExtend(y,E.options,!0),y.x=E.x,y.y=E.y,y.amountOfConnections=E.edges.length):L.deepExtend(y,E.options,!0),y}}]),F}();U.default=T},function(ee,U,S){ee.exports={default:S(124),__esModule:!0}},function(ee,U,S){var B=S(50);ee.exports=Object("z").propertyIsEnumerable(0)?Object:function(D){return"String"==B(D)?D.split(""):Object(D)}},function(ee,U,S){var B=S(52),D=S(17),I=S(83),P=S(26),N=S(22),L=S(31),T=S(129),F=S(59),M=S(85),E=S(13)("iterator"),b=!([].keys&&"next"in[].keys()),g="keys",x="values",c=function(){return this};ee.exports=function(m,h,d,v,C,f,p){T(d,h,v);var se,de,ve,_=function(Oe){if(!b&&Oe in $)return $[Oe];switch(Oe){case g:case x:return function(){return new d(this,Oe)}}return function(){return new d(this,Oe)}},O=h+" Iterator",V=C==x,j=!1,$=m.prototype,W=$[E]||$["@@iterator"]||C&&$[C],Y=W||_(C),q=C?V?_("entries"):Y:void 0,re="Array"==h&&$.entries||W;if(re&&(ve=M(re.call(new m)))!==Object.prototype&&ve.next&&(F(ve,O,!0),!B&&!N(ve,E)&&P(ve,E,c)),V&&W&&W.name!==x&&(j=!0,Y=function(){return W.call(this)}),(!B||p)&&(b||j||!$[E])&&P($,E,Y),L[h]=Y,L[O]=c,C)if(se={values:V?Y:_(x),keys:f?Y:_(g),entries:q},p)for(de in se)de in $||I($,de,se[de]);else D(D.P+D.F*(b||j),h,se);return se}},function(ee,U,S){var B=S(128);ee.exports=function(D,I,P){if(B(D),void 0===I)return D;switch(P){case 1:return function(N){return D.call(I,N)};case 2:return function(N,L){return D.call(I,N,L)};case 3:return function(N,L,T){return D.call(I,N,L,T)}}return function(){return D.apply(I,arguments)}}},function(ee,U,S){ee.exports=!S(21)&&!S(28)(function(){return 7!=Object.defineProperty(S(82)("div"),"a",{get:function(){return 7}}).a})},function(ee,U,S){var B=S(32),D=S(18).document,I=B(D)&&B(D.createElement);ee.exports=function(P){return I?D.createElement(P):{}}},function(ee,U,S){ee.exports=S(26)},function(ee,U,S){var B=S(22),D=S(25),I=S(131)(!1),P=S(56)("IE_PROTO");ee.exports=function(N,L){var E,T=D(N),F=0,M=[];for(E in T)E!=P&&B(T,E)&&M.push(E);for(;L.length>F;)B(T,E=L[F++])&&(~I(M,E)||M.push(E));return M}},function(ee,U,S){var B=S(22),D=S(41),I=S(56)("IE_PROTO"),P=Object.prototype;ee.exports=Object.getPrototypeOf||function(N){return N=D(N),B(N,I)?N[I]:"function"==typeof N.constructor&&N instanceof N.constructor?N.constructor.prototype:N instanceof Object?P:null}},function(ee,U,S){var B=S(50),D=S(13)("toStringTag"),I="Arguments"==B(function(){return arguments}());ee.exports=function(N){var L,T,F;return void 0===N?"Undefined":null===N?"Null":"string"==typeof(T=function(N,L){try{return N[L]}catch{}}(L=Object(N),D))?T:I?B(L):"Object"==(F=B(L))&&"function"==typeof L.callee?"Arguments":F}},function(ee,U,S){var B=S(17),D=S(7),I=S(28);ee.exports=function(P,N){var L=(D.Object||{})[P]||Object[P],T={};T[P]=N(L),B(B.S+B.F*I(function(){L(1)}),"Object",T)}},function(ee,U,S){var B=S(84),D=S(58).concat("length","prototype");U.f=Object.getOwnPropertyNames||function(P){return B(P,D)}},function(ee,U,S){var B=S(42),D=S(39),I=S(25),P=S(53),N=S(22),L=S(81),T=Object.getOwnPropertyDescriptor;U.f=S(21)?T:function(M,E){if(M=I(M),E=P(E,!0),L)try{return T(M,E)}catch{}if(N(M,E))return D(!B.f.call(M,E),M[E])}},function(ee,U,S){ee.exports={default:S(162),__esModule:!0}},function(ee,U,S){ee.exports=function B(D,I){this.x=void 0!==D?D:0,this.y=void 0!==I?I:0}},function(ee,U,S){var B=S(2);function D(I,P){if(void 0===I)throw new Error("No container element defined");if(this.container=I,this.visible=!P||null==P.visible||P.visible,this.visible){this.frame=document.createElement("DIV"),this.frame.style.width="100%",this.frame.style.position="relative",this.container.appendChild(this.frame),this.frame.prev=document.createElement("INPUT"),this.frame.prev.type="BUTTON",this.frame.prev.value="Prev",this.frame.appendChild(this.frame.prev),this.frame.play=document.createElement("INPUT"),this.frame.play.type="BUTTON",this.frame.play.value="Play",this.frame.appendChild(this.frame.play),this.frame.next=document.createElement("INPUT"),this.frame.next.type="BUTTON",this.frame.next.value="Next",this.frame.appendChild(this.frame.next),this.frame.bar=document.createElement("INPUT"),this.frame.bar.type="BUTTON",this.frame.bar.style.position="absolute",this.frame.bar.style.border="1px solid red",this.frame.bar.style.width="100px",this.frame.bar.style.height="6px",this.frame.bar.style.borderRadius="2px",this.frame.bar.style.MozBorderRadius="2px",this.frame.bar.style.border="1px solid #7F7F7F",this.frame.bar.style.backgroundColor="#E5E5E5",this.frame.appendChild(this.frame.bar),this.frame.slide=document.createElement("INPUT"),this.frame.slide.type="BUTTON",this.frame.slide.style.margin="0px",this.frame.slide.value=" ",this.frame.slide.style.position="relative",this.frame.slide.style.left="-100px",this.frame.appendChild(this.frame.slide);var N=this;this.frame.slide.onmousedown=function(L){N._onMouseDown(L)},this.frame.prev.onclick=function(L){N.prev(L)},this.frame.play.onclick=function(L){N.togglePlay(L)},this.frame.next.onclick=function(L){N.next(L)}}this.onChangeCallback=void 0,this.values=[],this.index=void 0,this.playTimeout=void 0,this.playInterval=1e3,this.playLoop=!0}D.prototype.prev=function(){var I=this.getIndex();I>0&&(I--,this.setIndex(I))},D.prototype.next=function(){var I=this.getIndex();I<this.values.length-1&&(I++,this.setIndex(I))},D.prototype.playNext=function(){var I=new Date,P=this.getIndex();P<this.values.length-1?(P++,this.setIndex(P)):this.playLoop&&this.setIndex(P=0);var T=Math.max(this.playInterval-(new Date-I),0),F=this;this.playTimeout=setTimeout(function(){F.playNext()},T)},D.prototype.togglePlay=function(){void 0===this.playTimeout?this.play():this.stop()},D.prototype.play=function(){this.playTimeout||(this.playNext(),this.frame&&(this.frame.play.value="Stop"))},D.prototype.stop=function(){clearInterval(this.playTimeout),this.playTimeout=void 0,this.frame&&(this.frame.play.value="Play")},D.prototype.setOnChangeCallback=function(I){this.onChangeCallback=I},D.prototype.setPlayInterval=function(I){this.playInterval=I},D.prototype.getPlayInterval=function(){return this.playInterval},D.prototype.setPlayLoop=function(I){this.playLoop=I},D.prototype.onChange=function(){void 0!==this.onChangeCallback&&this.onChangeCallback()},D.prototype.redraw=function(){if(this.frame){this.frame.bar.style.top=this.frame.clientHeight/2-this.frame.bar.offsetHeight/2+"px",this.frame.bar.style.width=this.frame.clientWidth-this.frame.prev.clientWidth-this.frame.play.clientWidth-this.frame.next.clientWidth-30+"px";var I=this.indexToLeft(this.index);this.frame.slide.style.left=I+"px"}},D.prototype.setValues=function(I){this.values=I,this.values.length>0?this.setIndex(0):this.index=void 0},D.prototype.setIndex=function(I){if(!(I<this.values.length))throw new Error("Index out of range");this.index=I,this.redraw(),this.onChange()},D.prototype.getIndex=function(){return this.index},D.prototype.get=function(){return this.values[this.index]},D.prototype._onMouseDown=function(I){if(I.which?1===I.which:1===I.button){this.startClientX=I.clientX,this.startSlideX=parseFloat(this.frame.slide.style.left),this.frame.style.cursor="move";var N=this;this.onmousemove=function(L){N._onMouseMove(L)},this.onmouseup=function(L){N._onMouseUp(L)},B.addEventListener(document,"mousemove",this.onmousemove),B.addEventListener(document,"mouseup",this.onmouseup),B.preventDefault(I)}},D.prototype.leftToIndex=function(I){var P=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10,L=Math.round((I-3)/P*(this.values.length-1));return L<0&&(L=0),L>this.values.length-1&&(L=this.values.length-1),L},D.prototype.indexToLeft=function(I){var P=parseFloat(this.frame.bar.style.width)-this.frame.slide.clientWidth-10;return I/(this.values.length-1)*P+3},D.prototype._onMouseMove=function(I){var L=this.leftToIndex(this.startSlideX+(I.clientX-this.startClientX));this.setIndex(L),B.preventDefault()},D.prototype._onMouseUp=function(I){this.frame.style.cursor="auto",B.removeEventListener(document,"mousemove",this.onmousemove),B.removeEventListener(document,"mouseup",this.onmouseup),B.preventDefault()},ee.exports=D},function(ee,U,S){function B(D,I,P,N){this._start=0,this._end=0,this._step=1,this.prettyStep=!0,this.precision=5,this._current=0,this.setRange(D,I,P,N)}B.prototype.isNumeric=function(D){return!isNaN(parseFloat(D))&&isFinite(D)},B.prototype.setRange=function(D,I,P,N){if(!this.isNumeric(D))throw new Error("Parameter 'start' is not numeric; value: "+D);if(!this.isNumeric(I))throw new Error("Parameter 'end' is not numeric; value: "+D);if(!this.isNumeric(P))throw new Error("Parameter 'step' is not numeric; value: "+D);this._start=D||0,this._end=I||0,this.setStep(P,N)},B.prototype.setStep=function(D,I){void 0===D||D<=0||(void 0!==I&&(this.prettyStep=I),this._step=!0===this.prettyStep?B.calculatePrettyStep(D):D)},B.calculatePrettyStep=function(D){var I=function(M){return Math.log(M)/Math.LN10},P=Math.pow(10,Math.round(I(D))),N=2*Math.pow(10,Math.round(I(D/2))),L=5*Math.pow(10,Math.round(I(D/5))),T=P;return Math.abs(N-D)<=Math.abs(T-D)&&(T=N),Math.abs(L-D)<=Math.abs(T-D)&&(T=L),T<=0&&(T=1),T},B.prototype.getCurrent=function(){return parseFloat(this._current.toPrecision(this.precision))},B.prototype.getStep=function(){return this._step},B.prototype.start=function(D){void 0===D&&(D=!1),this._current=this._start-this._start%this._step,D&&this.getCurrent()<this._start&&this.next()},B.prototype.next=function(){this._current+=this._step},B.prototype.end=function(){return this._current>this._end},ee.exports=B},function(ee,U,S){var D=function I($){return $&&$.__esModule?$:{default:$}}(S(6));var P=S(2),N=S(95),L=S(34),T={BAR:0,BARCOLOR:1,BARSIZE:2,DOT:3,DOTLINE:4,DOTCOLOR:5,DOTSIZE:6,GRID:7,LINE:8,SURFACE:9},F={dot:T.DOT,"dot-line":T.DOTLINE,"dot-color":T.DOTCOLOR,"dot-size":T.DOTSIZE,line:T.LINE,grid:T.GRID,surface:T.SURFACE,bar:T.BAR,"bar-color":T.BARCOLOR,"bar-size":T.BARSIZE},M=["width","height","filterLabel","legendLabel","xLabel","yLabel","zLabel","xValueLabel","yValueLabel","zValueLabel","showXAxis","showYAxis","showZAxis","showGrid","showPerspective","showShadow","keepAspectRatio","verticalRatio","dotSizeRatio","dotSizeMinFraction","dotSizeMaxFraction","showAnimationControls","animationInterval","animationPreload","animationAutoStart","axisColor","gridColor","xCenter","yCenter"],E=["xBarWidth","yBarWidth","valueMin","valueMax","xMin","xMax","xStep","yMin","yMax","yStep","zMin","zMax","zStep"],b=void 0;function y($){for(var W in $)if($.hasOwnProperty(W))return!1;return!0}function x($,W){return void 0===$||""===$?W:$+function g($){return void 0===$||""===$||"string"!=typeof $?$:$.charAt(0).toUpperCase()+$.slice(1)}(W)}function c($,W,Y,q){for(var re,de=0;de<Y.length;++de)W[x(q,re=Y[de])]=$[re]}function m($,W,Y,q){for(var re,de=0;de<Y.length;++de)void 0!==$[re=Y[de]]&&(W[x(q,re)]=$[re])}function v($,W){void 0!==$.backgroundColor&&function O($,W){var Y="white",q="gray",re=1;if("string"==typeof $)Y=$,q="none",re=0;else{if("object"!==(typeof $>"u"?"undefined":(0,D.default)($)))throw new Error("Unsupported type of backgroundColor");void 0!==$.fill&&(Y=$.fill),void 0!==$.stroke&&(q=$.stroke),void 0!==$.strokeWidth&&(re=$.strokeWidth)}W.frame.style.backgroundColor=Y,W.frame.style.borderColor=q,W.frame.style.borderWidth=re+"px",W.frame.style.borderStyle="solid"}($.backgroundColor,W),function V($,W){void 0!==$&&(void 0===W.dataColor&&(W.dataColor={}),"string"==typeof $?(W.dataColor.fill=$,W.dataColor.stroke=$):($.fill&&(W.dataColor.fill=$.fill),$.stroke&&(W.dataColor.stroke=$.stroke),void 0!==$.strokeWidth&&(W.dataColor.strokeWidth=$.strokeWidth)))}($.dataColor,W),function _($,W){if(void 0!==$){var Y;if("string"==typeof $){if(-1===(Y=function f($){var W=F[$];return void 0===W?-1:W}($)))throw new Error("Style '"+$+"' is invalid")}else{if(!function p($){var W=!1;for(var Y in T)if(T[Y]===$){W=!0;break}return W}($))throw new Error("Style '"+$+"' is invalid");Y=$}W.style=Y}}($.style,W),function C($,W){void 0===$?void 0===b.showLegend&&(W.showLegend=W.style===T.DOTCOLOR||W.style===T.DOTSIZE):W.showLegend=$}($.showLegend,W),j($.cameraPosition,W),void 0!==$.tooltip&&(W.showTooltip=$.tooltip),null!=$.onclick&&(W.onclick_callback=$.onclick),void 0!==$.tooltipStyle&&P.selectiveDeepExtend(["tooltipStyle"],W,$)}function j($,W){var Y=$;void 0!==Y&&(void 0===W.camera&&(W.camera=new N),W.camera.setArmRotation(Y.horizontal,Y.vertical),W.camera.setArmLength(Y.distance))}ee.exports.STYLE=T,ee.exports.setDefaults=function h($,W){if(void 0===$||y($))throw new Error("No DEFAULTS passed");if(void 0===W)throw new Error("No dst passed");b=$,c($,W,M),c($,W,E,"default"),v($,W),W.margin=10,W.showGrayBottom=!1,W.showTooltip=!1,W.onclick_callback=null,W.eye=new L(0,0,-1)},ee.exports.setOptions=function d($,W){if(void 0!==$){if(void 0===W)throw new Error("No dst passed");if(void 0===b||y(b))throw new Error("DEFAULTS not set for module Settings");m($,W,M),m($,W,E,"default"),v($,W)}},ee.exports.setCameraPosition=j},function(ee,U,S){var D=function I(L){return L&&L.__esModule?L:{default:L}}(S(165));var P=S(34);function N(){this.armLocation=new P,this.armRotation={},this.armRotation.horizontal=0,this.armRotation.vertical=0,this.armLength=1.7,this.cameraOffset=new P,this.offsetMultiplier=.6,this.cameraLocation=new P,this.cameraRotation=new P(.5*Math.PI,0,0),this.calculateCameraOrientation()}N.prototype.setOffset=function(L,T){var F=Math.abs,M=D.default,b=this.armLength*this.offsetMultiplier;F(L)>b&&(L=M(L)*b),F(T)>b&&(T=M(T)*b),this.cameraOffset.x=L,this.cameraOffset.y=T,this.calculateCameraOrientation()},N.prototype.getOffset=function(){return this.cameraOffset},N.prototype.setArmLocation=function(L,T,F){this.armLocation.x=L,this.armLocation.y=T,this.armLocation.z=F,this.calculateCameraOrientation()},N.prototype.setArmRotation=function(L,T){void 0!==L&&(this.armRotation.horizontal=L),void 0!==T&&(this.armRotation.vertical=T,this.armRotation.vertical<0&&(this.armRotation.vertical=0),this.armRotation.vertical>.5*Math.PI&&(this.armRotation.vertical=.5*Math.PI)),(void 0!==L||void 0!==T)&&this.calculateCameraOrientation()},N.prototype.getArmRotation=function(){var L={};return L.horizontal=this.armRotation.horizontal,L.vertical=this.armRotation.vertical,L},N.prototype.setArmLength=function(L){void 0!==L&&(this.armLength=L,this.armLength<.71&&(this.armLength=.71),this.armLength>5&&(this.armLength=5),this.setOffset(this.cameraOffset.x,this.cameraOffset.y),this.calculateCameraOrientation())},N.prototype.getArmLength=function(){return this.armLength},N.prototype.getCameraLocation=function(){return this.cameraLocation},N.prototype.getCameraRotation=function(){return this.cameraRotation},N.prototype.calculateCameraOrientation=function(){this.cameraLocation.x=this.armLocation.x-this.armLength*Math.sin(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.y=this.armLocation.y-this.armLength*Math.cos(this.armRotation.horizontal)*Math.cos(this.armRotation.vertical),this.cameraLocation.z=this.armLocation.z+this.armLength*Math.sin(this.armRotation.vertical),this.cameraRotation.x=Math.PI/2-this.armRotation.vertical,this.cameraRotation.y=0,this.cameraRotation.z=-this.armRotation.horizontal;var L=this.cameraRotation.x,T=this.cameraRotation.z,F=this.cameraOffset.x,M=this.cameraOffset.y,E=Math.sin,b=Math.cos;this.cameraLocation.x=this.cameraLocation.x+F*b(T)+M*-E(T)*b(L),this.cameraLocation.y=this.cameraLocation.y+F*E(T)+M*b(T)*b(L),this.cameraLocation.z=this.cameraLocation.z+M*E(L)},ee.exports=N},function(ee,U,S){var B=S(12);function D(I,P,N){this.dataGroup=I,this.column=P,this.graph=N,this.index=void 0,this.value=void 0,this.values=I.getDistinctValues(this.column),this.values.length>0&&this.selectValue(0),this.dataPoints=[],this.loaded=!1,this.onLoadCallback=void 0,N.animationPreload?(this.loaded=!1,this.loadInBackground()):this.loaded=!0}D.prototype.isLoaded=function(){return this.loaded},D.prototype.getLoadedProgress=function(){for(var I=this.values.length,P=0;this.dataPoints[P];)P++;return Math.round(P/I*100)},D.prototype.getLabel=function(){return this.graph.filterLabel},D.prototype.getColumn=function(){return this.column},D.prototype.getSelectedValue=function(){if(void 0!==this.index)return this.values[this.index]},D.prototype.getValues=function(){return this.values},D.prototype.getValue=function(I){if(I>=this.values.length)throw new Error("Index out of range");return this.values[I]},D.prototype._getDataPoints=function(I){if(void 0===I&&(I=this.index),void 0===I)return[];var P;if(this.dataPoints[I])P=this.dataPoints[I];else{var N={};N.column=this.column,N.value=this.values[I];var L=new B(this.dataGroup.getDataSet(),{filter:function(F){return F[N.column]==N.value}}).get();P=this.dataGroup._getDataPoints(L),this.dataPoints[I]=P}return P},D.prototype.setOnLoadCallback=function(I){this.onLoadCallback=I},D.prototype.selectValue=function(I){if(I>=this.values.length)throw new Error("Index out of range");this.index=I,this.value=this.values[I]},D.prototype.loadInBackground=function(I){void 0===I&&(I=0);var P=this.graph.frame;if(I<this.values.length){void 0===P.progress&&(P.progress=document.createElement("DIV"),P.progress.style.position="absolute",P.progress.style.color="gray",P.appendChild(P.progress));var N=this.getLoadedProgress();P.progress.innerHTML="Loading animation... "+N+"%",P.progress.style.bottom="60px",P.progress.style.left="10px";var L=this;setTimeout(function(){L.loadInBackground(I+1)},10),this.loaded=!1}else this.loaded=!0,void 0!==P.progress&&(P.removeChild(P.progress),P.progress=void 0),this.onLoadCallback&&this.onLoadCallback()},ee.exports=D},function(ee,U,S){var B=S(35),D=S(44),I=S(10),P=S(2);function N(T){this.active=!1,this.dom={container:T},this.dom.overlay=document.createElement("div"),this.dom.overlay.className="vis-overlay",this.dom.container.appendChild(this.dom.overlay),this.hammer=I(this.dom.overlay),this.hammer.on("tap",this._onTapOverlay.bind(this));var F=this;["tap","doubletap","press","pinch","pan","panstart","panmove","panend"].forEach(function(E){F.hammer.on(E,function(b){b.stopPropagation()})}),document&&document.body&&(this.onClick=function(E){(function L(T,F){for(;T;){if(T===F)return!0;T=T.parentNode}return!1})(E.target,T)||F.deactivate()},document.body.addEventListener("click",this.onClick)),void 0!==this.keycharm&&this.keycharm.destroy(),this.keycharm=B(),this.escListener=this.deactivate.bind(this)}D(N.prototype),N.current=null,N.prototype.destroy=function(){this.deactivate(),this.dom.overlay.parentNode.removeChild(this.dom.overlay),this.onClick&&document.body.removeEventListener("click",this.onClick),this.hammer.destroy(),this.hammer=null},N.prototype.activate=function(){N.current&&N.current.deactivate(),N.current=this,this.active=!0,this.dom.overlay.style.display="none",P.addClassName(this.dom.container,"vis-active"),this.emit("change"),this.emit("activate"),this.keycharm.bind("esc",this.escListener)},N.prototype.deactivate=function(){this.active=!1,this.dom.overlay.style.display="",P.removeClassName(this.dom.container,"vis-active"),this.keycharm.unbind("esc",this.escListener),this.emit("change"),this.emit("deactivate")},N.prototype._onTapOverlay=function(T){this.activate(),T.stopPropagation()},ee.exports=N},function(ee,U,S){U.en={current:"current",time:"time"},U.en_EN=U.en,U.en_US=U.en,U.it={current:"attuale",time:"tempo"},U.it_IT=U.it,U.it_CH=U.it,U.nl={current:"huidige",time:"tijd"},U.nl_NL=U.nl,U.nl_BE=U.nl,U.de={current:"Aktuelle",time:"Zeit"},U.de_DE=U.de,U.fr={current:"actuel",time:"heure"},U.fr_FR=U.fr,U.fr_CA=U.fr,U.fr_BE=U.fr,U.es={current:"corriente",time:"hora"},U.es_ES=U.es},function(ee,U,S){var D=N(S(29)),P=N(S(6));function N(p){return p&&p.__esModule?p:{default:p}}var L=S(10),T=S(2),F=S(11),M=S(12),E=S(66),b=S(16),y=S(68),g=S(69),x=S(101),c=S(102),m=S(70),h=S(103),d=S(104).default,v="__ungrouped__",C="__background__";function f(p,_){this.body=p,this.defaultOptions={type:null,orientation:{item:"bottom"},align:"auto",stack:!0,stackSubgroups:!0,groupOrderSwap:function(j,$,W){var Y=$.order;$.order=j.order,j.order=Y},groupOrder:"order",selectable:!0,multiselect:!1,itemsAlwaysDraggable:{item:!1,range:!1},editable:{updateTime:!1,updateGroup:!1,add:!1,remove:!1,overrideItems:!1},groupEditable:{order:!1,add:!1,remove:!1},snap:E.snap,onDropObjectOnItem:function(j,$,W){W($)},onAdd:function(j,$){$(j)},onUpdate:function(j,$){$(j)},onMove:function(j,$){$(j)},onRemove:function(j,$){$(j)},onMoving:function(j,$){$(j)},onAddGroup:function(j,$){$(j)},onMoveGroup:function(j,$){$(j)},onRemoveGroup:function(j,$){$(j)},margin:{item:{horizontal:10,vertical:10},axis:20},showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1},this.options=T.extend({},this.defaultOptions),this.options.rtl=_.rtl,this.itemOptions={type:{start:"Date",end:"Date"}},this.conversion={toScreen:p.util.toScreen,toTime:p.util.toTime},this.dom={},this.props={},this.hammer=null;var O=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(j,$,W){O._onAdd($.items)},update:function(j,$,W){O._onUpdate($.items)},remove:function(j,$,W){O._onRemove($.items)}},this.groupListeners={add:function(j,$,W){if(O._onAddGroups($.items),O.groupsData&&O.groupsData.length>0){var Y=O.groupsData.getDataSet();Y.get().forEach(function(q){if(q.nestedGroups){0!=q.showNested&&(q.showNested=!0);var re=[];q.nestedGroups.forEach(function(se){var de=Y.get(se);de&&(de.nestedInGroup=q.id,0==q.showNested&&(de.visible=!1),re=re.concat(de))}),Y.update(re,W)}})}},update:function(j,$,W){O._onUpdateGroups($.items)},remove:function(j,$,W){O._onRemoveGroups($.items)}},this.items={},this.groups={},this.groupIds=[],this.selection=[],this.popup=null,this.touchParams={},this.groupTouchParams={},this._create(),this.setOptions(_)}f.prototype=new b,f.types={background:h,box:x,range:m,point:c},f.prototype._create=function(){var p=document.createElement("div");p.className="vis-itemset",p["timeline-itemset"]=this,this.dom.frame=p;var _=document.createElement("div");_.className="vis-background",p.appendChild(_),this.dom.background=_;var O=document.createElement("div");O.className="vis-foreground",p.appendChild(O),this.dom.foreground=O;var V=document.createElement("div");V.className="vis-axis",this.dom.axis=V;var j=document.createElement("div");j.className="vis-labelset",this.dom.labelSet=j,this._updateUngrouped();var $=new g(C,null,this);$.show(),this.groups[C]=$,this.hammer=new L(this.body.dom.centerContainer),this.hammer.on("hammer.input",function(W){W.isFirst&&this._onTouch(W)}.bind(this)),this.hammer.on("panstart",this._onDragStart.bind(this)),this.hammer.on("panmove",this._onDrag.bind(this)),this.hammer.on("panend",this._onDragEnd.bind(this)),this.hammer.get("pan").set({threshold:5,direction:L.DIRECTION_HORIZONTAL}),this.hammer.on("tap",this._onSelectItem.bind(this)),this.hammer.on("press",this._onMultiSelectItem.bind(this)),this.hammer.on("doubletap",this._onAddItem.bind(this)),this.groupHammer=new L(this.options.rtl?this.body.dom.rightContainer:this.body.dom.leftContainer),this.groupHammer.on("tap",this._onGroupClick.bind(this)),this.groupHammer.on("panstart",this._onGroupDragStart.bind(this)),this.groupHammer.on("panmove",this._onGroupDrag.bind(this)),this.groupHammer.on("panend",this._onGroupDragEnd.bind(this)),this.groupHammer.get("pan").set({threshold:5,direction:L.DIRECTION_VERTICAL}),this.body.dom.centerContainer.addEventListener("mouseover",this._onMouseOver.bind(this)),this.body.dom.centerContainer.addEventListener("mouseout",this._onMouseOut.bind(this)),this.body.dom.centerContainer.addEventListener("mousemove",this._onMouseMove.bind(this)),this.body.dom.centerContainer.addEventListener("contextmenu",this._onDragEnd.bind(this)),this.body.dom.centerContainer.addEventListener("mousewheel",this._onMouseWheel.bind(this)),this.show()},f.prototype.setOptions=function(p){if(p){T.selectiveExtend(["type","rtl","align","order","stack","stackSubgroups","selectable","multiselect","multiselectPerGroup","groupOrder","dataAttributes","template","groupTemplate","visibleFrameTemplate","hide","snap","groupOrderSwap","showTooltips","tooltip","tooltipOnItemUpdateTime"],this.options,p),"itemsAlwaysDraggable"in p&&("boolean"==typeof p.itemsAlwaysDraggable?(this.options.itemsAlwaysDraggable.item=p.itemsAlwaysDraggable,this.options.itemsAlwaysDraggable.range=!1):"object"===(0,P.default)(p.itemsAlwaysDraggable)&&(T.selectiveExtend(["item","range"],this.options.itemsAlwaysDraggable,p.itemsAlwaysDraggable),this.options.itemsAlwaysDraggable.item||(this.options.itemsAlwaysDraggable.range=!1))),"orientation"in p&&("string"==typeof p.orientation?this.options.orientation.item="top"===p.orientation?"top":"bottom":"object"===(0,P.default)(p.orientation)&&"item"in p.orientation&&(this.options.orientation.item=p.orientation.item)),"margin"in p&&("number"==typeof p.margin?(this.options.margin.axis=p.margin,this.options.margin.item.horizontal=p.margin,this.options.margin.item.vertical=p.margin):"object"===(0,P.default)(p.margin)&&(T.selectiveExtend(["axis"],this.options.margin,p.margin),"item"in p.margin&&("number"==typeof p.margin.item?(this.options.margin.item.horizontal=p.margin.item,this.options.margin.item.vertical=p.margin.item):"object"===(0,P.default)(p.margin.item)&&T.selectiveExtend(["horizontal","vertical"],this.options.margin.item,p.margin.item)))),"editable"in p&&("boolean"==typeof p.editable?(this.options.editable.updateTime=p.editable,this.options.editable.updateGroup=p.editable,this.options.editable.add=p.editable,this.options.editable.remove=p.editable,this.options.editable.overrideItems=!1):"object"===(0,P.default)(p.editable)&&T.selectiveExtend(["updateTime","updateGroup","add","remove","overrideItems"],this.options.editable,p.editable)),"groupEditable"in p&&("boolean"==typeof p.groupEditable?(this.options.groupEditable.order=p.groupEditable,this.options.groupEditable.add=p.groupEditable,this.options.groupEditable.remove=p.groupEditable):"object"===(0,P.default)(p.groupEditable)&&T.selectiveExtend(["order","add","remove"],this.options.groupEditable,p.groupEditable));var O=function(V){var j=p[V];if(j){if(!(j instanceof Function))throw new Error("option "+V+" must be a function "+V+"(item, callback)");this.options[V]=j}}.bind(this);["onDropObjectOnItem","onAdd","onUpdate","onRemove","onMove","onMoving","onAddGroup","onMoveGroup","onRemoveGroup"].forEach(O),this.markDirty()}},f.prototype.markDirty=function(p){this.groupIds=[],p&&p.refreshItems&&T.forEach(this.items,function(_){_.dirty=!0,_.displayed&&_.redraw()})},f.prototype.destroy=function(){this.hide(),this.setItems(null),this.setGroups(null),this.hammer=null,this.body=null,this.conversion=null},f.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.axis.parentNode&&this.dom.axis.parentNode.removeChild(this.dom.axis),this.dom.labelSet.parentNode&&this.dom.labelSet.parentNode.removeChild(this.dom.labelSet)},f.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame),this.dom.axis.parentNode||this.body.dom.backgroundVertical.appendChild(this.dom.axis),this.dom.labelSet.parentNode||(this.options.rtl?this.body.dom.right.appendChild(this.dom.labelSet):this.body.dom.left.appendChild(this.dom.labelSet))},f.prototype.setSelection=function(p){var _,O,V,j;for(null==p&&(p=[]),Array.isArray(p)||(p=[p]),_=0,O=this.selection.length;_<O;_++)(j=this.items[V=this.selection[_]])&&j.unselect();for(this.selection=[],_=0,O=p.length;_<O;_++)(j=this.items[V=p[_]])&&(this.selection.push(V),j.select())},f.prototype.getSelection=function(){return this.selection.concat([])},f.prototype.getVisibleItems=function(){var _,O,p=this.body.range.getRange();this.options.rtl?(_=this.body.util.toScreen(p.start),O=this.body.util.toScreen(p.end)):(O=this.body.util.toScreen(p.start),_=this.body.util.toScreen(p.end));var V=[];for(var j in this.groups)if(this.groups.hasOwnProperty(j))for(var $=this.groups[j],W=$.isVisible?$.visibleItems:[],Y=0;Y<W.length;Y++){var q=W[Y];this.options.rtl?q.right<O&&q.right+q.width>_&&V.push(q.id):q.left<_&&q.left+q.width>O&&V.push(q.id)}return V},f.prototype._deselect=function(p){for(var _=this.selection,O=0,V=_.length;O<V;O++)if(_[O]==p){_.splice(O,1);break}},f.prototype.redraw=function(){var p=this.options.margin,_=this.body.range,O=T.option.asSize,V=this.options,j=V.orientation.item,$=!1,W=this.dom.frame;this.props.top=this.body.domProps.top.height+this.body.domProps.border.top,this.options.rtl?this.props.right=this.body.domProps.right.width+this.body.domProps.border.right:this.props.left=this.body.domProps.left.width+this.body.domProps.border.left,W.className="vis-itemset",$=this._orderGroups()||$;var Y=_.end-_.start,ve=Y!=this.lastVisibleInterval||this.props.width!=this.props.lastWidth||_.start!=this.lastRangeStart||V.stack!=this.lastStack||V.stackSubgroups!=this.lastStackSubgroups;this.lastVisibleInterval=Y,this.lastRangeStart=_.start,this.lastStack=V.stack,this.lastStackSubgroups=V.stackSubgroups,this.props.lastWidth=this.props.width;var Oe=this._firstGroup(),Ee={item:p.item,axis:p.axis},Me={item:p.item,axis:p.item.vertical/2},be=0,ue=p.axis+p.item.vertical;this.groups[C].redraw(_,Me,ve);var he={},xe=0;if(T.forEach(this.groups,function(Ye,Ze){Ze!==C&&(he[Ze]=Ye.redraw(_,Ye==Oe?Ee:Me,ve,!0),xe=he[Ze].length)}),xe>0){for(var Be={},Re=0;Re<xe;Re++)T.forEach(he,function(Ye,Ze){Be[Ze]=Ye[Re]()});T.forEach(this.groups,function(Ye,Ze){Ze!==C&&($=Be[Ze]||$,be+=Ye.height)}),be=Math.max(be,ue)}return be=Math.max(be,ue),W.style.height=O(be),this.props.width=W.offsetWidth,this.props.height=be,this.dom.axis.style.top=O("top"==j?this.body.domProps.top.height+this.body.domProps.border.top:this.body.domProps.top.height+this.body.domProps.centerContainer.height),this.options.rtl?this.dom.axis.style.right="0":this.dom.axis.style.left="0",this.initialItemSetDrawn=!0,$=this._isResized()||$},f.prototype._firstGroup=function(){return this.groups[this.groupIds["top"==this.options.orientation.item?0:this.groupIds.length-1]]||this.groups[v]||null},f.prototype._updateUngrouped=function(){var _,O,p=this.groups[v];if(this.groupsData){if(p)for(O in p.hide(),delete this.groups[v],this.items)if(this.items.hasOwnProperty(O)){(_=this.items[O]).parent&&_.parent.remove(_);var V=this._getGroupId(_.data),j=this.groups[V];j&&j.add(_)||_.hide()}}else if(!p){for(O in p=new y(null,null,this),this.groups[v]=p,this.items)this.items.hasOwnProperty(O)&&p.add(_=this.items[O]);p.show()}},f.prototype.getLabelSet=function(){return this.dom.labelSet},f.prototype.setItems=function(p){var O,_=this,V=this.itemsData;if(p){if(!(p instanceof F||p instanceof M))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=p}else this.itemsData=null;if(V&&(T.forEach(this.itemListeners,function($,W){V.off(W,$)}),O=V.getIds(),this._onRemove(O)),this.itemsData){var j=this.id;T.forEach(this.itemListeners,function($,W){_.itemsData.on(W,$,j)}),O=this.itemsData.getIds(),this._onAdd(O),this._updateUngrouped()}this.body.emitter.emit("_change",{queue:!0})},f.prototype.getItems=function(){return this.itemsData},f.prototype.setGroups=function(p){var O,_=this;if(this.groupsData&&(T.forEach(this.groupListeners,function($,W){_.groupsData.off(W,$)}),O=this.groupsData.getIds(),this.groupsData=null,this._onRemoveGroups(O)),p){if(!(p instanceof F||p instanceof M))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=p}else this.groupsData=null;if(this.groupsData){var V=this.groupsData;this.groupsData instanceof M&&(V=this.groupsData.getDataSet()),V.get().forEach(function($){$.nestedGroups&&$.nestedGroups.forEach(function(W){var Y=V.get(W);Y.nestedInGroup=$.id,0==$.showNested&&(Y.visible=!1),V.update(Y)})});var j=this.id;T.forEach(this.groupListeners,function($,W){_.groupsData.on(W,$,j)}),O=this.groupsData.getIds(),this._onAddGroups(O)}this._updateUngrouped(),this._order(),this.body.emitter.emit("_change",{queue:!0})},f.prototype.getGroups=function(){return this.groupsData},f.prototype.removeItem=function(p){var _=this.itemsData.get(p),O=this.itemsData.getDataSet();_&&this.options.onRemove(_,function(V){V&&O.remove(p)})},f.prototype._getType=function(p){return p.type||this.options.type||(p.end?"range":"box")},f.prototype._getGroupId=function(p){return"background"==this._getType(p)&&null==p.group?C:this.groupsData?p.group:v},f.prototype._onAdd=f.prototype._onUpdate=function(p){var _=this;p.forEach(function(O){var Y,V=_.itemsData.get(O,_.itemOptions),j=_.items[O],$=V?_._getType(V):null,W=f.types[$];if(j&&(W&&j instanceof W?_._updateItem(j,V):(Y=j.selected,_._removeItem(j),j=null)),!j&&V){if(!W)throw"rangeoverflow"==$?new TypeError('Item type "rangeoverflow" is deprecated. Use css styling instead: .vis-item.vis-range .vis-item-content {overflow: visible;}'):new TypeError('Unknown item type "'+$+'"');(j=new W(V,_.conversion,_.options)).id=O,_._addItem(j),Y&&(this.selection.push(O),j.select())}}.bind(this)),this._order(),this.body.emitter.emit("_change",{queue:!0})},f.prototype._onRemove=function(p){var _=0,O=this;p.forEach(function(V){var j=O.items[V];j&&(_++,O._removeItem(j))}),_&&(this._order(),this.body.emitter.emit("_change",{queue:!0}))},f.prototype._order=function(){T.forEach(this.groups,function(p){p.order()})},f.prototype._onUpdateGroups=function(p){this._onAddGroups(p)},f.prototype._onAddGroups=function(p){var _=this;p.forEach(function(O){var V=_.groupsData.get(O),j=_.groups[O];if(j)j.setData(V);else{if(O==v||O==C)throw new Error("Illegal group id. "+O+" is a reserved id.");var $=(0,D.default)(_.options);for(var W in T.extend($,{height:null}),j=new y(O,V,_),_.groups[O]=j,_.items)if(_.items.hasOwnProperty(W)){var Y=_.items[W];Y.data.group==O&&j.add(Y)}j.order(),j.show()}}),this.body.emitter.emit("_change",{queue:!0})},f.prototype._onRemoveGroups=function(p){var _=this.groups;p.forEach(function(O){var V=_[O];V&&(V.hide(),delete _[O])}),this.markDirty(),this.body.emitter.emit("_change",{queue:!0})},f.prototype._orderGroups=function(){if(this.groupsData){var p=this.groupsData.getIds({order:this.options.groupOrder});p=this._orderNestedGroups(p);var _=!T.equalArray(p,this.groupIds);if(_){var O=this.groups;p.forEach(function(V){O[V].hide()}),p.forEach(function(V){O[V].show()}),this.groupIds=p}return _}return!1},f.prototype._orderNestedGroups=function(p){var _=[];return p.forEach(function(O){var V=this.groupsData.get(O);if(V.nestedInGroup||_.push(O),V.nestedGroups){var $=this.groupsData.get({filter:function(Y){return Y.nestedInGroup==O},order:this.options.groupOrder}).map(function(W){return W.id});_=_.concat($)}},this),_},f.prototype._addItem=function(p){this.items[p.id]=p;var _=this._getGroupId(p.data),O=this.groups[_];O?O&&O.data&&O.data.showNested&&(p.groupShowing=!0):p.groupShowing=!1,O&&O.add(p)},f.prototype._updateItem=function(p,_){p.setData(_);var O=this._getGroupId(p.data),V=this.groups[O];V?V&&V.data&&V.data.showNested&&(p.groupShowing=!0):p.groupShowing=!1},f.prototype._removeItem=function(p){p.hide(),delete this.items[p.id];var _=this.selection.indexOf(p.id);-1!=_&&this.selection.splice(_,1),p.parent&&p.parent.remove(p)},f.prototype._constructByEndArray=function(p){for(var _=[],O=0;O<p.length;O++)p[O]instanceof m&&_.push(p[O]);return _},f.prototype._onTouch=function(p){this.touchParams.item=this.itemFromTarget(p),this.touchParams.dragLeftItem=p.target.dragLeftItem||!1,this.touchParams.dragRightItem=p.target.dragRightItem||!1,this.touchParams.itemProps=null},f.prototype._getGroupIndex=function(p){for(var _=0;_<this.groupIds.length;_++)if(p==this.groupIds[_])return _},f.prototype._onDragStart=function(p){if(!this.touchParams.itemIsDragging){var V,_=this.touchParams.item||null,O=this;if(_&&(_.selected||this.options.itemsAlwaysDraggable.item)){if(this.options.editable.overrideItems&&!this.options.editable.updateTime&&!this.options.editable.updateGroup||null!=_.editable&&!_.editable.updateTime&&!_.editable.updateGroup&&!this.options.editable.overrideItems)return;var j=this.touchParams.dragLeftItem,$=this.touchParams.dragRightItem;if(this.touchParams.itemIsDragging=!0,this.touchParams.selectedItem=_,j)V={item:j,initialX:p.center.x,dragLeft:!0,data:this._cloneItemData(_.data)},this.touchParams.itemProps=[V];else if($)V={item:$,initialX:p.center.x,dragRight:!0,data:this._cloneItemData(_.data)},this.touchParams.itemProps=[V];else if(this.options.editable.add&&(p.srcEvent.ctrlKey||p.srcEvent.metaKey))this._onDragStartAddItem(p);else{this.groupIds.length<1&&this.redraw();var W=this._getGroupIndex(_.data.group),Y=this.options.itemsAlwaysDraggable.item&&!_.selected?[_.id]:this.getSelection();this.touchParams.itemProps=Y.map(function(q){var re=O.items[q],se=O._getGroupIndex(re.data.group);return{item:re,initialX:p.center.x,groupOffset:W-se,data:this._cloneItemData(re.data)}}.bind(this))}p.stopPropagation()}else this.options.editable.add&&(p.srcEvent.ctrlKey||p.srcEvent.metaKey)&&this._onDragStartAddItem(p)}},f.prototype._onDragStartAddItem=function(p){var _,O,V=this.options.snap||null;this.options.rtl?O=(_=T.getAbsoluteRight(this.dom.frame))-p.center.x+10:(_=T.getAbsoluteLeft(this.dom.frame),O=p.center.x-_-10);var j=this.body.util.toTime(O),$=this.body.util.getScale(),W=this.body.util.getStep(),Y=V?V(j,$,W):j,re={type:"range",start:Y,end:Y,content:"new item"},se=T.randomUUID();re[this.itemsData._fieldId]=se;var de=this.groupFromTarget(p);de&&(re.group=de.groupId);var ve=new m(re,this.conversion,this.options);ve.id=se,ve.data=this._cloneItemData(re),this._addItem(ve),this.touchParams.selectedItem=ve;var Oe={item:ve,initialX:p.center.x,data:ve.data};this.options.rtl?Oe.dragLeft=!0:Oe.dragRight=!0,this.touchParams.itemProps=[Oe],p.stopPropagation()},f.prototype._onDrag=function(p){if(this.touchParams.itemProps){p.stopPropagation();var V,_=this,O=this.options.snap||null;V=this.options.rtl?this.body.dom.root.offsetLeft+this.body.domProps.right.width:this.body.dom.root.offsetLeft+this.body.domProps.left.width;var j=this.body.util.getScale(),$=this.body.util.getStep(),W=this.touchParams.selectedItem,Y=(this.options.editable.overrideItems||null==W.editable)&&this.options.editable.updateGroup||!this.options.editable.overrideItems&&null!=W.editable&&W.editable.updateGroup,q=null;if(Y&&W&&null!=W.data.group){var re=_.groupFromTarget(p);re&&(q=this._getGroupIndex(re.groupId))}this.touchParams.itemProps.forEach(function(se){var Oe,Ee,Me,be,ue,de=_.body.util.toTime(p.center.x-V),ve=_.body.util.toTime(se.initialX-V);Oe=this.options.rtl?-(de-ve):de-ve;var he=this._cloneItemData(se.item.data);if(null==se.item.editable||se.item.editable.updateTime||se.item.editable.updateGroup||_.options.editable.overrideItems){if((this.options.editable.overrideItems||null==W.editable)&&this.options.editable.updateTime||!this.options.editable.overrideItems&&null!=W.editable&&W.editable.updateTime)if(se.dragLeft)this.options.rtl?null!=he.end&&(Me=T.convert(se.data.end,"Date"),ue=new Date(Me.valueOf()+Oe),he.end=O?O(ue,j,$):ue):null!=he.start&&(Ee=T.convert(se.data.start,"Date"),be=new Date(Ee.valueOf()+Oe),he.start=O?O(be,j,$):be);else if(se.dragRight)this.options.rtl?null!=he.start&&(Ee=T.convert(se.data.start,"Date"),be=new Date(Ee.valueOf()+Oe),he.start=O?O(be,j,$):be):null!=he.end&&(Me=T.convert(se.data.end,"Date"),ue=new Date(Me.valueOf()+Oe),he.end=O?O(ue,j,$):ue);else if(null!=he.start)if(Ee=T.convert(se.data.start,"Date").valueOf(),be=new Date(Ee+Oe),null!=he.end){var Fe=(Me=T.convert(se.data.end,"Date")).valueOf()-Ee.valueOf();he.start=O?O(be,j,$):be,he.end=new Date(he.start.valueOf()+Fe)}else he.start=O?O(be,j,$):be;if(Y&&!se.dragLeft&&!se.dragRight&&null!=q&&null!=he.group){var Be=q-se.groupOffset;Be=Math.max(0,Be),Be=Math.min(_.groupIds.length-1,Be),he.group=_.groupIds[Be]}he=this._cloneItemData(he),_.options.onMoving(he,function(Re){Re&&se.item.setData(this._cloneItemData(Re,"Date"))}.bind(this))}}.bind(this)),this.body.emitter.emit("_change")}},f.prototype._moveToGroup=function(p,_){var O=this.groups[_];if(O&&O.groupId!=p.data.group){var V=p.parent;V.remove(p),V.order(),p.data.group=O.groupId,O.add(p),O.order()}},f.prototype._onDragEnd=function(p){if(this.touchParams.itemIsDragging=!1,this.touchParams.itemProps){p.stopPropagation();var _=this,O=this.itemsData.getDataSet(),V=this.touchParams.itemProps;this.touchParams.itemProps=null,V.forEach(function(j){var $=j.item.id;if(null!=_.itemsData.get($,_.itemOptions)){var Y=this._cloneItemData(j.item.data);_.options.onMove(Y,function(q){q?(q[O._fieldId]=$,O.update(q)):(j.item.setData(j.data),_.body.emitter.emit("_change"))})}else _.options.onAdd(j.item.data,function(q){_._removeItem(j.item),q&&_.itemsData.getDataSet().add(q),_.body.emitter.emit("_change")})}.bind(this))}},f.prototype._onGroupClick=function(p){var _=this.groupFromTarget(p);if(_&&_.nestedGroups){var O=this.groupsData.getDataSet(),V=O.get(_.groupId);null==V.showNested&&(V.showNested=!0),V.showNested=!V.showNested;var j=O.get(_.nestedGroups).map(function(W){return W.visible=V.showNested,W});O.update(j.concat(V)),V.showNested?(T.removeClassName(_.dom.label,"collapsed"),T.addClassName(_.dom.label,"expanded")):(T.removeClassName(_.dom.label,"expanded"),T.addClassName(_.dom.label,this.options.rtl?"collapsed-rtl":"collapsed"))}},f.prototype._onGroupDragStart=function(p){this.options.groupEditable.order&&(this.groupTouchParams.group=this.groupFromTarget(p),this.groupTouchParams.group&&(p.stopPropagation(),this.groupTouchParams.originalOrder=this.groupsData.getIds({order:this.options.groupOrder})))},f.prototype._onGroupDrag=function(p){if(this.options.groupEditable.order&&this.groupTouchParams.group){p.stopPropagation();var _=this.groupsData;this.groupsData instanceof M&&(_=this.groupsData.getDataSet());var O=this.groupFromTarget(p);if(O&&O.height!=this.groupTouchParams.group.height){var V=O.top<this.groupTouchParams.group.top,j=p.center?p.center.y:p.clientY,$=T.getAbsoluteTop(O.dom.foreground),W=this.groupTouchParams.group.height;if(V){if($+W<j)return}else if($+O.height-W>j)return}if(O&&O!=this.groupTouchParams.group){var q=_.get(O.groupId),re=_.get(this.groupTouchParams.group.groupId);re&&q&&(this.options.groupOrderSwap(re,q,_),_.update(re),_.update(q));var se=_.getIds({order:this.options.groupOrder});if(!T.equalArray(se,this.groupTouchParams.originalOrder))for(var de=this.groupTouchParams.originalOrder,ve=this.groupTouchParams.group.groupId,Oe=Math.min(de.length,se.length),Ee=0,Me=0,be=0;Ee<Oe;){for(;Ee+Me<Oe&&Ee+be<Oe&&se[Ee+Me]==de[Ee+be];)Ee++;if(Ee+Me>=Oe)break;if(se[Ee+Me]==ve)Me=1;else if(de[Ee+be]==ve)be=1;else{var ue=se.indexOf(de[Ee+be]),he=_.get(se[Ee+Me]),xe=_.get(de[Ee+be]);this.options.groupOrderSwap(he,xe,_),_.update(he),_.update(xe);var Fe=se[Ee+Me];se[Ee+Me]=de[Ee+be],se[ue]=Fe,Ee++}}}}},f.prototype._onGroupDragEnd=function(p){if(this.options.groupEditable.order&&this.groupTouchParams.group){p.stopPropagation();var _=this,O=_.groupTouchParams.group.groupId,V=_.groupsData.getDataSet(),j=T.extend({},V.get(O));_.options.onMoveGroup(j,function($){if($)$[V._fieldId]=O,V.update($);else{var W=V.getIds({order:_.options.groupOrder});if(!T.equalArray(W,_.groupTouchParams.originalOrder))for(var Y=_.groupTouchParams.originalOrder,q=Math.min(Y.length,W.length),re=0;re<q;){for(;re<q&&W[re]==Y[re];)re++;if(re>=q)break;var se=W.indexOf(Y[re]),de=V.get(W[re]),ve=V.get(Y[re]);_.options.groupOrderSwap(de,ve,V),V.update(de),V.update(ve);var Oe=W[re];W[re]=Y[re],W[se]=Oe,re++}}}),_.body.emitter.emit("groupDragged",{groupId:O})}},f.prototype._onSelectItem=function(p){if(this.options.selectable){if(p.srcEvent&&(p.srcEvent.ctrlKey||p.srcEvent.metaKey)||p.srcEvent&&p.srcEvent.shiftKey)return void this._onMultiSelectItem(p);var V=this.getSelection(),j=this.itemFromTarget(p);this.setSelection(j?[j.id]:[]);var W=this.getSelection();(W.length>0||V.length>0)&&this.body.emitter.emit("select",{items:W,event:p})}},f.prototype._onMouseOver=function(p){var _=this.itemFromTarget(p);if(_&&_!==this.itemFromRelatedTarget(p)){var V=_.getTitle();if(this.options.showTooltips&&V){null==this.popup&&(this.popup=new d(this.body.dom.root,this.options.tooltip.overflowMethod||"flip")),this.popup.setText(V);var j=this.body.dom.centerContainer;this.popup.setPosition(p.clientX-T.getAbsoluteLeft(j)+j.offsetLeft,p.clientY-T.getAbsoluteTop(j)+j.offsetTop),this.popup.show()}else null!=this.popup&&this.popup.hide();this.body.emitter.emit("itemover",{item:_.id,event:p})}},f.prototype._onMouseOut=function(p){var _=this.itemFromTarget(p);_&&_!==this.itemFromRelatedTarget(p)&&(null!=this.popup&&this.popup.hide(),this.body.emitter.emit("itemout",{item:_.id,event:p}))},f.prototype._onMouseMove=function(p){if(this.itemFromTarget(p)&&this.options.showTooltips&&this.options.tooltip.followMouse&&this.popup&&!this.popup.hidden){var O=this.body.dom.centerContainer;this.popup.setPosition(p.clientX-T.getAbsoluteLeft(O)+O.offsetLeft,p.clientY-T.getAbsoluteTop(O)+O.offsetTop),this.popup.show()}},f.prototype._onMouseWheel=function(p){this.touchParams.itemIsDragging&&this._onDragEnd(p)},f.prototype._onUpdateItem=function(p){if(this.options.selectable&&this.options.editable.add){var _=this;if(p){var O=_.itemsData.get(p.id);this.options.onUpdate(O,function(V){V&&_.itemsData.getDataSet().update(V)})}}},f.prototype._onDropObjectOnItem=function(p){var _=this.itemFromTarget(p),O=JSON.parse(p.dataTransfer.getData("text"));this.options.onDropObjectOnItem(O,_)},f.prototype._onAddItem=function(p){if(this.options.selectable&&this.options.editable.add){var V,j,_=this,O=this.options.snap||null;this.options.rtl?j=(V=T.getAbsoluteRight(this.dom.frame))-p.center.x:(V=T.getAbsoluteLeft(this.dom.frame),j=p.center.x-V);var q,re,$=this.body.util.toTime(j),W=this.body.util.getScale(),Y=this.body.util.getStep();"drop"==p.type?((re=JSON.parse(p.dataTransfer.getData("text"))).content=re.content?re.content:"new item",re.start=re.start?re.start:O?O($,W,Y):$,re.type=re.type||"box",re[this.itemsData._fieldId]=re.id||T.randomUUID(),"range"==re.type&&!re.end&&(q=this.body.util.toTime(j+this.props.width/5),re.end=O?O(q,W,Y):q)):((re={start:O?O($,W,Y):$,content:"new item"})[this.itemsData._fieldId]=T.randomUUID(),"range"===this.options.type&&(q=this.body.util.toTime(j+this.props.width/5),re.end=O?O(q,W,Y):q));var se=this.groupFromTarget(p);se&&(re.group=se.groupId),re=this._cloneItemData(re),this.options.onAdd(re,function(de){de&&(_.itemsData.getDataSet().add(de),"drop"==p.type&&_.setSelection([de.id]))})}},f.prototype._onMultiSelectItem=function(p){if(this.options.selectable){var _=this.itemFromTarget(p);if(_){var O=this.options.multiselect?this.getSelection():[];if(p.srcEvent&&p.srcEvent.shiftKey&&this.options.multiselect){var j=this.itemsData.get(_.id).group,$=void 0;this.options.multiselectPerGroup&&O.length>0&&($=this.itemsData.get(O[0]).group),(!this.options.multiselectPerGroup||null==$||$==j)&&O.push(_.id);var W=f._getItemRange(this.itemsData.get(O,this.itemOptions));if(!this.options.multiselectPerGroup||$==j)for(var Y in O=[],this.items)if(this.items.hasOwnProperty(Y)){var q=this.items[Y],re=q.data.start;re>=W.min&&(void 0!==q.data.end?q.data.end:re)<=W.max&&(!this.options.multiselectPerGroup||$==this.itemsData.get(q.id).group)&&!(q instanceof h)&&O.push(q.id)}}else{var de=O.indexOf(_.id);-1==de?O.push(_.id):O.splice(de,1)}this.setSelection(O),this.body.emitter.emit("select",{items:this.getSelection(),event:p})}}},f._getItemRange=function(p){var _=null,O=null;return p.forEach(function(V){(null==O||V.start<O)&&(O=V.start),null!=V.end?(null==_||V.end>_)&&(_=V.end):(null==_||V.start>_)&&(_=V.start)}),{min:O,max:_}},f.prototype.itemFromElement=function(p){for(var _=p;_;){if(_.hasOwnProperty("timeline-item"))return _["timeline-item"];_=_.parentNode}return null},f.prototype.itemFromTarget=function(p){return this.itemFromElement(p.target)},f.prototype.itemFromRelatedTarget=function(p){return this.itemFromElement(p.relatedTarget)},f.prototype.groupFromTarget=function(p){var _=p.center?p.center.y:p.clientY,O=this.groupIds;O.length<=0&&this.groupsData&&(O=this.groupsData.getIds({order:this.options.groupOrder}));for(var V=0;V<O.length;V++){var $=this.groups[O[V]],W=$.dom.foreground,Y=T.getAbsoluteTop(W);if(_>Y&&_<Y+W.offsetHeight)return $;if("top"===this.options.orientation.item){if(V===this.groupIds.length-1&&_>Y)return $}else if(0===V&&_<Y+W.offset)return $}return null},f.itemSetFromTarget=function(p){for(var _=p.target;_;){if(_.hasOwnProperty("timeline-itemset"))return _["timeline-itemset"];_=_.parentNode}return null},f.prototype._cloneItemData=function(p,_){var O=T.extend({},p);return _||(_=this.itemsData.getDataSet()._options.type),null!=O.start&&(O.start=T.convert(O.start,_&&_.start||"Date")),null!=O.end&&(O.end=T.convert(O.end,_&&_.end||"Date")),O},ee.exports=f},function(ee,U,S){var B=.001;U.orderByStart=function(D){D.sort(function(I,P){return I.data.start-P.data.start})},U.orderByEnd=function(D){D.sort(function(I,P){return("end"in I.data?I.data.end:I.data.start)-("end"in P.data?P.data.end:P.data.start)})},U.stack=function(D,I,P){if(P)for(var N=0;N<D.length;N++)D[N].top=null;for(N=0;N<D.length;N++){var L=D[N];if(L.stack&&null===L.top){L.top=I.axis;do{for(var T=null,F=0,M=D.length;F<M;F++){var E=D[F];if(null!==E.top&&E!==L&&E.stack&&U.collision(L,E,I.item,E.options.rtl)){T=E;break}}null!=T&&(L.top=T.top+T.height+I.item.vertical)}while(T)}}},U.substack=function(D,I,P){for(var N=0;N<D.length;N++)D[N].top=null;var L=P.height;for(N=0;N<D.length;N++){var T=D[N];if(T.stack&&null===T.top){T.top=T.baseTop;do{for(var F=null,M=0,E=D.length;M<E;M++){var b=D[M];if(null!==b.top&&b!==T&&U.collision(T,b,I.item,b.options.rtl)){F=b;break}}null!=F&&(T.top=F.top+F.height+I.item.vertical),T.top+T.height>L&&(L=T.top+T.height)}while(F)}}P.height=L-P.top+.5*I.item.vertical},U.nostack=function(D,I,P,N){for(var L=0;L<D.length;L++)if(null==D[L].data.subgroup)D[L].top=I.item.vertical;else if(void 0!==D[L].data.subgroup&&N){var T=0;for(var F in P)P.hasOwnProperty(F)&&1==P[F].visible&&P[F].index<P[D[L].data.subgroup].index&&(P[D[L].data.subgroup].top=T+=P[F].height);D[L].top=T+.5*I.item.vertical}N||U.stackSubgroups(D,I,P)},U.stackSubgroups=function(D,I,P){for(var N in P)if(P.hasOwnProperty(N)){P[N].top=0;do{var L=null;for(var T in P)if(null!==P[T].top&&T!==N&&P[N].index>P[T].index&&U.collisionByTimes(P[N],P[T])){L=P[T];break}null!=L&&(P[N].top=L.top+L.height)}while(L)}for(var F=0;F<D.length;F++)void 0!==D[F].data.subgroup&&(D[F].top=P[D[F].data.subgroup].top+.5*I.item.vertical)},U.stackSubgroupsWithInnerStack=function(D,I,P){var N=!1,L=[];for(var T in P)P[T].hasOwnProperty("index")?L[P[T].index]=T:L.push(T);for(var F=0;F<L.length;F++)if(P.hasOwnProperty(T=L[F])){for(var M in N=N||P[T].stack,P[T].top=0,P)P[M].visible&&P[T].index>P[M].index&&(P[T].top+=P[M].height);for(var E=D[T],b=0;b<E.length;b++)void 0!==E[b].data.subgroup&&(E[b].top=P[E[b].data.subgroup].top+.5*I.item.vertical,P[T].stack&&(E[b].baseTop=E[b].top));N&&P[T].stack&&U.substack(D[T],I,P[T])}},U.collision=function(D,I,P,N){return N?D.right-P.horizontal+B<I.right+I.width&&D.right+D.width+P.horizontal-B>I.right&&D.top-P.vertical+B<I.top+I.height&&D.top+D.height+P.vertical-B>I.top:D.left-P.horizontal+B<I.left+I.width&&D.left+D.width+P.horizontal-B>I.left&&D.top-P.vertical+B<I.top+I.height&&D.top+D.height+P.vertical-B>I.top},U.collisionByTimes=function(D,I){return D.start<=I.start&&D.end>=I.start&&D.top<I.top+I.height&&D.top+D.height>I.top||I.start<=D.start&&I.end>=D.start&&I.top<D.top+D.height&&I.top+I.height>D.top}},function(ee,U,S){var B=S(38);function D(I,P,N){if(this.props={dot:{width:0,height:0},line:{width:0,height:0}},this.options=N,I&&null==I.start)throw new Error('Property "start" missing in item '+I);B.call(this,I,P,N)}(D.prototype=new B(null,null,null)).isVisible=function(I){var N=this.options.align,L=this.width*I.getMillisecondsPerPixel();return"right"==N?this.data.start.getTime()>I.start&&this.data.start.getTime()-L<I.end:"left"==N?this.data.start.getTime()+L>I.start&&this.data.start.getTime()<I.end:this.data.start.getTime()+L/2>I.start&&this.data.start.getTime()-L/2<I.end},D.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("DIV"),this.dom.content=document.createElement("DIV"),this.dom.content.className="vis-item-content",this.dom.box.appendChild(this.dom.content),this.dom.line=document.createElement("DIV"),this.dom.line.className="vis-line",this.dom.dot=document.createElement("DIV"),this.dom.dot.className="vis-dot",this.dom.box["timeline-item"]=this,this.dirty=!0)},D.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var I=this.parent.dom.foreground;if(!I)throw new Error("Cannot redraw item: parent has no foreground container element");I.appendChild(this.dom.box)}if(!this.dom.line.parentNode){var P=this.parent.dom.background;if(!P)throw new Error("Cannot redraw item: parent has no background container element");P.appendChild(this.dom.line)}if(!this.dom.dot.parentNode){var N=this.parent.dom.axis;if(!P)throw new Error("Cannot redraw item: parent has no axis container element");N.appendChild(this.dom.dot)}this.displayed=!0},D.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.box),this._updateStyle(this.dom.box);var P=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly");this.dom.box.className="vis-item vis-box"+P,this.dom.line.className="vis-item vis-line"+P,this.dom.dot.className="vis-item vis-dot"+P}},D.prototype._getDomComponentsSizes=function(){return{previous:{right:this.dom.box.style.right,left:this.dom.box.style.left},dot:{height:this.dom.dot.offsetHeight,width:this.dom.dot.offsetWidth},line:{width:this.dom.line.offsetWidth},box:{width:this.dom.box.offsetWidth,height:this.dom.box.offsetHeight}}},D.prototype._updateDomComponentsSizes=function(I){this.options.rtl?this.dom.box.style.right="0px":this.dom.box.style.left="0px",this.props.dot.height=I.dot.height,this.props.dot.width=I.dot.width,this.props.line.width=I.line.width,this.width=I.box.width,this.height=I.box.height,this.options.rtl?this.dom.box.style.right=I.previous.right:this.dom.box.style.left=I.previous.left,this.dirty=!1},D.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.box),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.box)},D.prototype.redraw=function(I){var P,L,N=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(P=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(P)}.bind(this),this._repaintDomAdditionals.bind(this)];return I?N:(N.forEach(function(T){L=T()}),L)},D.prototype.show=function(){this.displayed||this.redraw()},D.prototype.hide=function(){if(this.displayed){var I=this.dom;I.box.parentNode&&I.box.parentNode.removeChild(I.box),I.line.parentNode&&I.line.parentNode.removeChild(I.line),I.dot.parentNode&&I.dot.parentNode.removeChild(I.dot),this.displayed=!1}},D.prototype.repositionX=function(){var I=this.conversion.toScreen(this.data.start),P=this.options.align;"right"==P?this.options.rtl?(this.right=I-this.width,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=I-this.props.line.width+"px",this.dom.dot.style.right=I-this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=I-this.width,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=I-this.props.line.width+"px",this.dom.dot.style.left=I-this.props.line.width/2-this.props.dot.width/2+"px"):"left"==P?this.options.rtl?(this.right=I,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=I+"px",this.dom.dot.style.right=I+this.props.line.width/2-this.props.dot.width/2+"px"):(this.left=I,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=I+"px",this.dom.dot.style.left=I+this.props.line.width/2-this.props.dot.width/2+"px"):this.options.rtl?(this.right=I-this.width/2,this.dom.box.style.right=this.right+"px",this.dom.line.style.right=I-this.props.line.width+"px",this.dom.dot.style.right=I-this.props.dot.width/2+"px"):(this.left=I-this.width/2,this.dom.box.style.left=this.left+"px",this.dom.line.style.left=I-this.props.line.width/2+"px",this.dom.dot.style.left=I-this.props.dot.width/2+"px")},D.prototype.repositionY=function(){var P=this.dom.box,N=this.dom.line,L=this.dom.dot;if("top"==this.options.orientation.item)P.style.top=(this.top||0)+"px",N.style.top="0",N.style.height=this.parent.top+this.top+1+"px",N.style.bottom="";else{var T=this.parent.itemSet.props.height,F=T-this.parent.top-this.parent.height+this.top;P.style.top=(this.parent.height-this.top-this.height||0)+"px",N.style.top=T-F+"px",N.style.bottom="0"}L.style.top=-this.props.dot.height/2+"px"},D.prototype.getWidthLeft=function(){return this.width/2},D.prototype.getWidthRight=function(){return this.width/2},ee.exports=D},function(ee,U,S){var B=S(38);function D(I,P,N){if(this.props={dot:{top:0,width:0,height:0},content:{height:0,marginLeft:0,marginRight:0}},this.options=N,I&&null==I.start)throw new Error('Property "start" missing in item '+I);B.call(this,I,P,N)}(D.prototype=new B(null,null,null)).isVisible=function(I){var P=this.width*I.getMillisecondsPerPixel();return this.data.start.getTime()+P>I.start&&this.data.start<I.end},D.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.point=document.createElement("div"),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.point.appendChild(this.dom.content),this.dom.dot=document.createElement("div"),this.dom.point.appendChild(this.dom.dot),this.dom.point["timeline-item"]=this,this.dirty=!0)},D.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.point.parentNode){var I=this.parent.dom.foreground;if(!I)throw new Error("Cannot redraw item: parent has no foreground container element");I.appendChild(this.dom.point)}this.displayed=!0},D.prototype._updateDirtyDomComponents=function(){if(this.dirty){this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.point),this._updateStyle(this.dom.point);var P=(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":"")+(this.editable.updateTime||this.editable.updateGroup?" vis-editable":" vis-readonly");this.dom.point.className="vis-item vis-point"+P,this.dom.dot.className="vis-item vis-dot"+P}},D.prototype._getDomComponentsSizes=function(){return{dot:{width:this.dom.dot.offsetWidth,height:this.dom.dot.offsetHeight},content:{width:this.dom.content.offsetWidth,height:this.dom.content.offsetHeight},point:{width:this.dom.point.offsetWidth,height:this.dom.point.offsetHeight}}},D.prototype._updateDomComponentsSizes=function(I){this.props.dot.width=I.dot.width,this.props.dot.height=I.dot.height,this.props.content.height=I.content.height,this.options.rtl?this.dom.content.style.marginRight=2*this.props.dot.width+"px":this.dom.content.style.marginLeft=2*this.props.dot.width+"px",this.width=I.point.width,this.height=I.point.height,this.dom.dot.style.top=(this.height-this.props.dot.height)/2+"px",this.options.rtl?this.dom.dot.style.right=this.props.dot.width/2+"px":this.dom.dot.style.left=this.props.dot.width/2+"px",this.dirty=!1},D.prototype._repaintDomAdditionals=function(){this._repaintOnItemUpdateTimeTooltip(this.dom.point),this._repaintDragCenter(),this._repaintDeleteButton(this.dom.point)},D.prototype.redraw=function(I){var P,L,N=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(P=this._getDomComponentsSizes())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(P)}.bind(this),this._repaintDomAdditionals.bind(this)];return I?N:(N.forEach(function(T){L=T()}),L)},D.prototype.show=function(){this.displayed||this.redraw()},D.prototype.hide=function(){this.displayed&&(this.dom.point.parentNode&&this.dom.point.parentNode.removeChild(this.dom.point),this.displayed=!1)},D.prototype.repositionX=function(){var I=this.conversion.toScreen(this.data.start);this.options.rtl?(this.right=I-this.props.dot.width,this.dom.point.style.right=this.right+"px"):(this.left=I-this.props.dot.width,this.dom.point.style.left=this.left+"px")},D.prototype.repositionY=function(){this.dom.point.style.top="top"==this.options.orientation.item?this.top+"px":this.parent.height-this.top-this.height+"px"},D.prototype.getWidthLeft=function(){return this.props.dot.width},D.prototype.getWidthRight=function(){return this.props.dot.width},ee.exports=D},function(ee,U,S){var B=S(38),D=S(69),I=S(70);function P(N,L,T){if(this.props={content:{width:0}},this.overflow=!1,N){if(null==N.start)throw new Error('Property "start" missing in item '+N.id);if(null==N.end)throw new Error('Property "end" missing in item '+N.id)}B.call(this,N,L,T)}(P.prototype=new B(null,null,null)).baseClassName="vis-item vis-background",P.prototype.stack=!1,P.prototype.isVisible=function(N){return this.data.start<N.end&&this.data.end>N.start},P.prototype._createDomElement=function(){this.dom||(this.dom={},this.dom.box=document.createElement("div"),this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-item-overflow",this.dom.box.appendChild(this.dom.frame),this.dom.content=document.createElement("div"),this.dom.content.className="vis-item-content",this.dom.frame.appendChild(this.dom.content),this.dirty=!0)},P.prototype._appendDomElement=function(){if(!this.parent)throw new Error("Cannot redraw item: no parent attached");if(!this.dom.box.parentNode){var N=this.parent.dom.background;if(!N)throw new Error("Cannot redraw item: parent has no background container element");N.appendChild(this.dom.box)}this.displayed=!0},P.prototype._updateDirtyDomComponents=function(){this.dirty&&(this._updateContents(this.dom.content),this._updateDataAttributes(this.dom.content),this._updateStyle(this.dom.box),this.dom.box.className=this.baseClassName+(this.data.className?" "+this.data.className:"")+(this.selected?" vis-selected":""))},P.prototype._getDomComponentsSizes=function(){return this.overflow="hidden"!==window.getComputedStyle(this.dom.content).overflow,{content:{width:this.dom.content.offsetWidth}}},P.prototype._updateDomComponentsSizes=function(N){this.props.content.width=N.content.width,this.height=0,this.dirty=!1},P.prototype._repaintDomAdditionals=function(){},P.prototype.redraw=function(N){var L,F,T=[this._createDomElement.bind(this),this._appendDomElement.bind(this),this._updateDirtyDomComponents.bind(this),function(){this.dirty&&(L=this._getDomComponentsSizes.bind(this)())}.bind(this),function(){this.dirty&&this._updateDomComponentsSizes.bind(this)(L)}.bind(this),this._repaintDomAdditionals.bind(this)];return N?T:(T.forEach(function(M){F=M()}),F)},P.prototype.show=I.prototype.show,P.prototype.hide=I.prototype.hide,P.prototype.repositionX=I.prototype.repositionX,P.prototype.repositionY=function(N){var L,T=this.options.orientation.item;if(void 0!==this.data.subgroup){var F=this.data.subgroup;this.dom.box.style.height=this.parent.subgroups[F].height+"px",this.dom.box.style.top="top"==T?this.parent.top+this.parent.subgroups[F].top+"px":this.parent.top+this.parent.height-this.parent.subgroups[F].top-this.parent.subgroups[F].height+"px",this.dom.box.style.bottom=""}else this.parent instanceof D?(L=Math.max(this.parent.height,this.parent.itemSet.body.domProps.center.height,this.parent.itemSet.body.domProps.centerContainer.height),this.dom.box.style.bottom="bottom"==T?"0":"",this.dom.box.style.top="top"==T?"0":""):(L=this.parent.height,this.dom.box.style.top=this.parent.top+"px",this.dom.box.style.bottom="");this.dom.box.style.height=L+"px"},ee.exports=P},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=N(S(0)),P=N(S(1));function N(T){return T&&T.__esModule?T:{default:T}}var L=function(){function T(F,M){(0,D.default)(this,T),this.container=F,this.overflowMethod=M||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}return(0,P.default)(T,[{key:"setPosition",value:function(M,E){this.x=parseInt(M),this.y=parseInt(E)}},{key:"setText",value:function(M){M instanceof Element?(this.frame.innerHTML="",this.frame.appendChild(M)):this.frame.innerHTML=M}},{key:"show",value:function(M){if(void 0===M&&(M=!0),!0===M){var E=this.frame.clientHeight,b=this.frame.clientWidth,y=this.frame.parentNode.clientHeight,g=this.frame.parentNode.clientWidth,x=0,c=0;if("flip"==this.overflowMethod){var m=!1,h=!0;this.y-E<this.padding&&(h=!1),this.x+b>g-this.padding&&(m=!0),x=m?this.x-b:this.x,c=h?this.y-E:this.y}else(c=this.y-E)+E+this.padding>y&&(c=y-E-this.padding),c<this.padding&&(c=this.padding),(x=this.x)+b+this.padding>g&&(x=g-b-this.padding),x<this.padding&&(x=this.padding);this.frame.style.left=x+"px",this.frame.style.top=c+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}},{key:"hide",value:function(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}},{key:"destroy",value:function(){this.frame.parentNode.removeChild(this.frame)}}]),T}();U.default=L},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var B="string",D="boolean",I="number",P="array",N="date",L="object",F="moment";U.allOptions={configure:{enabled:{boolean:D},filter:{boolean:D,function:"function"},container:{dom:"dom"},__type__:{object:L,boolean:D,function:"function"}},align:{string:B},rtl:{boolean:D,undefined:"undefined"},rollingMode:{follow:{boolean:D},offset:{number:I,undefined:"undefined"},__type__:{object:L}},verticalScroll:{boolean:D,undefined:"undefined"},horizontalScroll:{boolean:D,undefined:"undefined"},autoResize:{boolean:D},throttleRedraw:{number:I},clickToUse:{boolean:D},dataAttributes:{string:B,array:P},editable:{add:{boolean:D,undefined:"undefined"},remove:{boolean:D,undefined:"undefined"},updateGroup:{boolean:D,undefined:"undefined"},updateTime:{boolean:D,undefined:"undefined"},overrideItems:{boolean:D,undefined:"undefined"},__type__:{boolean:D,object:L}},end:{number:I,date:N,string:B,moment:F},format:{minorLabels:{millisecond:{string:B,undefined:"undefined"},second:{string:B,undefined:"undefined"},minute:{string:B,undefined:"undefined"},hour:{string:B,undefined:"undefined"},weekday:{string:B,undefined:"undefined"},day:{string:B,undefined:"undefined"},week:{string:B,undefined:"undefined"},month:{string:B,undefined:"undefined"},year:{string:B,undefined:"undefined"},__type__:{object:L,function:"function"}},majorLabels:{millisecond:{string:B,undefined:"undefined"},second:{string:B,undefined:"undefined"},minute:{string:B,undefined:"undefined"},hour:{string:B,undefined:"undefined"},weekday:{string:B,undefined:"undefined"},day:{string:B,undefined:"undefined"},week:{string:B,undefined:"undefined"},month:{string:B,undefined:"undefined"},year:{string:B,undefined:"undefined"},__type__:{object:L,function:"function"}},__type__:{object:L}},moment:{function:"function"},groupOrder:{string:B,function:"function"},groupEditable:{add:{boolean:D,undefined:"undefined"},remove:{boolean:D,undefined:"undefined"},order:{boolean:D,undefined:"undefined"},__type__:{boolean:D,object:L}},groupOrderSwap:{function:"function"},height:{string:B,number:I},hiddenDates:{start:{date:N,number:I,string:B,moment:F},end:{date:N,number:I,string:B,moment:F},repeat:{string:B},__type__:{object:L,array:P}},itemsAlwaysDraggable:{item:{boolean:D,undefined:"undefined"},range:{boolean:D,undefined:"undefined"},__type__:{boolean:D,object:L}},limitSize:{boolean:D},locale:{string:B},locales:{__any__:{any:"any"},__type__:{object:L}},margin:{axis:{number:I},item:{horizontal:{number:I,undefined:"undefined"},vertical:{number:I,undefined:"undefined"},__type__:{object:L,number:I}},__type__:{object:L,number:I}},max:{date:N,number:I,string:B,moment:F},maxHeight:{number:I,string:B},maxMinorChars:{number:I},min:{date:N,number:I,string:B,moment:F},minHeight:{number:I,string:B},moveable:{boolean:D},multiselect:{boolean:D},multiselectPerGroup:{boolean:D},onAdd:{function:"function"},onDropObjectOnItem:{function:"function"},onUpdate:{function:"function"},onMove:{function:"function"},onMoving:{function:"function"},onRemove:{function:"function"},onAddGroup:{function:"function"},onMoveGroup:{function:"function"},onRemoveGroup:{function:"function"},onInitialDrawComplete:{function:"function"},order:{function:"function"},orientation:{axis:{string:B,undefined:"undefined"},item:{string:B,undefined:"undefined"},__type__:{string:B,object:L}},selectable:{boolean:D},showCurrentTime:{boolean:D},showMajorLabels:{boolean:D},showMinorLabels:{boolean:D},stack:{boolean:D},stackSubgroups:{boolean:D},snap:{function:"function",null:"null"},start:{date:N,number:I,string:B,moment:F},template:{function:"function"},groupTemplate:{function:"function"},visibleFrameTemplate:{string:B,function:"function"},showTooltips:{boolean:D},tooltip:{followMouse:{boolean:D},overflowMethod:{string:["cap","flip"]},__type__:{object:L}},tooltipOnItemUpdateTime:{template:{function:"function"},__type__:{boolean:D,object:L}},timeAxis:{scale:{string:B,undefined:"undefined"},step:{number:I,undefined:"undefined"},__type__:{object:L}},type:{string:B},width:{string:B,number:I},zoomable:{boolean:D},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:I},zoomMin:{number:I},__type__:{object:L}},U.configureOptions={global:{align:["center","left","right"],direction:!1,autoResize:!0,clickToUse:!1,editable:{add:!1,remove:!1,updateGroup:!1,updateTime:!1},end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",week:"w",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",week:"MMMM YYYY",month:"YYYY",year:""}},groupsDraggable:!1,height:"",locale:"",margin:{axis:[20,0,100,1],item:{horizontal:[10,0,100,1],vertical:[10,0,100,1]}},max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!1,multiselect:!1,multiselectPerGroup:!1,orientation:{axis:["both","bottom","top"],item:["bottom","top"]},selectable:!0,showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,stack:!0,stackSubgroups:!0,start:"",showTooltips:!0,tooltip:{followMouse:!1,overflowMethod:"flip"},tooltipOnItemUpdateTime:!1,type:["box","point","range","background"],width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1]}}},function(ee,U,S){var D=function I(h){return h&&h.__esModule?h:{default:h}}(S(6));var P=S(2),N=S(14),L=S(11),T=S(12),F=S(16),M=S(107),E=S(109),b=S(112),y=S(110),g=S(111),x=S(72),c="__ungrouped__";function m(h,d){this.id=P.randomUUID(),this.body=h,this.defaultOptions={yAxisOrientation:"left",defaultGroup:"default",sort:!0,sampling:!0,stack:!1,graphHeight:"400px",shaded:{enabled:!1,orientation:"bottom"},style:"line",barChart:{width:50,sideBySide:!1,align:"center"},interpolation:{enabled:!0,parametrization:"centripetal",alpha:.5},drawPoints:{enabled:!0,size:6,style:"square"},dataAxis:{},legend:{},groups:{visibility:{}}},this.options=P.extend({},this.defaultOptions),this.dom={},this.props={},this.hammer=null,this.groups={},this.abortedGraphUpdate=!1,this.updateSVGheight=!1,this.updateSVGheightOnResize=!1,this.forceGraphUpdate=!0;var v=this;this.itemsData=null,this.groupsData=null,this.itemListeners={add:function(f,p,_){v._onAdd(p.items)},update:function(f,p,_){v._onUpdate(p.items)},remove:function(f,p,_){v._onRemove(p.items)}},this.groupListeners={add:function(f,p,_){v._onAddGroups(p.items)},update:function(f,p,_){v._onUpdateGroups(p.items)},remove:function(f,p,_){v._onRemoveGroups(p.items)}},this.items={},this.selection=[],this.lastStart=this.body.range.start,this.touchParams={},this.svgElements={},this.setOptions(d),this.groupsUsingDefaultStyles=[0],this.body.emitter.on("rangechanged",function(){v.lastStart=v.body.range.start,v.svg.style.left=P.option.asSize(-v.props.width),v.forceGraphUpdate=!0,v.redraw.call(v)}),this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups}}(m.prototype=new F)._create=function(){var h=document.createElement("div");h.className="vis-line-graph",this.dom.frame=h,this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="relative",this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",this.svg.style.display="block",h.appendChild(this.svg),this.options.dataAxis.orientation="left",this.yAxisLeft=new M(this.body,this.options.dataAxis,this.svg,this.options.groups),this.options.dataAxis.orientation="right",this.yAxisRight=new M(this.body,this.options.dataAxis,this.svg,this.options.groups),delete this.options.dataAxis.orientation,this.legendLeft=new b(this.body,this.options.legend,"left",this.options.groups),this.legendRight=new b(this.body,this.options.legend,"right",this.options.groups),this.show()},m.prototype.setOptions=function(h){if(h){void 0===h.graphHeight&&void 0!==h.height?(this.updateSVGheight=!0,this.updateSVGheightOnResize=!0):void 0!==this.body.domProps.centerContainer.height&&void 0!==h.graphHeight&&parseInt((h.graphHeight+"").replace("px",""))<this.body.domProps.centerContainer.height&&(this.updateSVGheight=!0),P.selectiveDeepExtend(["sampling","defaultGroup","stack","height","graphHeight","yAxisOrientation","style","barChart","dataAxis","sort","groups"],this.options,h),P.mergeOptions(this.options,h,"interpolation"),P.mergeOptions(this.options,h,"drawPoints"),P.mergeOptions(this.options,h,"shaded"),P.mergeOptions(this.options,h,"legend"),h.interpolation&&"object"==(0,D.default)(h.interpolation)&&h.interpolation.parametrization&&("uniform"==h.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==h.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)),this.yAxisLeft&&void 0!==h.dataAxis&&(this.yAxisLeft.setOptions(this.options.dataAxis),this.yAxisRight.setOptions(this.options.dataAxis)),this.legendLeft&&void 0!==h.legend&&(this.legendLeft.setOptions(this.options.legend),this.legendRight.setOptions(this.options.legend)),this.groups.hasOwnProperty(c)&&this.groups[c].setOptions(h)}this.dom.frame&&(this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0}))},m.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},m.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},m.prototype.setItems=function(h){var v,d=this,C=this.itemsData;if(h){if(!(h instanceof L||h instanceof T))throw new TypeError("Data must be an instance of DataSet or DataView");this.itemsData=h}else this.itemsData=null;if(C&&(P.forEach(this.itemListeners,function(p,_){C.off(_,p)}),v=C.getIds(),this._onRemove(v)),this.itemsData){var f=this.id;P.forEach(this.itemListeners,function(p,_){d.itemsData.on(_,p,f)}),v=this.itemsData.getIds(),this._onAdd(v)}},m.prototype.setGroups=function(h){var v,d=this;if(this.groupsData){P.forEach(this.groupListeners,function(p,_){d.groupsData.off(_,p)}),v=this.groupsData.getIds(),this.groupsData=null;for(var C=0;C<v.length;C++)this._removeGroup(v[C])}if(h){if(!(h instanceof L||h instanceof T))throw new TypeError("Data must be an instance of DataSet or DataView");this.groupsData=h}else this.groupsData=null;if(this.groupsData){var f=this.id;P.forEach(this.groupListeners,function(p,_){d.groupsData.on(_,p,f)}),v=this.groupsData.getIds(),this._onAddGroups(v)}},m.prototype._onUpdate=function(h){this._updateAllGroupData(h)},m.prototype._onAdd=function(h){this._onUpdate(h)},m.prototype._onRemove=function(h){this._onUpdate(h)},m.prototype._onUpdateGroups=function(h){this._updateAllGroupData(null,h)},m.prototype._onAddGroups=function(h){this._onUpdateGroups(h)},m.prototype._onRemoveGroups=function(h){for(var d=0;d<h.length;d++)this._removeGroup(h[d]);this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})},m.prototype._removeGroup=function(h){this.groups.hasOwnProperty(h)&&("right"==this.groups[h].options.yAxisOrientation?(this.yAxisRight.removeGroup(h),this.legendRight.removeGroup(h),this.legendRight.redraw()):(this.yAxisLeft.removeGroup(h),this.legendLeft.removeGroup(h),this.legendLeft.redraw()),delete this.groups[h])},m.prototype._updateGroup=function(h,d){this.groups.hasOwnProperty(d)?(this.groups[d].update(h),"right"==this.groups[d].options.yAxisOrientation?(this.yAxisRight.updateGroup(d,this.groups[d]),this.legendRight.updateGroup(d,this.groups[d]),this.yAxisLeft.removeGroup(d),this.legendLeft.removeGroup(d)):(this.yAxisLeft.updateGroup(d,this.groups[d]),this.legendLeft.updateGroup(d,this.groups[d]),this.yAxisRight.removeGroup(d),this.legendRight.removeGroup(d))):(this.groups[d]=new E(h,d,this.options,this.groupsUsingDefaultStyles),"right"==this.groups[d].options.yAxisOrientation?(this.yAxisRight.addGroup(d,this.groups[d]),this.legendRight.addGroup(d,this.groups[d])):(this.yAxisLeft.addGroup(d,this.groups[d]),this.legendLeft.addGroup(d,this.groups[d]))),this.legendLeft.redraw(),this.legendRight.redraw()},m.prototype._updateAllGroupData=function(h,d){if(null!=this.itemsData){var v={},C=this.itemsData.get(),f=this.itemsData._fieldId,p={};h&&h.map(function(de){p[de]=de});for(var _={},O=0;O<C.length;O++){var V=C[O],j=V.group;null==j&&(j=c),_.hasOwnProperty(j)?_[j]++:_[j]=1}var $={};if(!d&&h)for(j in this.groups)if(this.groups.hasOwnProperty(j)){var W=(se=this.groups[j]).getItems();v[j]=W.filter(function(de){return $[de[f]]=de[f],de[f]!==p[de[f]]});var Y=_[j];_[j]-=v[j].length,v[j].length<Y&&(v[j][Y-1]={})}for(O=0;O<C.length;O++)if(null==(j=(V=C[O]).group)&&(j=c),d||!h||V[f]===p[V[f]]||!$.hasOwnProperty(V[f])){v.hasOwnProperty(j)||(v[j]=new Array(_[j]));var q=P.bridgeObject(V);q.x=P.convert(V.x,"Date"),q.end=P.convert(V.end,"Date"),q.orginalY=V.y,q.y=Number(V.y),q[f]=V[f];var re=v[j].length-_[j]--;v[j][re]=q}for(j in this.groups)this.groups.hasOwnProperty(j)&&(v.hasOwnProperty(j)||(v[j]=new Array(0)));for(j in v)if(v.hasOwnProperty(j))if(0==v[j].length)this.groups.hasOwnProperty(j)&&this._removeGroup(j);else{var se=void 0;null!=this.groupsData&&(se=this.groupsData.get(j)),null==se&&(se={id:j,content:this.options.defaultGroup+j}),this._updateGroup(se,j),this.groups[j].setItems(v[j])}this.forceGraphUpdate=!0,this.body.emitter.emit("_change",{queue:!0})}},m.prototype.redraw=function(){var h=!1;this.props.width=this.dom.frame.offsetWidth,this.props.height=this.body.domProps.centerContainer.height-this.body.domProps.border.top-this.body.domProps.border.bottom,h=this._isResized()||h;var d=this.body.range.end-this.body.range.start,v=d!=this.lastVisibleInterval;return this.lastVisibleInterval=d,1==h&&(this.svg.style.width=P.option.asSize(3*this.props.width),this.svg.style.left=P.option.asSize(-this.props.width),(-1!=(this.options.height+"").indexOf("%")||1==this.updateSVGheightOnResize)&&(this.updateSVGheight=!0)),1==this.updateSVGheight?(this.options.graphHeight!=this.props.height+"px"&&(this.options.graphHeight=this.props.height+"px",this.svg.style.height=this.props.height+"px"),this.updateSVGheight=!1):this.svg.style.height=(""+this.options.graphHeight).replace("px","")+"px",1==h||1==v||1==this.abortedGraphUpdate||1==this.forceGraphUpdate?(h=this._updateGraph()||h,this.forceGraphUpdate=!1):0!=this.lastStart&&0!=this.props.width&&(this.svg.style.left=-this.props.width-this.props.width/(this.body.range.end-this.body.range.start)*(this.body.range.start-this.lastStart)+"px"),this.legendLeft.redraw(),this.legendRight.redraw(),h},m.prototype._getSortedGroupIds=function(){var h=[];for(var d in this.groups)if(this.groups.hasOwnProperty(d)){var v=this.groups[d];1==v.visible&&(void 0===this.options.groups.visibility[d]||1==this.options.groups.visibility[d])&&h.push({id:d,zIndex:v.options.zIndex})}P.insertSort(h,function(p,_){var O=p.zIndex,V=_.zIndex;return void 0===O&&(O=0),void 0===V&&(V=0),O==V?0:O<V?-1:1});for(var C=new Array(h.length),f=0;f<h.length;f++)C[f]=h[f].id;return C},m.prototype._updateGraph=function(){if(N.prepareElements(this.svgElements),0!=this.props.width&&null!=this.itemsData){var h,d,v={},f=this.body.util.toGlobalTime(-this.body.domProps.root.width),p=this.body.util.toGlobalTime(2*this.body.domProps.root.width),_=this._getSortedGroupIds();if(_.length>0){var O={};for(this._getRelevantData(_,O,f,p),this._applySampling(_,O),d=0;d<_.length;d++)this._convertXcoordinates(O[_[d]]);if(this._getYRanges(_,O,v),1==this._updateYAxis(_,v))return N.cleanupElements(this.svgElements),this.abortedGraphUpdate=!0,!0;this.abortedGraphUpdate=!1;var V=void 0;for(d=0;d<_.length;d++)h=this.groups[_[d]],!0===this.options.stack&&"line"===this.options.style&&(null==h.options.excludeFromStacking||!h.options.excludeFromStacking)&&(null!=V&&(this._stack(O[h.id],O[V.id]),1==h.options.shaded.enabled&&"group"!==h.options.shaded.orientation&&("top"==h.options.shaded.orientation&&"group"!==V.options.shaded.orientation?(V.options.shaded.orientation="group",V.options.shaded.groupId=h.id):(h.options.shaded.orientation="group",h.options.shaded.groupId=V.id))),V=h),this._convertYcoordinates(O[_[d]],h);var j={};for(d=0;d<_.length;d++)if("line"===(h=this.groups[_[d]]).options.style&&1==h.options.shaded.enabled){var $=O[_[d]];if(null==$||0==$.length)continue;if(j.hasOwnProperty(_[d])||(j[_[d]]=g.calcPath($,h)),"group"===h.options.shaded.orientation){var W=h.options.shaded.groupId;if(-1===_.indexOf(W)){console.log(h.id+": Unknown shading group target given:"+W);continue}j.hasOwnProperty(W)||(j[W]=g.calcPath(O[W],this.groups[W])),g.drawShading(j[_[d]],h,j[W],this.framework)}else g.drawShading(j[_[d]],h,void 0,this.framework)}for(y.draw(_,O,this.framework),d=0;d<_.length;d++)if(h=this.groups[_[d]],O[_[d]].length>0)switch(h.options.style){case"line":j.hasOwnProperty(_[d])||(j[_[d]]=g.calcPath(O[_[d]],h)),g.draw(j[_[d]],h,this.framework);case"point":case"points":("point"==h.options.style||"points"==h.options.style||1==h.options.drawPoints.enabled)&&x.draw(O[_[d]],h,this.framework)}}}return N.cleanupElements(this.svgElements),!1},m.prototype._stack=function(h,d){var v,C,p,_;v=0;for(var O=0;O<h.length;O++){p=void 0,_=void 0;for(var V=v;V<d.length;V++){if(d[V].x===h[O].x){p=d[V],_=d[V],v=V;break}if(d[V].x>h[O].x){_=d[V],p=0==V?_:d[V-1],v=V;break}}void 0===_&&(p=d[d.length-1],_=d[d.length-1]),h[O].y=0==(C=_.x-p.x)?h[O].orginalY+_.y:h[O].orginalY+(_.y-p.y)/C*(h[O].x-p.x)+p.y}},m.prototype._getRelevantData=function(h,d,v,C){var f,p,_;if(h.length>0)for(p=0;p<h.length;p++){var V=(f=this.groups[h[p]]).getItems();if(1==f.options.sort){var j=function(re,se){return re.getTime()==se.getTime()?0:re<se?-1:1},$=Math.max(0,P.binarySearchValue(V,v,"x","before",j)),W=Math.min(V.length,P.binarySearchValue(V,C,"x","after",j)+1);W<=0&&(W=V.length);var Y=new Array(W-$);for(_=$;_<W;_++)Y[_-$]=f.itemsData[_];d[h[p]]=Y}else d[h[p]]=f.itemsData}},m.prototype._applySampling=function(h,d){if(h.length>0)for(var C=0;C<h.length;C++)if(1==this.groups[h[C]].options.sampling){var f=d[h[C]];if(f.length>0){var p,_=f.length,V=_/(this.body.util.toGlobalScreen(f[f.length-1].x)-this.body.util.toGlobalScreen(f[0].x));p=Math.min(Math.ceil(.2*_),Math.max(1,Math.round(V)));for(var j=new Array(_),$=0;$<_;$+=p)j[Math.round($/p)]=f[$];d[h[C]]=j.splice(0,Math.round(_/p))}}},m.prototype._getYRanges=function(h,d,v){var C,f,p,V,_=[],O=[];if(h.length>0){for(p=0;p<h.length;p++)V=this.groups[h[p]].options,(C=d[h[p]]).length>0&&(f=this.groups[h[p]],!0===V.stack&&"bar"===V.style?"left"===V.yAxisOrientation?_=_.concat(C):O=O.concat(C):v[h[p]]=f.getYRange(C,h[p]));y.getStackedYRange(_,v,h,"__barStackLeft","left"),y.getStackedYRange(O,v,h,"__barStackRight","right")}},m.prototype._updateYAxis=function(h,d){var j,$,v=!1,C=!1,f=!1,p=1e9,_=1e9,O=-1e9,V=-1e9;if(h.length>0){for(var W=0;W<h.length;W++){var Y=this.groups[h[W]];Y&&"right"!=Y.options.yAxisOrientation?(C=!0,p=1e9,O=-1e9):Y&&Y.options.yAxisOrientation&&(f=!0,_=1e9,V=-1e9)}for(W=0;W<h.length;W++)d.hasOwnProperty(h[W])&&!0!==d[h[W]].ignore&&(j=d[h[W]].min,$=d[h[W]].max,"right"!=d[h[W]].yAxisOrientation?(C=!0,p=p>j?j:p,O=O<$?$:O):(f=!0,_=_>j?j:_,V=V<$?$:V));1==C&&this.yAxisLeft.setRange(p,O),1==f&&this.yAxisRight.setRange(_,V)}v=this._toggleAxisVisiblity(C,this.yAxisLeft)||v,v=this._toggleAxisVisiblity(f,this.yAxisRight)||v,1==f&&1==C?(this.yAxisLeft.drawIcons=!0,this.yAxisRight.drawIcons=!0):(this.yAxisLeft.drawIcons=!1,this.yAxisRight.drawIcons=!1),this.yAxisRight.master=!C,this.yAxisRight.masterAxis=this.yAxisLeft,0==this.yAxisRight.master?(this.yAxisLeft.lineOffset=1==f?this.yAxisRight.width:0,v=this.yAxisLeft.redraw()||v,v=this.yAxisRight.redraw()||v):v=this.yAxisRight.redraw()||v;var q=["__barStackLeft","__barStackRight","__lineStackLeft","__lineStackRight"];for(W=0;W<q.length;W++)-1!=h.indexOf(q[W])&&h.splice(h.indexOf(q[W]),1);return v},m.prototype._toggleAxisVisiblity=function(h,d){var v=!1;return 0==h?d.dom.frame.parentNode&&0==d.hidden&&(d.hide(),v=!0):!d.dom.frame.parentNode&&1==d.hidden&&(d.show(),v=!0),v},m.prototype._convertXcoordinates=function(h){for(var d=this.body.util.toScreen,v=0;v<h.length;v++)h[v].screen_x=d(h[v].x)+this.props.width,h[v].screen_y=h[v].y,h[v].screen_end=null!=h[v].end?d(h[v].end)+this.props.width:void 0},m.prototype._convertYcoordinates=function(h,d){var v=this.yAxisLeft,C=Number(this.svg.style.height.replace("px",""));"right"==d.options.yAxisOrientation&&(v=this.yAxisRight);for(var f=0;f<h.length;f++)h[f].screen_y=Math.round(v.convertValue(h[f].y));d.setZeroPosition(Math.min(C,v.convertValue(0)))},ee.exports=m},function(ee,U,S){var D=function I(M){return M&&M.__esModule?M:{default:M}}(S(8));var P=S(2),N=S(14),L=S(16),T=S(108);function F(M,E,b,y){this.id=P.randomUUID(),this.body=M,this.defaultOptions={orientation:"left",showMinorLabels:!0,showMajorLabels:!0,icons:!1,majorLinesOffset:7,minorLinesOffset:4,labelOffsetX:10,labelOffsetY:2,iconWidth:20,width:"40px",visible:!0,alignZeros:!0,left:{range:{min:void 0,max:void 0},format:function(c){return""+parseFloat(c.toPrecision(3))},title:{text:void 0,style:void 0}},right:{range:{min:void 0,max:void 0},format:function(c){return""+parseFloat(c.toPrecision(3))},title:{text:void 0,style:void 0}}},this.linegraphOptions=y,this.linegraphSVG=b,this.props={},this.DOMelements={lines:{},labels:{},title:{}},this.dom={},this.scale=void 0,this.range={start:0,end:0},this.options=P.extend({},this.defaultOptions),this.conversionFactor=1,this.setOptions(E),this.width=Number((""+this.options.width).replace("px","")),this.minWidth=this.width,this.height=this.linegraphSVG.getBoundingClientRect().height,this.hidden=!1,this.stepPixels=25,this.zeroCrossing=-1,this.amountOfSteps=-1,this.lineOffset=0,this.master=!0,this.masterAxis=null,this.svgElements={},this.iconsRemoved=!1,this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups};var g=this;this.body.emitter.on("verticalDrag",function(){g.dom.lineContainer.style.top=g.body.domProps.scrollTop+"px"})}(F.prototype=new L).addGroup=function(M,E){this.groups.hasOwnProperty(M)||(this.groups[M]=E),this.amountOfGroups+=1},F.prototype.updateGroup=function(M,E){this.groups.hasOwnProperty(M)||(this.amountOfGroups+=1),this.groups[M]=E},F.prototype.removeGroup=function(M){this.groups.hasOwnProperty(M)&&(delete this.groups[M],this.amountOfGroups-=1)},F.prototype.setOptions=function(M){if(M){var E=!1;this.options.orientation!=M.orientation&&void 0!==M.orientation&&(E=!0),P.selectiveDeepExtend(["orientation","showMinorLabels","showMajorLabels","icons","majorLinesOffset","minorLinesOffset","labelOffsetX","labelOffsetY","iconWidth","width","visible","left","right","alignZeros"],this.options,M),this.minWidth=Number((""+this.options.width).replace("px","")),!0===E&&this.dom.frame&&(this.hide(),this.show())}},F.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.style.width=this.options.width,this.dom.frame.style.height=this.height,this.dom.lineContainer=document.createElement("div"),this.dom.lineContainer.style.width="100%",this.dom.lineContainer.style.height=this.height,this.dom.lineContainer.style.position="relative",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.height="100%",this.svg.style.width="100%",this.svg.style.display="block",this.dom.frame.appendChild(this.svg)},F.prototype._redrawGroupIcons=function(){N.prepareElements(this.svgElements);var M,E=this.options.iconWidth,g=11.5;M="left"===this.options.orientation?4:this.width-E-4;var x=(0,D.default)(this.groups);x.sort(function(h,d){return h<d?-1:1});for(var c=0;c<x.length;c++){var m=x[c];!0===this.groups[m].visible&&(void 0===this.linegraphOptions.visibility[m]||!0===this.linegraphOptions.visibility[m])&&(this.groups[m].getLegend(E,15,this.framework,M,g),g+=19)}N.cleanupElements(this.svgElements),this.iconsRemoved=!1},F.prototype._cleanupIcons=function(){!1===this.iconsRemoved&&(N.prepareElements(this.svgElements),N.cleanupElements(this.svgElements),this.iconsRemoved=!0)},F.prototype.show=function(){this.hidden=!1,this.dom.frame.parentNode||("left"===this.options.orientation?this.body.dom.left.appendChild(this.dom.frame):this.body.dom.right.appendChild(this.dom.frame)),this.dom.lineContainer.parentNode||this.body.dom.backgroundHorizontal.appendChild(this.dom.lineContainer)},F.prototype.hide=function(){this.hidden=!0,this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom.lineContainer.parentNode&&this.dom.lineContainer.parentNode.removeChild(this.dom.lineContainer)},F.prototype.setRange=function(M,E){this.range.start=M,this.range.end=E},F.prototype.redraw=function(){var M=!1,E=0;for(var b in this.dom.lineContainer.style.top=this.body.domProps.scrollTop+"px",this.groups)this.groups.hasOwnProperty(b)&&!0===this.groups[b].visible&&(void 0===this.linegraphOptions.visibility[b]||!0===this.linegraphOptions.visibility[b])&&E++;if(0===this.amountOfGroups||0===E)this.hide();else{this.show(),this.height=Number(this.linegraphSVG.style.height.replace("px","")),this.dom.lineContainer.style.height=this.height+"px",this.width=!0===this.options.visible?Number((""+this.options.width).replace("px","")):0;var y=this.props,g=this.dom.frame;g.className="vis-data-axis",this._calculateCharSize();var x=this.options.orientation,m=this.options.showMajorLabels;y.minorLabelHeight=this.options.showMinorLabels?y.minorCharHeight:0,y.majorLabelHeight=m?y.majorCharHeight:0,y.minorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.minorLinesOffset,y.minorLineHeight=1,y.majorLineWidth=this.body.dom.backgroundHorizontal.offsetWidth-this.lineOffset-this.width+2*this.options.majorLinesOffset,y.majorLineHeight=1,"left"===x?(g.style.top="0",g.style.left="0",g.style.bottom="",g.style.width=this.width+"px",g.style.height=this.height+"px",this.props.width=this.body.domProps.left.width,this.props.height=this.body.domProps.left.height):(g.style.top="",g.style.bottom="0",g.style.left="0",g.style.width=this.width+"px",g.style.height=this.height+"px",this.props.width=this.body.domProps.right.width,this.props.height=this.body.domProps.right.height),M=this._redrawLabels(),M=this._isResized()||M,!0===this.options.icons?this._redrawGroupIcons():this._cleanupIcons(),this._redrawTitle(x)}return M},F.prototype._redrawLabels=function(){var M=this,E=!1;N.prepareElements(this.DOMelements.lines),N.prepareElements(this.DOMelements.labels);var b=this.options.orientation,y=null!=this.options[b].range?this.options[b].range:{},g=!0;null!=y.max&&(this.range.end=y.max,g=!1);var x=!0;null!=y.min&&(this.range.start=y.min,x=!1),this.scale=new T(this.range.start,this.range.end,x,g,this.dom.frame.offsetHeight,this.props.majorCharHeight,this.options.alignZeros,this.options[b].format),!1===this.master&&null!=this.masterAxis&&this.scale.followScale(this.masterAxis.scale),this.maxLabelSize=0,this.scale.getLines().forEach(function(d){var v=d.y,C=d.major;M.options.showMinorLabels&&!1===C&&M._redrawLabel(v-2,d.val,b,"vis-y-axis vis-minor",M.props.minorCharHeight),C&&v>=0&&M._redrawLabel(v-2,d.val,b,"vis-y-axis vis-major",M.props.majorCharHeight),!0===M.master&&(C?M._redrawLine(v,b,"vis-grid vis-horizontal vis-major",M.options.majorLinesOffset,M.props.majorLineWidth):M._redrawLine(v,b,"vis-grid vis-horizontal vis-minor",M.options.minorLinesOffset,M.props.minorLineWidth))});var m=0;void 0!==this.options[b].title&&void 0!==this.options[b].title.text&&(m=this.props.titleCharHeight);var h=!0===this.options.icons?Math.max(this.options.iconWidth,m)+this.options.labelOffsetX+15:m+this.options.labelOffsetX+15;return this.maxLabelSize>this.width-h&&!0===this.options.visible?(this.width=this.maxLabelSize+h,this.options.width=this.width+"px",N.cleanupElements(this.DOMelements.lines),N.cleanupElements(this.DOMelements.labels),this.redraw(),E=!0):this.maxLabelSize<this.width-h&&!0===this.options.visible&&this.width>this.minWidth?(this.width=Math.max(this.minWidth,this.maxLabelSize+h),this.options.width=this.width+"px",N.cleanupElements(this.DOMelements.lines),N.cleanupElements(this.DOMelements.labels),this.redraw(),E=!0):(N.cleanupElements(this.DOMelements.lines),N.cleanupElements(this.DOMelements.labels),E=!1),E},F.prototype.convertValue=function(M){return this.scale.convertValue(M)},F.prototype.screenToValue=function(M){return this.scale.screenToValue(M)},F.prototype._redrawLabel=function(M,E,b,y,g){var x=N.getDOMElement("div",this.DOMelements.labels,this.dom.frame);x.className=y,x.innerHTML=E,"left"===b?(x.style.left="-"+this.options.labelOffsetX+"px",x.style.textAlign="right"):(x.style.right="-"+this.options.labelOffsetX+"px",x.style.textAlign="left"),x.style.top=M-.5*g+this.options.labelOffsetY+"px",E+="";var c=Math.max(this.props.majorCharWidth,this.props.minorCharWidth);this.maxLabelSize<E.length*c&&(this.maxLabelSize=E.length*c)},F.prototype._redrawLine=function(M,E,b,y,g){if(!0===this.master){var x=N.getDOMElement("div",this.DOMelements.lines,this.dom.lineContainer);x.className=b,x.innerHTML="","left"===E?x.style.left=this.width-y+"px":x.style.right=this.width-y+"px",x.style.width=g+"px",x.style.top=M+"px"}},F.prototype._redrawTitle=function(M){if(N.prepareElements(this.DOMelements.title),void 0!==this.options[M].title&&void 0!==this.options[M].title.text){var E=N.getDOMElement("div",this.DOMelements.title,this.dom.frame);E.className="vis-y-axis vis-title vis-"+M,E.innerHTML=this.options[M].title.text,void 0!==this.options[M].title.style&&P.addCssText(E,this.options[M].title.style),"left"===M?E.style.left=this.props.titleCharHeight+"px":E.style.right=this.props.titleCharHeight+"px",E.style.width=this.height+"px"}N.cleanupElements(this.DOMelements.title)},F.prototype._calculateCharSize=function(){if(!("minorCharHeight"in this.props)){var M=document.createTextNode("0"),E=document.createElement("div");E.className="vis-y-axis vis-minor vis-measure",E.appendChild(M),this.dom.frame.appendChild(E),this.props.minorCharHeight=E.clientHeight,this.props.minorCharWidth=E.clientWidth,this.dom.frame.removeChild(E)}if(!("majorCharHeight"in this.props)){var b=document.createTextNode("0"),y=document.createElement("div");y.className="vis-y-axis vis-major vis-measure",y.appendChild(b),this.dom.frame.appendChild(y),this.props.majorCharHeight=y.clientHeight,this.props.majorCharWidth=y.clientWidth,this.dom.frame.removeChild(y)}if(!("titleCharHeight"in this.props)){var g=document.createTextNode("0"),x=document.createElement("div");x.className="vis-y-axis vis-title vis-measure",x.appendChild(g),this.dom.frame.appendChild(x),this.props.titleCharHeight=x.clientHeight,this.props.titleCharWidth=x.clientWidth,this.dom.frame.removeChild(x)}},ee.exports=F},function(ee,U,S){function B(D,I,P,N,L,T){var F=arguments.length>6&&void 0!==arguments[6]&&arguments[6],M=arguments.length>7&&void 0!==arguments[7]&&arguments[7];if(this.majorSteps=[1,2,5,10],this.minorSteps=[.25,.5,1,2],this.customLines=null,this.containerHeight=L,this.majorCharHeight=T,this._start=D,this._end=I,this.scale=1,this.minorStepIdx=-1,this.magnitudefactor=1,this.determineScale(),this.zeroAlign=F,this.autoScaleStart=P,this.autoScaleEnd=N,this.formattingFunction=M,P||N){var E=this,b=function(g){var x=g-g%(E.magnitudefactor*E.minorSteps[E.minorStepIdx]);return g%(E.magnitudefactor*E.minorSteps[E.minorStepIdx])>E.magnitudefactor*E.minorSteps[E.minorStepIdx]*.5?x+E.magnitudefactor*E.minorSteps[E.minorStepIdx]:x};P&&(this._start-=2*this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._start=b(this._start)),N&&(this._end+=this.magnitudefactor*this.minorSteps[this.minorStepIdx],this._end=b(this._end)),this.determineScale()}}B.prototype.setCharHeight=function(D){this.majorCharHeight=D},B.prototype.setHeight=function(D){this.containerHeight=D},B.prototype.determineScale=function(){var D=this._end-this._start;this.scale=this.containerHeight/D;var I=this.majorCharHeight/this.scale,P=D>0?Math.round(Math.log(D)/Math.LN10):0;this.minorStepIdx=-1,this.magnitudefactor=Math.pow(10,P);var N=0;P<0&&(N=P);for(var L=!1,T=N;Math.abs(T)<=Math.abs(P);T++){this.magnitudefactor=Math.pow(10,T);for(var F=0;F<this.minorSteps.length;F++)if(this.magnitudefactor*this.minorSteps[F]>=I){L=!0,this.minorStepIdx=F;break}if(!0===L)break}},B.prototype.is_major=function(D){return D%(this.magnitudefactor*this.majorSteps[this.minorStepIdx])==0},B.prototype.getStep=function(){return this.magnitudefactor*this.minorSteps[this.minorStepIdx]},B.prototype.getFirstMajor=function(){var D=this.magnitudefactor*this.majorSteps[this.minorStepIdx];return this.convertValue(this._start+(D-this._start%D)%D)},B.prototype.formatValue=function(D){var I=D.toPrecision(5);return"function"==typeof this.formattingFunction&&(I=this.formattingFunction(D)),"number"==typeof I?""+I:"string"==typeof I?I:D.toPrecision(5)},B.prototype.getLines=function(){for(var D=[],I=this.getStep(),N=this._start+(I-this._start%I)%I;this._end-N>1e-5;N+=I)N!=this._start&&D.push({major:this.is_major(N),y:this.convertValue(N),val:this.formatValue(N)});return D},B.prototype.followScale=function(D){var I=this.minorStepIdx,P=this._start,N=this._end,L=this,T=function(){L.magnitudefactor*=2},F=function(){L.magnitudefactor/=2};D.minorStepIdx<=1&&this.minorStepIdx<=1||D.minorStepIdx>1&&this.minorStepIdx>1||(D.minorStepIdx<this.minorStepIdx?(this.minorStepIdx=1,2==I||T(),T()):(this.minorStepIdx=2,1==I||F(),F()));for(var M=D.convertValue(0),E=D.getStep()*D.scale,b=!1,y=0;!b&&y++<5;){this.scale=E/(this.minorSteps[this.minorStepIdx]*this.magnitudefactor);var g=this.containerHeight/this.scale;this._start=P,this._end=this._start+g;var x=this._end*this.scale,c=this.magnitudefactor*this.majorSteps[this.minorStepIdx],m=this.getFirstMajor()-D.getFirstMajor();if(this.zeroAlign?(this._end+=(M-x)/this.scale,this._start=this._end-g):this.autoScaleStart?(this._start-=m/this.scale,this._end=this._start+g):(this._start+=c-m/this.scale,this._end=this._start+g),!this.autoScaleEnd&&this._end>N+1e-5)F(),b=!1;else{if(!this.autoScaleStart&&this._start<P-1e-5){if(!(this.zeroAlign&&P>=0)){F(),b=!1;continue}console.warn("Can't adhere to given 'min' range, due to zeroalign")}this.autoScaleStart&&this.autoScaleEnd&&g<N-P?(T(),b=!1):b=!0}}},B.prototype.convertValue=function(D){return this.containerHeight-(D-this._start)*this.scale},B.prototype.screenToValue=function(D){return(this.containerHeight-D)/this.scale+this._start},ee.exports=B},function(ee,U,S){var D=function I(M){return M&&M.__esModule?M:{default:M}}(S(6));var P=S(2),N=S(110),L=S(111),T=S(72);function F(M,E,b,y){this.id=E,this.options=P.selectiveBridgeObject(["sampling","style","sort","yAxisOrientation","barChart","drawPoints","shaded","interpolation","zIndex","excludeFromStacking","excludeFromLegend"],b),this.usingDefaultStyle=void 0===M.className,this.groupsUsingDefaultStyles=y,this.zeroPosition=0,this.update(M),1==this.usingDefaultStyle&&(this.groupsUsingDefaultStyles[0]+=1),this.itemsData=[],this.visible=void 0===M.visible||M.visible}F.prototype.setItems=function(M){null!=M?(this.itemsData=M,1==this.options.sort&&P.insertSort(this.itemsData,function(E,b){return E.x>b.x?1:-1})):this.itemsData=[]},F.prototype.getItems=function(){return this.itemsData},F.prototype.setZeroPosition=function(M){this.zeroPosition=M},F.prototype.setOptions=function(M){void 0!==M&&(P.selectiveDeepExtend(["sampling","style","sort","yAxisOrientation","barChart","zIndex","excludeFromStacking","excludeFromLegend"],this.options,M),"function"==typeof M.drawPoints&&(M.drawPoints={onRender:M.drawPoints}),P.mergeOptions(this.options,M,"interpolation"),P.mergeOptions(this.options,M,"drawPoints"),P.mergeOptions(this.options,M,"shaded"),M.interpolation&&"object"==(0,D.default)(M.interpolation)&&M.interpolation.parametrization&&("uniform"==M.interpolation.parametrization?this.options.interpolation.alpha=0:"chordal"==M.interpolation.parametrization?this.options.interpolation.alpha=1:(this.options.interpolation.parametrization="centripetal",this.options.interpolation.alpha=.5)))},F.prototype.update=function(M){this.group=M,this.content=M.content||"graph",this.className=M.className||this.className||"vis-graph-group"+this.groupsUsingDefaultStyles[0]%10,this.visible=void 0===M.visible||M.visible,this.style=M.style,this.setOptions(M.options)},F.prototype.getLegend=function(M,E,b,y,g){switch(null!=b&&null!=b||(b={svg:document.createElementNS("http://www.w3.org/2000/svg","svg"),svgElements:{},options:this.options,groups:[this]}),(null==y||null==y)&&(y=0),(null==g||null==g)&&(g=.5*E),this.options.style){case"line":L.drawIcon(this,y,g,M,E,b);break;case"points":case"point":T.drawIcon(this,y,g,M,E,b);break;case"bar":N.drawIcon(this,y,g,M,E,b)}return{icon:b.svg,label:this.content,orientation:this.options.yAxisOrientation}},F.prototype.getYRange=function(M){for(var E=M[0].y,b=M[0].y,y=0;y<M.length;y++)E=E>M[y].y?M[y].y:E,b=b<M[y].y?M[y].y:b;return{min:E,max:b,yAxisOrientation:this.options.yAxisOrientation}},ee.exports=F},function(ee,U,S){var B=S(14),D=S(72);function I(P,N){}I.drawIcon=function(P,N,L,T,F,M){var E=.5*F,b=B.getSVGElement("rect",M.svgElements,M.svg);b.setAttributeNS(null,"x",N),b.setAttributeNS(null,"y",L-E),b.setAttributeNS(null,"width",T),b.setAttributeNS(null,"height",2*E),b.setAttributeNS(null,"class","vis-outline");var y=Math.round(.3*T),x=P.options.barChart.width/y,c=Math.round(.4*F),m=Math.round(.75*F),h=Math.round((T-2*y)/3);if(B.drawBar(N+.5*y+h,L+E-c-1,y,c,P.className+" vis-bar",M.svgElements,M.svg,P.style),B.drawBar(N+1.5*y+h+2,L+E-m-1,y,m,P.className+" vis-bar",M.svgElements,M.svg,P.style),1==P.options.drawPoints.enabled){var d={style:P.options.drawPoints.style,styles:P.options.drawPoints.styles,size:P.options.drawPoints.size/x,className:P.className};B.drawPoint(N+.5*y+h,L+E-c-1,d,M.svgElements,M.svg),B.drawPoint(N+1.5*y+h+2,L+E-m-1,d,M.svgElements,M.svg)}},I.draw=function(P,N,L){var M,E,b,y,g,x,T=[],F={},c=0;for(g=0;g<P.length;g++)if("bar"===(y=L.groups[P[g]]).options.style&&!0===y.visible&&(void 0===L.options.groups.visibility[P[g]]||!0===L.options.groups.visibility[P[g]]))for(x=0;x<N[P[g]].length;x++)T.push({screen_x:N[P[g]][x].screen_x,screen_end:N[P[g]][x].screen_end,screen_y:N[P[g]][x].screen_y,x:N[P[g]][x].x,end:N[P[g]][x].end,y:N[P[g]][x].y,groupId:P[g],label:N[P[g]][x].label}),c+=1;if(0!==c)for(T.sort(function(p,_){return p.screen_x===_.screen_x?p.groupId<_.groupId?-1:1:p.screen_x-_.screen_x}),I._getDataIntersections(F,T),g=0;g<T.length;g++){var m=null!=(y=L.groups[T[g].groupId]).options.barChart.minWidth?y.options.barChart.minWidth:.1*y.options.barChart.width,h=0;if(void 0===F[E=T[g].screen_x])g+1<T.length&&(M=Math.abs(T[g+1].screen_x-E)),b=I._getSafeDrawData(M,y,m);else{var d=g+(F[E].amount-F[E].resolved);d<T.length&&(M=Math.abs(T[d].screen_x-E)),b=I._getSafeDrawData(M,y,m),F[E].resolved+=1,!0===y.options.stack&&!0!==y.options.excludeFromStacking?T[g].screen_y<y.zeroPosition?(h=F[E].accumulatedNegative,F[E].accumulatedNegative+=y.zeroPosition-T[g].screen_y):(h=F[E].accumulatedPositive,F[E].accumulatedPositive+=y.zeroPosition-T[g].screen_y):!0===y.options.barChart.sideBySide&&(b.width=b.width/F[E].amount,b.offset+=F[E].resolved*b.width-.5*b.width*(F[E].amount+1))}var v=b.width,C=T[g].screen_x;C+=null!=T[g].screen_end?.5*(v=T[g].screen_end-T[g].screen_x):b.offset,B.drawBar(C,T[g].screen_y-h,v,y.zeroPosition-T[g].screen_y,y.className+" vis-bar",L.svgElements,L.svg,y.style),!0===y.options.drawPoints.enabled&&D.draw([{screen_x:T[g].screen_x,screen_y:T[g].screen_y-h,x:T[g].x,y:T[g].y,groupId:T[g].groupId,label:T[g].label}],y,L,b.offset)}},I._getDataIntersections=function(P,N){for(var L,T=0;T<N.length;T++)T+1<N.length&&(L=Math.abs(N[T+1].screen_x-N[T].screen_x)),T>0&&(L=Math.min(L,Math.abs(N[T-1].screen_x-N[T].screen_x))),0===L&&(void 0===P[N[T].screen_x]&&(P[N[T].screen_x]={amount:0,resolved:0,accumulatedPositive:0,accumulatedNegative:0}),P[N[T].screen_x].amount+=1)},I._getSafeDrawData=function(P,N,L){var T,F;return P<N.options.barChart.width&&P>0?(T=P<L?L:P,F=0,"left"===N.options.barChart.align?F-=.5*P:"right"===N.options.barChart.align&&(F+=.5*P)):(T=N.options.barChart.width,F=0,"left"===N.options.barChart.align?F-=.5*N.options.barChart.width:"right"===N.options.barChart.align&&(F+=.5*N.options.barChart.width)),{width:T,offset:F}},I.getStackedYRange=function(P,N,L,T,F){if(P.length>0){P.sort(function(E,b){return E.screen_x===b.screen_x?E.groupId<b.groupId?-1:1:E.screen_x-b.screen_x});var M={};I._getDataIntersections(M,P),N[T]=I._getStackedYRange(M,P),N[T].yAxisOrientation=F,L.push(T)}},I._getStackedYRange=function(P,N){for(var L,T=N[0].screen_y,F=N[0].screen_y,M=0;M<N.length;M++)void 0===P[L=N[M].screen_x]?(T=T>N[M].screen_y?N[M].screen_y:T,F=F<N[M].screen_y?N[M].screen_y:F):N[M].screen_y<0?P[L].accumulatedNegative+=N[M].screen_y:P[L].accumulatedPositive+=N[M].screen_y;for(var E in P)P.hasOwnProperty(E)&&(T=(T=T>P[E].accumulatedNegative?P[E].accumulatedNegative:T)>P[E].accumulatedPositive?P[E].accumulatedPositive:T,F=(F=F<P[E].accumulatedNegative?P[E].accumulatedNegative:F)<P[E].accumulatedPositive?P[E].accumulatedPositive:F);return{min:T,max:F}},ee.exports=I},function(ee,U,S){var B=S(14);function D(I,P){}D.calcPath=function(I,P){if(null!=I&&I.length>0)return 1==P.options.interpolation.enabled?D._catmullRom(I,P):D._linear(I)},D.drawIcon=function(I,P,N,L,T,F){var E,b,M=.5*T,y=B.getSVGElement("rect",F.svgElements,F.svg);y.setAttributeNS(null,"x",P),y.setAttributeNS(null,"y",N-M),y.setAttributeNS(null,"width",L),y.setAttributeNS(null,"height",2*M),y.setAttributeNS(null,"class","vis-outline"),(E=B.getSVGElement("path",F.svgElements,F.svg)).setAttributeNS(null,"class",I.className),void 0!==I.style&&E.setAttributeNS(null,"style",I.style),E.setAttributeNS(null,"d","M"+P+","+N+" L"+(P+L)+","+N),1==I.options.shaded.enabled&&((b=B.getSVGElement("path",F.svgElements,F.svg)).setAttributeNS(null,"d","top"==I.options.shaded.orientation?"M"+P+", "+(N-M)+"L"+P+","+N+" L"+(P+L)+","+N+" L"+(P+L)+","+(N-M):"M"+P+","+N+" L"+P+","+(N+M)+" L"+(P+L)+","+(N+M)+"L"+(P+L)+","+N),b.setAttributeNS(null,"class",I.className+" vis-icon-fill"),void 0!==I.options.shaded.style&&""!==I.options.shaded.style&&b.setAttributeNS(null,"style",I.options.shaded.style)),1==I.options.drawPoints.enabled&&B.drawPoint(P+.5*L,N,{style:I.options.drawPoints.style,styles:I.options.drawPoints.styles,size:I.options.drawPoints.size,className:I.className},F.svgElements,F.svg)},D.drawShading=function(I,P,N,L){if(1==P.options.shaded.enabled){var T=Number(L.svg.style.height.replace("px","")),F=B.getSVGElement("path",L.svgElements,L.svg),M="L";1==P.options.interpolation.enabled&&(M="C");var E,b;b="top"==P.options.shaded.orientation?0:"bottom"==P.options.shaded.orientation?T:Math.min(Math.max(0,P.zeroPosition),T),E="group"==P.options.shaded.orientation&&null!=N&&null!=N?"M"+I[0][0]+","+I[0][1]+" "+this.serializePath(I,M,!1)+" L"+N[N.length-1][0]+","+N[N.length-1][1]+" "+this.serializePath(N,M,!0)+N[0][0]+","+N[0][1]+" Z":"M"+I[0][0]+","+I[0][1]+" "+this.serializePath(I,M,!1)+" V"+b+" H"+I[0][0]+" Z",F.setAttributeNS(null,"class",P.className+" vis-fill"),void 0!==P.options.shaded.style&&F.setAttributeNS(null,"style",P.options.shaded.style),F.setAttributeNS(null,"d",E)}},D.draw=function(I,P,N){if(null!=I&&null!=I){var L=B.getSVGElement("path",N.svgElements,N.svg);L.setAttributeNS(null,"class",P.className),void 0!==P.style&&L.setAttributeNS(null,"style",P.style);var T="L";1==P.options.interpolation.enabled&&(T="C"),L.setAttributeNS(null,"d","M"+I[0][0]+","+I[0][1]+" "+this.serializePath(I,T,!1))}},D.serializePath=function(I,P,N){if(I.length<2)return"";var T,L=P;if(N)for(T=I.length-2;T>0;T--)L+=I[T][0]+","+I[T][1]+" ";else for(T=1;T<I.length;T++)L+=I[T][0]+","+I[T][1]+" ";return L},D._catmullRomUniform=function(I){var P,N,L,T,F,M,E=[];E.push([Math.round(I[0].screen_x),Math.round(I[0].screen_y)]);for(var b=1/6,y=I.length,g=0;g<y-1;g++)M={screen_x:((N=I[g]).screen_x+6*(L=I[g+1]).screen_x-(T=g+2<y?I[g+2]:L).screen_x)*b,screen_y:(N.screen_y+6*L.screen_y-T.screen_y)*b},E.push([(F={screen_x:(6*N.screen_x-(P=0==g?I[0]:I[g-1]).screen_x+L.screen_x)*b,screen_y:(6*N.screen_y-P.screen_y+L.screen_y)*b}).screen_x,F.screen_y]),E.push([M.screen_x,M.screen_y]),E.push([L.screen_x,L.screen_y]);return E},D._catmullRom=function(I,P){var N=P.options.interpolation.alpha;if(0==N||void 0===N)return this._catmullRomUniform(I);var L,T,F,M,E,b,y,g,x,c,m,h,d,v,C,f,p,_,O,V=[];V.push([Math.round(I[0].screen_x),Math.round(I[0].screen_y)]);for(var j=I.length,$=0;$<j-1;$++)L=0==$?I[0]:I[$-1],T=I[$],F=I[$+1],M=$+2<j?I[$+2]:F,y=Math.sqrt(Math.pow(L.screen_x-T.screen_x,2)+Math.pow(L.screen_y-T.screen_y,2)),g=Math.sqrt(Math.pow(T.screen_x-F.screen_x,2)+Math.pow(T.screen_y-F.screen_y,2)),x=Math.sqrt(Math.pow(F.screen_x-M.screen_x,2)+Math.pow(F.screen_y-M.screen_y,2)),v=Math.pow(x,N),f=Math.pow(x,2*N),C=Math.pow(g,N),p=Math.pow(g,2*N),O=Math.pow(y,N),_=Math.pow(y,2*N),(h=3*O*(O+C))>0&&(h=1/h),(d=3*v*(v+C))>0&&(d=1/d),0==(E={screen_x:(-p*L.screen_x+(c=2*_+3*O*C+p)*T.screen_x+_*F.screen_x)*h,screen_y:(-p*L.screen_y+c*T.screen_y+_*F.screen_y)*h}).screen_x&&0==E.screen_y&&(E=T),0==(b={screen_x:(f*T.screen_x+(m=2*f+3*v*C+p)*F.screen_x-p*M.screen_x)*d,screen_y:(f*T.screen_y+m*F.screen_y-p*M.screen_y)*d}).screen_x&&0==b.screen_y&&(b=F),V.push([E.screen_x,E.screen_y]),V.push([b.screen_x,b.screen_y]),V.push([F.screen_x,F.screen_y]);return V},D._linear=function(I){for(var P=[],N=0;N<I.length;N++)P.push([I[N].screen_x,I[N].screen_y]);return P},ee.exports=D},function(ee,U,S){var D=function I(F){return F&&F.__esModule?F:{default:F}}(S(8));var P=S(2),N=S(14),L=S(16);function T(F,M,E,b){this.body=F,this.defaultOptions={enabled:!1,icons:!0,iconSize:20,iconSpacing:6,left:{visible:!0,position:"top-left"},right:{visible:!0,position:"top-right"}},this.side=E,this.options=P.extend({},this.defaultOptions),this.linegraphOptions=b,this.svgElements={},this.dom={},this.groups={},this.amountOfGroups=0,this._create(),this.framework={svg:this.svg,svgElements:this.svgElements,options:this.options,groups:this.groups},this.setOptions(M)}(T.prototype=new L).clear=function(){this.groups={},this.amountOfGroups=0},T.prototype.addGroup=function(F,M){1!=M.options.excludeFromLegend&&(this.groups.hasOwnProperty(F)||(this.groups[F]=M),this.amountOfGroups+=1)},T.prototype.updateGroup=function(F,M){this.groups[F]=M},T.prototype.removeGroup=function(F){this.groups.hasOwnProperty(F)&&(delete this.groups[F],this.amountOfGroups-=1)},T.prototype._create=function(){this.dom.frame=document.createElement("div"),this.dom.frame.className="vis-legend",this.dom.frame.style.position="absolute",this.dom.frame.style.top="10px",this.dom.frame.style.display="block",this.dom.textArea=document.createElement("div"),this.dom.textArea.className="vis-legend-text",this.dom.textArea.style.position="relative",this.dom.textArea.style.top="0px",this.svg=document.createElementNS("http://www.w3.org/2000/svg","svg"),this.svg.style.position="absolute",this.svg.style.top="0px",this.svg.style.width=this.options.iconSize+5+"px",this.svg.style.height="100%",this.dom.frame.appendChild(this.svg),this.dom.frame.appendChild(this.dom.textArea)},T.prototype.hide=function(){this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame)},T.prototype.show=function(){this.dom.frame.parentNode||this.body.dom.center.appendChild(this.dom.frame)},T.prototype.setOptions=function(F){P.selectiveDeepExtend(["enabled","orientation","icons","left","right"],this.options,F)},T.prototype.redraw=function(){var F=0,M=(0,D.default)(this.groups);M.sort(function(x,c){return x<c?-1:1});for(var E=0;E<M.length;E++){var b=M[E];1==this.groups[b].visible&&(void 0===this.linegraphOptions.visibility[b]||1==this.linegraphOptions.visibility[b])&&F++}if(0==this.options[this.side].visible||0==this.amountOfGroups||0==this.options.enabled||0==F)this.hide();else{this.show(),"top-left"==this.options[this.side].position||"bottom-left"==this.options[this.side].position?(this.dom.frame.style.left="4px",this.dom.frame.style.textAlign="left",this.dom.textArea.style.textAlign="left",this.dom.textArea.style.left=this.options.iconSize+15+"px",this.dom.textArea.style.right="",this.svg.style.left="0px",this.svg.style.right=""):(this.dom.frame.style.right="4px",this.dom.frame.style.textAlign="right",this.dom.textArea.style.textAlign="right",this.dom.textArea.style.right=this.options.iconSize+15+"px",this.dom.textArea.style.left="",this.svg.style.right="0px",this.svg.style.left=""),"top-left"==this.options[this.side].position||"top-right"==this.options[this.side].position?(this.dom.frame.style.top=4-Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.bottom=""):(this.dom.frame.style.bottom=this.body.domProps.center.height-this.body.domProps.centerContainer.height+4+Number(this.body.dom.center.style.top.replace("px",""))+"px",this.dom.frame.style.top=""),0==this.options.icons?(this.dom.frame.style.width=this.dom.textArea.offsetWidth+10+"px",this.dom.textArea.style.right="",this.dom.textArea.style.left="",this.svg.style.width="0px"):(this.dom.frame.style.width=this.options.iconSize+15+this.dom.textArea.offsetWidth+10+"px",this.drawLegendIcons());var g="";for(E=0;E<M.length;E++)1==this.groups[b=M[E]].visible&&(void 0===this.linegraphOptions.visibility[b]||1==this.linegraphOptions.visibility[b])&&(g+=this.groups[b].content+"<br />");this.dom.textArea.innerHTML=g,this.dom.textArea.style.lineHeight=.75*this.options.iconSize+this.options.iconSpacing+"px"}},T.prototype.drawLegendIcons=function(){if(this.dom.frame.parentNode){var F=(0,D.default)(this.groups);F.sort(function(h,d){return h<d?-1:1}),N.resetElements(this.svgElements);var M=window.getComputedStyle(this.dom.frame).paddingTop,E=Number(M.replace("px","")),b=E,y=this.options.iconSize,g=.75*this.options.iconSize,x=E+.5*g+3;this.svg.style.width=y+5+E+"px";for(var c=0;c<F.length;c++){var m=F[c];1==this.groups[m].visible&&(void 0===this.linegraphOptions.visibility[m]||1==this.linegraphOptions.visibility[m])&&(this.groups[m].getLegend(y,g,this.framework,b,x),x+=g+this.options.iconSpacing)}}},ee.exports=T},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var B="string",D="boolean",I="number",N="date",L="object",F="moment";U.allOptions={configure:{enabled:{boolean:D},filter:{boolean:D,function:"function"},container:{dom:"dom"},__type__:{object:L,boolean:D,function:"function"}},yAxisOrientation:{string:["left","right"]},defaultGroup:{string:B},sort:{boolean:D},sampling:{boolean:D},stack:{boolean:D},graphHeight:{string:B,number:I},shaded:{enabled:{boolean:D},orientation:{string:["bottom","top","zero","group"]},groupId:{object:L},__type__:{boolean:D,object:L}},style:{string:["line","bar","points"]},barChart:{width:{number:I},minWidth:{number:I},sideBySide:{boolean:D},align:{string:["left","center","right"]},__type__:{object:L}},interpolation:{enabled:{boolean:D},parametrization:{string:["centripetal","chordal","uniform"]},alpha:{number:I},__type__:{object:L,boolean:D}},drawPoints:{enabled:{boolean:D},onRender:{function:"function"},size:{number:I},style:{string:["square","circle"]},__type__:{object:L,boolean:D,function:"function"}},dataAxis:{showMinorLabels:{boolean:D},showMajorLabels:{boolean:D},icons:{boolean:D},width:{string:B,number:I},visible:{boolean:D},alignZeros:{boolean:D},left:{range:{min:{number:I,undefined:"undefined"},max:{number:I,undefined:"undefined"},__type__:{object:L}},format:{function:"function"},title:{text:{string:B,number:I,undefined:"undefined"},style:{string:B,undefined:"undefined"},__type__:{object:L}},__type__:{object:L}},right:{range:{min:{number:I,undefined:"undefined"},max:{number:I,undefined:"undefined"},__type__:{object:L}},format:{function:"function"},title:{text:{string:B,number:I,undefined:"undefined"},style:{string:B,undefined:"undefined"},__type__:{object:L}},__type__:{object:L}},__type__:{object:L}},legend:{enabled:{boolean:D},icons:{boolean:D},left:{visible:{boolean:D},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:L}},right:{visible:{boolean:D},position:{string:["top-right","bottom-right","top-left","bottom-left"]},__type__:{object:L}},__type__:{object:L,boolean:D}},groups:{visibility:{any:"any"},__type__:{object:L}},autoResize:{boolean:D},throttleRedraw:{number:I},clickToUse:{boolean:D},end:{number:I,date:N,string:B,moment:F},format:{minorLabels:{millisecond:{string:B,undefined:"undefined"},second:{string:B,undefined:"undefined"},minute:{string:B,undefined:"undefined"},hour:{string:B,undefined:"undefined"},weekday:{string:B,undefined:"undefined"},day:{string:B,undefined:"undefined"},month:{string:B,undefined:"undefined"},year:{string:B,undefined:"undefined"},__type__:{object:L}},majorLabels:{millisecond:{string:B,undefined:"undefined"},second:{string:B,undefined:"undefined"},minute:{string:B,undefined:"undefined"},hour:{string:B,undefined:"undefined"},weekday:{string:B,undefined:"undefined"},day:{string:B,undefined:"undefined"},month:{string:B,undefined:"undefined"},year:{string:B,undefined:"undefined"},__type__:{object:L}},__type__:{object:L}},moment:{function:"function"},height:{string:B,number:I},hiddenDates:{start:{date:N,number:I,string:B,moment:F},end:{date:N,number:I,string:B,moment:F},repeat:{string:B},__type__:{object:L,array:"array"}},locale:{string:B},locales:{__any__:{any:"any"},__type__:{object:L}},max:{date:N,number:I,string:B,moment:F},maxHeight:{number:I,string:B},maxMinorChars:{number:I},min:{date:N,number:I,string:B,moment:F},minHeight:{number:I,string:B},moveable:{boolean:D},multiselect:{boolean:D},orientation:{string:B},showCurrentTime:{boolean:D},showMajorLabels:{boolean:D},showMinorLabels:{boolean:D},start:{date:N,number:I,string:B,moment:F},timeAxis:{scale:{string:B,undefined:"undefined"},step:{number:I,undefined:"undefined"},__type__:{object:L}},width:{string:B,number:I},zoomable:{boolean:D},zoomKey:{string:["ctrlKey","altKey","metaKey",""]},zoomMax:{number:I},zoomMin:{number:I},zIndex:{number:I},__type__:{object:L}},U.configureOptions={global:{sort:!0,sampling:!0,stack:!1,shaded:{enabled:!1,orientation:["zero","top","bottom","group"]},style:["line","bar","points"],barChart:{width:[50,5,100,5],minWidth:[50,5,100,5],sideBySide:!1,align:["left","center","right"]},interpolation:{enabled:!0,parametrization:["centripetal","chordal","uniform"]},drawPoints:{enabled:!0,size:[6,2,30,1],style:["square","circle"]},dataAxis:{showMinorLabels:!0,showMajorLabels:!0,icons:!1,width:[40,0,200,1],visible:!0,alignZeros:!0,left:{title:{text:"",style:""}},right:{title:{text:"",style:""}}},legend:{enabled:!1,icons:!0,left:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]},right:{visible:!0,position:["top-right","bottom-right","top-left","bottom-left"]}},autoResize:!0,clickToUse:!1,end:"",format:{minorLabels:{millisecond:"SSS",second:"s",minute:"HH:mm",hour:"HH:mm",weekday:"ddd D",day:"D",month:"MMM",year:"YYYY"},majorLabels:{millisecond:"HH:mm:ss",second:"D MMMM HH:mm",minute:"ddd D MMMM",hour:"ddd D MMMM",weekday:"MMMM YYYY",day:"MMMM YYYY",month:"YYYY",year:""}},height:"",locale:"",max:"",maxHeight:"",maxMinorChars:[7,0,20,1],min:"",minHeight:"",moveable:!0,orientation:["both","bottom","top"],showCurrentTime:!1,showMajorLabels:!0,showMinorLabels:!0,start:"",width:"100%",zoomable:!0,zoomKey:["ctrlKey","altKey","metaKey",""],zoomMax:[31536e10,10,31536e10,1],zoomMin:[10,10,31536e10,1],zIndex:0}}},function(ee,U,S){var D=function I(ue){return ue&&ue.__esModule?ue:{default:ue}}(S(29));function P(ue){return M=ue,function V(){var ue={};if(function x(){E=0,b=M.charAt(0)}(),O(),"strict"===y&&(ue.strict=!0,O()),("graph"===y||"digraph"===y)&&(ue.type=y,O()),g===T.IDENTIFIER&&(ue.id=y,O()),"{"!=y)throw de("Angle bracket { expected");if(O(),j(ue),"}"!=y)throw de("Angle bracket } expected");if(O(),""!==y)throw de("End of file expected");return O(),delete ue.node,delete ue.edge,delete ue.graph,ue}()}var N={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},L=(0,D.default)(N);L.color="color.color",L.style="dashes";var T={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},F={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},M="",E=0,b="",y="",g=T.NULL;function c(){E++,b=M.charAt(E)}function m(){return M.charAt(E+1)}var h=/[a-zA-Z_0-9.:#]/;function d(ue){return h.test(ue)}function v(ue,he){if(ue||(ue={}),he)for(var xe in he)he.hasOwnProperty(xe)&&(ue[xe]=he[xe]);return ue}function C(ue,he,xe){for(var Fe=he.split("."),Be=ue;Fe.length;){var Re=Fe.shift();Fe.length?(Be[Re]||(Be[Re]={}),Be=Be[Re]):Be[Re]=xe}}function f(ue,he){for(var xe,Fe,Be=null,Re=[ue],Ye=ue;Ye.parent;)Re.push(Ye.parent),Ye=Ye.parent;if(Ye.nodes)for(xe=0,Fe=Ye.nodes.length;xe<Fe;xe++)if(he.id===Ye.nodes[xe].id){Be=Ye.nodes[xe];break}for(Be||(Be={id:he.id},ue.node&&(Be.attr=v(Be.attr,ue.node))),xe=Re.length-1;xe>=0;xe--){var Ze=Re[xe];Ze.nodes||(Ze.nodes=[]),-1===Ze.nodes.indexOf(Be)&&Ze.nodes.push(Be)}he.attr&&(Be.attr=v(Be.attr,he.attr))}function p(ue,he){if(ue.edges||(ue.edges=[]),ue.edges.push(he),ue.edge){var xe=v({},ue.edge);he.attr=v(xe,he.attr)}}function _(ue,he,xe,Fe,Be){var Re={from:he,to:xe,type:Fe};return ue.edge&&(Re.attr=v({},ue.edge)),Re.attr=v(Re.attr||{},Be),Re}function O(){for(g=T.NULL,y="";" "===b||"\t"===b||"\n"===b||"\r"===b;)c();do{var ue=!1;if("#"===b){for(var he=E-1;" "===M.charAt(he)||"\t"===M.charAt(he);)he--;if("\n"===M.charAt(he)||""===M.charAt(he)){for(;""!=b&&"\n"!=b;)c();ue=!0}}if("/"===b&&"/"===m()){for(;""!=b&&"\n"!=b;)c();ue=!0}if("/"===b&&"*"===m()){for(;""!=b;){if("*"===b&&"/"===m()){c(),c();break}c()}ue=!0}for(;" "===b||"\t"===b||"\n"===b||"\r"===b;)c()}while(ue);if(""!==b){var xe=b+m();if(F[xe])return g=T.DELIMITER,y=xe,c(),void c();if(F[b])return g=T.DELIMITER,y=b,void c();if(d(b)||"-"===b){for(y+=b,c();d(b);)y+=b,c();return"false"===y?y=!1:"true"===y?y=!0:isNaN(Number(y))||(y=Number(y)),void(g=T.IDENTIFIER)}if('"'===b){for(c();""!=b&&('"'!=b||'"'===b&&'"'===m());)'"'===b?(y+=b,c()):"\\"===b&&"n"===m()?(y+="\n",c()):y+=b,c();if('"'!=b)throw de('End of string " expected');return c(),void(g=T.IDENTIFIER)}for(g=T.UNKNOWN;""!=b;)y+=b,c();throw new SyntaxError('Syntax error in part "'+ve(y,30)+'"')}g=T.DELIMITER}function j(ue){for(;""!==y&&"}"!=y;)$(ue),";"===y&&O()}function $(ue){var he=W(ue);if(he)re(ue,he);else if(!function Y(ue){return"node"===y?(O(),ue.node=se(),"node"):"edge"===y?(O(),ue.edge=se(),"edge"):"graph"===y?(O(),ue.graph=se(),"graph"):null}(ue)){if(g!=T.IDENTIFIER)throw de("Identifier expected");var Fe=y;if(O(),"="===y){if(O(),g!=T.IDENTIFIER)throw de("Identifier expected");ue[Fe]=y,O()}else!function q(ue,he){var xe={id:he},Fe=se();Fe&&(xe.attr=Fe),f(ue,xe),re(ue,he)}(ue,Fe)}}function W(ue){var he=null;if("subgraph"===y&&((he={}).type="subgraph",O(),g===T.IDENTIFIER&&(he.id=y,O())),"{"===y){if(O(),he||(he={}),he.parent=ue,he.node=ue.node,he.edge=ue.edge,he.graph=ue.graph,j(he),"}"!=y)throw de("Angle bracket } expected");O(),delete he.node,delete he.edge,delete he.graph,delete he.parent,ue.subgraphs||(ue.subgraphs=[]),ue.subgraphs.push(he)}return he}function re(ue,he){for(;"->"===y||"--"===y;){var xe,Fe=y;O();var Be=W(ue);if(Be)xe=Be;else{if(g!=T.IDENTIFIER)throw de("Identifier or subgraph expected");f(ue,{id:xe=y}),O()}p(ue,_(ue,he,xe,Fe,se())),he=xe}}function se(){for(var ue=null,he={dashed:!0,solid:!1,dotted:[1,5]};"["===y;){for(O(),ue={};""!==y&&"]"!=y;){if(g!=T.IDENTIFIER)throw de("Attribute name expected");var xe=y;if(O(),"="!=y)throw de("Equal sign = expected");if(O(),g!=T.IDENTIFIER)throw de("Attribute value expected");var Fe=y;"style"===xe&&(Fe=he[Fe]),C(ue,xe,Fe),O(),","==y&&O()}if("]"!=y)throw de("Bracket ] expected");O()}return ue}function de(ue){return new SyntaxError(ue+', got "'+ve(y,30)+'" (char '+E+")")}function ve(ue,he){return ue.length<=he?ue:ue.substr(0,27)+"..."}function Ee(ue,he,xe){for(var Fe=he.split("."),Be=Fe.pop(),Re=ue,Ye=0;Ye<Fe.length;Ye++){var Ze=Fe[Ye];Ze in Re||(Re[Ze]={}),Re=Re[Ze]}return Re[Be]=xe,ue}function Me(ue,he){var xe={};for(var Fe in ue)if(ue.hasOwnProperty(Fe)){var Be=he[Fe];Array.isArray(Be)?Be.forEach(function(Re){Ee(xe,Re,ue[Fe])}):Ee(xe,"string"==typeof Be?Be:Fe,ue[Fe])}return xe}U.parseDOT=P,U.DOTToGraph=function be(ue){var he=P(ue),xe={nodes:[],edges:[],options:{}};if(he.nodes&&he.nodes.forEach(function(Be){var Re={id:Be.id,label:String(Be.label||Be.id)};v(Re,Me(Be.attr,N)),Re.image&&(Re.shape="image"),xe.nodes.push(Re)}),he.edges){var Fe=function(Re){var Ye={from:Re.from,to:Re.to};return v(Ye,Me(Re.attr,L)),Ye.arrows="->"===Re.type?"to":void 0,Ye};he.edges.forEach(function(Be){var Re,Ye;Re=Be.from instanceof Object?Be.from.nodes:{id:Be.from},Ye=Be.to instanceof Object?Be.to.nodes:{id:Be.to},Be.from instanceof Object&&Be.from.edges&&Be.from.edges.forEach(function(Ze){var We=Fe(Ze);xe.edges.push(We)}),function Oe(ue,he,xe){Array.isArray(ue)?ue.forEach(function(Fe){Array.isArray(he)?he.forEach(function(Be){xe(Fe,Be)}):xe(Fe,he)}):Array.isArray(he)?he.forEach(function(Fe){xe(ue,Fe)}):xe(ue,he)}(Re,Ye,function(Ze,We){var qt=_(xe,Ze.id,We.id,Be.type,Be.attr),si=Fe(qt);xe.edges.push(si)}),Be.to instanceof Object&&Be.to.edges&&Be.to.edges.forEach(function(Ze){var We=Fe(Ze);xe.edges.push(We)})})}return he.attr&&(xe.options=he.attr),xe}},function(ee,U,S){U.parseGephi=function B(D,I){var P=[],N=[],L={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};void 0!==I&&(void 0!==I.fixed&&(L.nodes.fixed=I.fixed),void 0!==I.parseColor&&(L.nodes.parseColor=I.parseColor),void 0!==I.inheritColor&&(L.edges.inheritColor=I.inheritColor));for(var T=D.edges,F=D.nodes,M=0;M<T.length;M++){var E={},b=T[M];E.id=b.id,E.from=b.source,E.to=b.target,E.attributes=b.attributes,E.label=b.label,E.title=void 0!==b.attributes?b.attributes.title:void 0,"Directed"===b.type&&(E.arrows="to"),b.color&&!1===L.inheritColor&&(E.color=b.color),P.push(E)}for(var y=0;y<F.length;y++){var g={},x=F[y];g.id=x.id,g.attributes=x.attributes,g.x=x.x,g.y=x.y,g.label=x.label,g.title=void 0!==x.attributes?x.attributes.title:x.title,g.color=!0===L.nodes.parseColor?x.color:void 0!==x.color?{background:x.color,border:x.color,highlight:{background:x.color,border:x.color},hover:{background:x.color,border:x.color}}:void 0,g.size=x.size,g.fixed=L.nodes.fixed&&void 0!==x.x&&void 0!==x.y,N.push(g)}return{nodes:N,edges:P}}},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=T(S(0)),P=T(S(1)),L=T(S(185));function T(M){return M&&M.__esModule?M:{default:M}}var F=function(){function M(E){(0,D.default)(this,M),this.images={},this.imageBroken={},this.callback=E}return(0,P.default)(M,[{key:"_tryloadBrokenUrl",value:function(b,y,g){if(void 0!==b&&void 0!==g){if(void 0===y)return void console.warn("No broken url image defined");g.onerror=function(){console.error("Could not load brokenImage:",y)},g.image.src=y}}},{key:"_redrawWithImage",value:function(b){this.callback&&this.callback(b)}},{key:"load",value:function(b,y){var g=this,x=this.images[b];if(x)return x;var c=new L.default;return this.images[b]=c,c.image.onload=function(){g._fixImageCoordinates(c.image),c.init(),g._redrawWithImage(c)},c.image.onerror=function(){console.error("Could not load image:",b),g._tryloadBrokenUrl(b,y,c)},c.image.src=b,c}},{key:"_fixImageCoordinates",value:function(b){0===b.width&&(document.body.appendChild(b),b.width=b.offsetWidth,b.height=b.offsetHeight,document.body.removeChild(b))}}]),M}();U.default=F},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=M(S(30)),P=M(S(6)),L=M(S(0)),F=M(S(1));function M(c){return c&&c.__esModule?c:{default:c}}var E=S(2),b=S(48).default,y=S(191).default,g=["bold","ital","boldital","mono"],x=function(){function c(m,h){var d=arguments.length>2&&void 0!==arguments[2]&&arguments[2];(0,L.default)(this,c),this.body=m,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(h),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=d}return(0,F.default)(c,[{key:"setOptions",value:function(h){if(this.elementOptions=h,this.initFontOptions(h.font),b.isValidLabel(h.label)?this.labelDirty=!0:h.label="",null!=h.font)if("string"==typeof h.font)this.baseSize=this.fontOptions.size;else if("object"===(0,P.default)(h.font)){var d=h.font.size;void 0!==d&&(this.baseSize=d)}}},{key:"initFontOptions",value:function(h){var d=this;E.forEach(g,function(v){d.fontOptions[v]={}}),c.parseFontString(this.fontOptions,h)?this.fontOptions.vadjust=0:E.forEach(h,function(v,C){null!=v&&"object"!==(typeof v>"u"?"undefined":(0,P.default)(v))&&(d.fontOptions[C]=v)})}},{key:"constrain",value:function(h){var d={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},v=E.topMost(h,"widthConstraint");if("number"==typeof v)d.maxWdt=Number(v),d.minWdt=Number(v);else if("object"===(typeof v>"u"?"undefined":(0,P.default)(v))){var C=E.topMost(h,["widthConstraint","maximum"]);"number"==typeof C&&(d.maxWdt=Number(C));var f=E.topMost(h,["widthConstraint","minimum"]);"number"==typeof f&&(d.minWdt=Number(f))}var p=E.topMost(h,"heightConstraint");if("number"==typeof p)d.minHgt=Number(p);else if("object"===(typeof p>"u"?"undefined":(0,P.default)(p))){var _=E.topMost(h,["heightConstraint","minimum"]);"number"==typeof _&&(d.minHgt=Number(_));var O=E.topMost(h,["heightConstraint","valign"]);"string"==typeof O&&("top"===O||"bottom"===O)&&(d.valign=O)}return d}},{key:"update",value:function(h,d){this.setOptions(h,!0),this.propagateFonts(d),E.deepExtend(this.fontOptions,this.constrain(d)),this.fontOptions.chooser=b.choosify("label",d)}},{key:"adjustSizes",value:function(h){var d=h?h.right+h.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=d,this.fontOptions.minWdt-=d),this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=h?h.top+h.bottom:0)}},{key:"addFontOptionsToPile",value:function(h,d){for(var v=0;v<d.length;++v)this.addFontToPile(h,d[v])}},{key:"addFontToPile",value:function(h,d){void 0!==d&&null!=d.font&&h.push(d.font)}},{key:"getBasicOptions",value:function(h){for(var d={},v=0;v<h.length;++v){var C=h[v],f={};c.parseFontString(f,C)&&(C=f),E.forEach(C,function(p,_){void 0!==p&&(d.hasOwnProperty(_)||(d[_]=-1!==g.indexOf(_)?{}:p))})}return d}},{key:"getFontOption",value:function(h,d,v){for(var C=void 0,f=0;f<h.length;++f){var p=h[f];if(p.hasOwnProperty(d)){if(null==(C=p[d]))continue;var _={};if(c.parseFontString(_,C)&&(C=_),C.hasOwnProperty(v))return C[v]}}if(this.fontOptions.hasOwnProperty(v))return this.fontOptions[v];throw new Error("Did not find value for multi-font for property: '"+v+"'")}},{key:"getFontOptions",value:function(h,d){for(var v={},C=["color","size","face","mod","vadjust"],f=0;f<C.length;++f){var p=C[f];v[p]=this.getFontOption(h,d,p)}return v}},{key:"propagateFonts",value:function(h){var d=this,v=[];this.addFontOptionsToPile(v,h),this.fontOptions=this.getBasicOptions(v);for(var C=function(_){var O=g[_],V=d.fontOptions[O],j=d.getFontOptions(v,O);E.forEach(j,function($,W){V[W]=$}),V.size=Number(V.size),V.vadjust=Number(V.vadjust)},f=0;f<g.length;++f)C(f)}},{key:"draw",value:function(h,d,v,C,f){var p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";if(void 0!==this.elementOptions.label){var _=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&_<this.elementOptions.scaling.label.drawThreshold-1||(_>=this.elementOptions.scaling.label.maxVisible&&(_=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(h,C,f,d,v,p),this._drawBackground(h),this._drawText(h,d,this.size.yLine,p,_))}}},{key:"_drawBackground",value:function(h){if(void 0!==this.fontOptions.background&&"none"!==this.fontOptions.background){h.fillStyle=this.fontOptions.background;var d=this.getSize();h.fillRect(d.left,d.top,d.width,d.height)}}},{key:"_drawText",value:function(h,d,v){var f=arguments[4],p=this._setAlignment(h,d,v,arguments.length>3&&void 0!==arguments[3]?arguments[3]:"middle"),_=(0,D.default)(p,2);d=_[0],v=_[1],h.textAlign="left",d-=this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&("top"===this.fontOptions.valign&&(v-=(this.size.height-this.size.labelHeight)/2),"bottom"===this.fontOptions.valign&&(v+=(this.size.height-this.size.labelHeight)/2));for(var O=0;O<this.lineCount;O++){var V=this.lines[O];if(V&&V.blocks){var j=0;this.isEdgeLabel||"center"===this.fontOptions.align?j+=(this.size.width-V.width)/2:"right"===this.fontOptions.align&&(j+=this.size.width-V.width);for(var $=0;$<V.blocks.length;$++){var W=V.blocks[$];h.font=W.font;var Y=this._getColor(W.color,f,W.strokeColor),q=(0,D.default)(Y,2),re=q[0],se=q[1];W.strokeWidth>0&&(h.lineWidth=W.strokeWidth,h.strokeStyle=se,h.lineJoin="round"),h.fillStyle=re,W.strokeWidth>0&&h.strokeText(W.text,d+j,v+W.vadjust),h.fillText(W.text,d+j,v+W.vadjust),j+=W.width}v+=V.height}}}},{key:"_setAlignment",value:function(h,d,v,C){if(this.isEdgeLabel&&"horizontal"!==this.fontOptions.align&&!1===this.pointToSelf){d=0,v=0;"top"===this.fontOptions.align?(h.textBaseline="alphabetic",v-=4):"bottom"===this.fontOptions.align?(h.textBaseline="hanging",v+=4):h.textBaseline="middle"}else h.textBaseline=C;return[d,v]}},{key:"_getColor",value:function(h,d,v){var C=h||"#000000",f=v||"#ffffff";if(d<=this.elementOptions.scaling.label.drawThreshold){var p=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-d)));C=E.overrideOpacity(C,p),f=E.overrideOpacity(f,p)}return[C,f]}},{key:"getTextSize",value:function(h){return this._processLabel(h,arguments.length>1&&void 0!==arguments[1]&&arguments[1],arguments.length>2&&void 0!==arguments[2]&&arguments[2]),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}},{key:"getSize",value:function(){var d=this.size.left,v=this.size.top-1;if(this.isEdgeLabel){var C=.5*-this.size.width;switch(this.fontOptions.align){case"middle":d=C,v=.5*-this.size.height;break;case"top":d=C,v=-(this.size.height+2);break;case"bottom":d=C,v=2}}return{left:d,top:v,width:this.size.width,height:this.size.height}}},{key:"calculateLabelSize",value:function(h,d,v){var C=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,f=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,p=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"middle";this._processLabel(h,d,v),this.size.left=C-.5*this.size.width,this.size.top=f-.5*this.size.height,this.size.yLine=f+.5*(1-this.lineCount)*this.fontOptions.size,"hanging"===p&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}},{key:"getFormattingValues",value:function(h,d,v,C){var f=function(V,j,$){return"normal"===j?"mod"===$?"":V[$]:void 0!==V[j][$]?V[j][$]:V[$]},p={color:f(this.fontOptions,C,"color"),size:f(this.fontOptions,C,"size"),face:f(this.fontOptions,C,"face"),mod:f(this.fontOptions,C,"mod"),vadjust:f(this.fontOptions,C,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(d||v)&&("normal"===C&&!0===this.fontOptions.chooser&&this.elementOptions.labelHighlightBold?p.mod="bold":"function"==typeof this.fontOptions.chooser&&this.fontOptions.chooser(p,this.elementOptions.id,d,v));var _="";return void 0!==p.mod&&""!==p.mod&&(_+=p.mod+" "),h.font=(_+=p.size+"px "+p.face).replace(/"/g,""),p.font=h.font,p.height=p.size,p}},{key:"differentState",value:function(h,d){return h!==this.selectedState||d!==this.hoverState}},{key:"_processLabelText",value:function(h,d,v,C){return new y(h,this,d,v).process(C)}},{key:"_processLabel",value:function(h,d,v){if(!1!==this.labelDirty||this.differentState(d,v)){var C=this._processLabelText(h,d,v,this.elementOptions.label);this.fontOptions.minWdt>0&&C.width<this.fontOptions.minWdt&&(C.width=this.fontOptions.minWdt),this.size.labelHeight=C.height,this.fontOptions.minHgt>0&&C.height<this.fontOptions.minHgt&&(C.height=this.fontOptions.minHgt),this.lines=C.lines,this.lineCount=C.lines.length,this.size.width=C.width,this.size.height=C.height,this.selectedState=d,this.hoverState=v,this.labelDirty=!1}}},{key:"visible",value:function(){return 0!==this.size.width&&0!==this.size.height&&void 0!==this.elementOptions.label&&!(this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}],[{key:"parseFontString",value:function(h,d){if(!d||"string"!=typeof d)return!1;var v=d.split(" ");return h.size=v[0].replace("px",""),h.face=v[1],h.color=v[2],!0}}]),c}();U.default=x},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=T(S(30)),P=T(S(0)),L=T(S(1));function T(b){return b&&b.__esModule?b:{default:b}}var F=S(2),M=S(119).default,E=function(){function b(y,g,x){(0,P.default)(this,b),this.body=g,this.labelModule=x,this.options={},this.setOptions(y),this.colorDirty=!0,this.color={},this.selectionWidth=2,this.hoverWidth=1.5,this.fromPoint=this.from,this.toPoint=this.to}return(0,L.default)(b,[{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to]}},{key:"cleanup",value:function(){return!1}},{key:"setOptions",value:function(g){this.options=g,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.id=this.options.id}},{key:"drawLine",value:function(g,x,c,m,h){g.strokeStyle=this.getColor(g,x,c,m),g.lineWidth=x.width,!1!==x.dashes?this._drawDashedLine(g,x,h):this._drawLine(g,x,h)}},{key:"_drawLine",value:function(g,x,c,m,h){if(this.from!=this.to)this._line(g,x,c,m,h);else{var d=this._getCircleData(g),v=(0,D.default)(d,3);this._circle(g,x,v[0],v[1],v[2])}}},{key:"_drawDashedLine",value:function(g,x,c,m,h){g.lineCap="round";var d=[5,5];if(!0===Array.isArray(x.dashes)&&(d=x.dashes),void 0!==g.setLineDash){if(g.save(),g.setLineDash(d),g.lineDashOffset=0,this.from!=this.to)this._line(g,x,c);else{var v=this._getCircleData(g),C=(0,D.default)(v,3);this._circle(g,x,C[0],C[1],C[2])}g.setLineDash([0]),g.lineDashOffset=0,g.restore()}else{if(this.from!=this.to)g.dashedLine(this.from.x,this.from.y,this.to.x,this.to.y,d);else{var O=this._getCircleData(g),V=(0,D.default)(O,3);this._circle(g,x,V[0],V[1],V[2])}this.enableShadow(g,x),g.stroke(),this.disableShadow(g,x)}}},{key:"findBorderPosition",value:function(g,x,c){return this.from!=this.to?this._findBorderPosition(g,x,c):this._findBorderPositionCircle(g,x,c)}},{key:"findBorderPositions",value:function(g){var x={},c={};if(this.from!=this.to)x=this._findBorderPosition(this.from,g),c=this._findBorderPosition(this.to,g);else{var m=this._getCircleData(g).slice(0,2),h=(0,D.default)(m,2),d=h[0],v=h[1];x=this._findBorderPositionCircle(this.from,g,{x:d,y:v,low:.25,high:.6,direction:-1}),c=this._findBorderPositionCircle(this.from,g,{x:d,y:v,low:.6,high:.8,direction:1})}return{from:x,to:c}}},{key:"_getCircleData",value:function(g){var x=void 0,c=void 0,m=this.from,h=this.options.selfReferenceSize;return void 0!==g&&void 0===m.shape.width&&m.shape.resize(g),m.shape.width>m.shape.height?(x=m.x+.5*m.shape.width,c=m.y-h):(x=m.x+h,c=m.y-.5*m.shape.height),[x,c,h]}},{key:"_pointOnCircle",value:function(g,x,c,m){var h=2*m*Math.PI;return{x:g+c*Math.cos(h),y:x-c*Math.sin(h)}}},{key:"_findBorderPositionCircle",value:function(g,x,c){for(var m=c.x,h=c.y,d=c.low,v=c.high,C=c.direction,p=0,_=this.options.selfReferenceSize,O=void 0,V=void 0,W=void 0,q=.5*(d+v);d<=v&&p<10&&(O=this._pointOnCircle(m,h,_,q=.5*(d+v)),V=Math.atan2(g.y-O.y,g.x-O.x),W=g.distanceToBorder(x,V)-Math.sqrt(Math.pow(O.x-g.x,2)+Math.pow(O.y-g.y,2)),!(Math.abs(W)<.05));)W>0?C>0?d=q:v=q:C>0?v=q:d=q,p++;return O.t=q,O}},{key:"getLineWidth",value:function(g,x){return!0===g?Math.max(this.selectionWidth,.3/this.body.view.scale):!0===x?Math.max(this.hoverWidth,.3/this.body.view.scale):Math.max(this.options.width,.3/this.body.view.scale)}},{key:"getColor",value:function(g,x,c,m){if(!1!==x.inheritsColor){if("both"===x.inheritsColor&&this.from.id!==this.to.id){var h=g.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y),d=void 0,v=void 0;return d=this.from.options.color.highlight.border,v=this.to.options.color.highlight.border,!1===this.from.selected&&!1===this.to.selected?(d=F.overrideOpacity(this.from.options.color.border,x.opacity),v=F.overrideOpacity(this.to.options.color.border,x.opacity)):!0===this.from.selected&&!1===this.to.selected?v=this.to.options.color.border:!1===this.from.selected&&!0===this.to.selected&&(d=this.from.options.color.border),h.addColorStop(0,d),h.addColorStop(1,v),h}return F.overrideOpacity("to"===x.inheritsColor?this.to.options.color.border:this.from.options.color.border,x.opacity)}return F.overrideOpacity(x.color,x.opacity)}},{key:"_circle",value:function(g,x,c,m,h){this.enableShadow(g,x),g.beginPath(),g.arc(c,m,h,0,2*Math.PI,!1),g.stroke(),this.disableShadow(g,x)}},{key:"getDistanceToEdge",value:function(g,x,c,m,h,d,v,C){var f=0;if(this.from!=this.to)f=this._getDistanceToEdge(g,x,c,m,h,d,v);else{var p=this._getCircleData(void 0),_=(0,D.default)(p,3),j=_[2],$=_[0]-h,W=_[1]-d;f=Math.abs(Math.sqrt($*$+W*W)-j)}return f}},{key:"_getDistanceToLine",value:function(g,x,c,m,h,d){var v=c-g,C=m-x,p=((h-g)*v+(d-x)*C)/(v*v+C*C);p>1?p=1:p<0&&(p=0);var V=g+p*v-h,j=x+p*C-d;return Math.sqrt(V*V+j*j)}},{key:"getArrowData",value:function(g,x,c,m,h,d){var v=void 0,C=void 0,f=void 0,p=void 0,_=void 0,O=void 0,V=void 0,j=d.width;if("from"===x?(f=this.from,p=this.to,_=.1,O=d.fromArrowScale,V=d.fromArrowType):"to"===x?(f=this.to,p=this.from,_=-.1,O=d.toArrowScale,V=d.toArrowType):(f=this.to,p=this.from,O=d.middleArrowScale,V=d.middleArrowType),f!=p)if("middle"!==x)if(!0===this.options.smooth.enabled){C=this.findBorderPosition(f,g,{via:c});var $=this.getPoint(Math.max(0,Math.min(1,C.t+_)),c);v=Math.atan2(C.y-$.y,C.x-$.x)}else v=Math.atan2(f.y-p.y,f.x-p.x),C=this.findBorderPosition(f,g);else v=Math.atan2(f.y-p.y,f.x-p.x),C=this.getPoint(.5,c);else{var W=this._getCircleData(g),Y=(0,D.default)(W,3),q=Y[0],re=Y[1],se=Y[2];"from"===x?v=-2*(C=this.findBorderPosition(this.from,g,{x:q,y:re,low:.25,high:.6,direction:-1})).t*Math.PI+1.5*Math.PI+.1*Math.PI:"to"===x?v=-2*(C=this.findBorderPosition(this.from,g,{x:q,y:re,low:.6,high:1,direction:1})).t*Math.PI+1.5*Math.PI-1.1*Math.PI:(C=this._pointOnCircle(q,re,se,.175),v=3.9269908169872414)}"middle"===x&&O<0&&(j*=-1);var de=15*O+3*j;return{point:C,core:{x:C.x-.9*de*Math.cos(v),y:C.y-.9*de*Math.sin(v)},angle:v,length:de,type:V}}},{key:"drawArrowHead",value:function(g,x,c,m,h){g.strokeStyle=this.getColor(g,x,c,m),g.fillStyle=g.strokeStyle,g.lineWidth=x.width,M.draw(g,h),this.enableShadow(g,x),g.fill(),this.disableShadow(g,x)}},{key:"enableShadow",value:function(g,x){!0===x.shadow&&(g.shadowColor=x.shadowColor,g.shadowBlur=x.shadowSize,g.shadowOffsetX=x.shadowX,g.shadowOffsetY=x.shadowY)}},{key:"disableShadow",value:function(g,x){!0===x.shadow&&(g.shadowColor="rgba(0,0,0,0)",g.shadowBlur=0,g.shadowOffsetX=0,g.shadowOffsetY=0)}}]),b}();U.default=E},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=b(S(3)),P=b(S(4)),L=b(S(5)),F=b(S(0)),E=b(S(1));function b(h){return h&&h.__esModule?h:{default:h}}var y=function(){function h(){(0,F.default)(this,h)}return(0,E.default)(h,null,[{key:"transform",value:function(v,C){v instanceof Array||(v=[v]);for(var f=C.point.x,p=C.point.y,_=C.angle,O=C.length,V=0;V<v.length;++V){var j=v[V],$=j.x*Math.cos(_)-j.y*Math.sin(_),W=j.x*Math.sin(_)+j.y*Math.cos(_);j.x=f+O*$,j.y=p+O*W}}},{key:"drawPath",value:function(v,C){v.beginPath(),v.moveTo(C[0].x,C[0].y);for(var f=1;f<C.length;++f)v.lineTo(C[f].x,C[f].y);v.closePath()}}]),h}(),g=function(h){function d(){return(0,F.default)(this,d),(0,P.default)(this,(d.__proto__||(0,D.default)(d)).apply(this,arguments))}return(0,L.default)(d,h),(0,E.default)(d,null,[{key:"draw",value:function(C,f){var p=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];y.transform(p,f),y.drawPath(C,p)}}]),d}(y),x=function(){function h(){(0,F.default)(this,h)}return(0,E.default)(h,null,[{key:"draw",value:function(v,C){var f={x:-.4,y:0};y.transform(f,C),v.circle(f.x,f.y,.4*C.length)}}]),h}(),c=function(){function h(){(0,F.default)(this,h)}return(0,E.default)(h,null,[{key:"draw",value:function(v,C){var f=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];y.transform(f,C),y.drawPath(v,f)}}]),h}(),m=function(){function h(){(0,F.default)(this,h)}return(0,E.default)(h,null,[{key:"draw",value:function(v,C){var f;switch(C.type&&(f=C.type.toLowerCase()),f){case"circle":x.draw(v,C);break;case"bar":c.draw(v,C);break;default:g.draw(v,C)}}}]),h}();U.default=m},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=N(S(0)),P=N(S(1));function N(T){return T&&T.__esModule?T:{default:T}}var L=function(){function T(F,M,E){(0,D.default)(this,T),this.body=F,this.physicsBody=M,this.setOptions(E),this.randomSeed=5}return(0,P.default)(T,[{key:"setOptions",value:function(M){this.options=M,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}},{key:"seededRandom",value:function(){var M=1e4*Math.sin(this.randomSeed++);return M-Math.floor(M)}},{key:"solve",value:function(){if(0!==this.options.gravitationalConstant&&this.physicsBody.physicsNodeIndices.length>0){var M=void 0,E=this.body.nodes,b=this.physicsBody.physicsNodeIndices,y=b.length,g=this._formBarnesHutTree(E,b);this.barnesHutTree=g;for(var x=0;x<y;x++)(M=E[b[x]]).options.mass>0&&this._getForceContributions(g.root,M)}}},{key:"_getForceContributions",value:function(M,E){this._getForceContribution(M.children.NW,E),this._getForceContribution(M.children.NE,E),this._getForceContribution(M.children.SW,E),this._getForceContribution(M.children.SE,E)}},{key:"_getForceContribution",value:function(M,E){if(M.childrenCount>0){var b,y,g;b=M.centerOfMass.x-E.x,y=M.centerOfMass.y-E.y,(g=Math.sqrt(b*b+y*y))*M.calcSize>this.thetaInversed?this._calculateForces(g,b,y,E,M):4===M.childrenCount?this._getForceContributions(M,E):M.children.data.id!=E.id&&this._calculateForces(g,b,y,E,M)}}},{key:"_calculateForces",value:function(M,E,b,y,g){0===M&&(E=M=.1),this.overlapAvoidanceFactor<1&&y.shape.radius&&(M=Math.max(.1+this.overlapAvoidanceFactor*y.shape.radius,M-y.shape.radius));var x=this.options.gravitationalConstant*g.mass*y.options.mass/Math.pow(M,3),m=b*x;this.physicsBody.forces[y.id].x+=E*x,this.physicsBody.forces[y.id].y+=m}},{key:"_formBarnesHutTree",value:function(M,E){for(var b=void 0,y=E.length,g=M[E[0]].x,x=M[E[0]].y,c=M[E[0]].x,m=M[E[0]].y,h=1;h<y;h++){var d=M[E[h]],v=d.x,C=d.y;d.options.mass>0&&(v<g&&(g=v),v>c&&(c=v),C<x&&(x=C),C>m&&(m=C))}var f=Math.abs(c-g)-Math.abs(m-x);f>0?(x-=.5*f,m+=.5*f):(g+=.5*f,c-=.5*f);var _=Math.max(1e-5,Math.abs(c-g)),O=.5*_,V=.5*(g+c),j=.5*(x+m),$={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:V-O,maxX:V+O,minY:j-O,maxY:j+O},size:_,calcSize:1/_,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch($.root);for(var W=0;W<y;W++)(b=M[E[W]]).options.mass>0&&this._placeInTree($.root,b);return $}},{key:"_updateBranchMass",value:function(M,E){var b=M.centerOfMass,y=M.mass+E.options.mass,g=1/y;b.x=b.x*M.mass+E.x*E.options.mass,b.x*=g,b.y=b.y*M.mass+E.y*E.options.mass,b.y*=g,M.mass=y;var x=Math.max(Math.max(E.height,E.radius),E.width);M.maxWidth=M.maxWidth<x?x:M.maxWidth}},{key:"_placeInTree",value:function(M,E,b){(1!=b||void 0===b)&&this._updateBranchMass(M,E);var y=M.children.NW.range;this._placeInRegion(M,E,y.maxX>E.x?y.maxY>E.y?"NW":"SW":y.maxY>E.y?"NE":"SE")}},{key:"_placeInRegion",value:function(M,E,b){var y=M.children[b];switch(y.childrenCount){case 0:y.children.data=E,y.childrenCount=1,this._updateBranchMass(y,E);break;case 1:y.children.data.x===E.x&&y.children.data.y===E.y?(E.x+=this.seededRandom(),E.y+=this.seededRandom()):(this._splitBranch(y),this._placeInTree(y,E));break;case 4:this._placeInTree(y,E)}}},{key:"_splitBranch",value:function(M){var E=null;1===M.childrenCount&&(E=M.children.data,M.mass=0,M.centerOfMass.x=0,M.centerOfMass.y=0),M.childrenCount=4,M.children.data=null,this._insertRegion(M,"NW"),this._insertRegion(M,"NE"),this._insertRegion(M,"SW"),this._insertRegion(M,"SE"),null!=E&&this._placeInTree(M,E)}},{key:"_insertRegion",value:function(M,E){var b=void 0,y=void 0,g=void 0,x=void 0,c=.5*M.size;switch(E){case"NW":b=M.range.minX,y=M.range.minX+c,g=M.range.minY,x=M.range.minY+c;break;case"NE":b=M.range.minX+c,y=M.range.maxX,g=M.range.minY,x=M.range.minY+c;break;case"SW":b=M.range.minX,y=M.range.minX+c,g=M.range.minY+c,x=M.range.maxY;break;case"SE":b=M.range.minX+c,y=M.range.maxX,g=M.range.minY+c,x=M.range.maxY}M.children[E]={centerOfMass:{x:0,y:0},mass:0,range:{minX:b,maxX:y,minY:g,maxY:x},size:.5*M.size,calcSize:2*M.calcSize,children:{data:null},maxWidth:0,level:M.level+1,childrenCount:0}}},{key:"_debug",value:function(M,E){void 0!==this.barnesHutTree&&(M.lineWidth=1,this._drawBranch(this.barnesHutTree.root,M,E))}},{key:"_drawBranch",value:function(M,E,b){void 0===b&&(b="#FF0000"),4===M.childrenCount&&(this._drawBranch(M.children.NW,E),this._drawBranch(M.children.NE,E),this._drawBranch(M.children.SE,E),this._drawBranch(M.children.SW,E)),E.strokeStyle=b,E.beginPath(),E.moveTo(M.range.minX,M.range.minY),E.lineTo(M.range.maxX,M.range.minY),E.stroke(),E.beginPath(),E.moveTo(M.range.maxX,M.range.minY),E.lineTo(M.range.maxX,M.range.maxY),E.stroke(),E.beginPath(),E.moveTo(M.range.maxX,M.range.maxY),E.lineTo(M.range.minX,M.range.maxY),E.stroke(),E.beginPath(),E.moveTo(M.range.minX,M.range.maxY),E.lineTo(M.range.minX,M.range.minY),E.stroke()}}]),T}();U.default=L},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=N(S(0)),P=N(S(1));function N(T){return T&&T.__esModule?T:{default:T}}var L=function(){function T(F,M,E){(0,D.default)(this,T),this.body=F,this.physicsBody=M,this.setOptions(E)}return(0,P.default)(T,[{key:"setOptions",value:function(M){this.options=M}},{key:"solve",value:function(){for(var M=void 0,E=void 0,b=void 0,y=void 0,g=this.body.nodes,x=this.physicsBody.physicsNodeIndices,c=this.physicsBody.forces,m=0;m<x.length;m++)M=-(y=g[x[m]]).x,E=-y.y,b=Math.sqrt(M*M+E*E),this._calculateForces(b,M,E,c,y)}},{key:"_calculateForces",value:function(M,E,b,y,g){var x=0===M?0:this.options.centralGravity/M;y[g.id].x=E*x,y[g.id].y=b*x}}]),T}();U.default=L},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var B="string",D="boolean",I="number",P="array",N="object",F=["arrow","circle","bar"],M={configure:{enabled:{boolean:D},filter:{boolean:D,string:B,array:P,function:"function"},container:{dom:"dom"},showButton:{boolean:D},__type__:{object:N,boolean:D,string:B,array:P,function:"function"}},edges:{arrows:{to:{enabled:{boolean:D},scaleFactor:{number:I},type:{string:F},__type__:{object:N,boolean:D}},middle:{enabled:{boolean:D},scaleFactor:{number:I},type:{string:F},__type__:{object:N,boolean:D}},from:{enabled:{boolean:D},scaleFactor:{number:I},type:{string:F},__type__:{object:N,boolean:D}},__type__:{string:["from","to","middle"],object:N}},arrowStrikethrough:{boolean:D},chosen:{label:{boolean:D,function:"function"},edge:{boolean:D,function:"function"},__type__:{object:N,boolean:D}},color:{color:{string:B},highlight:{string:B},hover:{string:B},inherit:{string:["from","to","both"],boolean:D},opacity:{number:I},__type__:{object:N,string:B}},dashes:{boolean:D,array:P},font:{color:{string:B},size:{number:I},face:{string:B},background:{string:B},strokeWidth:{number:I},strokeColor:{string:B},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:I},multi:{boolean:D,string:B},bold:{color:{string:B},size:{number:I},face:{string:B},mod:{string:B},vadjust:{number:I},__type__:{object:N,string:B}},boldital:{color:{string:B},size:{number:I},face:{string:B},mod:{string:B},vadjust:{number:I},__type__:{object:N,string:B}},ital:{color:{string:B},size:{number:I},face:{string:B},mod:{string:B},vadjust:{number:I},__type__:{object:N,string:B}},mono:{color:{string:B},size:{number:I},face:{string:B},mod:{string:B},vadjust:{number:I},__type__:{object:N,string:B}},__type__:{object:N,string:B}},hidden:{boolean:D},hoverWidth:{function:"function",number:I},label:{string:B,undefined:"undefined"},labelHighlightBold:{boolean:D},length:{number:I,undefined:"undefined"},physics:{boolean:D},scaling:{min:{number:I},max:{number:I},label:{enabled:{boolean:D},min:{number:I},max:{number:I},maxVisible:{number:I},drawThreshold:{number:I},__type__:{object:N,boolean:D}},customScalingFunction:{function:"function"},__type__:{object:N}},selectionWidth:{function:"function",number:I},selfReferenceSize:{number:I},shadow:{enabled:{boolean:D},color:{string:B},size:{number:I},x:{number:I},y:{number:I},__type__:{object:N,boolean:D}},smooth:{enabled:{boolean:D},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:I},forceDirection:{string:["horizontal","vertical","none"],boolean:D},__type__:{object:N,boolean:D}},title:{string:B,undefined:"undefined"},width:{number:I},widthConstraint:{maximum:{number:I},__type__:{object:N,boolean:D,number:I}},value:{number:I,undefined:"undefined"},__type__:{object:N}},groups:{useDefaultGroups:{boolean:D},__any__:"get from nodes, will be overwritten below",__type__:{object:N}},interaction:{dragNodes:{boolean:D},dragView:{boolean:D},hideEdgesOnDrag:{boolean:D},hideNodesOnDrag:{boolean:D},hover:{boolean:D},keyboard:{enabled:{boolean:D},speed:{x:{number:I},y:{number:I},zoom:{number:I},__type__:{object:N}},bindToWindow:{boolean:D},__type__:{object:N,boolean:D}},multiselect:{boolean:D},navigationButtons:{boolean:D},selectable:{boolean:D},selectConnectedEdges:{boolean:D},hoverConnectedEdges:{boolean:D},tooltipDelay:{number:I},zoomView:{boolean:D},__type__:{object:N}},layout:{randomSeed:{undefined:"undefined",number:I},improvedLayout:{boolean:D},hierarchical:{enabled:{boolean:D},levelSeparation:{number:I},nodeSpacing:{number:I},treeSpacing:{number:I},blockShifting:{boolean:D},edgeMinimization:{boolean:D},parentCentralization:{boolean:D},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},__type__:{object:N,boolean:D}},__type__:{object:N}},manipulation:{enabled:{boolean:D},initiallyActive:{boolean:D},addNode:{boolean:D,function:"function"},addEdge:{boolean:D,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:N,boolean:D,function:"function"}},deleteNode:{boolean:D,function:"function"},deleteEdge:{boolean:D,function:"function"},controlNodeStyle:"get from nodes, will be overwritten below",__type__:{object:N,boolean:D}},nodes:{borderWidth:{number:I},borderWidthSelected:{number:I,undefined:"undefined"},brokenImage:{string:B,undefined:"undefined"},chosen:{label:{boolean:D,function:"function"},node:{boolean:D,function:"function"},__type__:{object:N,boolean:D}},color:{border:{string:B},background:{string:B},highlight:{border:{string:B},background:{string:B},__type__:{object:N,string:B}},hover:{border:{string:B},background:{string:B},__type__:{object:N,string:B}},__type__:{object:N,string:B}},fixed:{x:{boolean:D},y:{boolean:D},__type__:{object:N,boolean:D}},font:{align:{string:B},color:{string:B},size:{number:I},face:{string:B},background:{string:B},strokeWidth:{number:I},strokeColor:{string:B},vadjust:{number:I},multi:{boolean:D,string:B},bold:{color:{string:B},size:{number:I},face:{string:B},mod:{string:B},vadjust:{number:I},__type__:{object:N,string:B}},boldital:{color:{string:B},size:{number:I},face:{string:B},mod:{string:B},vadjust:{number:I},__type__:{object:N,string:B}},ital:{color:{string:B},size:{number:I},face:{string:B},mod:{string:B},vadjust:{number:I},__type__:{object:N,string:B}},mono:{color:{string:B},size:{number:I},face:{string:B},mod:{string:B},vadjust:{number:I},__type__:{object:N,string:B}},__type__:{object:N,string:B}},group:{string:B,number:I,undefined:"undefined"},heightConstraint:{minimum:{number:I},valign:{string:B},__type__:{object:N,boolean:D,number:I}},hidden:{boolean:D},icon:{face:{string:B},code:{string:B},size:{number:I},color:{string:B},__type__:{object:N}},id:{string:B,number:I},image:{selected:{string:B,undefined:"undefined"},unselected:{string:B,undefined:"undefined"},__type__:{object:N,string:B}},label:{string:B,undefined:"undefined"},labelHighlightBold:{boolean:D},level:{number:I,undefined:"undefined"},margin:{top:{number:I},right:{number:I},bottom:{number:I},left:{number:I},__type__:{object:N,number:I}},mass:{number:I},physics:{boolean:D},scaling:{min:{number:I},max:{number:I},label:{enabled:{boolean:D},min:{number:I},max:{number:I},maxVisible:{number:I},drawThreshold:{number:I},__type__:{object:N,boolean:D}},customScalingFunction:{function:"function"},__type__:{object:N}},shadow:{enabled:{boolean:D},color:{string:B},size:{number:I},x:{number:I},y:{number:I},__type__:{object:N,boolean:D}},shape:{string:["ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},shapeProperties:{borderDashes:{boolean:D,array:P},borderRadius:{number:I},interpolation:{boolean:D},useImageSize:{boolean:D},useBorderWithImage:{boolean:D},__type__:{object:N}},size:{number:I},title:{string:B,dom:"dom",undefined:"undefined"},value:{number:I,undefined:"undefined"},widthConstraint:{minimum:{number:I},maximum:{number:I},__type__:{object:N,boolean:D,number:I}},x:{number:I},y:{number:I},__type__:{object:N}},physics:{enabled:{boolean:D},barnesHut:{gravitationalConstant:{number:I},centralGravity:{number:I},springLength:{number:I},springConstant:{number:I},damping:{number:I},avoidOverlap:{number:I},__type__:{object:N}},forceAtlas2Based:{gravitationalConstant:{number:I},centralGravity:{number:I},springLength:{number:I},springConstant:{number:I},damping:{number:I},avoidOverlap:{number:I},__type__:{object:N}},repulsion:{centralGravity:{number:I},springLength:{number:I},springConstant:{number:I},nodeDistance:{number:I},damping:{number:I},__type__:{object:N}},hierarchicalRepulsion:{centralGravity:{number:I},springLength:{number:I},springConstant:{number:I},nodeDistance:{number:I},damping:{number:I},__type__:{object:N}},maxVelocity:{number:I},minVelocity:{number:I},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:D},iterations:{number:I},updateInterval:{number:I},onlyDynamicEdges:{boolean:D},fit:{boolean:D},__type__:{object:N,boolean:D}},timestep:{number:I},adaptiveTimestep:{boolean:D},__type__:{object:N,boolean:D}},autoResize:{boolean:D},clickToUse:{boolean:D},locale:{string:B},locales:{__any__:{any:"any"},__type__:{object:N}},height:{string:B},width:{string:B},__type__:{object:N}};M.groups.__any__=M.nodes,M.manipulation.controlNodeStyle=M.nodes;U.allOptions=M,U.configureOptions={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01]}}},function(ee,U,S){var B=S(2);B.extend(U,S(159)),B.extend(U,S(177)),B.extend(U,S(181))},function(ee,U,S){S(49),S(60),ee.exports=S(136)},function(ee,U,S){var B=S(126),D=S(127),I=S(31),P=S(25);ee.exports=S(79)(Array,"Array",function(N,L){this._t=P(N),this._i=0,this._k=L},function(){var N=this._t,L=this._k,T=this._i++;return!N||T>=N.length?(this._t=void 0,D(1)):D(0,"keys"==L?T:"values"==L?N[T]:[T,N[T]])},"values"),I.Arguments=I.Array,B("keys"),B("values"),B("entries")},function(ee,U){ee.exports=function(){}},function(ee,U){ee.exports=function(S,B){return{value:B,done:!!S}}},function(ee,U){ee.exports=function(S){if("function"!=typeof S)throw TypeError(S+" is not a function!");return S}},function(ee,U,S){var B=S(54),D=S(39),I=S(59),P={};S(26)(P,S(13)("iterator"),function(){return this}),ee.exports=function(N,L,T){N.prototype=B(P,{next:D(1,T)}),I(N,L+" Iterator")}},function(ee,U,S){var B=S(20),D=S(27),I=S(33);ee.exports=S(21)?Object.defineProperties:function(N,L){D(N);for(var E,T=I(L),F=T.length,M=0;F>M;)B.f(N,E=T[M++],L[E]);return N}},function(ee,U,S){var B=S(25),D=S(132),I=S(133);ee.exports=function(P){return function(N,L,T){var b,F=B(N),M=D(F.length),E=I(T,M);if(P&&L!=L){for(;M>E;)if((b=F[E++])!=b)return!0}else for(;M>E;E++)if((P||E in F)&&F[E]===L)return P||E||0;return!P&&-1}}},function(ee,U,S){var B=S(55),D=Math.min;ee.exports=function(I){return I>0?D(B(I),9007199254740991):0}},function(ee,U,S){var B=S(55),D=Math.max,I=Math.min;ee.exports=function(P,N){return(P=B(P))<0?D(P+N,0):I(P,N)}},function(ee,U,S){var B=S(18).document;ee.exports=B&&B.documentElement},function(ee,U,S){var B=S(55),D=S(51);ee.exports=function(I){return function(P,N){var M,E,L=String(D(P)),T=B(N),F=L.length;return T<0||T>=F?I?"":void 0:(M=L.charCodeAt(T))<55296||M>56319||T+1===F||(E=L.charCodeAt(T+1))<56320||E>57343?I?L.charAt(T):M:I?L.slice(T,T+2):E-56320+(M-55296<<10)+65536}}},function(ee,U,S){var B=S(27),D=S(137);ee.exports=S(7).getIterator=function(I){var P=D(I);if("function"!=typeof P)throw TypeError(I+" is not iterable!");return B(P.call(I))}},function(ee,U,S){var B=S(86),D=S(13)("iterator"),I=S(31);ee.exports=S(7).getIteratorMethod=function(P){if(null!=P)return P[D]||P["@@iterator"]||I[B(P)]}},function(ee,U,S){S(139);var B=S(7).Object;ee.exports=function(I,P){return B.create(I,P)}},function(ee,U,S){var B=S(17);B(B.S,"Object",{create:S(54)})},function(ee,U,S){S(141),ee.exports=S(7).Object.keys},function(ee,U,S){var B=S(41),D=S(33);S(87)("keys",function(){return function(P){return D(B(P))}})},function(ee,U,S){ee.exports={default:S(143),__esModule:!0}},function(ee,U,S){S(60),S(49),ee.exports=S(61).f("iterator")},function(ee,U,S){ee.exports={default:S(145),__esModule:!0}},function(ee,U,S){S(146),S(151),S(152),S(153),ee.exports=S(7).Symbol},function(ee,U,S){var B=S(18),D=S(22),I=S(21),P=S(17),N=S(83),L=S(147).KEY,T=S(28),F=S(57),M=S(59),E=S(40),b=S(13),y=S(61),g=S(62),x=S(148),c=S(149),m=S(27),h=S(25),d=S(53),v=S(39),C=S(54),f=S(150),p=S(89),_=S(20),O=S(33),V=p.f,j=_.f,$=f.f,W=B.Symbol,Y=B.JSON,q=Y&&Y.stringify,re="prototype",se=b("_hidden"),de=b("toPrimitive"),ve={}.propertyIsEnumerable,Oe=F("symbol-registry"),Ee=F("symbols"),Me=F("op-symbols"),be=Object[re],ue="function"==typeof W,he=B.QObject,xe=!he||!he[re]||!he[re].findChild,Fe=I&&T(function(){return 7!=C(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(lt,Ve,$e){var st=V(be,Ve);st&&delete be[Ve],j(lt,Ve,$e),st&&lt!==be&&j(be,Ve,st)}:j,Be=function(lt){var Ve=Ee[lt]=C(W[re]);return Ve._k=lt,Ve},Re=ue&&"symbol"==typeof W.iterator?function(lt){return"symbol"==typeof lt}:function(lt){return lt instanceof W},Ye=function(Ve,$e,st){return Ve===be&&Ye(Me,$e,st),m(Ve),$e=d($e,!0),m(st),D(Ee,$e)?(st.enumerable?(D(Ve,se)&&Ve[se][$e]&&(Ve[se][$e]=!1),st=C(st,{enumerable:v(0,!1)})):(D(Ve,se)||j(Ve,se,v(1,{})),Ve[se][$e]=!0),Fe(Ve,$e,st)):j(Ve,$e,st)},Ze=function(Ve,$e){m(Ve);for(var Qe,st=x($e=h($e)),Ot=0,Jt=st.length;Jt>Ot;)Ye(Ve,Qe=st[Ot++],$e[Qe]);return Ve},qt=function(Ve){var $e=ve.call(this,Ve=d(Ve,!0));return!(this===be&&D(Ee,Ve)&&!D(Me,Ve))&&(!($e||!D(this,Ve)||!D(Ee,Ve)||D(this,se)&&this[se][Ve])||$e)},si=function(Ve,$e){if(Ve=h(Ve),$e=d($e,!0),Ve!==be||!D(Ee,$e)||D(Me,$e)){var st=V(Ve,$e);return st&&D(Ee,$e)&&!(D(Ve,se)&&Ve[se][$e])&&(st.enumerable=!0),st}},kt=function(Ve){for(var Jt,$e=$(h(Ve)),st=[],Ot=0;$e.length>Ot;)!D(Ee,Jt=$e[Ot++])&&Jt!=se&&Jt!=L&&st.push(Jt);return st},nt=function(Ve){for(var Qe,$e=Ve===be,st=$($e?Me:h(Ve)),Ot=[],Jt=0;st.length>Jt;)D(Ee,Qe=st[Jt++])&&(!$e||D(be,Qe))&&Ot.push(Ee[Qe]);return Ot};ue||(W=function(){if(this instanceof W)throw TypeError("Symbol is not a constructor!");var Ve=E(arguments.length>0?arguments[0]:void 0),$e=function(st){this===be&&$e.call(Me,st),D(this,se)&&D(this[se],Ve)&&(this[se][Ve]=!1),Fe(this,Ve,v(1,st))};return I&&xe&&Fe(be,Ve,{configurable:!0,set:$e}),Be(Ve)},N(W[re],"toString",function(){return this._k}),p.f=si,_.f=Ye,S(88).f=f.f=kt,S(42).f=qt,S(63).f=nt,I&&!S(52)&&N(be,"propertyIsEnumerable",qt,!0),y.f=function(lt){return Be(b(lt))}),P(P.G+P.W+P.F*!ue,{Symbol:W});for(var Kt="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),_i=0;Kt.length>_i;)b(Kt[_i++]);for(var hi=O(b.store),Ft=0;hi.length>Ft;)g(hi[Ft++]);P(P.S+P.F*!ue,"Symbol",{for:function(lt){return D(Oe,lt+="")?Oe[lt]:Oe[lt]=W(lt)},keyFor:function(Ve){if(!Re(Ve))throw TypeError(Ve+" is not a symbol!");for(var $e in Oe)if(Oe[$e]===Ve)return $e},useSetter:function(){xe=!0},useSimple:function(){xe=!1}}),P(P.S+P.F*!ue,"Object",{create:function(Ve,$e){return void 0===$e?C(Ve):Ze(C(Ve),$e)},defineProperty:Ye,defineProperties:Ze,getOwnPropertyDescriptor:si,getOwnPropertyNames:kt,getOwnPropertySymbols:nt}),Y&&P(P.S+P.F*(!ue||T(function(){var lt=W();return"[null]"!=q([lt])||"{}"!=q({a:lt})||"{}"!=q(Object(lt))})),"JSON",{stringify:function(Ve){if(void 0!==Ve&&!Re(Ve)){for(var Ot,Jt,$e=[Ve],st=1;arguments.length>st;)$e.push(arguments[st++]);return"function"==typeof(Ot=$e[1])&&(Jt=Ot),(Jt||!c(Ot))&&(Ot=function(Qe,oi){if(Jt&&(oi=Jt.call(this,Qe,oi)),!Re(oi))return oi}),$e[1]=Ot,q.apply(Y,$e)}}}),W[re][de]||S(26)(W[re],de,W[re].valueOf),M(W,"Symbol"),M(Math,"Math",!0),M(B.JSON,"JSON",!0)},function(ee,U,S){var B=S(40)("meta"),D=S(32),I=S(22),P=S(20).f,N=0,L=Object.isExtensible||function(){return!0},T=!S(28)(function(){return L(Object.preventExtensions({}))}),F=function(g){P(g,B,{value:{i:"O"+ ++N,w:{}}})},y=ee.exports={KEY:B,NEED:!1,fastKey:function(g,x){if(!D(g))return"symbol"==typeof g?g:("string"==typeof g?"S":"P")+g;if(!I(g,B)){if(!L(g))return"F";if(!x)return"E";F(g)}return g[B].i},getWeak:function(g,x){if(!I(g,B)){if(!L(g))return!0;if(!x)return!1;F(g)}return g[B].w},onFreeze:function(g){return T&&y.NEED&&L(g)&&!I(g,B)&&F(g),g}}},function(ee,U,S){var B=S(33),D=S(63),I=S(42);ee.exports=function(P){var N=B(P),L=D.f;if(L)for(var E,T=L(P),F=I.f,M=0;T.length>M;)F.call(P,E=T[M++])&&N.push(E);return N}},function(ee,U,S){var B=S(50);ee.exports=Array.isArray||function(I){return"Array"==B(I)}},function(ee,U,S){var B=S(25),D=S(88).f,I={}.toString,P="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];ee.exports.f=function(T){return P&&"[object Window]"==I.call(T)?function(L){try{return D(L)}catch{return P.slice()}}(T):D(B(T))}},function(ee,U){},function(ee,U,S){S(62)("asyncIterator")},function(ee,U,S){S(62)("observable")},function(ee,U,S){(function(B){var P;P=function(){var I,d;function P(){return I.apply(null,arguments)}function L(k){return k instanceof Array||"[object Array]"===Object.prototype.toString.call(k)}function T(k){return null!=k&&"[object Object]"===Object.prototype.toString.call(k)}function M(k){return void 0===k}function E(k){return"number"==typeof k||"[object Number]"===Object.prototype.toString.call(k)}function b(k){return k instanceof Date||"[object Date]"===Object.prototype.toString.call(k)}function y(k,H){var J,K=[];for(J=0;J<k.length;++J)K.push(H(k[J],J));return K}function g(k,H){return Object.prototype.hasOwnProperty.call(k,H)}function x(k,H){for(var K in H)g(H,K)&&(k[K]=H[K]);return g(H,"toString")&&(k.toString=H.toString),g(H,"valueOf")&&(k.valueOf=H.valueOf),k}function c(k,H,K,J){return ir(k,H,K,J,!0).utc()}function h(k){return null==k._pf&&(k._pf={empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}),k._pf}function v(k){if(null==k._isValid){var H=h(k),K=d.call(H.parsedDateParts,function(oe){return null!=oe}),J=!isNaN(k._d.getTime())&&H.overflow<0&&!H.empty&&!H.invalidMonth&&!H.invalidWeekday&&!H.weekdayMismatch&&!H.nullInput&&!H.invalidFormat&&!H.userInvalidated&&(!H.meridiem||H.meridiem&&K);if(k._strict&&(J=J&&0===H.charsLeftOver&&0===H.unusedTokens.length&&void 0===H.bigHour),null!=Object.isFrozen&&Object.isFrozen(k))return J;k._isValid=J}return k._isValid}function C(k){var H=c(NaN);return null!=k?x(h(H),k):h(H).userInvalidated=!0,H}d=Array.prototype.some?Array.prototype.some:function(k){for(var H=Object(this),K=H.length>>>0,J=0;J<K;J++)if(J in H&&k.call(this,H[J],J,H))return!0;return!1};var f=P.momentProperties=[];function p(k,H){var K,J,oe;if(M(H._isAMomentObject)||(k._isAMomentObject=H._isAMomentObject),M(H._i)||(k._i=H._i),M(H._f)||(k._f=H._f),M(H._l)||(k._l=H._l),M(H._strict)||(k._strict=H._strict),M(H._tzm)||(k._tzm=H._tzm),M(H._isUTC)||(k._isUTC=H._isUTC),M(H._offset)||(k._offset=H._offset),M(H._pf)||(k._pf=h(H)),M(H._locale)||(k._locale=H._locale),f.length>0)for(K=0;K<f.length;K++)M(oe=H[J=f[K]])||(k[J]=oe);return k}var _=!1;function O(k){p(this,k),this._d=new Date(null!=k._d?k._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===_&&(_=!0,P.updateOffset(this),_=!1)}function V(k){return k instanceof O||null!=k&&null!=k._isAMomentObject}function j(k){return k<0?Math.ceil(k)||0:Math.floor(k)}function $(k){var H=+k,K=0;return 0!==H&&isFinite(H)&&(K=j(H)),K}function W(k,H,K){var Ae,J=Math.min(k.length,H.length),oe=Math.abs(k.length-H.length),_e=0;for(Ae=0;Ae<J;Ae++)(K&&k[Ae]!==H[Ae]||!K&&$(k[Ae])!==$(H[Ae]))&&_e++;return _e+oe}function Y(k){!1===P.suppressDeprecationWarnings&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+k)}function q(k,H){var K=!0;return x(function(){if(null!=P.deprecationHandler&&P.deprecationHandler(null,k),K){for(var oe,J=[],_e=0;_e<arguments.length;_e++){if(oe="","object"==typeof arguments[_e]){for(var Ae in oe+="\n["+_e+"] ",arguments[0])oe+=Ae+": "+arguments[0][Ae]+", ";oe=oe.slice(0,-2)}else oe=arguments[_e];J.push(oe)}Y(k+"\nArguments: "+Array.prototype.slice.call(J).join("")+"\n"+(new Error).stack),K=!1}return H.apply(this,arguments)},H)}var Me,re={};function se(k,H){null!=P.deprecationHandler&&P.deprecationHandler(k,H),re[k]||(Y(H),re[k]=!0)}function de(k){return k instanceof Function||"[object Function]"===Object.prototype.toString.call(k)}function Oe(k,H){var J,K=x({},k);for(J in H)g(H,J)&&(T(k[J])&&T(H[J])?(K[J]={},x(K[J],k[J]),x(K[J],H[J])):null!=H[J]?K[J]=H[J]:delete K[J]);for(J in k)g(k,J)&&!g(H,J)&&T(k[J])&&(K[J]=x({},K[J]));return K}function Ee(k){null!=k&&this.set(k)}P.suppressDeprecationWarnings=!1,P.deprecationHandler=null,Me=Object.keys?Object.keys:function(k){var H,K=[];for(H in k)g(k,H)&&K.push(H);return K};var kt={};function nt(k,H){var K=k.toLowerCase();kt[K]=kt[K+"s"]=kt[H]=k}function Kt(k){return"string"==typeof k?kt[k]||kt[k.toLowerCase()]:void 0}function _i(k){var K,J,H={};for(J in k)g(k,J)&&(K=Kt(J))&&(H[K]=k[J]);return H}var hi={};function Ft(k,H){hi[k]=H}function Ve(k,H,K){var J=""+Math.abs(k);return(k>=0?K?"+":"":"-")+Math.pow(10,Math.max(0,H-J.length)).toString().substr(1)+J}var $e=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,st=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ot={},Jt={};function Qe(k,H,K,J){var oe=J;"string"==typeof J&&(oe=function(){return this[J]()}),k&&(Jt[k]=oe),H&&(Jt[H[0]]=function(){return Ve(oe.apply(this,arguments),H[1],H[2])}),K&&(Jt[K]=function(){return this.localeData().ordinal(oe.apply(this,arguments),k)})}function oi(k){return k.match(/\[[\s\S]/)?k.replace(/^\[|\]$/g,""):k.replace(/\\/g,"")}function uo(k,H){return k.isValid()?(H=Hs(H,k.localeData()),Ot[H]=Ot[H]||function Zr(k){var K,J,H=k.match($e);for(K=0,J=H.length;K<J;K++)H[K]=Jt[H[K]]?Jt[H[K]]:oi(H[K]);return function(oe){var Ae,_e="";for(Ae=0;Ae<J;Ae++)_e+=de(H[Ae])?H[Ae].call(oe,k):H[Ae];return _e}}(H),Ot[H](k)):k.localeData().invalidDate()}function Hs(k,H){var K=5;function J(oe){return H.longDateFormat(oe)||oe}for(st.lastIndex=0;K>=0&&st.test(k);)k=k.replace(st,J),st.lastIndex=0,K-=1;return k}var ra=/\d/,Hi=/\d\d/,ho=/\d{3}/,zs=/\d{4}/,Kr=/[+-]?\d{6}/,ai=/\d\d?/,fo=/\d\d\d\d?/,ll=/\d\d\d\d\d\d?/,dr=/\d{1,3}/,ur=/\d{1,4}/,po=/[+-]?\d{1,6}/,sa=/\d+/,Qt=/[+-]?\d+/,mo=/Z|[+-]\d\d:?\d\d/gi,go=/Z|[+-]\d\d(?::?\d\d)?/gi,js=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,ni={};function tt(k,H,K){ni[k]=de(H)?H:function(J,oe){return J&&K?K:H}}function Dn(k,H){return g(ni,k)?ni[k](H._strict,H._locale):new RegExp(function cl(k){return $t(k.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(H,K,J,oe,_e){return K||J||oe||_e}))}(k))}function $t(k){return k.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var li={};function ci(k,H){var K,J=H;for("string"==typeof k&&(k=[k]),E(H)&&(J=function(oe,_e){_e[H]=$(oe)}),K=0;K<k.length;K++)li[k[K]]=J}function mt(k,H){ci(k,function(K,J,oe,_e){oe._w=oe._w||{},H(K,oe._w,oe,_e)})}function Lt(k,H,K){null!=H&&g(li,k)&&li[k](H,K._a,K,k)}var vn=0,Wt=1,In=2,Ni=3,kn=4,St=5,it=6,ds=7,hr=8;function Er(k){return fr(k)?366:365}function fr(k){return k%4==0&&k%100!=0||k%400==0}Qe("Y",0,0,function(){var k=this.year();return k<=9999?""+k:"+"+k}),Qe(0,["YY",2],0,function(){return this.year()%100}),Qe(0,["YYYY",4],0,"year"),Qe(0,["YYYYY",5],0,"year"),Qe(0,["YYYYYY",6,!0],0,"year"),nt("year","y"),Ft("year",1),tt("Y",Qt),tt("YY",ai,Hi),tt("YYYY",ur,zs),tt("YYYYY",po,Kr),tt("YYYYYY",po,Kr),ci(["YYYYY","YYYYYY"],vn),ci("YYYY",function(k,H){H[vn]=2===k.length?P.parseTwoDigitYear(k):$(k)}),ci("YY",function(k,H){H[vn]=P.parseTwoDigitYear(k)}),ci("Y",function(k,H){H[vn]=parseInt(k,10)}),P.parseTwoDigitYear=function(k){return $(k)+($(k)>68?1900:2e3)};var Ht,Pe=tr("FullYear",!0);function tr(k,H){return function(K){return null!=K?(Qr(this,k,K),P.updateOffset(this,H),this):us(this,k)}}function us(k,H){return k.isValid()?k._d["get"+(k._isUTC?"UTC":"")+H]():NaN}function Qr(k,H,K){k.isValid()&&!isNaN(K)&&("FullYear"===H&&fr(k.year())?k._d["set"+(k._isUTC?"UTC":"")+H](K,k.month(),at(K,k.month())):k._d["set"+(k._isUTC?"UTC":"")+H](K))}function at(k,H){if(isNaN(k)||isNaN(H))return NaN;var K=function Pn(k,H){return(k%H+H)%H}(H,12);return k+=(H-K)/12,1===K?fr(k)?29:28:31-K%7%2}Ht=Array.prototype.indexOf?Array.prototype.indexOf:function(k){var H;for(H=0;H<this.length;++H)if(this[H]===k)return H;return-1},Qe("M",["MM",2],"Mo",function(){return this.month()+1}),Qe("MMM",0,0,function(k){return this.localeData().monthsShort(this,k)}),Qe("MMMM",0,0,function(k){return this.localeData().months(this,k)}),nt("month","M"),Ft("month",8),tt("M",ai),tt("MM",ai,Hi),tt("MMM",function(k,H){return H.monthsShortRegex(k)}),tt("MMMM",function(k,H){return H.monthsRegex(k)}),ci(["M","MM"],function(k,H){H[Wt]=$(k)-1}),ci(["MMM","MMMM"],function(k,H,K,J){var oe=K._locale.monthsParse(k,J,K._strict);null!=oe?H[Wt]=oe:h(K).invalidMonth=k});var gt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,Sr="January_February_March_April_May_June_July_August_September_October_November_December".split("_");var oa="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_");function zn(k,H,K){var J,oe,_e,Ae=k.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],J=0;J<12;++J)_e=c([2e3,J]),this._shortMonthsParse[J]=this.monthsShort(_e,"").toLocaleLowerCase(),this._longMonthsParse[J]=this.months(_e,"").toLocaleLowerCase();return K?"MMM"===H?-1!==(oe=Ht.call(this._shortMonthsParse,Ae))?oe:null:-1!==(oe=Ht.call(this._longMonthsParse,Ae))?oe:null:"MMM"===H?-1!==(oe=Ht.call(this._shortMonthsParse,Ae))||-1!==(oe=Ht.call(this._longMonthsParse,Ae))?oe:null:-1!==(oe=Ht.call(this._longMonthsParse,Ae))||-1!==(oe=Ht.call(this._shortMonthsParse,Ae))?oe:null}function Zi(k,H){var K;if(!k.isValid())return k;if("string"==typeof H)if(/^\d+$/.test(H))H=$(H);else if(!E(H=k.localeData().monthsParse(H)))return k;return K=Math.min(k.date(),at(k.year(),H)),k._d["set"+(k._isUTC?"UTC":"")+"Month"](H,K),k}function la(k){return null!=k?(Zi(this,k),P.updateOffset(this,!0),this):us(this,"Month")}var ul=js;var fs=js;function hl(){function k(Ae,ot){return ot.length-Ae.length}var oe,_e,H=[],K=[],J=[];for(oe=0;oe<12;oe++)_e=c([2e3,oe]),H.push(this.monthsShort(_e,"")),K.push(this.months(_e,"")),J.push(this.months(_e,"")),J.push(this.monthsShort(_e,""));for(H.sort(k),K.sort(k),J.sort(k),oe=0;oe<12;oe++)H[oe]=$t(H[oe]),K[oe]=$t(K[oe]);for(oe=0;oe<24;oe++)J[oe]=$t(J[oe]);this._monthsRegex=new RegExp("^("+J.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+K.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+H.join("|")+")","i")}function fl(k,H,K,J,oe,_e,Ae){var ot=new Date(k,H,K,J,oe,_e,Ae);return k<100&&k>=0&&isFinite(ot.getFullYear())&&ot.setFullYear(k),ot}function ps(k){var H=new Date(Date.UTC.apply(null,arguments));return k<100&&k>=0&&isFinite(H.getUTCFullYear())&&H.setUTCFullYear(k),H}function da(k,H,K){var J=7+H-K;return-(7+ps(k,0,J).getUTCDay()-H)%7+J-1}function pl(k,H,K,J,oe){var _t,Bi,ot=1+7*(H-1)+(7+K-J)%7+da(k,J,oe);return ot<=0?Bi=Er(_t=k-1)+ot:ot>Er(k)?(_t=k+1,Bi=ot-Er(k)):(_t=k,Bi=ot),{year:_t,dayOfYear:Bi}}function te(k,H,K){var _e,Ae,J=da(k.year(),H,K),oe=Math.floor((k.dayOfYear()-J-1)/7)+1;return oe<1?_e=oe+ie(Ae=k.year()-1,H,K):oe>ie(k.year(),H,K)?(_e=oe-ie(k.year(),H,K),Ae=k.year()+1):(Ae=k.year(),_e=oe),{week:_e,year:Ae}}function ie(k,H,K){var J=da(k,H,K),oe=da(k+1,H,K);return(Er(k)-J+oe)/7}Qe("w",["ww",2],"wo","week"),Qe("W",["WW",2],"Wo","isoWeek"),nt("week","w"),nt("isoWeek","W"),Ft("week",5),Ft("isoWeek",5),tt("w",ai),tt("ww",ai,Hi),tt("W",ai),tt("WW",ai,Hi),mt(["w","ww","W","WW"],function(k,H,K,J){H[J.substr(0,1)]=$(k)});Qe("d",0,"do","day"),Qe("dd",0,0,function(k){return this.localeData().weekdaysMin(this,k)}),Qe("ddd",0,0,function(k){return this.localeData().weekdaysShort(this,k)}),Qe("dddd",0,0,function(k){return this.localeData().weekdays(this,k)}),Qe("e",0,0,"weekday"),Qe("E",0,0,"isoWeekday"),nt("day","d"),nt("weekday","e"),nt("isoWeekday","E"),Ft("day",11),Ft("weekday",11),Ft("isoWeekday",11),tt("d",ai),tt("e",ai),tt("E",ai),tt("dd",function(k,H){return H.weekdaysMinRegex(k)}),tt("ddd",function(k,H){return H.weekdaysShortRegex(k)}),tt("dddd",function(k,H){return H.weekdaysRegex(k)}),mt(["dd","ddd","dddd"],function(k,H,K,J){var oe=K._locale.weekdaysParse(k,J,K._strict);null!=oe?H.d=oe:h(K).invalidWeekday=k}),mt(["d","e","E"],function(k,H,K,J){H[J]=$(k)});var Mn="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_");var Jc="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_");var ml="Su_Mo_Tu_We_Th_Fr_Sa".split("_");function ed(k,H,K){var J,oe,_e,Ae=k.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],J=0;J<7;++J)_e=c([2e3,1]).day(J),this._minWeekdaysParse[J]=this.weekdaysMin(_e,"").toLocaleLowerCase(),this._shortWeekdaysParse[J]=this.weekdaysShort(_e,"").toLocaleLowerCase(),this._weekdaysParse[J]=this.weekdays(_e,"").toLocaleLowerCase();return K?"dddd"===H?-1!==(oe=Ht.call(this._weekdaysParse,Ae))?oe:null:"ddd"===H?-1!==(oe=Ht.call(this._shortWeekdaysParse,Ae))?oe:null:-1!==(oe=Ht.call(this._minWeekdaysParse,Ae))?oe:null:"dddd"===H?-1!==(oe=Ht.call(this._weekdaysParse,Ae))||-1!==(oe=Ht.call(this._shortWeekdaysParse,Ae))||-1!==(oe=Ht.call(this._minWeekdaysParse,Ae))?oe:null:"ddd"===H?-1!==(oe=Ht.call(this._shortWeekdaysParse,Ae))||-1!==(oe=Ht.call(this._weekdaysParse,Ae))||-1!==(oe=Ht.call(this._minWeekdaysParse,Ae))?oe:null:-1!==(oe=Ht.call(this._minWeekdaysParse,Ae))||-1!==(oe=Ht.call(this._weekdaysParse,Ae))||-1!==(oe=Ht.call(this._shortWeekdaysParse,Ae))?oe:null}var Fh=js;var Lh=js;var fi=js;function Bh(){function k(Vi,Wn){return Wn.length-Vi.length}var _e,Ae,ot,_t,Bi,H=[],K=[],J=[],oe=[];for(_e=0;_e<7;_e++)Ae=c([2e3,1]).day(_e),ot=this.weekdaysMin(Ae,""),_t=this.weekdaysShort(Ae,""),Bi=this.weekdays(Ae,""),H.push(ot),K.push(_t),J.push(Bi),oe.push(ot),oe.push(_t),oe.push(Bi);for(H.sort(k),K.sort(k),J.sort(k),oe.sort(k),_e=0;_e<7;_e++)K[_e]=$t(K[_e]),J[_e]=$t(J[_e]),oe[_e]=$t(oe[_e]);this._weekdaysRegex=new RegExp("^("+oe.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+J.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+K.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+H.join("|")+")","i")}function Ne(){return this.hours()%12||12}function vl(k,H){Qe(k,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),H)})}function nd(k,H){return H._meridiemParse}Qe("H",["HH",2],0,"hour"),Qe("h",["hh",2],0,Ne),Qe("k",["kk",2],0,function id(){return this.hours()||24}),Qe("hmm",0,0,function(){return""+Ne.apply(this)+Ve(this.minutes(),2)}),Qe("hmmss",0,0,function(){return""+Ne.apply(this)+Ve(this.minutes(),2)+Ve(this.seconds(),2)}),Qe("Hmm",0,0,function(){return""+this.hours()+Ve(this.minutes(),2)}),Qe("Hmmss",0,0,function(){return""+this.hours()+Ve(this.minutes(),2)+Ve(this.seconds(),2)}),vl("a",!0),vl("A",!1),nt("hour","h"),Ft("hour",13),tt("a",nd),tt("A",nd),tt("H",ai),tt("h",ai),tt("k",ai),tt("HH",ai,Hi),tt("hh",ai,Hi),tt("kk",ai,Hi),tt("hmm",fo),tt("hmmss",ll),tt("Hmm",fo),tt("Hmmss",ll),ci(["H","HH"],Ni),ci(["k","kk"],function(k,H,K){var J=$(k);H[Ni]=24===J?0:J}),ci(["a","A"],function(k,H,K){K._isPm=K._locale.isPM(k),K._meridiem=k}),ci(["h","hh"],function(k,H,K){H[Ni]=$(k),h(K).bigHour=!0}),ci("hmm",function(k,H,K){var J=k.length-2;H[Ni]=$(k.substr(0,J)),H[kn]=$(k.substr(J)),h(K).bigHour=!0}),ci("hmmss",function(k,H,K){var J=k.length-4,oe=k.length-2;H[Ni]=$(k.substr(0,J)),H[kn]=$(k.substr(J,2)),H[St]=$(k.substr(oe)),h(K).bigHour=!0}),ci("Hmm",function(k,H,K){var J=k.length-2;H[Ni]=$(k.substr(0,J)),H[kn]=$(k.substr(J))}),ci("Hmmss",function(k,H,K){var J=k.length-4,oe=k.length-2;H[Ni]=$(k.substr(0,J)),H[kn]=$(k.substr(J,2)),H[St]=$(k.substr(oe))});var od,vC=tr("Hours",!0),Vg={calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:/\d{1,2}/,relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},months:Sr,monthsShort:oa,week:{dow:0,doy:6},weekdays:Mn,weekdaysMin:ml,weekdaysShort:Jc,meridiemParse:/[ap]\.?m?\.?/i},zi={},yl={};function vo(k){return k&&k.toLowerCase().replace("_","-")}function ua(k){var H=null;if(!zi[k]&&typeof B<"u"&&B&&B.exports)try{H=od._abbr,function(){var oe=new Error('Cannot find module "./locale"');throw oe.code="MODULE_NOT_FOUND",oe}(),yo(H)}catch{}return zi[k]}function yo(k,H){var K;return k&&(K=M(H)?qr(k):ld(k,H))&&(od=K),od._abbr}function ld(k,H){if(null!==H){var K=Vg;if(H.abbr=k,null!=zi[k])se("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),K=zi[k]._config;else if(null!=H.parentLocale){if(null==zi[H.parentLocale])return yl[H.parentLocale]||(yl[H.parentLocale]=[]),yl[H.parentLocale].push({name:k,config:H}),null;K=zi[H.parentLocale]._config}return zi[k]=new Ee(Oe(K,H)),yl[k]&&yl[k].forEach(function(J){ld(J.name,J.config)}),yo(k),zi[k]}return delete zi[k],null}function qr(k){var H;if(k&&k._locale&&k._locale._abbr&&(k=k._locale._abbr),!k)return od;if(!L(k)){if(H=ua(k))return H;k=[k]}return function ad(k){for(var K,J,oe,_e,H=0;H<k.length;){for(K=(_e=vo(k[H]).split("-")).length,J=(J=vo(k[H+1]))?J.split("-"):null;K>0;){if(oe=ua(_e.slice(0,K).join("-")))return oe;if(J&&J.length>=K&&W(_e,J,!0)>=K-1)break;K--}H++}return null}(k)}function cd(k){var H,K=k._a;return K&&-2===h(k).overflow&&(H=K[Wt]<0||K[Wt]>11?Wt:K[In]<1||K[In]>at(K[vn],K[Wt])?In:K[Ni]<0||K[Ni]>24||24===K[Ni]&&(0!==K[kn]||0!==K[St]||0!==K[it])?Ni:K[kn]<0||K[kn]>59?kn:K[St]<0||K[St]>59?St:K[it]<0||K[it]>999?it:-1,h(k)._overflowDayOfYear&&(H<vn||H>In)&&(H=In),h(k)._overflowWeeks&&-1===H&&(H=ds),h(k)._overflowWeekday&&-1===H&&(H=hr),h(k).overflow=H),k}function Un(k,H,K){return k??H??K}function Te(k){var H,K,oe,_e,J=[];if(!k._d){for(oe=function zg(k){var H=new Date(P.now());return k._useUTC?[H.getUTCFullYear(),H.getUTCMonth(),H.getUTCDate()]:[H.getFullYear(),H.getMonth(),H.getDate()]}(k),k._w&&null==k._a[In]&&null==k._a[Wt]&&function Vh(k){var H,K,J,oe,_e,Ae,ot,_t;if(null!=(H=k._w).GG||null!=H.W||null!=H.E)_e=1,Ae=4,K=Un(H.GG,k._a[vn],te(Mi(),1,4).year),J=Un(H.W,1),((oe=Un(H.E,1))<1||oe>7)&&(_t=!0);else{_e=k._locale._week.dow,Ae=k._locale._week.doy;var Bi=te(Mi(),_e,Ae);K=Un(H.gg,k._a[vn],Bi.year),J=Un(H.w,Bi.week),null!=H.d?((oe=H.d)<0||oe>6)&&(_t=!0):null!=H.e?(oe=H.e+_e,(H.e<0||H.e>6)&&(_t=!0)):oe=_e}J<1||J>ie(K,_e,Ae)?h(k)._overflowWeeks=!0:null!=_t?h(k)._overflowWeekday=!0:(ot=pl(K,J,oe,_e,Ae),k._a[vn]=ot.year,k._dayOfYear=ot.dayOfYear)}(k),null!=k._dayOfYear&&(_e=Un(k._a[vn],oe[vn]),(k._dayOfYear>Er(_e)||0===k._dayOfYear)&&(h(k)._overflowDayOfYear=!0),K=ps(_e,0,k._dayOfYear),k._a[Wt]=K.getUTCMonth(),k._a[In]=K.getUTCDate()),H=0;H<3&&null==k._a[H];++H)k._a[H]=J[H]=oe[H];for(;H<7;H++)k._a[H]=J[H]=null==k._a[H]?2===H?1:0:k._a[H];24===k._a[Ni]&&0===k._a[kn]&&0===k._a[St]&&0===k._a[it]&&(k._nextDay=!0,k._a[Ni]=0),k._d=(k._useUTC?ps:fl).apply(null,J),null!=k._tzm&&k._d.setUTCMinutes(k._d.getUTCMinutes()-k._tzm),k._nextDay&&(k._a[Ni]=24),k._w&&typeof k._w.d<"u"&&k._w.d!==k._d.getDay()&&(h(k).weekdayMismatch=!0)}}var He=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,bl=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,dd=/Z|[+-]\d\d(?::?\d\d)?/,ms=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],ud=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],jg=/^\/?Date\((\-?\d+)/i;function Hh(k){var H,K,_e,Ae,ot,_t,J=k._i,oe=He.exec(J)||bl.exec(J);if(oe){for(h(k).iso=!0,H=0,K=ms.length;H<K;H++)if(ms[H][1].exec(oe[1])){Ae=ms[H][0],_e=!1!==ms[H][2];break}if(null==Ae)return void(k._isValid=!1);if(oe[3]){for(H=0,K=ud.length;H<K;H++)if(ud[H][1].exec(oe[3])){ot=(oe[2]||" ")+ud[H][0];break}if(null==ot)return void(k._isValid=!1)}if(!_e&&null!=ot)return void(k._isValid=!1);if(oe[4]){if(!dd.exec(oe[4]))return void(k._isValid=!1);_t="Z"}k._f=Ae+(ot||"")+(_t||""),Us(k)}else k._isValid=!1}var Jr=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/;function pr(k){var H=parseInt(k,10);return H<=49?2e3+H:H<=999?1900+H:H}var zh={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function fd(k){var H=Jr.exec(function Mr(k){return k.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").trim()}(k._i));if(H){var K=function _l(k,H,K,J,oe,_e){var Ae=[pr(k),oa.indexOf(H),parseInt(K,10),parseInt(J,10),parseInt(oe,10)];return _e&&Ae.push(parseInt(_e,10)),Ae}(H[4],H[3],H[2],H[5],H[6],H[7]);if(!function zt(k,H,K){return!k||Jc.indexOf(k)===new Date(H[0],H[1],H[2]).getDay()||(h(K).weekdayMismatch=!0,K._isValid=!1,!1)}(H[1],K,k))return;k._a=K,k._tzm=function hd(k,H,K){if(k)return zh[k];if(H)return 0;var J=parseInt(K,10),oe=J%100;return(J-oe)/100*60+oe}(H[8],H[9],H[10]),k._d=ps.apply(null,k._a),k._d.setUTCMinutes(k._d.getUTCMinutes()-k._tzm),h(k).rfc2822=!0}else k._isValid=!1}function Us(k){if(k._f!==P.ISO_8601)if(k._f!==P.RFC_2822){k._a=[],h(k).empty=!0;var K,J,oe,_e,Ae,H=""+k._i,ot=H.length,_t=0;for(oe=Hs(k._f,k._locale).match($e)||[],K=0;K<oe.length;K++)(J=(H.match(Dn(_e=oe[K],k))||[])[0])&&((Ae=H.substr(0,H.indexOf(J))).length>0&&h(k).unusedInput.push(Ae),H=H.slice(H.indexOf(J)+J.length),_t+=J.length),Jt[_e]?(J?h(k).empty=!1:h(k).unusedTokens.push(_e),Lt(_e,J,k)):k._strict&&!J&&h(k).unusedTokens.push(_e);h(k).charsLeftOver=ot-_t,H.length>0&&h(k).unusedInput.push(H),k._a[Ni]<=12&&!0===h(k).bigHour&&k._a[Ni]>0&&(h(k).bigHour=void 0),h(k).parsedDateParts=k._a.slice(0),h(k).meridiem=k._meridiem,k._a[Ni]=function Uh(k,H,K){var J;return null==K?H:null!=k.meridiemHour?k.meridiemHour(H,K):(null!=k.isPM&&((J=k.isPM(K))&&H<12&&(H+=12),!J&&12===H&&(H=0)),H)}(k._locale,k._a[Ni],k._meridiem),Te(k),cd(k)}else fd(k);else Hh(k)}function Yh(k){var H=k._i,K=k._f;return k._locale=k._locale||qr(k._l),null===H||void 0===K&&""===H?C({nullInput:!0}):("string"==typeof H&&(k._i=H=k._locale.preparse(H)),V(H)?new O(cd(H)):(b(H)?k._d=H:L(K)?function $h(k){var H,K,J,oe,_e;if(0===k._f.length)return h(k).invalidFormat=!0,void(k._d=new Date(NaN));for(oe=0;oe<k._f.length;oe++)_e=0,H=p({},k),null!=k._useUTC&&(H._useUTC=k._useUTC),H._f=k._f[oe],Us(H),v(H)&&(_e+=h(H).charsLeftOver,_e+=10*h(H).unusedTokens.length,h(H).score=_e,(null==J||_e<J)&&(J=_e,K=H));x(k,K||H)}(k):K?Us(k):function $g(k){var H=k._i;M(H)?k._d=new Date(P.now()):b(H)?k._d=new Date(H.valueOf()):"string"==typeof H?function jh(k){var H=jg.exec(k._i);null===H?(Hh(k),!1===k._isValid&&(delete k._isValid,fd(k),!1===k._isValid&&(delete k._isValid,P.createFromInputFallback(k)))):k._d=new Date(+H[1])}(k):L(H)?(k._a=y(H.slice(0),function(K){return parseInt(K,10)}),Te(k)):T(H)?function Ug(k){if(!k._d){var H=_i(k._i);k._a=y([H.year,H.month,H.day||H.date,H.hour,H.minute,H.second,H.millisecond],function(K){return K&&parseInt(K,10)}),Te(k)}}(k):E(H)?k._d=new Date(H):P.createFromInputFallback(k)}(k),v(k)||(k._d=null),k))}function ir(k,H,K,J,oe){var _e={};return(!0===K||!1===K)&&(J=K,K=void 0),(T(k)&&function F(k){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(k).length;var H;for(H in k)if(k.hasOwnProperty(H))return!1;return!0}(k)||L(k)&&0===k.length)&&(k=void 0),_e._isAMomentObject=!0,_e._useUTC=_e._isUTC=oe,_e._l=K,_e._i=k,_e._f=H,_e._strict=J,function Wh(k){var H=new O(cd(Yh(k)));return H._nextDay&&(H.add(1,"d"),H._nextDay=void 0),H}(_e)}function Mi(k,H,K,J){return ir(k,H,K,J,!1)}P.createFromInputFallback=q("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(k){k._d=new Date(k._i+(k._useUTC?" UTC":""))}),P.ISO_8601=function(){},P.RFC_2822=function(){};var Gh=q("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var k=Mi.apply(null,arguments);return this.isValid()&&k.isValid()?k<this?this:k:C()}),Wg=q("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var k=Mi.apply(null,arguments);return this.isValid()&&k.isValid()?k>this?this:k:C()});function Xh(k,H){var K,J;if(1===H.length&&L(H[0])&&(H=H[0]),!H.length)return Mi();for(K=H[0],J=1;J<H.length;++J)(!H[J].isValid()||H[J][k](K))&&(K=H[J]);return K}var ha=["year","quarter","month","week","day","hour","minute","second","millisecond"];function wl(k){var H=_i(k),K=H.year||0,J=H.quarter||0,oe=H.month||0,_e=H.week||0,Ae=H.day||0,ot=H.hour||0,_t=H.minute||0,Bi=H.second||0,Vi=H.millisecond||0;this._isValid=function Xg(k){for(var H in k)if(-1===Ht.call(ha,H)||null!=k[H]&&isNaN(k[H]))return!1;for(var K=!1,J=0;J<ha.length;++J)if(k[ha[J]]){if(K)return!1;parseFloat(k[ha[J]])!==$(k[ha[J]])&&(K=!0)}return!0}(H),this._milliseconds=+Vi+1e3*Bi+6e4*_t+1e3*ot*60*60,this._days=+Ae+7*_e,this._months=+oe+3*J+12*K,this._data={},this._locale=qr(),this._bubble()}function pd(k){return k instanceof wl}function jt(k){return k<0?-1*Math.round(-1*k):Math.round(k)}function md(k,H){Qe(k,0,0,function(){var K=this.utcOffset(),J="+";return K<0&&(K=-K,J="-"),J+Ve(~~(K/60),2)+H+Ve(~~K%60,2)})}md("Z",":"),md("ZZ",""),tt("Z",go),tt("ZZ",go),ci(["Z","ZZ"],function(k,H,K){K._useUTC=!0,K._tzm=bn(go,k)});var ct=/([\+\-]|\d\d)/gi;function bn(k,H){var K=(H||"").match(k);if(null===K)return null;var oe=((K[K.length-1]||[])+"").match(ct)||["-",0,0],_e=60*oe[1]+$(oe[2]);return 0===_e?0:"+"===oe[0]?_e:-_e}function bt(k,H){var K,J;return H._isUTC?(K=H.clone(),J=(V(k)||b(k)?k.valueOf():Mi(k).valueOf())-K.valueOf(),K._d.setTime(K._d.valueOf()+J),P.updateOffset(K,!1),K):Mi(k).local()}function Fi(k){return 15*-Math.round(k._d.getTimezoneOffset()/15)}function rt(){return!!this.isValid()&&this._isUTC&&0===this._offset}P.updateOffset=function(){};var Ci=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,mr=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function pi(k,H){var oe,_e,Ae,K=k,J=null;return pd(k)?K={ms:k._milliseconds,d:k._days,M:k._months}:E(k)?(K={},H?K[H]=k:K.milliseconds=k):(J=Ci.exec(k))?(oe="-"===J[1]?-1:1,K={y:0,d:$(J[In])*oe,h:$(J[Ni])*oe,m:$(J[kn])*oe,s:$(J[St])*oe,ms:$(jt(1e3*J[it]))*oe}):(J=mr.exec(k))?K={y:ln(J[2],oe="-"===J[1]?-1:1),M:ln(J[3],oe),w:ln(J[4],oe),d:ln(J[5],oe),h:ln(J[6],oe),m:ln(J[7],oe),s:ln(J[8],oe)}:null==K?K={}:"object"==typeof K&&("from"in K||"to"in K)&&(Ae=function mi(k,H){var K;return k.isValid()&&H.isValid()?(H=bt(H,k),k.isBefore(H)?K=$s(k,H):((K=$s(H,k)).milliseconds=-K.milliseconds,K.months=-K.months),K):{milliseconds:0,months:0}}(Mi(K.from),Mi(K.to)),(K={}).ms=Ae.milliseconds,K.M=Ae.months),_e=new wl(K),pd(k)&&g(k,"_locale")&&(_e._locale=k._locale),_e}function ln(k,H){var K=k&&parseFloat(k.replace(",","."));return(isNaN(K)?0:K)*H}function $s(k,H){var K={milliseconds:0,months:0};return K.months=H.month()-k.month()+12*(H.year()-k.year()),k.clone().add(K.months,"M").isAfter(H)&&--K.months,K.milliseconds=+H-+k.clone().add(K.months,"M"),K}function wn(k,H){return function(K,J){var _e;return null!==J&&!isNaN(+J)&&(se(H,"moment()."+H+"(period, number) is deprecated. Please use moment()."+H+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),_e=K,K=J,J=_e),Tr(this,pi(K="string"==typeof K?+K:K,J),k),this}}function Tr(k,H,K,J){var oe=H._milliseconds,_e=jt(H._days),Ae=jt(H._months);k.isValid()&&(J=J??!0,Ae&&Zi(k,us(k,"Month")+Ae*K),_e&&Qr(k,"Date",us(k,"Date")+_e*K),oe&&k._d.setTime(k._d.valueOf()+oe*K),J&&P.updateOffset(k,_e||Ae))}pi.fn=wl.prototype,pi.invalid=function nr(){return pi(NaN)};var ft=wn(1,"add"),fa=wn(-1,"subtract");function es(k,H){var K=12*(H.year()-k.year())+(H.month()-k.month()),J=k.clone().add(K,"months");return-(K+(H-J<0?(H-J)/(J-k.clone().add(K-1,"months")):(H-J)/(k.clone().add(K+1,"months")-J)))||0}function Qi(k){var H;return void 0===k?this._locale._abbr:(null!=(H=qr(k))&&(this._locale=H),this)}P.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",P.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var $i=q("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(k){return void 0===k?this.localeData():this.locale(k)});function Dl(){return this._locale}function _d(k,H){Qe(0,[k,k.length],0,H)}function tv(k,H,K,J,oe){var _e;return null==k?te(this,J,oe).year:(H>(_e=ie(k,J,oe))&&(H=_e),EC.call(this,k,H,K,J,oe))}function EC(k,H,K,J,oe){var _e=pl(k,H,K,J,oe),Ae=ps(_e.year,0,_e.dayOfYear);return this.year(Ae.getUTCFullYear()),this.month(Ae.getUTCMonth()),this.date(Ae.getUTCDate()),this}Qe(0,["gg",2],0,function(){return this.weekYear()%100}),Qe(0,["GG",2],0,function(){return this.isoWeekYear()%100}),_d("gggg","weekYear"),_d("ggggg","weekYear"),_d("GGGG","isoWeekYear"),_d("GGGGG","isoWeekYear"),nt("weekYear","gg"),nt("isoWeekYear","GG"),Ft("weekYear",1),Ft("isoWeekYear",1),tt("G",Qt),tt("g",Qt),tt("GG",ai,Hi),tt("gg",ai,Hi),tt("GGGG",ur,zs),tt("gggg",ur,zs),tt("GGGGG",po,Kr),tt("ggggg",po,Kr),mt(["gggg","ggggg","GGGG","GGGGG"],function(k,H,K,J){H[J.substr(0,2)]=$(k)}),mt(["gg","GG"],function(k,H,K,J){H[J]=P.parseTwoDigitYear(k)}),Qe("Q",0,"Qo","quarter"),nt("quarter","Q"),Ft("quarter",7),tt("Q",ra),ci("Q",function(k,H){H[Wt]=3*($(k)-1)}),Qe("D",["DD",2],"Do","date"),nt("date","D"),Ft("date",9),tt("D",ai),tt("DD",ai,Hi),tt("Do",function(k,H){return k?H._dayOfMonthOrdinalParse||H._ordinalParse:H._dayOfMonthOrdinalParseLenient}),ci(["D","DD"],In),ci("Do",function(k,H){H[In]=$(k.match(ai)[0])});var iv=tr("Date",!0);Qe("DDD",["DDDD",3],"DDDo","dayOfYear"),nt("dayOfYear","DDD"),Ft("dayOfYear",4),tt("DDD",dr),tt("DDDD",ho),ci(["DDD","DDDD"],function(k,H,K){K._dayOfYear=$(k)}),Qe("m",["mm",2],0,"minute"),nt("minute","m"),Ft("minute",14),tt("m",ai),tt("mm",ai,Hi),ci(["m","mm"],kn);var tf=tr("Minutes",!1);Qe("s",["ss",2],0,"second"),nt("second","s"),Ft("second",15),tt("s",ai),tt("ss",ai,Hi),ci(["s","ss"],St);var Ys,nf=tr("Seconds",!1);for(Qe("S",0,0,function(){return~~(this.millisecond()/100)}),Qe(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),Qe(0,["SSS",3],0,"millisecond"),Qe(0,["SSSS",4],0,function(){return 10*this.millisecond()}),Qe(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),Qe(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),Qe(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),Qe(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),Qe(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),nt("millisecond","ms"),Ft("millisecond",16),tt("S",dr,ra),tt("SS",dr,Hi),tt("SSS",dr,ho),Ys="SSSS";Ys.length<=9;Ys+="S")tt(Ys,sa);function MC(k,H){H[it]=$(1e3*("0."+k))}for(Ys="S";Ys.length<=9;Ys+="S")ci(Ys,MC);var TC=tr("Milliseconds",!1);Qe("z",0,0,"zoneAbbr"),Qe("zz",0,0,"zoneName");var Ue=O.prototype;function sf(k){return k}Ue.add=ft,Ue.calendar=function _o(k,H){var K=k||Mi(),J=bt(K,this).startOf("day"),oe=P.calendarFormat(this,J)||"sameElse",_e=H&&(de(H[oe])?H[oe].call(this,K):H[oe]);return this.format(_e||this.localeData().calendar(oe,this,Mi(K)))},Ue.clone=function Ti(){return new O(this)},Ue.diff=function xl(k,H,K){var J,oe,Ae;if(!this.isValid())return NaN;if(!(J=bt(k,this)).isValid())return NaN;switch(oe=6e4*(J.utcOffset()-this.utcOffset()),H=Kt(H)){case"year":Ae=es(this,J)/12;break;case"month":Ae=es(this,J);break;case"quarter":Ae=es(this,J)/3;break;case"second":Ae=(this-J)/1e3;break;case"minute":Ae=(this-J)/6e4;break;case"hour":Ae=(this-J)/36e5;break;case"day":Ae=(this-J-oe)/864e5;break;case"week":Ae=(this-J-oe)/6048e5;break;default:Ae=this-J}return K?Ae:j(Ae)},Ue.endOf=function Sl(k){return void 0===(k=Kt(k))||"millisecond"===k?this:("date"===k&&(k="day"),this.startOf(k).add(1,"isoWeek"===k?"week":k).subtract(1,"ms"))},Ue.format=function Ar(k){k||(k=this.isUtc()?P.defaultFormatUtc:P.defaultFormat);var H=uo(this,k);return this.localeData().postformat(H)},Ue.from=function El(k,H){return this.isValid()&&(V(k)&&k.isValid()||Mi(k).isValid())?pi({to:this,from:k}).locale(this.locale()).humanize(!H):this.localeData().invalidDate()},Ue.fromNow=function Co(k){return this.from(Mi(),k)},Ue.to=function Li(k,H){return this.isValid()&&(V(k)&&k.isValid()||Mi(k).isValid())?pi({from:this,to:k}).locale(this.locale()).humanize(!H):this.localeData().invalidDate()},Ue.toNow=function xo(k){return this.to(Mi(),k)},Ue.get=function Sn(k){return de(this[k=Kt(k)])?this[k]():this},Ue.invalidAt=function yC(){return h(this).overflow},Ue.isAfter=function pa(k,H){var K=V(k)?k:Mi(k);return!(!this.isValid()||!K.isValid())&&("millisecond"===(H=Kt(M(H)?"millisecond":H))?this.valueOf()>K.valueOf():K.valueOf()<this.clone().startOf(H).valueOf())},Ue.isBefore=function wo(k,H){var K=V(k)?k:Mi(k);return!(!this.isValid()||!K.isValid())&&("millisecond"===(H=Kt(M(H)?"millisecond":H))?this.valueOf()<K.valueOf():this.clone().endOf(H).valueOf()<K.valueOf())},Ue.isBetween=function Or(k,H,K,J){return("("===(J=J||"()")[0]?this.isAfter(k,K):!this.isBefore(k,K))&&(")"===J[1]?this.isBefore(H,K):!this.isAfter(H,K))},Ue.isSame=function ma(k,H){var J,K=V(k)?k:Mi(k);return!(!this.isValid()||!K.isValid())&&("millisecond"===(H=Kt(H||"millisecond"))?this.valueOf()===K.valueOf():(J=K.valueOf(),this.clone().startOf(H).valueOf()<=J&&J<=this.clone().endOf(H).valueOf()))},Ue.isSameOrAfter=function Jh(k,H){return this.isSame(k,H)||this.isAfter(k,H)},Ue.isSameOrBefore=function vs(k,H){return this.isSame(k,H)||this.isBefore(k,H)},Ue.isValid=function ev(){return v(this)},Ue.lang=$i,Ue.locale=Qi,Ue.localeData=Dl,Ue.max=Wg,Ue.min=Gh,Ue.parsingFlags=function bd(){return x({},h(this))},Ue.set=function yn(k,H){if("object"==typeof k)for(var K=function lt(k){var H=[];for(var K in k)H.push({unit:K,priority:hi[K]});return H.sort(function(J,oe){return J.priority-oe.priority}),H}(k=_i(k)),J=0;J<K.length;J++)this[K[J].unit](k[K[J].unit]);else if(de(this[k=Kt(k)]))return this[k](H);return this},Ue.startOf=function Ws(k){switch(k=Kt(k)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===k&&this.weekday(0),"isoWeek"===k&&this.isoWeekday(1),"quarter"===k&&this.month(3*Math.floor(this.month()/3)),this},Ue.subtract=fa,Ue.toArray=function Jg(){var k=this;return[k.year(),k.month(),k.date(),k.hour(),k.minute(),k.second(),k.millisecond()]},Ue.toObject=function yd(){var k=this;return{years:k.year(),months:k.month(),date:k.date(),hours:k.hours(),minutes:k.minutes(),seconds:k.seconds(),milliseconds:k.milliseconds()}},Ue.toDate=function qg(){return new Date(this.valueOf())},Ue.toISOString=function gd(){if(!this.isValid())return null;var k=this.clone().utc();return k.year()<0||k.year()>9999?uo(k,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):de(Date.prototype.toISOString)?this.toDate().toISOString():uo(k,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},Ue.inspect=function ga(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var k="moment",H="";this.isLocal()||(k=0===this.utcOffset()?"moment.utc":"moment.parseZone",H="Z");var K="["+k+'("]',J=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY";return this.format(K+J+"-MM-DD[T]HH:mm:ss.SSS"+H+'[")]')},Ue.toJSON=function ef(){return this.isValid()?this.toISOString():null},Ue.toString=function pt(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},Ue.unix=function vd(){return Math.floor(this.valueOf()/1e3)},Ue.valueOf=function gr(){return this._d.valueOf()-6e4*(this._offset||0)},Ue.creationData=function bC(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}},Ue.year=Pe,Ue.isLeapYear=function Dr(){return fr(this.year())},Ue.weekYear=function _C(k){return tv.call(this,k,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)},Ue.isoWeekYear=function wC(k){return tv.call(this,k,this.isoWeek(),this.isoWeekday(),1,4)},Ue.quarter=Ue.quarters=function DC(k){return null==k?Math.ceil((this.month()+1)/3):this.month(3*(k-1)+this.month()%3)},Ue.month=la,Ue.daysInMonth=function ca(){return at(this.year(),this.month())},Ue.week=Ue.weeks=function Mt(k){var H=this.localeData().week(this);return null==k?H:this.add(7*(k-H),"d")},Ue.isoWeek=Ue.isoWeeks=function ke(k){var H=te(this,1,4).week;return null==k?H:this.add(7*(k-H),"d")},Ue.weeksInYear=function xC(){var k=this.localeData()._week;return ie(this.year(),k.dow,k.doy)},Ue.isoWeeksInYear=function CC(){return ie(this.year(),1,4)},Ue.date=iv,Ue.day=Ue.days=function Lg(k){if(!this.isValid())return null!=k?this:NaN;var H=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=k?(k=function Ki(k,H){return"string"!=typeof k?k:isNaN(k)?"number"==typeof(k=H.weekdaysParse(k))?k:null:parseInt(k,10)}(k,this.localeData()),this.add(k-H,"d")):H},Ue.weekday=function Tt(k){if(!this.isValid())return null!=k?this:NaN;var H=(this.day()+7-this.localeData()._week.dow)%7;return null==k?H:this.add(k-H,"d")},Ue.isoWeekday=function td(k){if(!this.isValid())return null!=k?this:NaN;if(null!=k){var H=function ht(k,H){return"string"==typeof k?H.weekdaysParse(k)%7||7:isNaN(k)?null:k}(k,this.localeData());return this.day(this.day()%7?H:H-7)}return this.day()||7},Ue.dayOfYear=function SC(k){var H=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==k?H:this.add(k-H,"d")},Ue.hour=Ue.hours=vC,Ue.minute=Ue.minutes=tf,Ue.second=Ue.seconds=nf,Ue.millisecond=Ue.milliseconds=TC,Ue.utcOffset=function an(k,H,K){var oe,J=this._offset||0;if(!this.isValid())return null!=k?this:NaN;if(null!=k){if("string"==typeof k){if(null===(k=bn(go,k)))return this}else Math.abs(k)<16&&!K&&(k*=60);return!this._isUTC&&H&&(oe=Fi(this)),this._offset=k,this._isUTC=!0,null!=oe&&this.add(oe,"m"),J!==k&&(!H||this._changeInProgress?Tr(this,pi(k-J,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,P.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?J:Fi(this)},Ue.utc=function _n(k){return this.utcOffset(0,k)},Ue.local=function Kh(k){return this._isUTC&&(this.utcOffset(0,k),this._isUTC=!1,k&&this.subtract(Fi(this),"m")),this},Ue.parseZone=function Qh(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var k=bn(mo,this._i);null!=k?this.utcOffset(k):this.utcOffset(0,!0)}return this},Ue.hasAlignedHourOffset=function Cl(k){return!!this.isValid()&&(k=k?Mi(k).utcOffset():0,(this.utcOffset()-k)%60==0)},Ue.isDST=function Kg(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},Ue.isLocal=function Ii(){return!!this.isValid()&&!this._isUTC},Ue.isUtcOffset=function je(){return!!this.isValid()&&this._isUTC},Ue.isUtc=rt,Ue.isUTC=rt,Ue.zoneAbbr=function OC(){return this._isUTC?"UTC":""},Ue.zoneName=function Gs(){return this._isUTC?"Coordinated Universal Time":""},Ue.dates=q("dates accessor is deprecated. Use date instead.",iv),Ue.months=q("months accessor is deprecated. Use month instead",la),Ue.years=q("years accessor is deprecated. Use year instead",Pe),Ue.zone=q("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",function gs(k,H){return null!=k?("string"!=typeof k&&(k=-k),this.utcOffset(k,H),this):-this.utcOffset()}),Ue.isDSTShifted=q("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",function Qg(){if(!M(this._isDSTShifted))return this._isDSTShifted;var k={};if(p(k,this),(k=Yh(k))._a){var H=k._isUTC?c(k._a):Mi(k._a);this._isDSTShifted=this.isValid()&&W(k._a,H.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted});var gi=Ee.prototype;function va(k,H,K,J){var oe=qr(),_e=c().set(J,H);return oe[K](_e,k)}function wd(k,H,K){if(E(k)&&(H=k,k=void 0),k=k||"",null!=H)return va(k,H,K,"month");var J,oe=[];for(J=0;J<12;J++)oe[J]=va(k,J,K,"month");return oe}function Cd(k,H,K,J){"boolean"==typeof k?(E(H)&&(K=H,H=void 0),H=H||""):(K=H=k,k=!1,E(H)&&(K=H,H=void 0),H=H||"");var oe=qr(),_e=k?oe._week.dow:0;if(null!=K)return va(H,(K+_e)%7,J,"day");var Ae,ot=[];for(Ae=0;Ae<7;Ae++)ot[Ae]=va(H,(Ae+_e)%7,J,"day");return ot}gi.calendar=function ue(k,H,K){var J=this._calendar[k]||this._calendar.sameElse;return de(J)?J.call(H,K):J},gi.longDateFormat=function xe(k){var H=this._longDateFormat[k],K=this._longDateFormat[k.toUpperCase()];return H||!K?H:(this._longDateFormat[k]=K.replace(/MMMM|MM|DD|dddd/g,function(J){return J.slice(1)}),this._longDateFormat[k])},gi.invalidDate=function Be(){return this._invalidDate},gi.ordinal=function Ze(k){return this._ordinal.replace("%d",k)},gi.preparse=sf,gi.postformat=sf,gi.relativeTime=function qt(k,H,K,J){var oe=this._relativeTime[K];return de(oe)?oe(k,H,K,J):oe.replace(/%d/i,k)},gi.pastFuture=function si(k,H){var K=this._relativeTime[k>0?"future":"past"];return de(K)?K(H):K.replace(/%s/i,H)},gi.set=function ve(k){var H,K;for(K in k)de(H=k[K])?this[K]=H:this["_"+K]=H;this._config=k,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)},gi.months=function dl(k,H){return k?L(this._months)?this._months[k.month()]:this._months[(this._months.isFormat||gt).test(H)?"format":"standalone"][k.month()]:L(this._months)?this._months:this._months.standalone},gi.monthsShort=function aa(k,H){return k?L(this._monthsShort)?this._monthsShort[k.month()]:this._monthsShort[gt.test(H)?"format":"standalone"][k.month()]:L(this._monthsShort)?this._monthsShort:this._monthsShort.standalone},gi.monthsParse=function hs(k,H,K){var J,oe,_e;if(this._monthsParseExact)return zn.call(this,k,H,K);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),J=0;J<12;J++){if(oe=c([2e3,J]),K&&!this._longMonthsParse[J]&&(this._longMonthsParse[J]=new RegExp("^"+this.months(oe,"").replace(".","")+"$","i"),this._shortMonthsParse[J]=new RegExp("^"+this.monthsShort(oe,"").replace(".","")+"$","i")),!K&&!this._monthsParse[J]&&(_e="^"+this.months(oe,"")+"|^"+this.monthsShort(oe,""),this._monthsParse[J]=new RegExp(_e.replace(".",""),"i")),K&&"MMMM"===H&&this._longMonthsParse[J].test(k))return J;if(K&&"MMM"===H&&this._shortMonthsParse[J].test(k))return J;if(!K&&this._monthsParse[J].test(k))return J}},gi.monthsRegex=function Rh(k){return this._monthsParseExact?(g(this,"_monthsRegex")||hl.call(this),k?this._monthsStrictRegex:this._monthsRegex):(g(this,"_monthsRegex")||(this._monthsRegex=fs),this._monthsStrictRegex&&k?this._monthsStrictRegex:this._monthsRegex)},gi.monthsShortRegex=function jn(k){return this._monthsParseExact?(g(this,"_monthsRegex")||hl.call(this),k?this._monthsShortStrictRegex:this._monthsShortRegex):(g(this,"_monthsShortRegex")||(this._monthsShortRegex=ul),this._monthsShortStrictRegex&&k?this._monthsShortStrictRegex:this._monthsShortRegex)},gi.week=function le(k){return te(k,this._week.dow,this._week.doy).week},gi.firstDayOfYear=function qe(){return this._week.doy},gi.firstDayOfWeek=function Le(){return this._week.dow},gi.weekdays=function Ng(k,H){return k?L(this._weekdays)?this._weekdays[k.day()]:this._weekdays[this._weekdays.isFormat.test(H)?"format":"standalone"][k.day()]:L(this._weekdays)?this._weekdays:this._weekdays.standalone},gi.weekdaysMin=function gl(k){return k?this._weekdaysMin[k.day()]:this._weekdaysMin},gi.weekdaysShort=function Fg(k){return k?this._weekdaysShort[k.day()]:this._weekdaysShort},gi.weekdaysParse=function Nh(k,H,K){var J,oe,_e;if(this._weekdaysParseExact)return ed.call(this,k,H,K);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),J=0;J<7;J++){if(oe=c([2e3,1]).day(J),K&&!this._fullWeekdaysParse[J]&&(this._fullWeekdaysParse[J]=new RegExp("^"+this.weekdays(oe,"").replace(".",".?")+"$","i"),this._shortWeekdaysParse[J]=new RegExp("^"+this.weekdaysShort(oe,"").replace(".",".?")+"$","i"),this._minWeekdaysParse[J]=new RegExp("^"+this.weekdaysMin(oe,"").replace(".",".?")+"$","i")),this._weekdaysParse[J]||(_e="^"+this.weekdays(oe,"")+"|^"+this.weekdaysShort(oe,"")+"|^"+this.weekdaysMin(oe,""),this._weekdaysParse[J]=new RegExp(_e.replace(".",""),"i")),K&&"dddd"===H&&this._fullWeekdaysParse[J].test(k))return J;if(K&&"ddd"===H&&this._shortWeekdaysParse[J].test(k))return J;if(K&&"dd"===H&&this._minWeekdaysParse[J].test(k))return J;if(!K&&this._weekdaysParse[J].test(k))return J}},gi.weekdaysRegex=function Rn(k){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||Bh.call(this),k?this._weekdaysStrictRegex:this._weekdaysRegex):(g(this,"_weekdaysRegex")||(this._weekdaysRegex=Fh),this._weekdaysStrictRegex&&k?this._weekdaysStrictRegex:this._weekdaysRegex)},gi.weekdaysShortRegex=function mC(k){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||Bh.call(this),k?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(g(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Lh),this._weekdaysShortStrictRegex&&k?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)},gi.weekdaysMinRegex=function gC(k){return this._weekdaysParseExact?(g(this,"_weekdaysRegex")||Bh.call(this),k?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(g(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=fi),this._weekdaysMinStrictRegex&&k?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)},gi.isPM=function rd(k){return"p"===(k+"").toLowerCase().charAt(0)},gi.meridiem=function sd(k,H,K){return k>11?K?"pm":"PM":K?"am":"AM"},yo("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(k){var H=k%10;return k+(1===$(k%100/10)?"th":1===H?"st":2===H?"nd":3===H?"rd":"th")}}),P.lang=q("moment.lang is deprecated. Use moment.locale instead.",yo),P.langData=q("moment.langData is deprecated. Use moment.localeData instead.",qr);var kr=Math.abs;function sv(k,H,K,J){var oe=pi(H,K);return k._milliseconds+=J*oe._milliseconds,k._days+=J*oe._days,k._months+=J*oe._months,k._bubble()}function Eo(k){return k<0?Math.floor(k):Math.ceil(k)}function cf(k){return 4800*k/146097}function Xs(k){return 146097*k/4800}function ys(k){return function(){return this.as(k)}}var Dd=ys("ms"),ov=ys("s"),Pr=ys("m"),df=ys("h"),av=ys("d"),uf=ys("w"),hf=ys("M"),Sd=ys("y");function ts(k){return function(){return this.isValid()?this._data[k]:NaN}}var ut=ts("milliseconds"),ff=ts("seconds"),AC=ts("minutes"),lv=ts("hours"),cv=ts("days"),dv=ts("months"),pf=ts("years");var bs=Math.round,Rr={ss:44,s:45,m:45,h:22,d:26,M:11};function uv(k,H,K,J,oe){return oe.relativeTime(H||1,!!K,k,J)}var Yt=Math.abs;function Pt(k){return(k>0)-(k<0)||+k}function Gt(){if(!this.isValid())return this.localeData().invalidDate();var J,oe,k=Yt(this._milliseconds)/1e3,H=Yt(this._days),K=Yt(this._months);J=j(k/60),oe=j(J/60),k%=60,J%=60;var Ae=j(K/12),ot=K%=12,_t=H,Bi=oe,Vi=J,Wn=k?k.toFixed(3).replace(/\.?0+$/,""):"",ba=this.asSeconds();if(!ba)return"P0D";var mf=ba<0?"-":"",gf=Pt(this._months)!==Pt(ba)?"-":"",pv=Pt(this._days)!==Pt(ba)?"-":"",_a=Pt(this._milliseconds)!==Pt(ba)?"-":"";return mf+"P"+(Ae?gf+Ae+"Y":"")+(ot?gf+ot+"M":"")+(_t?pv+_t+"D":"")+(Bi||Vi||Wn?"T":"")+(Bi?_a+Bi+"H":"")+(Vi?_a+Vi+"M":"")+(Wn?_a+Wn+"S":"")}var Rt=wl.prototype;return Rt.isValid=function Zg(){return this._isValid},Rt.abs=function rv(){var k=this._data;return this._milliseconds=kr(this._milliseconds),this._days=kr(this._days),this._months=kr(this._months),k.milliseconds=kr(k.milliseconds),k.seconds=kr(k.seconds),k.minutes=kr(k.minutes),k.hours=kr(k.hours),k.months=kr(k.months),k.years=kr(k.years),this},Rt.add=function vi(k,H){return sv(this,k,H,1)},Rt.subtract=function Ed(k,H){return sv(this,k,H,-1)},Rt.as=function Do(k){if(!this.isValid())return NaN;var H,K,J=this._milliseconds;if("month"===(k=Kt(k))||"year"===k)return K=this._months+cf(H=this._days+J/864e5),"month"===k?K:K/12;switch(H=this._days+Math.round(Xs(this._months)),k){case"week":return H/7+J/6048e5;case"day":return H+J/864e5;case"hour":return 24*H+J/36e5;case"minute":return 1440*H+J/6e4;case"second":return 86400*H+J/1e3;case"millisecond":return Math.floor(864e5*H)+J;default:throw new Error("Unknown unit "+k)}},Rt.asMilliseconds=Dd,Rt.asSeconds=ov,Rt.asMinutes=Pr,Rt.asHours=df,Rt.asDays=av,Rt.asWeeks=uf,Rt.asMonths=hf,Rt.asYears=Sd,Rt.valueOf=function $n(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*$(this._months/12):NaN},Rt._bubble=function On(){var oe,_e,Ae,ot,_t,k=this._milliseconds,H=this._days,K=this._months,J=this._data;return k>=0&&H>=0&&K>=0||k<=0&&H<=0&&K<=0||(k+=864e5*Eo(Xs(K)+H),H=0,K=0),J.milliseconds=k%1e3,oe=j(k/1e3),J.seconds=oe%60,_e=j(oe/60),J.minutes=_e%60,Ae=j(_e/60),J.hours=Ae%24,H+=j(Ae/24),K+=_t=j(cf(H)),H-=Eo(Xs(_t)),ot=j(K/12),K%=12,J.days=H,J.months=K,J.years=ot,this},Rt.clone=function ya(){return pi(this)},Rt.get=function Ml(k){return k=Kt(k),this.isValid()?this[k+"s"]():NaN},Rt.milliseconds=ut,Rt.seconds=ff,Rt.minutes=AC,Rt.hours=lv,Rt.days=cv,Rt.weeks=function So(){return j(this.days()/7)},Rt.months=dv,Rt.years=pf,Rt.humanize=function At(k){if(!this.isValid())return this.localeData().invalidDate();var H=this.localeData(),K=function hv(k,H,K){var J=pi(k).abs(),oe=bs(J.as("s")),_e=bs(J.as("m")),Ae=bs(J.as("h")),ot=bs(J.as("d")),_t=bs(J.as("M")),Bi=bs(J.as("y")),Vi=oe<=Rr.ss&&["s",oe]||oe<Rr.s&&["ss",oe]||_e<=1&&["m"]||_e<Rr.m&&["mm",_e]||Ae<=1&&["h"]||Ae<Rr.h&&["hh",Ae]||ot<=1&&["d"]||ot<Rr.d&&["dd",ot]||_t<=1&&["M"]||_t<Rr.M&&["MM",_t]||Bi<=1&&["y"]||["yy",Bi];return Vi[2]=H,Vi[3]=+k>0,Vi[4]=K,uv.apply(null,Vi)}(this,!k,H);return k&&(K=H.pastFuture(+this,K)),H.postformat(K)},Rt.toISOString=Gt,Rt.toString=Gt,Rt.toJSON=Gt,Rt.locale=Qi,Rt.localeData=Dl,Rt.toIsoString=q("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Gt),Rt.lang=$i,Qe("X",0,0,"unix"),Qe("x",0,0,"valueOf"),tt("x",Qt),tt("X",/[+-]?\d+(\.\d{1,3})?/),ci("X",function(k,H,K){K._d=new Date(1e3*parseFloat(k,10))}),ci("x",function(k,H,K){K._d=new Date($(k))}),P.version="2.19.1",function N(k){I=k}(Mi),P.fn=Ue,P.min=function Yg(){return Xh("isBefore",[].slice.call(arguments,0))},P.max=function Gg(){return Xh("isAfter",[].slice.call(arguments,0))},P.now=function(){return Date.now?Date.now():+new Date},P.utc=c,P.unix=function Tn(k){return Mi(1e3*k)},P.months=function xd(k,H){return wd(k,H,"months")},P.isDate=b,P.locale=yo,P.invalid=C,P.duration=pi,P.isMoment=V,P.weekdays=function Ir(k,H,K){return Cd(k,H,K,"weekdays")},P.parseZone=function rf(){return Mi.apply(null,arguments).parseZone()},P.localeData=qr,P.isDuration=pd,P.monthsShort=function nv(k,H){return wd(k,H,"monthsShort")},P.weekdaysMin=function lf(k,H,K){return Cd(k,H,K,"weekdaysMin")},P.defineLocale=ld,P.updateLocale=function Hg(k,H){if(null!=H){var K,J=Vg;null!=zi[k]&&(J=zi[k]._config),(K=new Ee(H=Oe(J,H))).parentLocale=zi[k],zi[k]=K,yo(k)}else null!=zi[k]&&(null!=zi[k].parentLocale?zi[k]=zi[k].parentLocale:null!=zi[k]&&delete zi[k]);return zi[k]},P.locales=function bo(){return Me(zi)},P.weekdaysShort=function af(k,H,K){return Cd(k,H,K,"weekdaysShort")},P.normalizeUnits=Kt,P.relativeTimeRounding=function fv(k){return void 0===k?bs:"function"==typeof k&&(bs=k,!0)},P.relativeTimeThreshold=function De(k,H){return void 0!==Rr[k]&&(void 0===H?Rr[k]:(Rr[k]=H,"s"===k&&(Rr.ss=H-1),!0))},P.calendarFormat=function qh(k,H){var K=k.diff(H,"days",!0);return K<-6?"sameElse":K<-1?"lastWeek":K<0?"lastDay":K<1?"sameDay":K<2?"nextDay":K<7?"nextWeek":"sameElse"},P.prototype=Ue,P},B.exports=P()}).call(U,S(155)(ee))},function(ee,U){ee.exports=function(S){return S.webpackPolyfill||(S.deprecate=function(){},S.paths=[],S.children||(S.children=[]),Object.defineProperty(S,"loaded",{enumerable:!0,get:function(){return S.l}}),Object.defineProperty(S,"id",{enumerable:!0,get:function(){return S.i}}),S.webpackPolyfill=1),S}},function(ee,U){function S(B){throw new Error("Cannot find module '"+B+"'.")}S.keys=function(){return[]},S.resolve=S,ee.exports=S,S.id=156},function(ee,U,S){(function(B){var D,I=typeof window<"u"?window:typeof B<"u"?B:null;if(I&&I.crypto&&crypto.getRandomValues){var P=new Uint8Array(16);D=function(){return crypto.getRandomValues(P),P}}if(!D){var N=new Array(16);D=function(){for(var f,C=0;C<16;C++)3&C||(f=4294967296*Math.random()),N[C]=f>>>((3&C)<<3)&255;return N}}for(var L=[],T={},F=0;F<256;F++)L[F]=(F+256).toString(16).substr(1),T[L[F]]=F;function E(v,C){var f=C||0;return L[v[f++]]+L[v[f++]]+L[v[f++]]+L[v[f++]]+"-"+L[v[f++]]+L[v[f++]]+"-"+L[v[f++]]+L[v[f++]]+"-"+L[v[f++]]+L[v[f++]]+"-"+L[v[f++]]+L[v[f++]]+L[v[f++]]+L[v[f++]]+L[v[f++]]+L[v[f++]]}var b=D(),y=[1|b[0],b[1],b[2],b[3],b[4],b[5]],g=16383&(b[6]<<8|b[7]),x=0,c=0;function h(v,C,f){var p=C&&f||0;"string"==typeof v&&(C="binary"==v?new Array(16):null,v=null);var _=(v=v||{}).random||(v.rng||D)();if(_[6]=15&_[6]|64,_[8]=63&_[8]|128,C)for(var O=0;O<16;O++)C[p+O]=_[O];return C||E(_)}var d=h;d.v1=function m(v,C,f){var p=C&&f||0,_=C||[],O=void 0!==(v=v||{}).clockseq?v.clockseq:g,V=void 0!==v.msecs?v.msecs:(new Date).getTime(),j=void 0!==v.nsecs?v.nsecs:c+1,$=V-x+(j-c)/1e4;if($<0&&void 0===v.clockseq&&(O=O+1&16383),($<0||V>x)&&void 0===v.nsecs&&(j=0),j>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");x=V,c=j,g=O;var W=(1e4*(268435455&(V+=122192928e5))+j)%4294967296;_[p++]=W>>>24&255,_[p++]=W>>>16&255,_[p++]=W>>>8&255,_[p++]=255&W;var Y=V/4294967296*1e4&268435455;_[p++]=Y>>>8&255,_[p++]=255&Y,_[p++]=Y>>>24&15|16,_[p++]=Y>>>16&255,_[p++]=O>>>8|128,_[p++]=255&O;for(var q=v.node||y,re=0;re<6;re++)_[p+re]=q[re];return C||E(_)},d.v4=h,d.parse=function M(v,C,f){var p=C&&f||0,_=0;for(C=C||[],v.toLowerCase().replace(/[0-9a-f]{2}/g,function(O){_<16&&(C[p+_++]=T[O])});_<16;)C[p+_++]=0;return C},d.unparse=E,ee.exports=d}).call(U,S(158))},function(ee,U){var S;S=function(){return this}();try{S=S||Function("return this")()||(0,eval)("this")}catch{"object"==typeof window&&(S=window)}ee.exports=S},function(ee,U,S){U.util=S(2),U.DOMutil=S(14),U.DataSet=S(11),U.DataView=S(12),U.Queue=S(43),U.Graph3d=S(161),U.graph3d={Camera:S(95),Filter:S(96),Point2d:S(91),Point3d:S(34),Slider:S(92),StepNumber:S(93)},U.moment=S(9),U.Hammer=S(10),U.keycharm=S(35)},function(ee,U,S){var B=S(7),D=B.JSON||(B.JSON={stringify:JSON.stringify});ee.exports=function(P){return D.stringify.apply(D,arguments)}},function(ee,U,S){var D=function I(f){return f&&f.__esModule?f:{default:f}}(S(90));var P=S(44),N=S(2),L=S(34),T=S(91),F=S(92),M=S(93),E=S(94),b=S(15).default,g=S(15).printStyle,c=S(172).allOptions,m=S(173),h=void 0;function d(f,p,_){if(!(this instanceof d))throw new SyntaxError("Constructor must be called with the new operator");this.containerElement=f,this.dataGroup=new m,this.dataPoints=null,this.create(),E.setDefaults(d.DEFAULTS,this),this.colX=void 0,this.colY=void 0,this.colZ=void 0,this.colValue=void 0,this.setOptions(_),this.setData(p)}function v(f){return"clientX"in f?f.clientX:f.targetTouches[0]&&f.targetTouches[0].clientX||0}function C(f){return"clientY"in f?f.clientY:f.targetTouches[0]&&f.targetTouches[0].clientY||0}d.DEFAULTS={width:"400px",height:"400px",filterLabel:"time",legendLabel:"value",xLabel:"x",yLabel:"y",zLabel:"z",xValueLabel:function(p){return p},yValueLabel:function(p){return p},zValueLabel:function(p){return p},showXAxis:!0,showYAxis:!0,showZAxis:!0,showGrid:!0,showPerspective:!0,showShadow:!1,keepAspectRatio:!0,verticalRatio:.5,dotSizeRatio:.02,dotSizeMinFraction:.5,dotSizeMaxFraction:2.5,showAnimationControls:h,animationInterval:1e3,animationPreload:!1,animationAutoStart:h,axisColor:"#4D4D4D",gridColor:"#D3D3D3",xCenter:"55%",yCenter:"50%",style:(d.STYLE=E.STYLE).DOT,tooltip:!1,tooltipStyle:{content:{padding:"10px",border:"1px solid #4d4d4d",color:"#1a1a1a",background:"rgba(255,255,255,0.7)",borderRadius:"2px",boxShadow:"5px 5px 10px rgba(128,128,128,0.5)"},line:{height:"40px",width:"0",borderLeft:"1px solid #4d4d4d"},dot:{height:"0",width:"0",border:"5px solid #4d4d4d",borderRadius:"5px"}},dataColor:{fill:"#7DC1FF",stroke:"#3267D2",strokeWidth:1},cameraPosition:{horizontal:1,vertical:.5,distance:1.7},showLegend:h,backgroundColor:h,xBarWidth:h,yBarWidth:h,valueMin:h,valueMax:h,xMin:h,xMax:h,xStep:h,yMin:h,yMax:h,yStep:h,zMin:h,zMax:h,zStep:h},P(d.prototype),d.prototype._setScale=function(){this.scale=new L(1/this.xRange.range(),1/this.yRange.range(),1/this.zRange.range()),this.keepAspectRatio&&(this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y),this.scale.z*=this.verticalRatio,void 0!==this.valueRange&&(this.scale.value=1/this.valueRange.range());var f=this.xRange.center()*this.scale.x,p=this.yRange.center()*this.scale.y,_=this.zRange.center()*this.scale.z;this.camera.setArmLocation(f,p,_)},d.prototype._convert3Dto2D=function(f){var p=this._convertPointToTranslation(f);return this._convertTranslationToScreen(p)},d.prototype._convertPointToTranslation=function(f){var p=this.camera.getCameraLocation(),_=this.camera.getCameraRotation(),O=f.x*this.scale.x,V=f.y*this.scale.y,j=f.z*this.scale.z,$=p.x,W=p.y,Y=p.z,q=Math.sin(_.x),re=Math.cos(_.x),se=Math.sin(_.y),de=Math.cos(_.y),ve=Math.sin(_.z),Oe=Math.cos(_.z);return new L(de*(ve*(V-W)+Oe*(O-$))-se*(j-Y),q*(de*(j-Y)+se*(ve*(V-W)+Oe*(O-$)))+re*(Oe*(V-W)-ve*(O-$)),re*(de*(j-Y)+se*(ve*(V-W)+Oe*(O-$)))-q*(Oe*(V-W)-ve*(O-$)))},d.prototype._convertTranslationToScreen=function(f){var W,Y,O=this.eye.z,V=f.x,j=f.y,$=f.z;return this.showPerspective?(W=O/$*(V-this.eye.x),Y=O/$*(j-this.eye.y)):(W=V*(-O/this.camera.getArmLength()),Y=j*(-O/this.camera.getArmLength())),new T(this.currentXCenter+W*this.frame.canvas.clientWidth,this.currentYCenter-Y*this.frame.canvas.clientWidth)},d.prototype._calcTranslations=function(f){for(var p=0;p<f.length;p++){var _=f[p];_.trans=this._convertPointToTranslation(_.point),_.screen=this._convertTranslationToScreen(_.trans);var O=this._convertPointToTranslation(_.bottom);_.dist=this.showPerspective?O.length():-O.z}f.sort(function($,W){return W.dist-$.dist})},d.prototype._initializeRanges=function(){var f=this.dataGroup;this.xRange=f.xRange,this.yRange=f.yRange,this.zRange=f.zRange,this.valueRange=f.valueRange,this.xStep=f.xStep,this.yStep=f.yStep,this.zStep=f.zStep,this.xBarWidth=f.xBarWidth,this.yBarWidth=f.yBarWidth,this.colX=f.colX,this.colY=f.colY,this.colZ=f.colZ,this.colValue=f.colValue,this._setScale()},d.prototype.getDataPoints=function(f){for(var p=[],_=0;_<f.length;_++){var O=new L;O.x=f[_][this.colX]||0,O.y=f[_][this.colY]||0,O.z=f[_][this.colZ]||0,O.data=f[_],void 0!==this.colValue&&(O.value=f[_][this.colValue]||0);var V={};V.point=O,V.bottom=new L(O.x,O.y,this.zRange.min),V.trans=void 0,V.screen=void 0,p.push(V)}return p},d.prototype._getDataPoints=function(f){var p,_,O,V,j=[];if(this.style===d.STYLE.GRID||this.style===d.STYLE.SURFACE){var $=this.dataGroup.getDistinctValues(this.colX,f),W=this.dataGroup.getDistinctValues(this.colY,f);j=this.getDataPoints(f);var Y=[];for(O=0;O<j.length;O++){var q=$.indexOf((V=j[O]).point.x),re=W.indexOf(V.point.y);void 0===Y[q]&&(Y[q]=[]),Y[q][re]=V}for(p=0;p<Y.length;p++)for(_=0;_<Y[p].length;_++)Y[p][_]&&(Y[p][_].pointRight=p<Y.length-1?Y[p+1][_]:void 0,Y[p][_].pointTop=_<Y[p].length-1?Y[p][_+1]:void 0,Y[p][_].pointCross=p<Y.length-1&&_<Y[p].length-1?Y[p+1][_+1]:void 0)}else if(this._checkValueField(f),j=this.getDataPoints(f),this.style===d.STYLE.LINE)for(O=0;O<j.length;O++)O>0&&(j[O-1].pointNext=j[O]);return j},d.prototype.create=function(){for(;this.containerElement.hasChildNodes();)this.containerElement.removeChild(this.containerElement.firstChild);this.frame=document.createElement("div"),this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas);var f=document.createElement("DIV");f.style.color="red",f.style.fontWeight="bold",f.style.padding="10px",f.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(f),this.frame.filter=document.createElement("div"),this.frame.filter.style.position="absolute",this.frame.filter.style.bottom="0px",this.frame.filter.style.left="0px",this.frame.filter.style.width="100%",this.frame.appendChild(this.frame.filter);var p=this;N.addEventListener(this.frame.canvas,"mousedown",function(Y){p._onMouseDown(Y)}),N.addEventListener(this.frame.canvas,"touchstart",function(Y){p._onTouchStart(Y)}),N.addEventListener(this.frame.canvas,"mousewheel",function(Y){p._onWheel(Y)}),N.addEventListener(this.frame.canvas,"mousemove",function(Y){p._onTooltip(Y)}),N.addEventListener(this.frame.canvas,"click",function(Y){p._onClick(Y)}),this.containerElement.appendChild(this.frame)},d.prototype._setSize=function(f,p){this.frame.style.width=f,this.frame.style.height=p,this._resizeCanvas()},d.prototype._resizeCanvas=function(){this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=this.frame.canvas.clientWidth,this.frame.canvas.height=this.frame.canvas.clientHeight,this.frame.filter.style.width=this.frame.canvas.clientWidth-20+"px"},d.prototype.animationStart=function(){if(this.animationAutoStart&&this.dataGroup.dataFilter){if(!this.frame.filter||!this.frame.filter.slider)throw new Error("No animation available");this.frame.filter.slider.play()}},d.prototype.animationStop=function(){!this.frame.filter||!this.frame.filter.slider||this.frame.filter.slider.stop()},d.prototype._resizeCenter=function(){this.currentXCenter="%"===this.xCenter.charAt(this.xCenter.length-1)?parseFloat(this.xCenter)/100*this.frame.canvas.clientWidth:parseFloat(this.xCenter),this.currentYCenter="%"===this.yCenter.charAt(this.yCenter.length-1)?parseFloat(this.yCenter)/100*(this.frame.canvas.clientHeight-this.frame.filter.clientHeight):parseFloat(this.yCenter)},d.prototype.getCameraPosition=function(){var f=this.camera.getArmRotation();return f.distance=this.camera.getArmLength(),f},d.prototype._readData=function(f){this.dataPoints=this.dataGroup.initializeData(this,f,this.style),this._initializeRanges(),this._redrawFilter()},d.prototype.setData=function(f){null!=f&&(this._readData(f),this.redraw(),this.animationStart())},d.prototype.setOptions=function(f){void 0!==f&&(!0===b.validate(f,c)&&console.log("%cErrors have been found in the supplied options object.",g),this.animationStop(),E.setOptions(f,this),this.setPointDrawingMethod(),this._setSize(this.width,this.height),this.setData(this.dataGroup.getDataTable()),this.animationStart())},d.prototype.setPointDrawingMethod=function(){var f=void 0;switch(this.style){case d.STYLE.BAR:f=d.prototype._redrawBarGraphPoint;break;case d.STYLE.BARCOLOR:f=d.prototype._redrawBarColorGraphPoint;break;case d.STYLE.BARSIZE:f=d.prototype._redrawBarSizeGraphPoint;break;case d.STYLE.DOT:f=d.prototype._redrawDotGraphPoint;break;case d.STYLE.DOTLINE:f=d.prototype._redrawDotLineGraphPoint;break;case d.STYLE.DOTCOLOR:f=d.prototype._redrawDotColorGraphPoint;break;case d.STYLE.DOTSIZE:f=d.prototype._redrawDotSizeGraphPoint;break;case d.STYLE.SURFACE:f=d.prototype._redrawSurfaceGraphPoint;break;case d.STYLE.GRID:f=d.prototype._redrawGridGraphPoint;break;case d.STYLE.LINE:f=d.prototype._redrawLineGraphPoint;break;default:throw new Error("Can not determine point drawing method for graph style '"+this.style+"'")}this._pointDrawingMethod=f},d.prototype.redraw=function(){if(void 0===this.dataPoints)throw new Error("Graph data not initialized");this._resizeCanvas(),this._resizeCenter(),this._redrawSlider(),this._redrawClear(),this._redrawAxis(),this._redrawDataGraph(),this._redrawInfo(),this._redrawLegend()},d.prototype._getContext=function(){var p=this.frame.canvas.getContext("2d");return p.lineJoin="round",p.lineCap="round",p},d.prototype._redrawClear=function(){var f=this.frame.canvas;f.getContext("2d").clearRect(0,0,f.width,f.height)},d.prototype._dotSize=function(){return this.frame.clientWidth*this.dotSizeRatio},d.prototype._getLegendWidth=function(){return this.style===d.STYLE.DOTSIZE?this._dotSize()*this.dotSizeMaxFraction:this.style===d.STYLE.BARSIZE?this.xBarWidth:20},d.prototype._redrawLegend=function(){if(!0===this.showLegend&&this.style!==d.STYLE.LINE&&this.style!==d.STYLE.BARSIZE){var f=this.style===d.STYLE.BARSIZE||this.style===d.STYLE.DOTSIZE,p=this.style===d.STYLE.DOTSIZE||this.style===d.STYLE.DOTCOLOR||this.style===d.STYLE.BARCOLOR,_=Math.max(.25*this.frame.clientHeight,100),O=this.margin,V=this._getLegendWidth(),j=this.frame.clientWidth-this.margin,$=j-V,W=O+_,Y=this._getContext();if(Y.lineWidth=1,Y.font="14px arial",!1===f){var se,re=_;for(se=0;se<re;se++){var Oe=this._hsv2rgb((se-0)/(re-0)*240,1,1);Y.strokeStyle=Oe,Y.beginPath(),Y.moveTo($,O+se),Y.lineTo(j,O+se),Y.stroke()}Y.strokeStyle=this.axisColor,Y.strokeRect($,O,V,_)}else{var Ee;this.style===d.STYLE.DOTSIZE&&(Ee=V*(this.dotSizeMinFraction/this.dotSizeMaxFraction)),Y.strokeStyle=this.axisColor,Y.fillStyle=this.dataColor.fill,Y.beginPath(),Y.moveTo($,O),Y.lineTo(j,O),Y.lineTo($+Ee,W),Y.lineTo($,W),Y.closePath(),Y.fill(),Y.stroke()}var xe,Fe,be=p?this.valueRange.min:this.zRange.min,ue=p?this.valueRange.max:this.zRange.max,he=new M(be,ue,(ue-be)/5,!0);for(he.start(!0);!he.end();)se=W-(he.getCurrent()-be)/(ue-be)*_,xe=new T($-5,se),Fe=new T($,se),this._line(Y,xe,Fe),Y.textAlign="right",Y.textBaseline="middle",Y.fillStyle=this.axisColor,Y.fillText(he.getCurrent(),$-10,se),he.next();Y.textAlign="right",Y.textBaseline="top",Y.fillText(this.legendLabel,j,W+this.margin)}},d.prototype._redrawFilter=function(){var f=this.dataGroup.dataFilter,p=this.frame.filter;if(p.innerHTML="",f){var O=new F(p,{visible:this.showAnimationControls});p.slider=O,p.style.padding="10px",O.setValues(f.values),O.setPlayInterval(this.animationInterval);var V=this;O.setOnChangeCallback(function(){var W=V.dataGroup.dataFilter,Y=O.getIndex();W.selectValue(Y),V.dataPoints=W._getDataPoints(),V.redraw()})}else p.slider=void 0},d.prototype._redrawSlider=function(){void 0!==this.frame.filter.slider&&this.frame.filter.slider.redraw()},d.prototype._redrawInfo=function(){var f=this.dataGroup.getInfo();if(void 0!==f){var p=this._getContext();p.font="14px arial",p.lineStyle="gray",p.fillStyle="gray",p.textAlign="left",p.textBaseline="top",p.fillText(f,this.margin,this.margin)}},d.prototype._line=function(f,p,_,O){void 0!==O&&(f.strokeStyle=O),f.beginPath(),f.moveTo(p.x,p.y),f.lineTo(_.x,_.y),f.stroke()},d.prototype.drawAxisLabelX=function(f,p,_,O,V){void 0===V&&(V=0);var j=this._convert3Dto2D(p);Math.cos(2*O)>0?(f.textAlign="center",f.textBaseline="top",j.y+=V):Math.sin(2*O)<0?(f.textAlign="right",f.textBaseline="middle"):(f.textAlign="left",f.textBaseline="middle"),f.fillStyle=this.axisColor,f.fillText(_,j.x,j.y)},d.prototype.drawAxisLabelY=function(f,p,_,O,V){void 0===V&&(V=0);var j=this._convert3Dto2D(p);Math.cos(2*O)<0?(f.textAlign="center",f.textBaseline="top",j.y+=V):Math.sin(2*O)>0?(f.textAlign="right",f.textBaseline="middle"):(f.textAlign="left",f.textBaseline="middle"),f.fillStyle=this.axisColor,f.fillText(_,j.x,j.y)},d.prototype.drawAxisLabelZ=function(f,p,_,O){void 0===O&&(O=0);var V=this._convert3Dto2D(p);f.textAlign="right",f.textBaseline="middle",f.fillStyle=this.axisColor,f.fillText(_,V.x-O,V.y)},d.prototype._line3d=function(f,p,_,O){var V=this._convert3Dto2D(p),j=this._convert3Dto2D(_);this._line(f,V,j,O)},d.prototype._redrawAxis=function(){var p,_,O,j,$,W,re,se,f=this._getContext();f.font=24/this.camera.getArmLength()+"px arial";var xe,kt,nt,de=.025/this.scale.x,ve=.025/this.scale.y,Oe=5/this.camera.getArmLength(),Ee=this.camera.getArmRotation().horizontal,Me=new T(Math.cos(Ee),Math.sin(Ee)),be=this.xRange,ue=this.yRange,he=this.zRange;for(f.lineWidth=1,(O=new M(be.min,be.max,this.xStep,void 0===this.defaultXStep)).start(!0);!O.end();){var Fe=O.getCurrent();if(this.showGrid?(p=new L(Fe,ue.min,he.min),_=new L(Fe,ue.max,he.min),this._line3d(f,p,_,this.gridColor)):this.showXAxis&&(p=new L(Fe,ue.min,he.min),_=new L(Fe,ue.min+de,he.min),this._line3d(f,p,_,this.axisColor),p=new L(Fe,ue.max,he.min),_=new L(Fe,ue.max-de,he.min),this._line3d(f,p,_,this.axisColor)),this.showXAxis){xe=new L(Fe,W=Me.x>0?ue.min:ue.max,he.min);var Be="  "+this.xValueLabel(Fe)+"  ";this.drawAxisLabelX(f,xe,Be,Ee,Oe)}O.next()}for(f.lineWidth=1,(O=new M(ue.min,ue.max,this.yStep,void 0===this.defaultYStep)).start(!0);!O.end();){var Re=O.getCurrent();if(this.showGrid?(p=new L(be.min,Re,he.min),_=new L(be.max,Re,he.min),this._line3d(f,p,_,this.gridColor)):this.showYAxis&&(p=new L(be.min,Re,he.min),_=new L(be.min+ve,Re,he.min),this._line3d(f,p,_,this.axisColor),p=new L(be.max,Re,he.min),_=new L(be.max-ve,Re,he.min),this._line3d(f,p,_,this.axisColor)),this.showYAxis){xe=new L($=Me.y>0?be.min:be.max,Re,he.min);var Ye="  "+this.yValueLabel(Re)+"  ";this.drawAxisLabelY(f,xe,Ye,Ee,Oe)}O.next()}if(this.showZAxis){for(f.lineWidth=1,(O=new M(he.min,he.max,this.zStep,void 0===this.defaultZStep)).start(!0),$=Me.x>0?be.min:be.max,W=Me.y<0?ue.min:ue.max;!O.end();){var Ze=O.getCurrent(),We=new L($,W,Ze),qt=this._convert3Dto2D(We);_=new T(qt.x-Oe,qt.y),this._line(f,qt,_,this.axisColor);var si=this.zValueLabel(Ze)+" ";this.drawAxisLabelZ(f,We,si,5),O.next()}f.lineWidth=1,p=new L($,W,he.min),_=new L($,W,he.max),this._line3d(f,p,_,this.axisColor)}this.showXAxis&&(f.lineWidth=1,kt=new L(be.min,ue.min,he.min),nt=new L(be.max,ue.min,he.min),this._line3d(f,kt,nt,this.axisColor),kt=new L(be.min,ue.max,he.min),nt=new L(be.max,ue.max,he.min),this._line3d(f,kt,nt,this.axisColor)),this.showYAxis&&(f.lineWidth=1,p=new L(be.min,ue.min,he.min),_=new L(be.min,ue.max,he.min),this._line3d(f,p,_,this.axisColor),p=new L(be.max,ue.min,he.min),_=new L(be.max,ue.max,he.min),this._line3d(f,p,_,this.axisColor));var Kt=this.xLabel;Kt.length>0&&this.showXAxis&&(se=.1/this.scale.y,j=new L($=(be.max+3*be.min)/4,W=Me.x>0?ue.min-se:ue.max+se,he.min),this.drawAxisLabelX(f,j,Kt,Ee));var _i=this.yLabel;_i.length>0&&this.showYAxis&&(re=.1/this.scale.x,j=new L($=Me.y>0?be.min-re:be.max+re,W=(ue.max+3*ue.min)/4,he.min),this.drawAxisLabelY(f,j,_i,Ee));var hi=this.zLabel;hi.length>0&&this.showZAxis&&(30,j=new L($=Me.x>0?be.min:be.max,W=Me.y<0?ue.min:ue.max,(he.max+3*he.min)/4),this.drawAxisLabelZ(f,j,hi,30))},d.prototype._hsv2rgb=function(f,p,_){var O,V,j,$,W,Y;switch($=_*p,W=Math.floor(f/60),Y=$*(1-Math.abs(f/60%2-1)),W){case 0:O=$,V=Y,j=0;break;case 1:O=Y,V=$,j=0;break;case 2:O=0,V=$,j=Y;break;case 3:O=0,V=Y,j=$;break;case 4:O=Y,V=0,j=$;break;case 5:O=$,V=0,j=Y;break;default:O=0,V=0,j=0}return"RGB("+parseInt(255*O)+","+parseInt(255*V)+","+parseInt(255*j)+")"},d.prototype._getStrokeWidth=function(f){return void 0!==f?this.showPerspective?1/-f.trans.z*this.dataColor.strokeWidth:-this.eye.z/this.camera.getArmLength()*this.dataColor.strokeWidth:this.dataColor.strokeWidth},d.prototype._redrawBar=function(f,p,_,O,V,j){var $,W=this,Y=p.point,q=this.zRange.min,re=[{point:new L(Y.x-_,Y.y-O,Y.z)},{point:new L(Y.x+_,Y.y-O,Y.z)},{point:new L(Y.x+_,Y.y+O,Y.z)},{point:new L(Y.x-_,Y.y+O,Y.z)}],se=[{point:new L(Y.x-_,Y.y-O,q)},{point:new L(Y.x+_,Y.y-O,q)},{point:new L(Y.x+_,Y.y+O,q)},{point:new L(Y.x-_,Y.y+O,q)}];re.forEach(function(Me){Me.screen=W._convert3Dto2D(Me.point)}),se.forEach(function(Me){Me.screen=W._convert3Dto2D(Me.point)});var de=[{corners:re,center:L.avg(se[0].point,se[2].point)},{corners:[re[0],re[1],se[1],se[0]],center:L.avg(se[1].point,se[0].point)},{corners:[re[1],re[2],se[2],se[1]],center:L.avg(se[2].point,se[1].point)},{corners:[re[2],re[3],se[3],se[2]],center:L.avg(se[3].point,se[2].point)},{corners:[re[3],re[0],se[0],se[3]],center:L.avg(se[0].point,se[3].point)}];p.surfaces=de;for(var ve=0;ve<de.length;ve++){var Oe=this._convertPointToTranslation(($=de[ve]).center);$.dist=this.showPerspective?Oe.length():-Oe.z}de.sort(function(Me,be){return be.dist-Me.dist||(Me.corners===re?1:be.corners===re?-1:0)}),f.lineWidth=this._getStrokeWidth(p),f.strokeStyle=j,f.fillStyle=V;for(var Ee=2;Ee<de.length;Ee++)this._polygon(f,($=de[Ee]).corners)},d.prototype._polygon=function(f,p,_,O){if(!(p.length<2)){void 0!==_&&(f.fillStyle=_),void 0!==O&&(f.strokeStyle=O),f.beginPath(),f.moveTo(p[0].screen.x,p[0].screen.y);for(var V=1;V<p.length;++V){var j=p[V];f.lineTo(j.screen.x,j.screen.y)}f.closePath(),f.fill(),f.stroke()}},d.prototype._drawCircle=function(f,p,_,O,V){var j=this._calcRadius(p,V);f.lineWidth=this._getStrokeWidth(p),f.strokeStyle=O,f.fillStyle=_,f.beginPath(),f.arc(p.screen.x,p.screen.y,j,0,2*Math.PI,!0),f.fill(),f.stroke()},d.prototype._getColorsRegular=function(f){var p=240*(1-(f.point.z-this.zRange.min)*this.scale.z/this.verticalRatio);return{fill:this._hsv2rgb(p,1,1),border:this._hsv2rgb(p,1,.8)}},d.prototype._getColorsColor=function(f){var p,_;if("string"==typeof f.point.value)p=f.point.value,_=f.point.value;else{var O=240*(1-(f.point.value-this.valueRange.min)*this.scale.value);p=this._hsv2rgb(O,1,1),_=this._hsv2rgb(O,1,.8)}return{fill:p,border:_}},d.prototype._getColorsSize=function(){return{fill:this.dataColor.fill,border:this.dataColor.stroke}},d.prototype._calcRadius=function(f,p){var _;return void 0===p&&(p=this._dotSize()),(_=this.showPerspective?p/-f.trans.z:p*(-this.eye.z/this.camera.getArmLength()))<0&&(_=0),_},d.prototype._redrawBarGraphPoint=function(f,p){var _=this.xBarWidth/2,O=this.yBarWidth/2,V=this._getColorsRegular(p);this._redrawBar(f,p,_,O,V.fill,V.border)},d.prototype._redrawBarColorGraphPoint=function(f,p){var _=this.xBarWidth/2,O=this.yBarWidth/2,V=this._getColorsColor(p);this._redrawBar(f,p,_,O,V.fill,V.border)},d.prototype._redrawBarSizeGraphPoint=function(f,p){var _=(p.point.value-this.valueRange.min)/this.valueRange.range(),O=this.xBarWidth/2*(.8*_+.2),V=this.yBarWidth/2*(.8*_+.2),j=this._getColorsSize();this._redrawBar(f,p,O,V,j.fill,j.border)},d.prototype._redrawDotGraphPoint=function(f,p){var _=this._getColorsRegular(p);this._drawCircle(f,p,_.fill,_.border)},d.prototype._redrawDotLineGraphPoint=function(f,p){var _=this._convert3Dto2D(p.bottom);f.lineWidth=1,this._line(f,_,p.screen,this.gridColor),this._redrawDotGraphPoint(f,p)},d.prototype._redrawDotColorGraphPoint=function(f,p){var _=this._getColorsColor(p);this._drawCircle(f,p,_.fill,_.border)},d.prototype._redrawDotSizeGraphPoint=function(f,p){var _=this._dotSize(),O=(p.point.value-this.valueRange.min)/this.valueRange.range(),V=_*this.dotSizeMinFraction,$=V+(_*this.dotSizeMaxFraction-V)*O,W=this._getColorsSize();this._drawCircle(f,p,W.fill,W.border,$)},d.prototype._redrawSurfaceGraphPoint=function(f,p){var _=p.pointRight,O=p.pointTop,V=p.pointCross;if(void 0!==p&&void 0!==_&&void 0!==O&&void 0!==V){var $,W,j=!0;if(this.showGrayBottom||this.showShadow){var Y=L.subtract(V.trans,p.trans),q=L.subtract(O.trans,_.trans),re=L.crossProduct(Y,q),se=re.length();j=re.z>0}if(j){var Ee,ve=240*(1-((p.point.z+_.point.z+O.point.z+V.point.z)/4-this.zRange.min)*this.scale.z/this.verticalRatio);this.showShadow?(Ee=Math.min(1+re.x/se/2,1),W=$=this._hsv2rgb(ve,1,Ee)):($=this._hsv2rgb(ve,1,Ee=1),W=this.axisColor)}else $="gray",W=this.axisColor;f.lineWidth=this._getStrokeWidth(p),this._polygon(f,[p,_,V,O],$,W)}},d.prototype._drawGridLine=function(f,p,_){if(void 0!==p&&void 0!==_){var V=240*(1-((p.point.z+_.point.z)/2-this.zRange.min)*this.scale.z/this.verticalRatio);f.lineWidth=2*this._getStrokeWidth(p),f.strokeStyle=this._hsv2rgb(V,1,1),this._line(f,p.screen,_.screen)}},d.prototype._redrawGridGraphPoint=function(f,p){this._drawGridLine(f,p,p.pointRight),this._drawGridLine(f,p,p.pointTop)},d.prototype._redrawLineGraphPoint=function(f,p){void 0!==p.pointNext&&(f.lineWidth=this._getStrokeWidth(p),f.strokeStyle=this.dataColor.stroke,this._line(f,p.screen,p.pointNext.screen))},d.prototype._redrawDataGraph=function(){var p,f=this._getContext();if(!(void 0===this.dataPoints||this.dataPoints.length<=0))for(this._calcTranslations(this.dataPoints),p=0;p<this.dataPoints.length;p++)this._pointDrawingMethod.call(this,f,this.dataPoints[p])},d.prototype._storeMousePosition=function(f){this.startMouseX=v(f),this.startMouseY=C(f),this._startCameraOffset=this.camera.getOffset()},d.prototype._onMouseDown=function(f){if(f=f||window.event,this.leftButtonDown&&this._onMouseUp(f),this.leftButtonDown=f.which?1===f.which:1===f.button,this.leftButtonDown||this.touchDown){this._storeMousePosition(f),this.startStart=new Date(this.start),this.startEnd=new Date(this.end),this.startArmRotation=this.camera.getArmRotation(),this.frame.style.cursor="move";var p=this;this.onmousemove=function(_){p._onMouseMove(_)},this.onmouseup=function(_){p._onMouseUp(_)},N.addEventListener(document,"mousemove",p.onmousemove),N.addEventListener(document,"mouseup",p.onmouseup),N.preventDefault(f)}},d.prototype._onMouseMove=function(f){this.moving=!0,f=f||window.event;var p=parseFloat(v(f))-this.startMouseX,_=parseFloat(C(f))-this.startMouseY;if(f&&!0===f.ctrlKey)this.camera.setOffset((this._startCameraOffset.x||0)-p/(.5*this.frame.clientWidth)*this.camera.armLength*.8,(this._startCameraOffset.y||0)+_/(.5*this.frame.clientHeight)*this.camera.armLength*.8),this._storeMousePosition(f);else{var W=this.startArmRotation.horizontal+p/200,Y=this.startArmRotation.vertical+_/200,re=Math.sin(4/360*2*Math.PI);Math.abs(Math.sin(W))<re&&(W=Math.round(W/Math.PI)*Math.PI-.001),Math.abs(Math.cos(W))<re&&(W=(Math.round(W/Math.PI-.5)+.5)*Math.PI-.001),Math.abs(Math.sin(Y))<re&&(Y=Math.round(Y/Math.PI)*Math.PI),Math.abs(Math.cos(Y))<re&&(Y=(Math.round(Y/Math.PI-.5)+.5)*Math.PI),this.camera.setArmRotation(W,Y)}this.redraw();var se=this.getCameraPosition();this.emit("cameraPositionChange",se),N.preventDefault(f)},d.prototype._onMouseUp=function(f){this.frame.style.cursor="auto",this.leftButtonDown=!1,N.removeEventListener(document,"mousemove",this.onmousemove),N.removeEventListener(document,"mouseup",this.onmouseup),N.preventDefault(f)},d.prototype._onClick=function(f){if(this.onclick_callback){if(this.moving)this.moving=!1;else{var p=this.frame.getBoundingClientRect(),_=v(f)-p.left,O=C(f)-p.top,V=this._dataPointFromXY(_,O);V&&this.onclick_callback(V.point.data)}N.preventDefault(f)}},d.prototype._onTooltip=function(f){var _=this.frame.getBoundingClientRect(),O=v(f)-_.left,V=C(f)-_.top;if(this.showTooltip){if(this.tooltipTimeout&&clearTimeout(this.tooltipTimeout),this.leftButtonDown)return void this._hideTooltip();if(this.tooltip&&this.tooltip.dataPoint){var j=this._dataPointFromXY(O,V);j!==this.tooltip.dataPoint&&(j?this._showTooltip(j):this._hideTooltip())}else{var $=this;this.tooltipTimeout=setTimeout(function(){$.tooltipTimeout=null;var W=$._dataPointFromXY(O,V);W&&$._showTooltip(W)},300)}}},d.prototype._onTouchStart=function(f){this.touchDown=!0;var p=this;this.ontouchmove=function(_){p._onTouchMove(_)},this.ontouchend=function(_){p._onTouchEnd(_)},N.addEventListener(document,"touchmove",p.ontouchmove),N.addEventListener(document,"touchend",p.ontouchend),this._onMouseDown(f)},d.prototype._onTouchMove=function(f){this._onMouseMove(f)},d.prototype._onTouchEnd=function(f){this.touchDown=!1,N.removeEventListener(document,"touchmove",this.ontouchmove),N.removeEventListener(document,"touchend",this.ontouchend),this._onMouseUp(f)},d.prototype._onWheel=function(f){f||(f=window.event);var p=0;if(f.wheelDelta?p=f.wheelDelta/120:f.detail&&(p=-f.detail/3),p){var _=this.camera.getArmLength();this.camera.setArmLength(_*(1-p/10)),this.redraw(),this._hideTooltip()}var V=this.getCameraPosition();this.emit("cameraPositionChange",V),N.preventDefault(f)},d.prototype._insideTriangle=function(f,p){var _=p[0],O=p[1],V=p[2];function j(q){return q>0?1:q<0?-1:0}var $=j((O.x-_.x)*(f.y-_.y)-(O.y-_.y)*(f.x-_.x)),W=j((V.x-O.x)*(f.y-O.y)-(V.y-O.y)*(f.x-O.x)),Y=j((_.x-V.x)*(f.y-V.y)-(_.y-V.y)*(f.x-V.x));return!(0!=$&&0!=W&&$!=W||0!=W&&0!=Y&&W!=Y||0!=$&&0!=Y&&$!=Y)},d.prototype._dataPointFromXY=function(f,p){var _,V=null,j=null,$=null,W=new T(f,p);if(this.style===d.STYLE.BAR||this.style===d.STYLE.BARCOLOR||this.style===d.STYLE.BARSIZE)for(_=this.dataPoints.length-1;_>=0;_--){var Y=(V=this.dataPoints[_]).surfaces;if(Y)for(var q=Y.length-1;q>=0;q--){var se=Y[q].corners,ve=[se[2].screen,se[3].screen,se[0].screen];if(this._insideTriangle(W,[se[0].screen,se[1].screen,se[2].screen])||this._insideTriangle(W,ve))return V}}else for(_=0;_<this.dataPoints.length;_++){var Oe=(V=this.dataPoints[_]).screen;if(Oe){var Ee=Math.abs(f-Oe.x),Me=Math.abs(p-Oe.y),be=Math.sqrt(Ee*Ee+Me*Me);(null===$||be<$)&&be<100&&($=be,j=V)}}return j},d.prototype.hasBars=function(f){return f==d.STYLE.BAR||f==d.STYLE.BARCOLOR||f==d.STYLE.BARSIZE},d.prototype._showTooltip=function(f){var p,_,O;this.tooltip?(p=this.tooltip.dom.content,_=this.tooltip.dom.line,O=this.tooltip.dom.dot):(p=document.createElement("div"),(0,D.default)(p.style,{},this.tooltipStyle.content),p.style.position="absolute",_=document.createElement("div"),(0,D.default)(_.style,{},this.tooltipStyle.line),_.style.position="absolute",O=document.createElement("div"),(0,D.default)(O.style,{},this.tooltipStyle.dot),O.style.position="absolute",this.tooltip={dataPoint:null,dom:{content:p,line:_,dot:O}}),this._hideTooltip(),this.tooltip.dataPoint=f,p.innerHTML="function"==typeof this.showTooltip?this.showTooltip(f.point):"<table><tr><td>"+this.xLabel+":</td><td>"+f.point.x+"</td></tr><tr><td>"+this.yLabel+":</td><td>"+f.point.y+"</td></tr><tr><td>"+this.zLabel+":</td><td>"+f.point.z+"</td></tr></table>",p.style.left="0",p.style.top="0",this.frame.appendChild(p),this.frame.appendChild(_),this.frame.appendChild(O);var V=p.offsetWidth,j=p.offsetHeight,$=_.offsetHeight,W=O.offsetWidth,Y=O.offsetHeight,q=f.screen.x-V/2;q=Math.min(Math.max(q,10),this.frame.clientWidth-10-V),_.style.left=f.screen.x+"px",_.style.top=f.screen.y-$+"px",p.style.left=q+"px",p.style.top=f.screen.y-$-j+"px",O.style.left=f.screen.x-W/2+"px",O.style.top=f.screen.y-Y/2+"px"},d.prototype._hideTooltip=function(){if(this.tooltip)for(var f in this.tooltip.dataPoint=null,this.tooltip.dom)if(this.tooltip.dom.hasOwnProperty(f)){var p=this.tooltip.dom[f];p&&p.parentNode&&p.parentNode.removeChild(p)}},d.prototype.setCameraPosition=function(f){E.setCameraPosition(f,this),this.redraw()},d.prototype.setSize=function(f,p){this._setSize(f,p),this.redraw()},ee.exports=d},function(ee,U,S){S(163),ee.exports=S(7).Object.assign},function(ee,U,S){var B=S(17);B(B.S+B.F,"Object",{assign:S(164)})},function(ee,U,S){var B=S(33),D=S(63),I=S(42),P=S(41),N=S(78),L=Object.assign;ee.exports=!L||S(28)(function(){var T={},F={},M=Symbol(),E="abcdefghijklmnopqrst";return T[M]=7,E.split("").forEach(function(b){F[b]=b}),7!=L({},T)[M]||Object.keys(L({},F)).join("")!=E})?function(F,M){for(var E=P(F),b=arguments.length,y=1,g=D.f,x=I.f;b>y;)for(var v,c=N(arguments[y++]),m=g?B(c).concat(g(c)):B(c),h=m.length,d=0;h>d;)x.call(c,v=m[d++])&&(E[v]=c[v]);return E}:L},function(ee,U,S){ee.exports={default:S(166),__esModule:!0}},function(ee,U,S){S(167),ee.exports=S(7).Math.sign},function(ee,U,S){var B=S(17);B(B.S,"Math",{sign:S(168)})},function(ee,U){ee.exports=Math.sign||function(B){return 0==(B=+B)||B!=B?B:B<0?-1:1}},function(ee,U,S){ee.exports={default:S(170),__esModule:!0}},function(ee,U,S){S(171);var B=S(7).Object;ee.exports=function(I,P,N){return B.defineProperty(I,P,N)}},function(ee,U,S){var B=S(17);B(B.S+B.F*!S(21),"Object",{defineProperty:S(20).f})},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var B="string",D="boolean",I="number",P="object",N={fill:{string:B},stroke:{string:B},strokeWidth:{number:I},__type__:{string:B,object:P,undefined:"undefined"}};U.allOptions={animationAutoStart:{boolean:D,undefined:"undefined"},animationInterval:{number:I},animationPreload:{boolean:D},axisColor:{string:B},backgroundColor:N,xBarWidth:{number:I,undefined:"undefined"},yBarWidth:{number:I,undefined:"undefined"},cameraPosition:{distance:{number:I},horizontal:{number:I},vertical:{number:I},__type__:{object:P}},xCenter:{string:B},yCenter:{string:B},dataColor:N,dotSizeMinFraction:{number:I},dotSizeMaxFraction:{number:I},dotSizeRatio:{number:I},filterLabel:{string:B},gridColor:{string:B},onclick:{function:"function"},keepAspectRatio:{boolean:D},xLabel:{string:B},yLabel:{string:B},zLabel:{string:B},legendLabel:{string:B},xMin:{number:I,undefined:"undefined"},yMin:{number:I,undefined:"undefined"},zMin:{number:I,undefined:"undefined"},xMax:{number:I,undefined:"undefined"},yMax:{number:I,undefined:"undefined"},zMax:{number:I,undefined:"undefined"},showAnimationControls:{boolean:D,undefined:"undefined"},showGrid:{boolean:D},showLegend:{boolean:D,undefined:"undefined"},showPerspective:{boolean:D},showShadow:{boolean:D},showXAxis:{boolean:D},showYAxis:{boolean:D},showZAxis:{boolean:D},xStep:{number:I,undefined:"undefined"},yStep:{number:I,undefined:"undefined"},zStep:{number:I,undefined:"undefined"},style:{number:I,string:["bar","bar-color","bar-size","dot","dot-line","dot-color","dot-size","line","grid","surface"]},tooltip:{boolean:D,function:"function"},tooltipStyle:{content:{color:{string:B},background:{string:B},border:{string:B},borderRadius:{string:B},boxShadow:{string:B},padding:{string:B},__type__:{object:P}},line:{borderLeft:{string:B},height:{string:B},width:{string:B},__type__:{object:P}},dot:{border:{string:B},borderRadius:{string:B},height:{string:B},width:{string:B},__type__:{object:P}},__type__:{object:P}},xValueLabel:{function:"function"},yValueLabel:{function:"function"},zValueLabel:{function:"function"},valueMax:{number:I,undefined:"undefined"},valueMin:{number:I,undefined:"undefined"},verticalRatio:{number:I},height:{string:B},width:{string:B},__type__:{object:P}}},function(ee,U,S){var B=S(11),D=S(12),I=S(174),P=S(96),N=S(94),L=S(34);function T(){this.dataTable=null}T.prototype.initializeData=function(F,M,E){if(void 0!==M){var b;if(Array.isArray(M)&&(M=new B(M)),!(M instanceof B||M instanceof D))throw new Error("Array, DataSet, or DataView expected");if(0!=(b=M.get()).length){this.style=E,this.dataSet&&this.dataSet.off("*",this._onChange),this.dataSet=M,this.dataTable=b;var y=this;this._onChange=function(){F.setData(y.dataSet)},this.dataSet.on("*",this._onChange),this.colX="x",this.colY="y",this.colZ="z";var g=F.hasBars(E);if(g&&(this.xBarWidth=void 0!==F.defaultXBarWidth?F.defaultXBarWidth:this.getSmallestDifference(b,this.colX)||1,this.yBarWidth=void 0!==F.defaultYBarWidth?F.defaultYBarWidth:this.getSmallestDifference(b,this.colY)||1),this._initializeRange(b,this.colX,F,g),this._initializeRange(b,this.colY,F,g),this._initializeRange(b,this.colZ,F,!1),b[0].hasOwnProperty("style")){this.colValue="style";var x=this.getColumnRange(b,this.colValue);this._setRangeDefaults(x,F.defaultValueMin,F.defaultValueMax),this.valueRange=x}return this.getDataTable()[0].hasOwnProperty("filter")&&void 0===this.dataFilter&&(this.dataFilter=new P(this,"filter",F),this.dataFilter.setOnLoadCallback(function(){F.redraw()})),this.dataFilter?this.dataFilter._getDataPoints():this._getDataPoints(this.getDataTable())}}},T.prototype._collectRangeSettings=function(F,M){if(-1==["x","y","z"].indexOf(F))throw new Error("Column '"+F+"' invalid");var b=F.toUpperCase();return{barWidth:this[F+"BarWidth"],min:M["default"+b+"Min"],max:M["default"+b+"Max"],step:M["default"+b+"Step"],range_label:F+"Range",step_label:F+"Step"}},T.prototype._initializeRange=function(F,M,E,b){var g=this._collectRangeSettings(M,E),x=this.getColumnRange(F,M);b&&"z"!=M&&x.expand(g.barWidth/2),this._setRangeDefaults(x,g.min,g.max),this[g.range_label]=x,this[g.step_label]=void 0!==g.step?g.step:x.range()/5},T.prototype.getDistinctValues=function(F,M){void 0===M&&(M=this.dataTable);for(var E=[],b=0;b<M.length;b++){var y=M[b][F]||0;-1===E.indexOf(y)&&E.push(y)}return E.sort(function(g,x){return g-x})},T.prototype.getSmallestDifference=function(F,M){for(var E=this.getDistinctValues(F,M),b=null,y=1;y<E.length;y++){var g=E[y]-E[y-1];(null==b||b>g)&&(b=g)}return b},T.prototype.getColumnRange=function(F,M){for(var E=new I,b=0;b<F.length;b++)E.adjust(F[b][M]);return E},T.prototype.getNumberOfRows=function(){return this.dataTable.length},T.prototype._setRangeDefaults=function(F,M,E){void 0!==M&&(F.min=M),void 0!==E&&(F.max=E),F.max<=F.min&&(F.max=F.min+1)},T.prototype.getDataTable=function(){return this.dataTable},T.prototype.getDataSet=function(){return this.dataSet},T.prototype.getDataPoints=function(F){for(var M=[],E=0;E<F.length;E++){var b=new L;b.x=F[E][this.colX]||0,b.y=F[E][this.colY]||0,b.z=F[E][this.colZ]||0,b.data=F[E],void 0!==this.colValue&&(b.value=F[E][this.colValue]||0);var y={};y.point=b,y.bottom=new L(b.x,b.y,this.zRange.min),y.trans=void 0,y.screen=void 0,M.push(y)}return M},T.prototype.initDataAsMatrix=function(F){var M,E,b,y,g=this.getDistinctValues(this.colX,F),x=this.getDistinctValues(this.colY,F),c=this.getDataPoints(F),m=[];for(b=0;b<c.length;b++){var h=g.indexOf((y=c[b]).point.x),d=x.indexOf(y.point.y);void 0===m[h]&&(m[h]=[]),m[h][d]=y}for(M=0;M<m.length;M++)for(E=0;E<m[M].length;E++)m[M][E]&&(m[M][E].pointRight=M<m.length-1?m[M+1][E]:void 0,m[M][E].pointTop=E<m[M].length-1?m[M][E+1]:void 0,m[M][E].pointCross=M<m.length-1&&E<m[M].length-1?m[M+1][E+1]:void 0);return c},T.prototype.getInfo=function(){var F=this.dataFilter;if(F)return F.getLabel()+": "+F.getSelectedValue()},T.prototype.reload=function(){this.dataTable&&this.setData(this.dataTable)},T.prototype._getDataPoints=function(F){var M=[];if(this.style===N.STYLE.GRID||this.style===N.STYLE.SURFACE)M=this.initDataAsMatrix(F);else if(this._checkValueField(F),M=this.getDataPoints(F),this.style===N.STYLE.LINE)for(var E=0;E<M.length;E++)E>0&&(M[E-1].pointNext=M[E]);return M},T.prototype._checkValueField=function(F){if(this.style===N.STYLE.BARCOLOR||this.style===N.STYLE.BARSIZE||this.style===N.STYLE.DOTCOLOR||this.style===N.STYLE.DOTSIZE){if(void 0===this.colValue)throw new Error("Expected data to have  field 'style'  for graph style '"+this.style+"'");if(void 0===F[0][this.colValue])throw new Error("Expected data to have  field '"+this.colValue+"'  for graph style '"+this.style+"'")}},ee.exports=T},function(ee,U,S){function B(){this.min=void 0,this.max=void 0}B.prototype.adjust=function(D){void 0!==D&&((void 0===this.min||this.min>D)&&(this.min=D),(void 0===this.max||this.max<D)&&(this.max=D))},B.prototype.combine=function(D){this.add(D.min),this.add(D.max)},B.prototype.expand=function(D){if(void 0!==D){var I=this.min-D,P=this.max+D;if(I>P)throw new Error("Passed expansion value makes range invalid");this.min=I,this.max=P}},B.prototype.range=function(){return this.max-this.min},B.prototype.center=function(){return(this.min+this.max)/2},ee.exports=B},function(ee,U,S){var B,I;void 0!==(I="function"==typeof(B=function(){var P=null;return function N(L,T){var F=T||{preventDefault:!1};if(L.Manager){var M=L,E=function(c,m){var h=Object.create(F);return m&&M.assign(h,m),N(new M(c,h),h)};return M.assign(E,M),E.Manager=function(c,m){var h=Object.create(F);return m&&M.assign(h,m),N(new M.Manager(c,h),h)},E}var b=Object.create(L),y=L.element;function g(c){return c.match(/[^ ]+/g)}function x(c){if("hammer.input"!==c.type){if(c.srcEvent._handled||(c.srcEvent._handled={}),c.srcEvent._handled[c.type])return;c.srcEvent._handled[c.type]=!0}var m=!1;c.stopPropagation=function(){m=!0};var h=c.srcEvent.stopPropagation.bind(c.srcEvent);"function"==typeof h&&(c.srcEvent.stopPropagation=function(){h(),c.stopPropagation()}),c.firstTarget=P;for(var d=P;d&&!m;){var v=d.hammer;if(v)for(var C,f=0;f<v.length;f++)if(C=v[f]._handlers[c.type])for(var p=0;p<C.length&&!m;p++)C[p](c);d=d.parentNode}}return y.hammer||(y.hammer=[]),y.hammer.push(b),L.on("hammer.input",function(c){(!0===F.preventDefault||F.preventDefault===c.pointerType)&&c.preventDefault(),c.isFirst&&(P=c.target)}),b._handlers={},b.on=function(c,m){return g(c).forEach(function(h){var d=b._handlers[h];d||(b._handlers[h]=d=[],L.on(h,x)),d.push(m)}),b},b.off=function(c,m){return g(c).forEach(function(h){var d=b._handlers[h];d&&((d=m?d.filter(function(v){return v!==m}):[]).length>0?b._handlers[h]=d:(L.off(h,x),delete b._handlers[h]))}),b},b.emit=function(c,m){P=m.target,L.emit(c,m)},b.destroy=function(){var c=L.element.hammer,m=c.indexOf(b);-1!==m&&c.splice(m,1),c.length||delete L.element.hammer,b._handlers={},L.destroy()},b}})?B.apply(U,[]):B)&&(ee.exports=I)},function(ee,U,S){var B;!function(D,I,P,N){var m,L=["","webkit","Moz","MS","ms","o"],T=I.createElement("div"),F="function",M=Math.round,E=Math.abs,b=Date.now;function y(te,ie,le){return setTimeout(C(te,le),ie)}function g(te,ie,le){return!!Array.isArray(te)&&(x(te,le[ie],le),!0)}function x(te,ie,le){var we;if(te)if(te.forEach)te.forEach(ie,le);else if(te.length!==N)for(we=0;we<te.length;)ie.call(le,te[we],we,te),we++;else for(we in te)te.hasOwnProperty(we)&&ie.call(le,te[we],we,te)}function c(te,ie,le){var we="DEPRECATED METHOD: "+ie+"\n"+le+" AT \n";return function(){var Le=new Error("get-stack-trace"),qe=Le&&Le.stack?Le.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Mt=D.console&&(D.console.warn||D.console.log);return Mt&&Mt.call(D.console,we,qe),te.apply(this,arguments)}}m="function"!=typeof Object.assign?function(ie){if(ie===N||null===ie)throw new TypeError("Cannot convert undefined or null to object");for(var le=Object(ie),we=1;we<arguments.length;we++){var Le=arguments[we];if(Le!==N&&null!==Le)for(var qe in Le)Le.hasOwnProperty(qe)&&(le[qe]=Le[qe])}return le}:Object.assign;var h=c(function(ie,le,we){for(var Le=Object.keys(le),qe=0;qe<Le.length;)(!we||we&&ie[Le[qe]]===N)&&(ie[Le[qe]]=le[Le[qe]]),qe++;return ie},"extend","Use `assign`."),d=c(function(ie,le){return h(ie,le,!0)},"merge","Use `assign`.");function v(te,ie,le){var Le,we=ie.prototype;(Le=te.prototype=Object.create(we)).constructor=te,Le._super=we,le&&m(Le,le)}function C(te,ie){return function(){return te.apply(ie,arguments)}}function f(te,ie){return typeof te==F?te.apply(ie&&ie[0]||N,ie):te}function p(te,ie){return te===N?ie:te}function _(te,ie,le){x($(ie),function(we){te.addEventListener(we,le,!1)})}function O(te,ie,le){x($(ie),function(we){te.removeEventListener(we,le,!1)})}function V(te,ie){for(;te;){if(te==ie)return!0;te=te.parentNode}return!1}function j(te,ie){return te.indexOf(ie)>-1}function $(te){return te.trim().split(/\s+/g)}function W(te,ie,le){if(te.indexOf&&!le)return te.indexOf(ie);for(var we=0;we<te.length;){if(le&&te[we][le]==ie||!le&&te[we]===ie)return we;we++}return-1}function Y(te){return Array.prototype.slice.call(te,0)}function q(te,ie,le){for(var we=[],Le=[],qe=0;qe<te.length;){var Mt=ie?te[qe][ie]:te[qe];W(Le,Mt)<0&&we.push(te[qe]),Le[qe]=Mt,qe++}return le&&(we=ie?we.sort(function(Ki,ht){return Ki[ie]>ht[ie]}):we.sort()),we}function re(te,ie){for(var le,we,Le=ie[0].toUpperCase()+ie.slice(1),qe=0;qe<L.length;){if((we=(le=L[qe])?le+Le:ie)in te)return we;qe++}return N}var se=1;function ve(te){var ie=te.ownerDocument||te;return ie.defaultView||ie.parentWindow||D}var Ee="ontouchstart"in D,Me=re(D,"PointerEvent")!==N,be=Ee&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),ue="touch",xe="mouse",Be=25,Re=1,Ze=4,We=8,qt=1,si=2,kt=4,nt=8,Kt=16,_i=si|kt,hi=nt|Kt,Ft=_i|hi,lt=["x","y"],Ve=["clientX","clientY"];function $e(te,ie){var le=this;this.manager=te,this.callback=ie,this.element=te.element,this.target=te.options.inputTarget,this.domHandler=function(we){f(te.options.enable,[te])&&le.handler(we)},this.init()}function Ot(te,ie,le){var we=le.pointers.length,Le=le.changedPointers.length,qe=ie&Re&&we-Le==0,Mt=ie&(Ze|We)&&we-Le==0;le.isFirst=!!qe,le.isFinal=!!Mt,qe&&(te.session={}),le.eventType=ie,function Jt(te,ie){var le=te.session,we=ie.pointers,Le=we.length;le.firstInput||(le.firstInput=Zr(ie)),Le>1&&!le.firstMultiple?le.firstMultiple=Zr(ie):1===Le&&(le.firstMultiple=!1);var qe=le.firstInput,Mt=le.firstMultiple,ke=Mt?Mt.center:qe.center,Ki=ie.center=uo(we);ie.timeStamp=b(),ie.deltaTime=ie.timeStamp-qe.timeStamp,ie.angle=ho(ke,Ki),ie.distance=Hi(ke,Ki),function Qe(te,ie){var le=ie.center,we=te.offsetDelta||{},Le=te.prevDelta||{},qe=te.prevInput||{};(ie.eventType===Re||qe.eventType===Ze)&&(Le=te.prevDelta={x:qe.deltaX||0,y:qe.deltaY||0},we=te.offsetDelta={x:le.x,y:le.y}),ie.deltaX=Le.x+(le.x-we.x),ie.deltaY=Le.y+(le.y-we.y)}(le,ie),ie.offsetDirection=ra(ie.deltaX,ie.deltaY);var ht=Hs(ie.deltaTime,ie.deltaX,ie.deltaY);ie.overallVelocityX=ht.x,ie.overallVelocityY=ht.y,ie.overallVelocity=E(ht.x)>E(ht.y)?ht.x:ht.y,ie.scale=Mt?function Kr(te,ie){return Hi(ie[0],ie[1],Ve)/Hi(te[0],te[1],Ve)}(Mt.pointers,we):1,ie.rotation=Mt?function zs(te,ie){return ho(ie[1],ie[0],Ve)+ho(te[1],te[0],Ve)}(Mt.pointers,we):0,ie.maxPointers=le.prevInput?ie.pointers.length>le.prevInput.maxPointers?ie.pointers.length:le.prevInput.maxPointers:ie.pointers.length,function oi(te,ie){var Le,qe,Mt,ke,le=te.lastInterval||ie,we=ie.timeStamp-le.timeStamp;if(ie.eventType!=We&&(we>Be||le.velocity===N)){var Ki=ie.deltaX-le.deltaX,ht=ie.deltaY-le.deltaY,Mn=Hs(we,Ki,ht);qe=Mn.x,Mt=Mn.y,Le=E(Mn.x)>E(Mn.y)?Mn.x:Mn.y,ke=ra(Ki,ht),te.lastInterval=ie}else Le=le.velocity,qe=le.velocityX,Mt=le.velocityY,ke=le.direction;ie.velocity=Le,ie.velocityX=qe,ie.velocityY=Mt,ie.direction=ke}(le,ie);var Mn=te.element;V(ie.srcEvent.target,Mn)&&(Mn=ie.srcEvent.target),ie.target=Mn}(te,le),te.emit("hammer.input",le),te.recognize(le),te.session.prevInput=le}function Zr(te){for(var ie=[],le=0;le<te.pointers.length;)ie[le]={clientX:M(te.pointers[le].clientX),clientY:M(te.pointers[le].clientY)},le++;return{timeStamp:b(),pointers:ie,center:uo(ie),deltaX:te.deltaX,deltaY:te.deltaY}}function uo(te){var ie=te.length;if(1===ie)return{x:M(te[0].clientX),y:M(te[0].clientY)};for(var le=0,we=0,Le=0;Le<ie;)le+=te[Le].clientX,we+=te[Le].clientY,Le++;return{x:M(le/ie),y:M(we/ie)}}function Hs(te,ie,le){return{x:ie/te||0,y:le/te||0}}function ra(te,ie){return te===ie?qt:E(te)>=E(ie)?te<0?si:kt:ie<0?nt:Kt}function Hi(te,ie,le){le||(le=lt);var we=ie[le[0]]-te[le[0]],Le=ie[le[1]]-te[le[1]];return Math.sqrt(we*we+Le*Le)}function ho(te,ie,le){return le||(le=lt),180*Math.atan2(ie[le[1]]-te[le[1]],ie[le[0]]-te[le[0]])/Math.PI}$e.prototype={handler:function(){},init:function(){this.evEl&&_(this.element,this.evEl,this.domHandler),this.evTarget&&_(this.target,this.evTarget,this.domHandler),this.evWin&&_(ve(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&O(this.element,this.evEl,this.domHandler),this.evTarget&&O(this.target,this.evTarget,this.domHandler),this.evWin&&O(ve(this.element),this.evWin,this.domHandler)}};var ai={mousedown:Re,mousemove:2,mouseup:Ze},fo="mousedown",ll="mousemove mouseup";function dr(){this.evEl=fo,this.evWin=ll,this.pressed=!1,$e.apply(this,arguments)}v(dr,$e,{handler:function(ie){var le=ai[ie.type];le&Re&&0===ie.button&&(this.pressed=!0),2&le&&1!==ie.which&&(le=Ze),this.pressed&&(le&Ze&&(this.pressed=!1),this.callback(this.manager,le,{pointers:[ie],changedPointers:[ie],pointerType:xe,srcEvent:ie}))}});var ur={pointerdown:Re,pointermove:2,pointerup:Ze,pointercancel:We,pointerout:We},po={2:ue,3:"pen",4:xe,5:"kinect"},sa="pointerdown",Qt="pointermove pointerup pointercancel";function mo(){this.evEl=sa,this.evWin=Qt,$e.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}D.MSPointerEvent&&!D.PointerEvent&&(sa="MSPointerDown",Qt="MSPointerMove MSPointerUp MSPointerCancel"),v(mo,$e,{handler:function(ie){var le=this.store,we=!1,Le=ie.type.toLowerCase().replace("ms",""),qe=ur[Le],Mt=po[ie.pointerType]||ie.pointerType,ke=Mt==ue,Ki=W(le,ie.pointerId,"pointerId");qe&Re&&(0===ie.button||ke)?Ki<0&&(le.push(ie),Ki=le.length-1):qe&(Ze|We)&&(we=!0),!(Ki<0)&&(le[Ki]=ie,this.callback(this.manager,qe,{pointers:le,changedPointers:[ie],pointerType:Mt,srcEvent:ie}),we&&le.splice(Ki,1))}});var go={touchstart:Re,touchmove:2,touchend:Ze,touchcancel:We};function ni(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,$e.apply(this,arguments)}function tt(te,ie){var le=Y(te.touches),we=Y(te.changedTouches);return ie&(Ze|We)&&(le=q(le.concat(we),"identifier",!0)),[le,we]}v(ni,$e,{handler:function(ie){var le=go[ie.type];if(le===Re&&(this.started=!0),this.started){var we=tt.call(this,ie,le);le&(Ze|We)&&we[0].length-we[1].length==0&&(this.started=!1),this.callback(this.manager,le,{pointers:we[0],changedPointers:we[1],pointerType:ue,srcEvent:ie})}}});var Dn={touchstart:Re,touchmove:2,touchend:Ze,touchcancel:We},cl="touchstart touchmove touchend touchcancel";function $t(){this.evTarget=cl,this.targetIds={},$e.apply(this,arguments)}function li(te,ie){var le=Y(te.touches),we=this.targetIds;if(ie&(2|Re)&&1===le.length)return we[le[0].identifier]=!0,[le,le];var Le,qe,Mt=Y(te.changedTouches),ke=[],Ki=this.target;if(qe=le.filter(function(ht){return V(ht.target,Ki)}),ie===Re)for(Le=0;Le<qe.length;)we[qe[Le].identifier]=!0,Le++;for(Le=0;Le<Mt.length;)we[Mt[Le].identifier]&&ke.push(Mt[Le]),ie&(Ze|We)&&delete we[Mt[Le].identifier],Le++;return ke.length?[q(qe.concat(ke),"identifier",!0),ke]:void 0}v($t,$e,{handler:function(ie){var le=Dn[ie.type],we=li.call(this,ie,le);we&&this.callback(this.manager,le,{pointers:we[0],changedPointers:we[1],pointerType:ue,srcEvent:ie})}});var ci=2500;function Lt(){$e.apply(this,arguments);var te=C(this.handler,this);this.touch=new $t(this.manager,te),this.mouse=new dr(this.manager,te),this.primaryTouch=null,this.lastTouches=[]}function vn(te,ie){te&Re?(this.primaryTouch=ie.changedPointers[0].identifier,Wt.call(this,ie)):te&(Ze|We)&&Wt.call(this,ie)}function Wt(te){var ie=te.changedPointers[0];if(ie.identifier===this.primaryTouch){var le={x:ie.clientX,y:ie.clientY};this.lastTouches.push(le);var we=this.lastTouches;setTimeout(function(){var qe=we.indexOf(le);qe>-1&&we.splice(qe,1)},ci)}}function In(te){for(var ie=te.srcEvent.clientX,le=te.srcEvent.clientY,we=0;we<this.lastTouches.length;we++){var Le=this.lastTouches[we],qe=Math.abs(ie-Le.x),Mt=Math.abs(le-Le.y);if(qe<=25&&Mt<=25)return!0}return!1}v(Lt,$e,{handler:function(ie,le,we){var qe=we.pointerType==xe;if(!(qe&&we.sourceCapabilities&&we.sourceCapabilities.firesTouchEvents)){if(we.pointerType==ue)vn.call(this,le,we);else if(qe&&In.call(this,we))return;this.callback(ie,le,we)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Ni=re(T.style,"touchAction"),kn=Ni!==N,St="compute",ds="manipulation",hr="none",Er="pan-x",fr="pan-y",Pe=function us(){if(!kn)return!1;var te={},ie=D.CSS&&D.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(le){te[le]=!ie||D.CSS.supports("touch-action",le)}),te}();function Dr(te,ie){this.manager=te,this.set(ie)}Dr.prototype={set:function(te){te==St&&(te=this.compute()),kn&&this.manager.element.style&&Pe[te]&&(this.manager.element.style[Ni]=te),this.actions=te.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var te=[];return x(this.manager.recognizers,function(ie){f(ie.options.enable,[ie])&&(te=te.concat(ie.getTouchAction()))}),function tr(te){if(j(te,hr))return hr;var ie=j(te,Er),le=j(te,fr);return ie&&le?hr:ie||le?ie?Er:fr:j(te,ds)?ds:"auto"}(te.join(" "))},preventDefaults:function(te){var ie=te.srcEvent,le=te.offsetDirection;if(!this.manager.session.prevented){var we=this.actions,Le=j(we,hr)&&!Pe[hr],qe=j(we,fr)&&!Pe[fr],Mt=j(we,Er)&&!Pe[Er];if(Le&&1===te.pointers.length&&te.distance<2&&te.deltaTime<250)return;return Mt&&qe||!(Le||qe&&le&_i||Mt&&le&hi)?void 0:this.preventSrc(ie)}ie.preventDefault()},preventSrc:function(te){this.manager.session.prevented=!0,te.preventDefault()}};var Qr=1;function Sr(te){this.options=m({},this.defaults,te||{}),this.id=function de(){return se++}(),this.manager=null,this.options.enable=p(this.options.enable,!0),this.state=Qr,this.simultaneous={},this.requireFail=[]}function dl(te){return 16&te?"cancel":8&te?"end":4&te?"move":2&te?"start":""}function oa(te){return te==Kt?"down":te==nt?"up":te==si?"left":te==kt?"right":""}function aa(te,ie){var le=ie.manager;return le?le.get(te):te}function zn(){Sr.apply(this,arguments)}function hs(){zn.apply(this,arguments),this.pX=null,this.pY=null}function Zi(){zn.apply(this,arguments)}function la(){Sr.apply(this,arguments),this._timer=null,this._input=null}function ca(){zn.apply(this,arguments)}function ul(){zn.apply(this,arguments)}function jn(){Sr.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function fs(te,ie){return(ie=ie||{}).recognizers=p(ie.recognizers,fs.defaults.preset),new fl(te,ie)}Sr.prototype={defaults:{},set:function(te){return m(this.options,te),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(te){if(g(te,"recognizeWith",this))return this;var ie=this.simultaneous;return ie[(te=aa(te,this)).id]||(ie[te.id]=te,te.recognizeWith(this)),this},dropRecognizeWith:function(te){return g(te,"dropRecognizeWith",this)||(te=aa(te,this),delete this.simultaneous[te.id]),this},requireFailure:function(te){if(g(te,"requireFailure",this))return this;var ie=this.requireFail;return-1===W(ie,te=aa(te,this))&&(ie.push(te),te.requireFailure(this)),this},dropRequireFailure:function(te){if(g(te,"dropRequireFailure",this))return this;te=aa(te,this);var ie=W(this.requireFail,te);return ie>-1&&this.requireFail.splice(ie,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(te){return!!this.simultaneous[te.id]},emit:function(te){var ie=this,le=this.state;function we(Le){ie.manager.emit(Le,te)}le<8&&we(ie.options.event+dl(le)),we(ie.options.event),te.additionalEvent&&we(te.additionalEvent),le>=8&&we(ie.options.event+dl(le))},tryEmit:function(te){if(this.canEmit())return this.emit(te);this.state=32},canEmit:function(){for(var te=0;te<this.requireFail.length;){if(!(this.requireFail[te].state&(32|Qr)))return!1;te++}return!0},recognize:function(te){var ie=m({},te);if(!f(this.options.enable,[this,ie]))return this.reset(),void(this.state=32);56&this.state&&(this.state=Qr),this.state=this.process(ie),30&this.state&&this.tryEmit(ie)},process:function(te){},getTouchAction:function(){},reset:function(){}},v(zn,Sr,{defaults:{pointers:1},attrTest:function(te){var ie=this.options.pointers;return 0===ie||te.pointers.length===ie},process:function(te){var ie=this.state,le=te.eventType,we=6&ie,Le=this.attrTest(te);return we&&(le&We||!Le)?16|ie:we||Le?le&Ze?8|ie:2&ie?4|ie:2:32}}),v(hs,zn,{defaults:{event:"pan",threshold:10,pointers:1,direction:Ft},getTouchAction:function(){var te=this.options.direction,ie=[];return te&_i&&ie.push(fr),te&hi&&ie.push(Er),ie},directionTest:function(te){var ie=this.options,le=!0,we=te.distance,Le=te.direction,qe=te.deltaX,Mt=te.deltaY;return Le&ie.direction||(ie.direction&_i?(Le=0===qe?qt:qe<0?si:kt,le=qe!=this.pX,we=Math.abs(te.deltaX)):(Le=0===Mt?qt:Mt<0?nt:Kt,le=Mt!=this.pY,we=Math.abs(te.deltaY))),te.direction=Le,le&&we>ie.threshold&&Le&ie.direction},attrTest:function(te){return zn.prototype.attrTest.call(this,te)&&(2&this.state||!(2&this.state)&&this.directionTest(te))},emit:function(te){this.pX=te.deltaX,this.pY=te.deltaY;var ie=oa(te.direction);ie&&(te.additionalEvent=this.options.event+ie),this._super.emit.call(this,te)}}),v(Zi,zn,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[hr]},attrTest:function(te){return this._super.attrTest.call(this,te)&&(Math.abs(te.scale-1)>this.options.threshold||2&this.state)},emit:function(te){1!==te.scale&&(te.additionalEvent=this.options.event+(te.scale<1?"in":"out")),this._super.emit.call(this,te)}}),v(la,Sr,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(te){var ie=this.options,le=te.pointers.length===ie.pointers,we=te.distance<ie.threshold,Le=te.deltaTime>ie.time;if(this._input=te,!we||!le||te.eventType&(Ze|We)&&!Le)this.reset();else if(te.eventType&Re)this.reset(),this._timer=y(function(){this.state=8,this.tryEmit()},ie.time,this);else if(te.eventType&Ze)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(te){8===this.state&&(te&&te.eventType&Ze?this.manager.emit(this.options.event+"up",te):(this._input.timeStamp=b(),this.manager.emit(this.options.event,this._input)))}}),v(ca,zn,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[hr]},attrTest:function(te){return this._super.attrTest.call(this,te)&&(Math.abs(te.rotation)>this.options.threshold||2&this.state)}}),v(ul,zn,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:_i|hi,pointers:1},getTouchAction:function(){return hs.prototype.getTouchAction.call(this)},attrTest:function(te){var le,ie=this.options.direction;return ie&(_i|hi)?le=te.overallVelocity:ie&_i?le=te.overallVelocityX:ie&hi&&(le=te.overallVelocityY),this._super.attrTest.call(this,te)&&ie&te.offsetDirection&&te.distance>this.options.threshold&&te.maxPointers==this.options.pointers&&E(le)>this.options.velocity&&te.eventType&Ze},emit:function(te){var ie=oa(te.offsetDirection);ie&&this.manager.emit(this.options.event+ie,te),this.manager.emit(this.options.event,te)}}),v(jn,Sr,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[ds]},process:function(te){var ie=this.options,le=te.pointers.length===ie.pointers,we=te.distance<ie.threshold,Le=te.deltaTime<ie.time;if(this.reset(),te.eventType&Re&&0===this.count)return this.failTimeout();if(we&&Le&&le){if(te.eventType!=Ze)return this.failTimeout();var qe=!this.pTime||te.timeStamp-this.pTime<ie.interval,Mt=!this.pCenter||Hi(this.pCenter,te.center)<ie.posThreshold;if(this.pTime=te.timeStamp,this.pCenter=te.center,Mt&&qe?this.count+=1:this.count=1,this._input=te,0==this.count%ie.taps)return this.hasRequireFailures()?(this._timer=y(function(){this.state=8,this.tryEmit()},ie.interval,this),2):8}return 32},failTimeout:function(){return this._timer=y(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),fs.VERSION="2.0.7",fs.defaults={domEvents:!1,touchAction:St,enable:!0,inputTarget:null,inputClass:null,preset:[[ca,{enable:!1}],[Zi,{enable:!1},["rotate"]],[ul,{direction:_i}],[hs,{direction:_i},["swipe"]],[jn],[jn,{event:"doubletap",taps:2},["tap"]],[la]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};function fl(te,ie){this.options=m({},fs.defaults,ie||{}),this.options.inputTarget=this.options.inputTarget||te,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=te,this.input=function st(te){return new(te.options.inputClass||(Me?mo:be?$t:Ee?Lt:dr))(te,Ot)}(this),this.touchAction=new Dr(this,this.options.touchAction),ps(this,!0),x(this.options.recognizers,function(le){var we=this.add(new le[0](le[1]));le[2]&&we.recognizeWith(le[2]),le[3]&&we.requireFailure(le[3])},this)}function ps(te,ie){var we,le=te.element;le.style&&(x(te.options.cssProps,function(Le,qe){we=re(le.style,qe),ie?(te.oldCssProps[we]=le.style[we],le.style[we]=Le):le.style[we]=te.oldCssProps[we]||""}),ie||(te.oldCssProps={}))}fl.prototype={set:function(te){return m(this.options,te),te.touchAction&&this.touchAction.update(),te.inputTarget&&(this.input.destroy(),this.input.target=te.inputTarget,this.input.init()),this},stop:function(te){this.session.stopped=te?2:1},recognize:function(te){var ie=this.session;if(!ie.stopped){this.touchAction.preventDefaults(te);var le,we=this.recognizers,Le=ie.curRecognizer;(!Le||Le&&8&Le.state)&&(Le=ie.curRecognizer=null);for(var qe=0;qe<we.length;)le=we[qe],2===ie.stopped||Le&&le!=Le&&!le.canRecognizeWith(Le)?le.reset():le.recognize(te),!Le&&14&le.state&&(Le=ie.curRecognizer=le),qe++}},get:function(te){if(te instanceof Sr)return te;for(var ie=this.recognizers,le=0;le<ie.length;le++)if(ie[le].options.event==te)return ie[le];return null},add:function(te){if(g(te,"add",this))return this;var ie=this.get(te.options.event);return ie&&this.remove(ie),this.recognizers.push(te),te.manager=this,this.touchAction.update(),te},remove:function(te){if(g(te,"remove",this))return this;if(te=this.get(te)){var ie=this.recognizers,le=W(ie,te);-1!==le&&(ie.splice(le,1),this.touchAction.update())}return this},on:function(te,ie){if(te!==N&&ie!==N){var le=this.handlers;return x($(te),function(we){le[we]=le[we]||[],le[we].push(ie)}),this}},off:function(te,ie){if(te!==N){var le=this.handlers;return x($(te),function(we){ie?le[we]&&le[we].splice(W(le[we],ie),1):delete le[we]}),this}},emit:function(te,ie){this.options.domEvents&&function da(te,ie){var le=I.createEvent("Event");le.initEvent(te,!0,!0),le.gesture=ie,ie.target.dispatchEvent(le)}(te,ie);var le=this.handlers[te]&&this.handlers[te].slice();if(le&&le.length){ie.type=te,ie.preventDefault=function(){ie.srcEvent.preventDefault()};for(var we=0;we<le.length;)le[we](ie),we++}},destroy:function(){this.element&&ps(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},m(fs,{INPUT_START:Re,INPUT_MOVE:2,INPUT_END:Ze,INPUT_CANCEL:We,STATE_POSSIBLE:Qr,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:qt,DIRECTION_LEFT:si,DIRECTION_RIGHT:kt,DIRECTION_UP:nt,DIRECTION_DOWN:Kt,DIRECTION_HORIZONTAL:_i,DIRECTION_VERTICAL:hi,DIRECTION_ALL:Ft,Manager:fl,Input:$e,TouchAction:Dr,TouchInput:$t,MouseInput:dr,PointerEventInput:mo,TouchMouseInput:Lt,SingleTouchInput:ni,Recognizer:Sr,AttrRecognizer:zn,Tap:jn,Pan:hs,Swipe:ul,Pinch:Zi,Rotate:ca,Press:la,on:_,off:O,each:x,merge:d,extend:h,assign:m,inherit:v,bindFn:C,prefixed:re}),(typeof D<"u"?D:typeof self<"u"?self:{}).Hammer=fs,(B=function(){return fs}.call(U,S,U,ee))!==N&&(ee.exports=B)}(window,document)},function(ee,U,S){U.util=S(2),U.DOMutil=S(14),U.DataSet=S(11),U.DataView=S(12),U.Queue=S(43),U.Timeline=S(178),U.Graph2d=S(180),U.timeline={Core:S(65),DateUtil:S(36),Range:S(64),stack:S(100),TimeStep:S(66),components:{items:{Item:S(38),BackgroundItem:S(103),BoxItem:S(101),PointItem:S(102),RangeItem:S(70)},BackgroundGroup:S(69),Component:S(16),CurrentTime:S(67),CustomTime:S(46),DataAxis:S(107),DataScale:S(108),GraphGroup:S(109),Group:S(68),ItemSet:S(99),Legend:S(112),LineGraph:S(106),TimeAxis:S(45)}},U.moment=S(9),U.Hammer=S(10),U.keycharm=S(35)},function(ee,U,S){var B=S(9),D=S(2),I=S(11),P=S(12),N=S(64),L=S(65),T=S(45),F=S(67),M=S(46),E=S(99),b=S(15).printStyle,y=S(105).allOptions,g=S(105).configureOptions,x=S(71).default,c=S(15).default;function m(C,f,p,_){if(!(this instanceof m))throw new SyntaxError("Constructor must be called with the new operator");if(!(Array.isArray(p)||p instanceof I||p instanceof P)&&p instanceof Object){var O=_;_=p,p=O}_&&_.throttleRedraw&&console.warn('Timeline option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var V=this;if(this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:B,width:null,height:null,maxHeight:null,minHeight:null},this.options=D.deepExtend({},this.defaultOptions),this._create(C),!_||_&&typeof _.rtl>"u"){this.dom.root.style.visibility="hidden";for(var j,$=this.dom.root;!j&&$;)j=window.getComputedStyle($,null).direction,$=$.parentElement;this.options.rtl=j&&"rtl"==j.toLowerCase()}else this.options.rtl=_.rtl;this.options.rollingMode=_&&_.rollingMode,this.options.onInitialDrawComplete=_&&_.onInitialDrawComplete,this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{getScale:function(){return V.timeAxis.step.scale},getStep:function(){return V.timeAxis.step.step},toScreen:V._toScreen.bind(V),toGlobalScreen:V._toGlobalScreen.bind(V),toTime:V._toTime.bind(V),toGlobalTime:V._toGlobalTime.bind(V)}},this.range=new N(this.body,this.options),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new T(this.body,this.options),this.timeAxis2=null,this.components.push(this.timeAxis),this.currentTime=new F(this.body,this.options),this.components.push(this.currentTime),this.itemSet=new E(this.body,this.options),this.components.push(this.itemSet),this.itemsData=null,this.groupsData=null,this.dom.root.onclick=function(W){V.emit("click",V.getEventProperties(W))},this.dom.root.ondblclick=function(W){V.emit("doubleClick",V.getEventProperties(W))},this.dom.root.oncontextmenu=function(W){V.emit("contextmenu",V.getEventProperties(W))},this.dom.root.onmouseover=function(W){V.emit("mouseOver",V.getEventProperties(W))},window.PointerEvent?(this.dom.root.onpointerdown=function(W){V.emit("mouseDown",V.getEventProperties(W))},this.dom.root.onpointermove=function(W){V.emit("mouseMove",V.getEventProperties(W))},this.dom.root.onpointerup=function(W){V.emit("mouseUp",V.getEventProperties(W))}):(this.dom.root.onmousemove=function(W){V.emit("mouseMove",V.getEventProperties(W))},this.dom.root.onmousedown=function(W){V.emit("mouseDown",V.getEventProperties(W))},this.dom.root.onmouseup=function(W){V.emit("mouseUp",V.getEventProperties(W))}),this.initialFitDone=!1,this.on("changed",function(){if(null!=this.itemsData&&!this.options.rollingMode){if(!V.initialFitDone)if(V.initialFitDone=!0,null!=V.options.start||null!=V.options.end){if(null==V.options.start||null==V.options.end)var W=V.getItemRange();V.setWindow(null!=V.options.start?V.options.start:W.min,null!=V.options.end?V.options.end:W.max,{animation:!1})}else V.fit({animation:!1});!V.initialDrawDone&&V.initialRangeChangeDone&&(V.initialDrawDone=!0,V.dom.root.style.visibility="visible",V.options.onInitialDrawComplete&&setTimeout(function(){return V.options.onInitialDrawComplete()},0))}}),_&&this.setOptions(_),p&&this.setGroups(p),f&&this.setItems(f),this._redraw()}function h(C){return D.convert(C.data.start,"Date").valueOf()}function d(C){return D.convert(null!=C.data.end?C.data.end:C.data.start,"Date").valueOf()}function v(C,f){var p=C.props.leftContainer.height,_=C.props.left.height,O=f.parent,V=O.top,j=!0,$=C.timeAxis.options.orientation.axis,W=function(){return"bottom"==$?O.height-f.top-f.height:f.top},Y=-1*C._getScrollTop(),q=V+W(),re=f.height;return q<Y?V+p<=V+W()+re&&(V+=W()-C.itemSet.options.margin.item.vertical):q+re>Y+p?V+=W()+re-p+C.itemSet.options.margin.item.vertical:j=!1,{shouldScroll:j,scrollOffset:V=Math.min(V,_-p),itemTop:q}}(m.prototype=new L)._createConfigurator=function(){return new x(this,this.dom.container,g)},m.prototype.redraw=function(){this.itemSet&&this.itemSet.markDirty({refreshItems:!0}),this._redraw()},m.prototype.setOptions=function(C){if(!0===c.validate(C,y)&&console.log("%cErrors have been found in the supplied options object.",b),L.prototype.setOptions.call(this,C),"type"in C&&C.type!==this.options.type){this.options.type=C.type;var p=this.itemsData;if(p){var _=this.getSelection();this.setItems(null),this.setItems(p),this.setSelection(_)}}},m.prototype.setItems=function(C){var f;f=C?C instanceof I||C instanceof P?C:new I(C,{type:{start:"Date",end:"Date"}}):null,this.itemsData=f,this.itemSet&&this.itemSet.setItems(f)},m.prototype.setGroups=function(C){var f;if(C){var p=function(O){return!1!==O.visible};f=C instanceof I||C instanceof P?new P(C,{filter:p}):new I(C.filter(p))}else f=null;this.groupsData=f,this.itemSet.setGroups(f)},m.prototype.setData=function(C){C&&C.groups&&this.setGroups(C.groups),C&&C.items&&this.setItems(C.items)},m.prototype.setSelection=function(C,f){this.itemSet&&this.itemSet.setSelection(C),f&&f.focus&&this.focus(C,f)},m.prototype.getSelection=function(){return this.itemSet&&this.itemSet.getSelection()||[]},m.prototype.focus=function(C,f){if(this.itemsData&&null!=C){var p=Array.isArray(C)?C:[C],_=this.itemsData.getDataSet().get(p,{type:{start:"Date",end:"Date"}}),O=null,V=null;if(_.forEach(function(Ee){var Me=Ee.start.valueOf(),be="end"in Ee?Ee.end.valueOf():Ee.start.valueOf();(null===O||Me<O)&&(O=Me),(null===V||be>V)&&(V=be)}),null!==O&&null!==V){var j=this,$=this.itemSet.items[p[0]],W=-1*this._getScrollTop(),Y=null,re=function(){var Me=v(j,$);Me.shouldScroll&&Me.itemTop!=Y.itemTop&&(j._setScrollTop(-Me.scrollOffset),j._redraw())},de=(O+V)/2,ve=Math.max(this.range.end-this.range.start,1.1*(V-O)),Oe=!f||void 0===f.animation||f.animation;Oe||(Y={shouldScroll:!1,scrollOffset:-1,itemTop:-1}),this.range.setRange(de-ve/2,de+ve/2,{animation:Oe},function(){re(),setTimeout(re,100)},function(Me,be,ue){var he=v(j,$);if(Y||(Y=he),Y.itemTop!=he.itemTop||Y.shouldScroll){Y.itemTop!=he.itemTop&&he.shouldScroll&&(Y=he,W=-1*j._getScrollTop());var Fe=Y.scrollOffset;j._setScrollTop(-(ue?Fe:W+(Fe-W)*Me)),be||j._redraw()}})}}},m.prototype.fit=function(C,f){var _,p=!C||void 0===C.animation||C.animation,O=this.itemsData&&this.itemsData.getDataSet();1===O.length&&void 0===O.get()[0].end?(_=this.getDataRange(),this.moveTo(_.min.valueOf(),{animation:p},f)):(_=this.getItemRange(),this.range.setRange(_.min,_.max,{animation:p},f))},m.prototype.getItemRange=function(){var C=this.getDataRange(),f=null!==C.min?C.min.valueOf():null,p=null!==C.max?C.max.valueOf():null,_=null,O=null;if(null!=f&&null!=p){var V=p-f;V<=0&&(V=10);var j=V/this.props.center.width,$={},W=0;if(D.forEach(this.itemSet.items,function(ve,Oe){ve.groupShowing&&($[Oe]=ve.redraw(!0),W=$[Oe].length)}),W>0)for(var q=0;q<W;q++)D.forEach($,function(ve){ve[q]()});if(D.forEach(this.itemSet.items,function(ve){var Me,be,Oe=h(ve),Ee=d(ve);this.options.rtl?(Me=Oe-(ve.getWidthRight()+10)*j,be=Ee+(ve.getWidthLeft()+10)*j):(Me=Oe-(ve.getWidthLeft()+10)*j,be=Ee+(ve.getWidthRight()+10)*j),Me<f&&(f=Me,_=ve),be>p&&(p=be,O=ve)}.bind(this)),_&&O){var re=_.getWidthLeft()+10,se=O.getWidthRight()+10,de=this.props.center.width-re-se;de>0&&(this.options.rtl?(f=h(_)-se*V/de,p=d(O)+re*V/de):(f=h(_)-re*V/de,p=d(O)+se*V/de))}}return{min:null!=f?new Date(f):null,max:null!=p?new Date(p):null}},m.prototype.getDataRange=function(){var C=null,f=null,p=this.itemsData&&this.itemsData.getDataSet();return p&&p.forEach(function(_){var O=D.convert(_.start,"Date").valueOf(),V=D.convert(null!=_.end?_.end:_.start,"Date").valueOf();(null===C||O<C)&&(C=O),(null===f||V>f)&&(f=V)}),{min:null!=C?new Date(C):null,max:null!=f?new Date(f):null}},m.prototype.getEventProperties=function(C){var _,f=C.center?C.center.x:C.clientX,p=C.center?C.center.y:C.clientY;_=this.options.rtl?D.getAbsoluteRight(this.dom.centerContainer)-f:f-D.getAbsoluteLeft(this.dom.centerContainer);var O=p-D.getAbsoluteTop(this.dom.centerContainer),V=this.itemSet.itemFromTarget(C),j=this.itemSet.groupFromTarget(C),$=M.customTimeFromTarget(C),W=this.itemSet.options.snap||null,Y=this.body.util.getScale(),q=this.body.util.getStep(),re=this._toTime(_),se=W?W(re,Y,q):re,de=D.getTarget(C),ve=null;return null!=V?ve="item":null!=$?ve="custom-time":D.hasParent(de,this.timeAxis.dom.foreground)||this.timeAxis2&&D.hasParent(de,this.timeAxis2.dom.foreground)?ve="axis":D.hasParent(de,this.itemSet.dom.labelSet)?ve="group-label":D.hasParent(de,this.currentTime.bar)?ve="current-time":D.hasParent(de,this.dom.center)&&(ve="background"),{event:C,item:V?V.id:null,group:j?j.groupId:null,what:ve,pageX:C.srcEvent?C.srcEvent.pageX:C.pageX,pageY:C.srcEvent?C.srcEvent.pageY:C.pageY,x:_,y:O,time:re,snappedTime:se}},m.prototype.toggleRollingMode=function(){this.range.rolling?this.range.stopRolling():(null==this.options.rollingMode&&this.setOptions(this.options),this.range.startRolling())},ee.exports=m},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=T(S(19)),P=T(S(0)),L=T(S(1));function T(y){return y&&y.__esModule?y:{default:y}}var F=S(10),M=S(37),E=S(2),b=function(){function y(){var g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;(0,P.default)(this,y),this.pixelRatio=g,this.generated=!1,this.centerCoordinates={x:144.5,y:144.5},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=function(){},this.closeCallback=function(){},this._create()}return(0,L.default)(y,[{key:"insertTo",value:function(x){void 0!==this.hammer&&(this.hammer.destroy(),this.hammer=void 0),this.container=x,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}},{key:"setUpdateCallback",value:function(x){if("function"!=typeof x)throw new Error("Function attempted to set as colorPicker update callback is not a function.");this.updateCallback=x}},{key:"setCloseCallback",value:function(x){if("function"!=typeof x)throw new Error("Function attempted to set as colorPicker closing callback is not a function.");this.closeCallback=x}},{key:"_isColorString",value:function(x){if("string"==typeof x)return{black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"}[x]}},{key:"setColor",value:function(x){var c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if("none"!==x){var m=void 0,h=this._isColorString(x);if(void 0!==h&&(x=h),!0===E.isString(x)){if(!0===E.isValidRGB(x)){var d=x.substr(4).substr(0,x.length-5).split(",");m={r:d[0],g:d[1],b:d[2],a:1}}else if(!0===E.isValidRGBA(x)){var v=x.substr(5).substr(0,x.length-6).split(",");m={r:v[0],g:v[1],b:v[2],a:v[3]}}else if(!0===E.isValidHex(x)){var C=E.hexToRGB(x);m={r:C.r,g:C.g,b:C.b,a:1}}}else x instanceof Object&&void 0!==x.r&&void 0!==x.g&&void 0!==x.b&&(m={r:x.r,g:x.g,b:x.b,a:void 0!==x.a?x.a:"1.0"});if(void 0===m)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+(0,D.default)(x));this._setColor(m,c)}}},{key:"show",value:function(){void 0!==this.closeCallback&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}},{key:"_hide",value:function(){var x=this;!0===(!(arguments.length>0&&void 0!==arguments[0])||arguments[0])&&(this.previousColor=E.extend({},this.color)),!0===this.applied&&this.updateCallback(this.initialColor),this.frame.style.display="none",setTimeout(function(){void 0!==x.closeCallback&&(x.closeCallback(),x.closeCallback=void 0)},0)}},{key:"_save",value:function(){this.updateCallback(this.color),this.applied=!1,this._hide()}},{key:"_apply",value:function(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}},{key:"_loadLast",value:function(){void 0!==this.previousColor?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}},{key:"_setColor",value:function(x){!0===(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(this.initialColor=E.extend({},x)),this.color=x;var m=E.RGBToHSV(x.r,x.g,x.b),h=2*Math.PI,d=this.r*m.s,v=this.centerCoordinates.x+d*Math.sin(h*m.h),C=this.centerCoordinates.y+d*Math.cos(h*m.h);this.colorPickerSelector.style.left=v-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=C-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(x)}},{key:"_setOpacity",value:function(x){this.color.a=x/100,this._updatePicker(this.color)}},{key:"_setBrightness",value:function(x){var c=E.RGBToHSV(this.color.r,this.color.g,this.color.b);c.v=x/100;var m=E.HSVToRGB(c.h,c.s,c.v);m.a=this.color.a,this.color=m,this._updatePicker()}},{key:"_updatePicker",value:function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.color,c=E.RGBToHSV(x.r,x.g,x.b),m=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(m.webkitBackingStorePixelRatio||m.mozBackingStorePixelRatio||m.msBackingStorePixelRatio||m.oBackingStorePixelRatio||m.backingStorePixelRatio||1)),m.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0),m.clearRect(0,0,this.colorPickerCanvas.clientWidth,this.colorPickerCanvas.clientHeight),m.putImageData(this.hueCircle,0,0),m.fillStyle="rgba(0,0,0,"+(1-c.v)+")",m.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),m.fill(),this.brightnessRange.value=100*c.v,this.opacityRange.value=100*x.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}},{key:"_setSize",value:function(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}},{key:"_create",value:function(){if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){var c=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(c.webkitBackingStorePixelRatio||c.mozBackingStorePixelRatio||c.msBackingStorePixelRatio||c.oBackingStorePixelRatio||c.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{var x=document.createElement("DIV");x.style.color="red",x.style.fontWeight="bold",x.style.padding="10px",x.innerHTML="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(x)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);var m=this;this.opacityRange.onchange=function(){m._setOpacity(this.value)},this.opacityRange.oninput=function(){m._setOpacity(this.value)},this.brightnessRange.onchange=function(){m._setBrightness(this.value)},this.brightnessRange.oninput=function(){m._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerHTML="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerHTML="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerHTML="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerHTML="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerHTML="cancel",this.cancelButton.onclick=this._hide.bind(this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerHTML="apply",this.applyButton.onclick=this._apply.bind(this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerHTML="save",this.saveButton.onclick=this._save.bind(this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerHTML="load last",this.loadButton.onclick=this._loadLast.bind(this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}},{key:"_bindHammer",value:function(){var x=this;this.drag={},this.pinch={},this.hammer=new F(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),M.onTouch(this.hammer,function(c){x._moveSelector(c)}),this.hammer.on("tap",function(c){x._moveSelector(c)}),this.hammer.on("panstart",function(c){x._moveSelector(c)}),this.hammer.on("panmove",function(c){x._moveSelector(c)}),this.hammer.on("panend",function(c){x._moveSelector(c)})}},{key:"_generateHueCircle",value:function(){if(!1===this.generated){var x=this.colorPickerCanvas.getContext("2d");void 0===this.pixelRation&&(this.pixelRatio=(window.devicePixelRatio||1)/(x.webkitBackingStorePixelRatio||x.mozBackingStorePixelRatio||x.msBackingStorePixelRatio||x.oBackingStorePixelRatio||x.backingStorePixelRatio||1)),x.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);var c=this.colorPickerCanvas.clientWidth,m=this.colorPickerCanvas.clientHeight;x.clearRect(0,0,c,m);var h=void 0,d=void 0,v=void 0,C=void 0;this.centerCoordinates={x:.5*c,y:.5*m},this.r=.49*c;var f=2*Math.PI/360,_=1/this.r,O=void 0;for(v=0;v<360;v++)for(C=0;C<this.r;C++)h=this.centerCoordinates.x+C*Math.sin(f*v),d=this.centerCoordinates.y+C*Math.cos(f*v),O=E.HSVToRGB(.002777777777777778*v,C*_,1),x.fillStyle="rgb("+O.r+","+O.g+","+O.b+")",x.fillRect(h-.5,d-.5,2,2);x.strokeStyle="rgba(0,0,0,1)",x.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),x.stroke(),this.hueCircle=x.getImageData(0,0,c,m)}this.generated=!0}},{key:"_moveSelector",value:function(x){var c=this.colorPickerDiv.getBoundingClientRect(),d=.5*this.colorPickerDiv.clientHeight,v=.5*this.colorPickerDiv.clientWidth,C=x.center.x-c.left-v,f=x.center.y-c.top-d,p=Math.atan2(C,f),_=.98*Math.min(Math.sqrt(C*C+f*f),v),O=Math.cos(p)*_+d,V=Math.sin(p)*_+v;this.colorPickerSelector.style.top=O-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=V-.5*this.colorPickerSelector.clientWidth+"px";var j=p/(2*Math.PI);j=j<0?j+1:j;var $=_/this.r,W=E.RGBToHSV(this.color.r,this.color.g,this.color.b);W.h=j,W.s=$;var Y=E.HSVToRGB(W.h,W.s,W.v);Y.a=this.color.a,this.color=Y,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}}]),y}();U.default=b},function(ee,U,S){var B=S(9),D=S(2),I=S(11),P=S(12),N=S(64),L=S(65),T=S(45),F=S(67),M=S(46),E=S(106),b=S(15).printStyle,y=S(113).allOptions,g=S(113).configureOptions,x=S(71).default,c=S(15).default;function m(h,d,v,C){if(!(Array.isArray(v)||v instanceof I||v instanceof P)&&v instanceof Object){var f=C;C=v,v=f}C&&C.throttleRedraw&&console.warn('Graph2d option "throttleRedraw" is DEPRICATED and no longer supported. It will be removed in the next MAJOR release.');var p=this;this.defaultOptions={start:null,end:null,autoResize:!0,orientation:{axis:"bottom",item:"bottom"},moment:B,width:null,height:null,maxHeight:null,minHeight:null},this.options=D.deepExtend({},this.defaultOptions),this._create(h),this.components=[],this.body={dom:this.dom,domProps:this.props,emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this)},hiddenDates:[],util:{toScreen:p._toScreen.bind(p),toGlobalScreen:p._toGlobalScreen.bind(p),toTime:p._toTime.bind(p),toGlobalTime:p._toGlobalTime.bind(p)}},this.range=new N(this.body),this.components.push(this.range),this.body.range=this.range,this.timeAxis=new T(this.body),this.components.push(this.timeAxis),this.currentTime=new F(this.body),this.components.push(this.currentTime),this.linegraph=new E(this.body),this.components.push(this.linegraph),this.itemsData=null,this.groupsData=null,this.on("tap",function(_){p.emit("click",p.getEventProperties(_))}),this.on("doubletap",function(_){p.emit("doubleClick",p.getEventProperties(_))}),this.dom.root.oncontextmenu=function(_){p.emit("contextmenu",p.getEventProperties(_))},C&&this.setOptions(C),v&&this.setGroups(v),d&&this.setItems(d),this._redraw()}(m.prototype=new L).setOptions=function(h){!0===c.validate(h,y)&&console.log("%cErrors have been found in the supplied options object.",b),L.prototype.setOptions.call(this,h)},m.prototype.setItems=function(h){var v,d=null==this.itemsData;v=h?h instanceof I||h instanceof P?h:new I(h,{type:{start:"Date",end:"Date"}}):null,this.itemsData=v,this.linegraph&&this.linegraph.setItems(v),d&&(null!=this.options.start||null!=this.options.end?this.setWindow(null!=this.options.start?this.options.start:null,null!=this.options.end?this.options.end:null,{animation:!1}):this.fit({animation:!1}))},m.prototype.setGroups=function(h){var d;d=h?h instanceof I||h instanceof P?h:new I(h):null,this.groupsData=d,this.linegraph.setGroups(d)},m.prototype.getLegend=function(h,d,v){return void 0===d&&(d=15),void 0===v&&(v=15),void 0!==this.linegraph.groups[h]?this.linegraph.groups[h].getLegend(d,v):"cannot find group:'"+h+"'"},m.prototype.isGroupVisible=function(h){return void 0!==this.linegraph.groups[h]&&this.linegraph.groups[h].visible&&(void 0===this.linegraph.options.groups.visibility[h]||1==this.linegraph.options.groups.visibility[h])},m.prototype.getDataRange=function(){var h=null,d=null;for(var v in this.linegraph.groups)if(this.linegraph.groups.hasOwnProperty(v)&&1==this.linegraph.groups[v].visible)for(var C=0;C<this.linegraph.groups[v].itemsData.length;C++){var p=D.convert(this.linegraph.groups[v].itemsData[C].x,"Date").valueOf();h=null==h||h>p?p:h,d=null==d||d<p?p:d}return{min:null!=h?new Date(h):null,max:null!=d?new Date(d):null}},m.prototype.getEventProperties=function(h){var v=h.center?h.center.y:h.clientY,C=(h.center?h.center.x:h.clientX)-D.getAbsoluteLeft(this.dom.centerContainer),f=v-D.getAbsoluteTop(this.dom.centerContainer),p=this._toTime(C),_=M.customTimeFromTarget(h),O=D.getTarget(h),V=null;D.hasParent(O,this.timeAxis.dom.foreground)||this.timeAxis2&&D.hasParent(O,this.timeAxis2.dom.foreground)?V="axis":D.hasParent(O,this.linegraph.yAxisLeft.dom.frame)||D.hasParent(O,this.linegraph.yAxisRight.dom.frame)?V="data-axis":D.hasParent(O,this.linegraph.legendLeft.dom.frame)||D.hasParent(O,this.linegraph.legendRight.dom.frame)?V="legend":null!=_?V="custom-time":D.hasParent(O,this.currentTime.bar)?V="current-time":D.hasParent(O,this.dom.center)&&(V="background");var j=[],$=this.linegraph.yAxisLeft,W=this.linegraph.yAxisRight;return!$.hidden&&this.itemsData.length>0&&j.push($.screenToValue(f)),!W.hidden&&this.itemsData.length>0&&j.push(W.screenToValue(f)),{event:h,what:V,pageX:h.srcEvent?h.srcEvent.pageX:h.pageX,pageY:h.srcEvent?h.srcEvent.pageY:h.pageY,x:C,y:f,time:p,value:j}},m.prototype._createConfigurator=function(){return new x(this,this.dom.container,g)},ee.exports=m},function(ee,U,S){U.util=S(2),U.DOMutil=S(14),U.DataSet=S(11),U.DataView=S(12),U.Queue=S(43),U.Network=S(182),U.network={Images:S(116),dotparser:S(114),gephiParser:S(115),allOptions:S(122)},U.network.convertDot=function(B){return U.network.dotparser.DOTToGraph(B)},U.network.convertGephi=function(B,D){return U.network.gephiParser.parseGephi(B,D)},U.moment=S(9),U.Hammer=S(10),U.keycharm=S(35)},function(ee,U,S){S(183);var B=S(44),D=S(2),I=S(114),P=S(115),N=S(97),L=S(184),T=S(116).default,F=S(186).default,M=S(187).default,E=S(214).default,b=S(220).default,y=S(227).default,g=S(229).default,x=S(230).default,c=S(231).default,m=S(232).default,h=S(234).default,d=S(235).default,v=S(237).default,C=S(71).default,f=S(15).default,_=S(15).printStyle,O=S(122),V=O.allOptions,j=O.configureOptions,$=S(238).default;function W(Y,q,re){var se=this;if(!(this instanceof W))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:L,clickToUse:!1},D.extend(this.options,this.defaultOptions),this.body={container:Y,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:this.on.bind(this),off:this.off.bind(this),emit:this.emit.bind(this),once:this.once.bind(this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}}},this.bindEventListeners(),this.images=new T(function(){return se.body.emitter.emit("_requestRedraw")}),this.groups=new F,this.canvas=new x(this.body),this.selectionHandler=new h(this.body,this.canvas),this.interactionHandler=new m(this.body,this.canvas,this.selectionHandler),this.view=new c(this.body,this.canvas),this.renderer=new g(this.body,this.canvas),this.physics=new b(this.body),this.layoutEngine=new d(this.body),this.clustering=new y(this.body),this.manipulation=new v(this.body,this.canvas,this.selectionHandler),this.nodesHandler=new M(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new E(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new $(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(re),this.setData(q)}B(W.prototype),W.prototype.setOptions=function(Y){var q=this;if(void 0!==Y){if(!0===f.validate(Y,V)&&console.log("%cErrors have been found in the supplied options object.",_),D.selectiveDeepExtend(["locale","locales","clickToUse"],this.options,Y),Y=this.layoutEngine.setOptions(Y.layout,Y),this.canvas.setOptions(Y),this.groups.setOptions(Y.groups),this.nodesHandler.setOptions(Y.nodes),this.edgesHandler.setOptions(Y.edges),this.physics.setOptions(Y.physics),this.manipulation.setOptions(Y.manipulation,Y,this.options),this.interactionHandler.setOptions(Y.interaction),this.renderer.setOptions(Y.interaction),this.selectionHandler.setOptions(Y.interaction),void 0!==Y.groups&&this.body.emitter.emit("refreshNodes"),"configure"in Y&&(this.configurator||(this.configurator=new C(this,this.body.container,j,this.canvas.pixelRatio)),this.configurator.setOptions(Y.configure)),this.configurator&&!0===this.configurator.options.enabled){var de={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};D.deepExtend(de.nodes,this.nodesHandler.options),D.deepExtend(de.edges,this.edgesHandler.options),D.deepExtend(de.layout,this.layoutEngine.options),D.deepExtend(de.interaction,this.selectionHandler.options),D.deepExtend(de.interaction,this.renderer.options),D.deepExtend(de.interaction,this.interactionHandler.options),D.deepExtend(de.manipulation,this.manipulation.options),D.deepExtend(de.physics,this.physics.options),D.deepExtend(de.global,this.canvas.options),D.deepExtend(de.global,this.options),this.configurator.setModuleOptions(de)}void 0!==Y.clickToUse?!0===Y.clickToUse?void 0===this.activator&&(this.activator=new N(this.canvas.frame),this.activator.on("change",function(){q.body.emitter.emit("activate")})):(void 0!==this.activator&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}},W.prototype._updateVisibleIndices=function(){var Y=this.body.nodes,q=this.body.edges;for(var re in this.body.nodeIndices=[],this.body.edgeIndices=[],Y)Y.hasOwnProperty(re)&&!this.clustering._isClusteredNode(re)&&!1===Y[re].options.hidden&&this.body.nodeIndices.push(Y[re].id);for(var se in q)if(q.hasOwnProperty(se)){var de=q[se],ve=Y[de.fromId],Oe=Y[de.toId],Ee=void 0!==ve&&void 0!==Oe;!this.clustering._isClusteredEdge(se)&&!1===de.options.hidden&&Ee&&!1===ve.options.hidden&&!1===Oe.options.hidden&&this.body.edgeIndices.push(de.id)}},W.prototype.bindEventListeners=function(){var Y=this;this.body.emitter.on("_dataChanged",function(){Y.edgesHandler._updateState(),Y.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",function(){Y.clustering._updateState(),Y._updateVisibleIndices(),Y._updateValueRange(Y.body.nodes),Y._updateValueRange(Y.body.edges),Y.body.emitter.emit("startSimulation"),Y.body.emitter.emit("_requestRedraw")})},W.prototype.setData=function(Y){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),Y&&Y.dot&&(Y.nodes||Y.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(Y&&Y.options),Y&&Y.dot){console.log("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");var q=I.DOTToGraph(Y.dot);this.setData(q)}else if(Y&&Y.gephi){console.log("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");var re=P.parseGephi(Y.gephi);this.setData(re)}else this.nodesHandler.setData(Y&&Y.nodes,!0),this.edgesHandler.setData(Y&&Y.edges,!0),this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")},W.prototype.destroy=function(){for(var Y in this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images,this.body.nodes)this.body.nodes.hasOwnProperty(Y)&&delete this.body.nodes[Y];for(var q in this.body.edges)this.body.edges.hasOwnProperty(q)&&delete this.body.edges[q];D.recursiveDOMDelete(this.body.container)},W.prototype._updateValueRange=function(Y){var q,re=void 0,se=void 0,de=0;for(q in Y)if(Y.hasOwnProperty(q)){var ve=Y[q].getValue();void 0!==ve&&(re=void 0===re?ve:Math.min(ve,re),se=void 0===se?ve:Math.max(ve,se),de+=ve)}if(void 0!==re&&void 0!==se)for(q in Y)Y.hasOwnProperty(q)&&Y[q].setValueRange(re,se,de)},W.prototype.isActive=function(){return!this.activator||this.activator.active},W.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)},W.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)},W.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)},W.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)},W.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)},W.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)},W.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)},W.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)},W.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)},W.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)},W.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)},W.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)},W.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)},W.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)},W.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)},W.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)},W.prototype.editNodeMode=function(){return console.log("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)},W.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)},W.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)},W.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)},W.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)},W.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)},W.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)},W.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)},W.prototype.getConnectedNodes=function(Y){return void 0!==this.body.nodes[Y]?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)},W.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)},W.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)},W.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)},W.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)},W.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)},W.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)},W.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodes.apply(this.selectionHandler,arguments)},W.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdges.apply(this.selectionHandler,arguments)},W.prototype.getNodeAt=function(){var Y=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return void 0!==Y&&void 0!==Y.id?Y.id:Y},W.prototype.getEdgeAt=function(){var Y=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return void 0!==Y&&void 0!==Y.id?Y.id:Y},W.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)},W.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)},W.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.redraw()},W.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)},W.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)},W.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)},W.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)},W.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)},W.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)},W.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)},W.prototype.getOptionsFromConfigurator=function(){var Y={};return this.configurator&&(Y=this.configurator.getOptions.apply(this.configurator)),Y},ee.exports=W},function(ee,U,S){typeof CanvasRenderingContext2D<"u"&&(CanvasRenderingContext2D.prototype.circle=function(B,D,I){this.beginPath(),this.arc(B,D,I,0,2*Math.PI,!1),this.closePath()},CanvasRenderingContext2D.prototype.square=function(B,D,I){this.beginPath(),this.rect(B-I,D-I,2*I,2*I),this.closePath()},CanvasRenderingContext2D.prototype.triangle=function(B,D,I){this.beginPath(),D+=.275*(I*=1.15);var P=2*I,N=P/2,L=Math.sqrt(3)/6*P,T=Math.sqrt(P*P-N*N);this.moveTo(B,D-(T-L)),this.lineTo(B+N,D+L),this.lineTo(B-N,D+L),this.lineTo(B,D-(T-L)),this.closePath()},CanvasRenderingContext2D.prototype.triangleDown=function(B,D,I){this.beginPath(),D-=.275*(I*=1.15);var P=2*I,N=P/2,L=Math.sqrt(3)/6*P,T=Math.sqrt(P*P-N*N);this.moveTo(B,D+(T-L)),this.lineTo(B+N,D-L),this.lineTo(B-N,D-L),this.lineTo(B,D+(T-L)),this.closePath()},CanvasRenderingContext2D.prototype.star=function(B,D,I){this.beginPath(),D+=.1*(I*=.82);for(var P=0;P<10;P++){var N=P%2==0?1.3*I:.5*I;this.lineTo(B+N*Math.sin(2*P*Math.PI/10),D-N*Math.cos(2*P*Math.PI/10))}this.closePath()},CanvasRenderingContext2D.prototype.diamond=function(B,D,I){this.beginPath(),this.lineTo(B,D+I),this.lineTo(B+I,D),this.lineTo(B,D-I),this.lineTo(B-I,D),this.closePath()},CanvasRenderingContext2D.prototype.roundRect=function(B,D,I,P,N){var L=Math.PI/180;I-2*N<0&&(N=I/2),P-2*N<0&&(N=P/2),this.beginPath(),this.moveTo(B+N,D),this.lineTo(B+I-N,D),this.arc(B+I-N,D+N,N,270*L,360*L,!1),this.lineTo(B+I,D+P-N),this.arc(B+I-N,D+P-N,N,0,90*L,!1),this.lineTo(B+N,D+P),this.arc(B+N,D+P-N,N,90*L,180*L,!1),this.lineTo(B,D+N),this.arc(B+N,D+N,N,180*L,270*L,!1),this.closePath()},CanvasRenderingContext2D.prototype.ellipse_vis=function(B,D,I,P){var N=.5522848,L=I/2*N,T=P/2*N,F=B+I,M=D+P,E=B+I/2,b=D+P/2;this.beginPath(),this.moveTo(B,b),this.bezierCurveTo(B,b-T,E-L,D,E,D),this.bezierCurveTo(E+L,D,F,b-T,F,b),this.bezierCurveTo(F,b+T,E+L,M,E,M),this.bezierCurveTo(E-L,M,B,b+T,B,b),this.closePath()},CanvasRenderingContext2D.prototype.database=function(B,D,I,P){var T=.3333333333333333*P,F=.5522848,M=I/2*F,E=T/2*F,b=B+I,y=D+T,g=B+I/2,x=D+T/2,c=D+(P-T/2),m=D+P;this.beginPath(),this.moveTo(b,x),this.bezierCurveTo(b,x+E,g+M,y,g,y),this.bezierCurveTo(g-M,y,B,x+E,B,x),this.bezierCurveTo(B,x-E,g-M,D,g,D),this.bezierCurveTo(g+M,D,b,x-E,b,x),this.lineTo(b,c),this.bezierCurveTo(b,c+E,g+M,m,g,m),this.bezierCurveTo(g-M,m,B,c+E,B,c),this.lineTo(B,x)},CanvasRenderingContext2D.prototype.dashedLine=function(B,D,I,P,N){this.beginPath(),this.moveTo(B,D);for(var L=N.length,T=I-B,F=P-D,M=F/T,E=Math.sqrt(T*T+F*F),b=0,y=!0,g=0,x=N[0];E>=.1;)(x=N[b++%L])>E&&(x=E),g=Math.sqrt(x*x/(1+M*M)),B+=g=T<0?-g:g,D+=M*g,!0===y?this.lineTo(B,D):this.moveTo(B,D),E-=x,y=!y},CanvasRenderingContext2D.prototype.hexagon=function(B,D,I){this.beginPath();var N=2*Math.PI/6;this.moveTo(B+I,D);for(var L=1;L<6;L++)this.lineTo(B+I*Math.cos(N*L),D+I*Math.sin(N*L));this.closePath()})},function(ee,U,S){U.en={edit:"Edit",del:"Delete selected",back:"Back",addNode:"Add Node",addEdge:"Add Edge",editNode:"Edit Node",editEdge:"Edit Edge",addDescription:"Click in an empty space to place a new node.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",createEdgeError:"Cannot link edges to a cluster.",deleteClusterError:"Clusters cannot be deleted.",editClusterError:"Clusters cannot be edited."},U.en_EN=U.en,U.en_US=U.en,U.de={edit:"Editieren",del:"L\xf6sche Auswahl",back:"Zur\xfcck",addNode:"Knoten hinzuf\xfcgen",addEdge:"Kante hinzuf\xfcgen",editNode:"Knoten editieren",editEdge:"Kante editieren",addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",createEdgeError:"Es ist nicht m\xf6glich, Kanten mit Clustern zu verbinden.",deleteClusterError:"Cluster k\xf6nnen nicht gel\xf6scht werden.",editClusterError:"Cluster k\xf6nnen nicht editiert werden."},U.de_DE=U.de,U.es={edit:"Editar",del:"Eliminar selecci\xf3n",back:"\xc1tras",addNode:"A\xf1adir nodo",addEdge:"A\xf1adir arista",editNode:"Editar nodo",editEdge:"Editar arista",addDescription:"Haga clic en un lugar vac\xedo para colocar un nuevo nodo.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",createEdgeError:"No se puede conectar una arista a un grupo.",deleteClusterError:"No es posible eliminar grupos.",editClusterError:"No es posible editar grupos."},U.es_ES=U.es,U.it={edit:"Modifica",del:"Cancella la selezione",back:"Indietro",addNode:"Aggiungi un nodo",addEdge:"Aggiungi un vertice",editNode:"Modifica il nodo",editEdge:"Modifica il vertice",addDescription:"Clicca per aggiungere un nuovo nodo",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",createEdgeError:"Non si possono collegare vertici ad un cluster",deleteClusterError:"I cluster non possono essere cancellati",editClusterError:"I clusters non possono essere modificati."},U.it_IT=U.it,U.nl={edit:"Wijzigen",del:"Selectie verwijderen",back:"Terug",addNode:"Node toevoegen",addEdge:"Link toevoegen",editNode:"Node wijzigen",editEdge:"Link wijzigen",addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",createEdgeError:"Kan geen link maken naar een cluster.",deleteClusterError:"Clusters kunnen niet worden verwijderd.",editClusterError:"Clusters kunnen niet worden aangepast."},U.nl_NL=U.nl,U.nl_BE=U.nl,U["pt-br"]={edit:"Editar",del:"Remover selecionado",back:"Voltar",addNode:"Adicionar n\xf3",addEdge:"Adicionar aresta",editNode:"Editar n\xf3",editEdge:"Editar aresta",addDescription:"Clique em um espa\xe7o em branco para adicionar um novo n\xf3",edgeDescription:"Clique em um n\xf3 e arraste a aresta at\xe9 outro n\xf3 para conect\xe1-los",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n\xf3 para conect\xe1-los",createEdgeError:"N\xe3o foi poss\xedvel linkar arestas a um cluster.",deleteClusterError:"Clusters n\xe3o puderam ser removidos.",editClusterError:"Clusters n\xe3o puderam ser editados."},U["pt-BR"]=U["pt-br"],U.pt_BR=U["pt-br"],U.pt_br=U["pt-br"],U.ru={edit:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c",del:"\u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0432\u044b\u0431\u0440\u0430\u043d\u043d\u043e\u0435",back:"\u041d\u0430\u0437\u0430\u0434",addNode:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0443\u0437\u0435\u043b",addEdge:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u043e",editNode:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0443\u0437\u0435\u043b",editEdge:"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0440\u0435\u0431\u0440\u043e",addDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0432 \u0441\u0432\u043e\u0431\u043e\u0434\u043d\u043e\u0435 \u043c\u0435\u0441\u0442\u043e, \u0447\u0442\u043e\u0431\u044b \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u043d\u043e\u0432\u044b\u0439 \u0443\u0437\u0435\u043b.",edgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u0443\u0437\u0435\u043b \u0438 \u043f\u0440\u043e\u0442\u044f\u043d\u0438\u0442\u0435 \u0440\u0435\u0431\u0440\u043e \u043a \u0434\u0440\u0443\u0433\u043e\u043c\u0443 \u0443\u0437\u043b\u0443, \u0447\u0442\u043e\u0431\u044b \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0438\u0445.",editEdgeDescription:"\u041a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u043d\u0430 \u043a\u043e\u043d\u0442\u0440\u043e\u043b\u044c\u043d\u044b\u0435 \u0442\u043e\u0447\u043a\u0438 \u0438 \u043f\u0435\u0440\u0435\u0442\u0430\u0449\u0438\u0442\u0435 \u0438\u0445 \u0432 \u0443\u0437\u0435\u043b, \u0447\u0442\u043e\u0431\u044b \u043f\u043e\u0434\u043a\u043b\u044e\u0447\u0438\u0442\u044c\u0441\u044f \u043a \u043d\u0435\u043c\u0443.",createEdgeError:"\u041d\u0435\u0432\u043e\u0437\u043c\u043e\u0436\u043d\u043e \u0441\u043e\u0435\u0434\u0438\u043d\u0438\u0442\u044c \u0440\u0435\u0431\u0440\u0430 \u0432 \u043a\u043b\u0430\u0441\u0442\u0435\u0440.",deleteClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435 \u043c\u043e\u0433\u0443\u0442 \u0431\u044b\u0442\u044c \u0443\u0434\u0430\u043b\u0435\u043d\u044b",editClusterError:"\u041a\u043b\u0430\u0441\u0442\u0435\u0440\u044b \u043d\u0435\u0434\u043e\u0441\u0442\u0443\u043f\u043d\u044b \u0434\u043b\u044f \u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u044f."},U.ru_RU=U.ru,U.cn={edit:"\u7f16\u8f91",del:"\u5220\u9664\u9009\u5b9a",back:"\u8fd4\u56de",addNode:"\u6dfb\u52a0\u8282\u70b9",addEdge:"\u6dfb\u52a0\u8fde\u63a5\u7ebf",editNode:"\u7f16\u8f91\u8282\u70b9",editEdge:"\u7f16\u8f91\u8fde\u63a5\u7ebf",addDescription:"\u5355\u51fb\u7a7a\u767d\u5904\u653e\u7f6e\u65b0\u8282\u70b9\u3002",edgeDescription:"\u5355\u51fb\u67d0\u4e2a\u8282\u70b9\u5e76\u5c06\u8be5\u8fde\u63a5\u7ebf\u62d6\u52a8\u5230\u53e6\u4e00\u4e2a\u8282\u70b9\u4ee5\u8fde\u63a5\u5b83\u4eec\u3002",editEdgeDescription:"\u5355\u51fb\u63a7\u5236\u8282\u70b9\u5e76\u5c06\u5b83\u4eec\u62d6\u5230\u8282\u70b9\u4e0a\u8fde\u63a5\u3002",createEdgeError:"\u65e0\u6cd5\u5c06\u8fde\u63a5\u7ebf\u8fde\u63a5\u5230\u7fa4\u96c6\u3002",deleteClusterError:"\u65e0\u6cd5\u5220\u9664\u7fa4\u96c6\u3002",editClusterError:"\u65e0\u6cd5\u7f16\u8f91\u7fa4\u96c6\u3002"},U.zh_CN=U.cn},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=N(S(0)),P=N(S(1));function N(T){return T&&T.__esModule?T:{default:T}}var L=function(){function T(){(0,D.default)(this,T),this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}return(0,P.default)(T,[{key:"init",value:function(){if(!this.initialized()){this.src=this.image.src;var M=this.image.width,E=this.image.height;this.width=M,this.height=E;var b=Math.floor(E/2),y=Math.floor(E/4),g=Math.floor(E/8),x=Math.floor(E/16),c=Math.floor(M/2),m=Math.floor(M/4),h=Math.floor(M/8),d=Math.floor(M/16);this.canvas.width=3*m,this.canvas.height=b,this.coordinates=[[0,0,c,b],[c,0,m,y],[c,y,h,g],[5*h,y,d,x]],this._fillMipMap()}}},{key:"initialized",value:function(){return void 0!==this.coordinates}},{key:"_fillMipMap",value:function(){var M=this.canvas.getContext("2d"),E=this.coordinates[0];M.drawImage(this.image,E[0],E[1],E[2],E[3]);for(var b=1;b<this.NUM_ITERATIONS;b++){var y=this.coordinates[b-1],g=this.coordinates[b];M.drawImage(this.canvas,y[0],y[1],y[2],y[3],g[0],g[1],g[2],g[3])}}},{key:"drawImageAtPosition",value:function(M,E,b,y,g,x){if(this.initialized())if(E>2){E*=.5;for(var c=0;E>2&&c<this.NUM_ITERATIONS;)E*=.5,c+=1;c>=this.NUM_ITERATIONS&&(c=this.NUM_ITERATIONS-1);var m=this.coordinates[c];M.drawImage(this.canvas,m[0],m[1],m[2],m[3],b,y,g,x)}else M.drawImage(this.image,b,y,g,x)}}]),T}();U.default=L},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=N(S(0)),P=N(S(1));function N(F){return F&&F.__esModule?F:{default:F}}var L=S(2),T=function(){function F(){(0,D.default)(this,F),this.clear(),this.defaultIndex=0,this.groupsArray=[],this.groupIndex=0,this.defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},L.extend(this.options,this.defaultOptions)}return(0,P.default)(F,[{key:"setOptions",value:function(E){var b=["useDefaultGroups"];if(void 0!==E)for(var y in E)E.hasOwnProperty(y)&&-1===b.indexOf(y)&&this.add(y,E[y])}},{key:"clear",value:function(){this.groups={},this.groupsArray=[]}},{key:"get",value:function(E){var y=this.groups[E];if(void 0===y&&(!(arguments.length>1&&void 0!==arguments[1])||arguments[1]))if(!1===this.options.useDefaultGroups&&this.groupsArray.length>0){var g=this.groupIndex%this.groupsArray.length;this.groupIndex++,(y={}).color=this.groups[this.groupsArray[g]],this.groups[E]=y}else{var x=this.defaultIndex%this.defaultGroups.length;this.defaultIndex++,(y={}).color=this.defaultGroups[x],this.groups[E]=y}return y}},{key:"add",value:function(E,b){return this.groups[E]=b,this.groupsArray.push(E),b}}]),F}();U.default=T},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=N(S(0)),P=N(S(1));function N(b){return b&&b.__esModule?b:{default:b}}var L=S(2),T=S(11),F=S(12),M=S(47).default,E=function(){function b(y,g,x,c){var m=this;if((0,D.default)(this,b),this.body=y,this.images=g,this.groups=x,this.layoutEngine=c,this.body.functions.createNode=this.create.bind(this),this.nodesListeners={add:function(d,v){m.add(v.items)},update:function(d,v){m.update(v.items,v.data,v.oldData)},remove:function(d,v){m.remove(v.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:2,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(d,v,C,f){return v===d?.5:Math.max(0,1/(v-d)*(f-d))}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=L.bridgeObject(this.defaultOptions),this.bindEventListeners()}return(0,P.default)(b,[{key:"bindEventListeners",value:function(){var g=this;this.body.emitter.on("refreshNodes",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){L.forEach(g.nodesListeners,function(x,c){g.body.data.nodes&&g.body.data.nodes.off(c,x)}),delete g.body.functions.createNode,delete g.nodesListeners.add,delete g.nodesListeners.update,delete g.nodesListeners.remove,delete g.nodesListeners})}},{key:"setOptions",value:function(g){if(void 0!==g){if(M.parseOptions(this.options,g),void 0!==g.shape)for(var x in this.body.nodes)this.body.nodes.hasOwnProperty(x)&&this.body.nodes[x].updateShape();if(void 0!==g.font)for(var c in this.body.nodes)this.body.nodes.hasOwnProperty(c)&&(this.body.nodes[c].updateLabelModule(),this.body.nodes[c].needsRefresh());if(void 0!==g.size)for(var m in this.body.nodes)this.body.nodes.hasOwnProperty(m)&&this.body.nodes[m].needsRefresh();(void 0!==g.hidden||void 0!==g.physics)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(g){var x=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=this.body.data.nodes;if(g instanceof T||g instanceof F)this.body.data.nodes=g;else if(Array.isArray(g))this.body.data.nodes=new T,this.body.data.nodes.add(g);else{if(g)throw new TypeError("Array or DataSet expected");this.body.data.nodes=new T}if(c&&L.forEach(this.nodesListeners,function(d,v){c.off(v,d)}),this.body.nodes={},this.body.data.nodes){var m=this;L.forEach(this.nodesListeners,function(d,v){m.body.data.nodes.on(v,d)});var h=this.body.data.nodes.getIds();this.add(h,!0)}!1===x&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(g){for(var x=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=void 0,m=[],h=0;h<g.length;h++){var d=this.body.data.nodes.get(c=g[h]),v=this.create(d);m.push(v),this.body.nodes[c]=v}this.layoutEngine.positionInitially(m),!1===x&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(g,x,c){for(var m=this.body.nodes,h=!1,d=0;d<g.length;d++){var v=g[d],C=m[v],f=x[d];void 0!==C?C.setOptions(f)&&(h=!0):(h=!0,C=this.create(f),m[v]=C)}!h&&void 0!==c&&(h=x.some(function(p,_){var O=c[_];return O&&O.level!==p.level})),this.body.emitter.emit(!0===h?"_dataChanged":"_dataUpdated")}},{key:"remove",value:function(g){for(var x=this.body.nodes,c=0;c<g.length;c++)delete x[g[c]];this.body.emitter.emit("_dataChanged")}},{key:"create",value:function(g){return new(arguments.length>1&&void 0!==arguments[1]?arguments[1]:M)(g,this.body,this.images,this.groups,this.options,this.defaultOptions)}},{key:"refresh",value:function(){var g=this,x=arguments.length>0&&void 0!==arguments[0]&&arguments[0];L.forEach(this.body.nodes,function(c,m){var h=g.body.data.nodes.get(m);void 0!==h&&(!0===x&&c.setOptions({x:null,y:null}),c.setOptions({fixed:!1}),c.setOptions(h))})}},{key:"getPositions",value:function(g){var x={};if(void 0!==g){if(!0===Array.isArray(g)){for(var c=0;c<g.length;c++)if(void 0!==this.body.nodes[g[c]]){var m=this.body.nodes[g[c]];x[g[c]]={x:Math.round(m.x),y:Math.round(m.y)}}}else if(void 0!==this.body.nodes[g]){var h=this.body.nodes[g];x[g]={x:Math.round(h.x),y:Math.round(h.y)}}}else for(var d=0;d<this.body.nodeIndices.length;d++){var v=this.body.nodes[this.body.nodeIndices[d]];x[this.body.nodeIndices[d]]={x:Math.round(v.x),y:Math.round(v.y)}}return x}},{key:"storePositions",value:function(){var g=[],x=this.body.data.nodes.getDataSet();for(var c in x._data)if(x._data.hasOwnProperty(c)){var m=this.body.nodes[c];(x._data[c].x!=Math.round(m.x)||x._data[c].y!=Math.round(m.y))&&g.push({id:m.id,x:Math.round(m.x),y:Math.round(m.y)})}x.update(g)}},{key:"getBoundingBox",value:function(g){if(void 0!==this.body.nodes[g])return this.body.nodes[g].shape.boundingBox}},{key:"getConnectedNodes",value:function(g,x){var c=[];if(void 0!==this.body.nodes[g])for(var m=this.body.nodes[g],h={},d=0;d<m.edges.length;d++){var v=m.edges[d];"to"!==x&&v.toId==m.id?void 0===h[v.fromId]&&(c.push(v.fromId),h[v.fromId]=!0):"from"!==x&&v.fromId==m.id&&void 0===h[v.toId]&&(c.push(v.toId),h[v.toId]=!0)}return c}},{key:"getConnectedEdges",value:function(g){var x=[];if(void 0!==this.body.nodes[g])for(var c=this.body.nodes[g],m=0;m<c.edges.length;m++)x.push(c.edges[m].id);else console.log("NodeId provided for getConnectedEdges does not exist. Provided: ",g);return x}},{key:"moveNode",value:function(g,x,c){var m=this;void 0!==this.body.nodes[g]?(this.body.nodes[g].x=Number(x),this.body.nodes[g].y=Number(c),setTimeout(function(){m.body.emitter.emit("startSimulation")},0)):console.log("Node id supplied to moveNode does not exist. Provided: ",g)}}]),b}();U.default=E},function(ee,U,S){ee.exports={default:S(189),__esModule:!0}},function(ee,U,S){S(49),S(60),ee.exports=S(190)},function(ee,U,S){var B=S(86),D=S(13)("iterator"),I=S(31);ee.exports=S(7).isIterable=function(P){var N=Object(P);return void 0!==N[D]||"@@iterator"in N||I.hasOwnProperty(B(N))}},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=N(S(0)),P=N(S(1));function N(M){return M&&M.__esModule?M:{default:M}}var L=S(192).default,T=S(48).default,F=function(){function M(E,b,y,g){var x=this;(0,D.default)(this,M),this.ctx=E,this.parent=b,this.lines=new L(function(h,d){if(void 0===h)return 0;var v=x.parent.getFormattingValues(E,y,g,d),C=0;return""!==h&&(C=x.ctx.measureText(h).width),{width:C,values:v}})}return(0,P.default)(M,[{key:"process",value:function(b){if(!T.isValidLabel(b))return this.lines.finalize();var y=this.parent.fontOptions;b=(b=b.replace(/\r\n/g,"\n")).replace(/\r/g,"\n");var g=String(b).split("\n"),x=g.length;if(y.multi)for(var c=0;c<x;c++){var m=this.splitBlocks(g[c],y.multi);if(void 0!==m){if(0===m.length){this.lines.newLine("");continue}if(y.maxWdt>0)for(var h=0;h<m.length;h++)this.splitStringIntoLines(m[h].text,m[h].mod,!0);else for(var C=0;C<m.length;C++)this.lines.append(m[C].text,m[C].mod);this.lines.newLine()}}else if(y.maxWdt>0)for(var _=0;_<x;_++)this.splitStringIntoLines(g[_]);else for(var O=0;O<x;O++)this.lines.newLine(g[O]);return this.lines.finalize()}},{key:"decodeMarkupSystem",value:function(b){var y="none";return"markdown"===b||"md"===b?y="markdown":(!0===b||"html"===b)&&(y="html"),y}},{key:"splitHtmlBlocks",value:function(b){for(var y=[],g={bold:!1,ital:!1,mono:!1,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":g.bold&&g.ital?"boldital":g.bold?"bold":g.ital?"ital":void 0},emitBlock:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(y.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(c){" "===c&&(g.spacing=!0),g.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=c&&(this.buffer+=c)}};g.position<b.length;){var x=b.charAt(g.position);/[ \t]/.test(x)?g.mono?g.add(x):g.spacing=!0:/</.test(x)?g.mono||g.bold||!/<b>/.test(b.substr(g.position,3))?g.mono||g.ital||!/<i>/.test(b.substr(g.position,3))?!g.mono&&/<code>/.test(b.substr(g.position,6))?(g.emitBlock(),g.mono=!0,g.modStack.unshift("mono"),g.position+=5):!g.mono&&"bold"===g.mod()&&/<\/b>/.test(b.substr(g.position,4))?(g.emitBlock(),g.bold=!1,g.modStack.shift(),g.position+=3):!g.mono&&"ital"===g.mod()&&/<\/i>/.test(b.substr(g.position,4))?(g.emitBlock(),g.ital=!1,g.modStack.shift(),g.position+=3):"mono"===g.mod()&&/<\/code>/.test(b.substr(g.position,7))?(g.emitBlock(),g.mono=!1,g.modStack.shift(),g.position+=6):g.add(x):(g.emitBlock(),g.ital=!0,g.modStack.unshift("ital"),g.position+=2):(g.emitBlock(),g.bold=!0,g.modStack.unshift("bold"),g.position+=2):/&/.test(x)?/&lt;/.test(b.substr(g.position,4))?(g.add("<"),g.position+=3):/&amp;/.test(b.substr(g.position,5))?(g.add("&"),g.position+=4):g.add("&"):g.add(x),g.position++}return g.emitBlock(),y}},{key:"splitMarkdownBlocks",value:function(b){for(var y=[],g={bold:!1,ital:!1,mono:!1,beginable:!0,spacing:!1,position:0,buffer:"",modStack:[],mod:function(){return 0===this.modStack.length?"normal":this.modStack[0]},modName:function(){return 0===this.modStack.length?"normal":"mono"===this.modStack[0]?"mono":g.bold&&g.ital?"boldital":g.bold?"bold":g.ital?"ital":void 0},emitBlock:function(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(y.push({text:this.buffer,mod:this.modName()}),this.buffer="")},add:function(c){" "===c&&(g.spacing=!0),g.spacing&&(this.buffer+=" ",this.spacing=!1)," "!=c&&(this.buffer+=c)}};g.position<b.length;){var x=b.charAt(g.position);/[ \t]/.test(x)?(g.mono?g.add(x):g.spacing=!0,g.beginable=!0):/\\/.test(x)?g.position<b.length+1&&(g.position++,x=b.charAt(g.position),/ \t/.test(x)?g.spacing=!0:(g.add(x),g.beginable=!1)):g.mono||g.bold||!g.beginable&&!g.spacing||!/\*/.test(x)?g.mono||g.ital||!g.beginable&&!g.spacing||!/\_/.test(x)?!g.mono&&(g.beginable||g.spacing)&&/`/.test(x)?(g.emitBlock(),g.mono=!0,g.modStack.unshift("mono")):!g.mono&&"bold"===g.mod()&&/\*/.test(x)?g.position===b.length-1||/[.,_` \t\n]/.test(b.charAt(g.position+1))?(g.emitBlock(),g.bold=!1,g.modStack.shift()):g.add(x):!g.mono&&"ital"===g.mod()&&/\_/.test(x)?g.position===b.length-1||/[.,*` \t\n]/.test(b.charAt(g.position+1))?(g.emitBlock(),g.ital=!1,g.modStack.shift()):g.add(x):g.mono&&"mono"===g.mod()&&/`/.test(x)?g.position===b.length-1||/[.,*_ \t\n]/.test(b.charAt(g.position+1))?(g.emitBlock(),g.mono=!1,g.modStack.shift()):g.add(x):(g.add(x),g.beginable=!1):(g.emitBlock(),g.ital=!0,g.modStack.unshift("ital")):(g.emitBlock(),g.bold=!0,g.modStack.unshift("bold")),g.position++}return g.emitBlock(),y}},{key:"splitBlocks",value:function(b,y){var g=this.decodeMarkupSystem(y);return"none"===g?[{text:b,mod:"normal"}]:"markdown"===g?this.splitMarkdownBlocks(b):"html"===g?this.splitHtmlBlocks(b):void 0}},{key:"overMaxWidth",value:function(b){var y=this.ctx.measureText(b).width;return this.lines.curWidth()+y>this.parent.fontOptions.maxWdt}},{key:"getLongestFit",value:function(b){for(var y="",g=0;g<b.length;){var c=y+(""===y?"":" ")+b[g];if(this.overMaxWidth(c))break;y=c,g++}return g}},{key:"getLongestFitWord",value:function(b){for(var y=0;y<b.length&&!this.overMaxWidth(b.slice(0,y));)y++;return y}},{key:"splitStringIntoLines",value:function(b){for(var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal",g=arguments.length>2&&void 0!==arguments[2]&&arguments[2],x=(b=(b=b.replace(/^( +)/g,"$1\r")).replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r")).split("\r");x.length>0;){var c=this.getLongestFit(x);if(0===c){var m=x[0],h=this.getLongestFitWord(m);this.lines.newLine(m.slice(0,h),y),x[0]=m.slice(h)}else{var d=c;" "===x[c-1]?c--:" "===x[d]&&d++;var v=x.slice(0,c).join("");c==x.length&&g?this.lines.append(v,y):this.lines.newLine(v,y),x=x.slice(d)}}}}]),M}();U.default=F},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=T(S(90)),P=T(S(0)),L=T(S(1));function T(M){return M&&M.__esModule?M:{default:M}}var F=function(){function M(E){(0,P.default)(this,M),this.measureText=E,this.current=0,this.width=0,this.height=0,this.lines=[]}return(0,L.default)(M,[{key:"_add",value:function(b,y){var g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"normal";void 0===this.lines[b]&&(this.lines[b]={width:0,height:0,blocks:[]});var x=y;(void 0===y||""===y)&&(x=" ");var c=this.measureText(x,g),m=(0,D.default)({},c.values);m.text=y,m.width=c.width,m.mod=g,(void 0===y||""===y)&&(m.width=0),this.lines[b].blocks.push(m),this.lines[b].width+=m.width}},{key:"curWidth",value:function(){var b=this.lines[this.current];return void 0===b?0:b.width}},{key:"append",value:function(b){this._add(this.current,b,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal")}},{key:"newLine",value:function(b){this._add(this.current,b,arguments.length>1&&void 0!==arguments[1]?arguments[1]:"normal"),this.current++}},{key:"determineLineHeights",value:function(){for(var b=0;b<this.lines.length;b++){var y=this.lines[b],g=0;if(void 0!==y.blocks)for(var x=0;x<y.blocks.length;x++){var c=y.blocks[x];g<c.height&&(g=c.height)}y.height=g}}},{key:"determineLabelSize",value:function(){for(var b=0,y=0,g=0;g<this.lines.length;g++){var x=this.lines[g];x.width>b&&(b=x.width),y+=x.height}this.width=b,this.height=y}},{key:"removeEmptyBlocks",value:function(){for(var b=[],y=0;y<this.lines.length;y++){var g=this.lines[y];if(0!==g.blocks.length&&(y!==this.lines.length-1||0!==g.width)){var x={};(0,D.default)(x,g),x.blocks=[];for(var c=void 0,m=[],h=0;h<g.blocks.length;h++){var d=g.blocks[h];0!==d.width?m.push(d):void 0===c&&(c=d)}0===m.length&&void 0!==c&&m.push(c),x.blocks=m,b.push(x)}}return b}},{key:"finalize",value:function(){this.determineLineHeights(),this.determineLabelSize();var b=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:b}}}]),M}();U.default=F},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=g(S(3)),P=g(S(0)),L=g(S(1)),F=g(S(4)),E=g(S(5));function g(c){return c&&c.__esModule?c:{default:c}}var x=function(c){function m(h,d,v){(0,P.default)(this,m);var C=(0,F.default)(this,(m.__proto__||(0,D.default)(m)).call(this,h,d,v));return C._setMargins(v),C}return(0,E.default)(m,c),(0,L.default)(m,[{key:"resize",value:function(d){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(v,C)){var f=this.getDimensionsFromLabel(d,v,C);this.width=f.width+this.margin.right+this.margin.left,this.height=f.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}},{key:"draw",value:function(d,v,C,f,p,_){this.resize(d,f,p),this.left=v-this.width/2,this.top=C-this.height/2,this.initContextForDraw(d,_),d.roundRect(this.left,this.top,this.width,this.height,_.borderRadius),this.performFill(d,_),this.updateBoundingBox(v,C,d,f,p),this.labelModule.draw(d,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,f,p)}},{key:"updateBoundingBox",value:function(d,v,C,f,p){this._updateBoundingBox(d,v,C,f,p),this._addBoundingBoxMargin(this.options.shapeProperties.borderRadius)}},{key:"distanceToBorder",value:function(d,v){this.resize(d);var C=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(v)),Math.abs(this.height/2/Math.sin(v)))+C}}]),m}(g(S(23)).default);U.default=x},function(ee,U,S){S(195),ee.exports=S(7).Object.getPrototypeOf},function(ee,U,S){var B=S(41),D=S(85);S(87)("getPrototypeOf",function(){return function(P){return D(B(P))}})},function(ee,U,S){ee.exports={default:S(197),__esModule:!0}},function(ee,U,S){S(198),ee.exports=S(7).Object.setPrototypeOf},function(ee,U,S){var B=S(17);B(B.S,"Object",{setPrototypeOf:S(199).set})},function(ee,U,S){var B=S(32),D=S(27),I=function(P,N){if(D(P),!B(N)&&null!==N)throw TypeError(N+": can't set as prototype!")};ee.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(P,N,L){try{(L=S(80)(Function.call,S(89).f(Object.prototype,"__proto__").set,2))(P,[]),N=!(P instanceof Array)}catch{N=!0}return function(F,M){return I(F,M),N?F.__proto__=M:L(F,M),F}}({},!1):void 0),check:I}},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=g(S(3)),P=g(S(0)),L=g(S(1)),F=g(S(4)),E=g(S(5));function g(c){return c&&c.__esModule?c:{default:c}}var x=function(c){function m(h,d,v){(0,P.default)(this,m);var C=(0,F.default)(this,(m.__proto__||(0,D.default)(m)).call(this,h,d,v));return C._setMargins(v),C}return(0,E.default)(m,c),(0,L.default)(m,[{key:"resize",value:function(d){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(v,C)){var f=this.getDimensionsFromLabel(d,v,C),p=Math.max(f.width+this.margin.right+this.margin.left,f.height+this.margin.top+this.margin.bottom);this.options.size=p/2,this.width=p,this.height=p,this.radius=this.width/2}}},{key:"draw",value:function(d,v,C,f,p,_){this.resize(d,f,p),this.left=v-this.width/2,this.top=C-this.height/2,this._drawRawCircle(d,v,C,_),this.updateBoundingBox(v,C),this.labelModule.draw(d,this.left+this.textSize.width/2+this.margin.left,C,f,p)}},{key:"updateBoundingBox",value:function(d,v){this.boundingBox.top=v-this.options.size,this.boundingBox.left=d-this.options.size,this.boundingBox.right=d+this.options.size,this.boundingBox.bottom=v+this.options.size}},{key:"distanceToBorder",value:function(d,v){return this.resize(d),.5*this.width}}]),m}(g(S(73)).default);U.default=x},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=g(S(3)),P=g(S(0)),L=g(S(1)),F=g(S(4)),E=g(S(5));function g(c){return c&&c.__esModule?c:{default:c}}var x=function(c){function m(h,d,v,C,f){(0,P.default)(this,m);var p=(0,F.default)(this,(m.__proto__||(0,D.default)(m)).call(this,h,d,v));return p.setImages(C,f),p}return(0,E.default)(m,c),(0,L.default)(m,[{key:"resize",value:function(d){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var p=2*this.options.size;return this.width=p,this.height=p,void(this.radius=.5*this.width)}this.needsRefresh(v,C)&&this._resizeImage()}},{key:"draw",value:function(d,v,C,f,p,_){this.switchImages(f),this.resize(),this.left=v-this.width/2,this.top=C-this.height/2,this._drawRawCircle(d,v,C,_),d.save(),d.clip(),this._drawImageAtPosition(d,_),d.restore(),this._drawImageLabel(d,v,C,f,p),this.updateBoundingBox(v,C)}},{key:"updateBoundingBox",value:function(d,v){this.boundingBox.top=v-this.options.size,this.boundingBox.left=d-this.options.size,this.boundingBox.right=d+this.options.size,this.boundingBox.bottom=v+this.options.size,this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}},{key:"distanceToBorder",value:function(d,v){return this.resize(d),.5*this.width}}]),m}(g(S(73)).default);U.default=x},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=g(S(3)),P=g(S(0)),L=g(S(1)),F=g(S(4)),E=g(S(5));function g(c){return c&&c.__esModule?c:{default:c}}var x=function(c){function m(h,d,v){(0,P.default)(this,m);var C=(0,F.default)(this,(m.__proto__||(0,D.default)(m)).call(this,h,d,v));return C._setMargins(v),C}return(0,E.default)(m,c),(0,L.default)(m,[{key:"resize",value:function(d,v,C){if(this.needsRefresh(v,C)){var p=this.getDimensionsFromLabel(d,v,C).width+this.margin.right+this.margin.left;this.width=p,this.height=p,this.radius=this.width/2}}},{key:"draw",value:function(d,v,C,f,p,_){this.resize(d,f,p),this.left=v-this.width/2,this.top=C-this.height/2,this.initContextForDraw(d,_),d.database(v-this.width/2,C-this.height/2,this.width,this.height),this.performFill(d,_),this.updateBoundingBox(v,C,d,f,p),this.labelModule.draw(d,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,f,p)}},{key:"distanceToBorder",value:function(d,v){return this._distanceToBorder(d,v)}}]),m}(g(S(23)).default);U.default=x},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=g(S(3)),P=g(S(0)),L=g(S(1)),F=g(S(4)),E=g(S(5));function g(c){return c&&c.__esModule?c:{default:c}}var x=function(c){function m(h,d,v){return(0,P.default)(this,m),(0,F.default)(this,(m.__proto__||(0,D.default)(m)).call(this,h,d,v))}return(0,E.default)(m,c),(0,L.default)(m,[{key:"draw",value:function(d,v,C,f,p,_){this._drawShape(d,"diamond",4,v,C,f,p,_)}},{key:"distanceToBorder",value:function(d,v){return this._distanceToBorder(d,v)}}]),m}(g(S(24)).default);U.default=x},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=g(S(3)),P=g(S(0)),L=g(S(1)),F=g(S(4)),E=g(S(5));function g(c){return c&&c.__esModule?c:{default:c}}var x=function(c){function m(h,d,v){return(0,P.default)(this,m),(0,F.default)(this,(m.__proto__||(0,D.default)(m)).call(this,h,d,v))}return(0,E.default)(m,c),(0,L.default)(m,[{key:"draw",value:function(d,v,C,f,p,_){this._drawShape(d,"circle",2,v,C,f,p,_)}},{key:"distanceToBorder",value:function(d,v){return this.resize(d),this.options.size}}]),m}(g(S(24)).default);U.default=x},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=g(S(3)),P=g(S(0)),L=g(S(1)),F=g(S(4)),E=g(S(5));function g(c){return c&&c.__esModule?c:{default:c}}var x=function(c){function m(h,d,v){return(0,P.default)(this,m),(0,F.default)(this,(m.__proto__||(0,D.default)(m)).call(this,h,d,v))}return(0,E.default)(m,c),(0,L.default)(m,[{key:"resize",value:function(d){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(this.needsRefresh(v,C)){var f=this.getDimensionsFromLabel(d,v,C);this.height=2*f.height,this.width=f.width+f.height,this.radius=.5*this.width}}},{key:"draw",value:function(d,v,C,f,p,_){this.resize(d,f,p),this.left=v-.5*this.width,this.top=C-.5*this.height,this.initContextForDraw(d,_),d.ellipse_vis(this.left,this.top,this.width,this.height),this.performFill(d,_),this.updateBoundingBox(v,C,d,f,p),this.labelModule.draw(d,v,C,f,p)}},{key:"distanceToBorder",value:function(d,v){this.resize(d);var C=.5*this.width,f=.5*this.height,p=Math.sin(v)*C,_=Math.cos(v)*f;return C*f/Math.sqrt(p*p+_*_)}}]),m}(g(S(23)).default);U.default=x},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=g(S(3)),P=g(S(0)),L=g(S(1)),F=g(S(4)),E=g(S(5));function g(c){return c&&c.__esModule?c:{default:c}}var x=function(c){function m(h,d,v){(0,P.default)(this,m);var C=(0,F.default)(this,(m.__proto__||(0,D.default)(m)).call(this,h,d,v));return C._setMargins(v),C}return(0,E.default)(m,c),(0,L.default)(m,[{key:"resize",value:function(d,v,C){this.needsRefresh(v,C)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(d,v,C,f,p,_){this.resize(d,f,p),this.options.icon.size=this.options.icon.size||50,this.left=v-this.width/2,this.top=C-this.height/2,this._icon(d,v,C,f,p,_),void 0!==this.options.label&&this.labelModule.draw(d,this.left+this.iconSize.width/2+this.margin.left,C+this.height/2+5,f),this.updateBoundingBox(v,C)}},{key:"updateBoundingBox",value:function(d,v){if(this.boundingBox.top=v-.5*this.options.icon.size,this.boundingBox.left=d-.5*this.options.icon.size,this.boundingBox.right=d+.5*this.options.icon.size,this.boundingBox.bottom=v+.5*this.options.icon.size,void 0!==this.options.label&&this.labelModule.size.width>0){this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5)}}},{key:"_icon",value:function(d,v,C,f,p,_){var O=Number(this.options.icon.size);void 0!==this.options.icon.code?(d.font=(f?"bold ":"")+O+"px "+this.options.icon.face,d.fillStyle=this.options.icon.color||"black",d.textAlign="center",d.textBaseline="middle",this.enableShadow(d,_),d.fillText(this.options.icon.code,v,C),this.disableShadow(d,_)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}},{key:"distanceToBorder",value:function(d,v){return this._distanceToBorder(d,v)}}]),m}(g(S(23)).default);U.default=x},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=g(S(3)),P=g(S(0)),L=g(S(1)),F=g(S(4)),E=g(S(5));function g(c){return c&&c.__esModule?c:{default:c}}var x=function(c){function m(h,d,v,C,f){(0,P.default)(this,m);var p=(0,F.default)(this,(m.__proto__||(0,D.default)(m)).call(this,h,d,v));return p.setImages(C,f),p}return(0,E.default)(m,c),(0,L.default)(m,[{key:"resize",value:function(d){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.selected,C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.hover;if(void 0===this.imageObj.src||void 0===this.imageObj.width||void 0===this.imageObj.height){var p=2*this.options.size;return this.width=p,void(this.height=p)}this.needsRefresh(v,C)&&this._resizeImage()}},{key:"draw",value:function(d,v,C,f,p,_){this.switchImages(f),this.resize(),this.left=v-this.width/2,this.top=C-this.height/2,!0===this.options.shapeProperties.useBorderWithImage&&(d.lineWidth=Math.min(this.width,(f?this.options.borderWidthSelected||2*this.options.borderWidth:this.options.borderWidth)/this.body.view.scale),d.beginPath(),d.strokeStyle=f?this.options.color.highlight.border:p?this.options.color.hover.border:this.options.color.border,d.fillStyle=f?this.options.color.highlight.background:p?this.options.color.hover.background:this.options.color.background,d.rect(this.left-.5*d.lineWidth,this.top-.5*d.lineWidth,this.width+d.lineWidth,this.height+d.lineWidth),d.fill(),this.performStroke(d,_),d.closePath()),this._drawImageAtPosition(d,_),this._drawImageLabel(d,v,C,f,p),this.updateBoundingBox(v,C)}},{key:"updateBoundingBox",value:function(d,v){this.resize(),this._updateBoundingBox(d,v),void 0!==this.options.label&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}},{key:"distanceToBorder",value:function(d,v){return this._distanceToBorder(d,v)}}]),m}(g(S(73)).default);U.default=x},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=g(S(3)),P=g(S(0)),L=g(S(1)),F=g(S(4)),E=g(S(5));function g(c){return c&&c.__esModule?c:{default:c}}var x=function(c){function m(h,d,v){return(0,P.default)(this,m),(0,F.default)(this,(m.__proto__||(0,D.default)(m)).call(this,h,d,v))}return(0,E.default)(m,c),(0,L.default)(m,[{key:"draw",value:function(d,v,C,f,p,_){this._drawShape(d,"square",2,v,C,f,p,_)}},{key:"distanceToBorder",value:function(d,v){return this._distanceToBorder(d,v)}}]),m}(g(S(24)).default);U.default=x},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=g(S(3)),P=g(S(0)),L=g(S(1)),F=g(S(4)),E=g(S(5));function g(c){return c&&c.__esModule?c:{default:c}}var x=function(c){function m(h,d,v){return(0,P.default)(this,m),(0,F.default)(this,(m.__proto__||(0,D.default)(m)).call(this,h,d,v))}return(0,E.default)(m,c),(0,L.default)(m,[{key:"draw",value:function(d,v,C,f,p,_){this._drawShape(d,"hexagon",4,v,C,f,p,_)}},{key:"distanceToBorder",value:function(d,v){return this._distanceToBorder(d,v)}}]),m}(g(S(24)).default);U.default=x},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=g(S(3)),P=g(S(0)),L=g(S(1)),F=g(S(4)),E=g(S(5));function g(c){return c&&c.__esModule?c:{default:c}}var x=function(c){function m(h,d,v){return(0,P.default)(this,m),(0,F.default)(this,(m.__proto__||(0,D.default)(m)).call(this,h,d,v))}return(0,E.default)(m,c),(0,L.default)(m,[{key:"draw",value:function(d,v,C,f,p,_){this._drawShape(d,"star",4,v,C,f,p,_)}},{key:"distanceToBorder",value:function(d,v){return this._distanceToBorder(d,v)}}]),m}(g(S(24)).default);U.default=x},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=g(S(3)),P=g(S(0)),L=g(S(1)),F=g(S(4)),E=g(S(5));function g(c){return c&&c.__esModule?c:{default:c}}var x=function(c){function m(h,d,v){(0,P.default)(this,m);var C=(0,F.default)(this,(m.__proto__||(0,D.default)(m)).call(this,h,d,v));return C._setMargins(v),C}return(0,E.default)(m,c),(0,L.default)(m,[{key:"resize",value:function(d,v,C){this.needsRefresh(v,C)&&(this.textSize=this.labelModule.getTextSize(d,v,C),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}},{key:"draw",value:function(d,v,C,f,p,_){this.resize(d,f,p),this.left=v-this.width/2,this.top=C-this.height/2,this.enableShadow(d,_),this.labelModule.draw(d,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,f,p),this.disableShadow(d,_),this.updateBoundingBox(v,C,d,f,p)}},{key:"distanceToBorder",value:function(d,v){return this._distanceToBorder(d,v)}}]),m}(g(S(23)).default);U.default=x},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=g(S(3)),P=g(S(0)),L=g(S(1)),F=g(S(4)),E=g(S(5));function g(c){return c&&c.__esModule?c:{default:c}}var x=function(c){function m(h,d,v){return(0,P.default)(this,m),(0,F.default)(this,(m.__proto__||(0,D.default)(m)).call(this,h,d,v))}return(0,E.default)(m,c),(0,L.default)(m,[{key:"draw",value:function(d,v,C,f,p,_){this._drawShape(d,"triangle",3,v,C,f,p,_)}},{key:"distanceToBorder",value:function(d,v){return this._distanceToBorder(d,v)}}]),m}(g(S(24)).default);U.default=x},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=g(S(3)),P=g(S(0)),L=g(S(1)),F=g(S(4)),E=g(S(5));function g(c){return c&&c.__esModule?c:{default:c}}var x=function(c){function m(h,d,v){return(0,P.default)(this,m),(0,F.default)(this,(m.__proto__||(0,D.default)(m)).call(this,h,d,v))}return(0,E.default)(m,c),(0,L.default)(m,[{key:"draw",value:function(d,v,C,f,p,_){this._drawShape(d,"triangleDown",3,v,C,f,p,_)}},{key:"distanceToBorder",value:function(d,v){return this._distanceToBorder(d,v)}}]),m}(g(S(24)).default);U.default=x},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=N(S(0)),P=N(S(1));function N(b){return b&&b.__esModule?b:{default:b}}var L=S(2),T=S(11),F=S(12),M=S(74).default,E=function(){function b(y,g,x){var c=this;(0,D.default)(this,b),this.body=y,this.images=g,this.groups=x,this.body.functions.createEdge=this.create.bind(this),this.edgesListeners={add:function(h,d){c.add(d.items)},update:function(h,d){c.update(d.items)},remove:function(h,d){c.remove(d.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(h,d,v,C){return d===h?.5:Math.max(0,1/(d-h)*(C-h))}},selectionWidth:1.5,selfReferenceSize:20,shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},L.deepExtend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,P.default)(b,[{key:"bindEventListeners",value:function(){var g=this;this.body.emitter.on("_forceDisableDynamicCurves",function(x){var c=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];"dynamic"===x&&(x="continuous");var m=!1;for(var h in g.body.edges)if(g.body.edges.hasOwnProperty(h)){var v=g.body.data.edges._data[h];if(void 0!==v){var C=v.smooth;void 0!==C&&!0===C.enabled&&"dynamic"===C.type&&(g.body.edges[h].setOptions(void 0===x?{smooth:!1}:{smooth:{type:x}}),m=!0)}}!0===c&&!0===m&&g.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",function(){g.reconnectEdges()}),this.body.emitter.on("refreshEdges",this.refresh.bind(this)),this.body.emitter.on("refresh",this.refresh.bind(this)),this.body.emitter.on("destroy",function(){L.forEach(g.edgesListeners,function(x,c){g.body.data.edges&&g.body.data.edges.off(c,x)}),delete g.body.functions.createEdge,delete g.edgesListeners.add,delete g.edgesListeners.update,delete g.edgesListeners.remove,delete g.edgesListeners})}},{key:"setOptions",value:function(g){if(void 0!==g){M.parseOptions(this.options,g,!0,this.defaultOptions,!0);var x=!1;if(void 0!==g.smooth)for(var c in this.body.edges)this.body.edges.hasOwnProperty(c)&&(x=this.body.edges[c].updateEdgeType()||x);if(void 0!==g.font)for(var m in this.body.edges)this.body.edges.hasOwnProperty(m)&&this.body.edges[m].updateLabelModule();(void 0!==g.hidden||void 0!==g.physics||!0===x)&&this.body.emitter.emit("_dataChanged")}}},{key:"setData",value:function(g){var x=this,c=arguments.length>1&&void 0!==arguments[1]&&arguments[1],m=this.body.data.edges;if(g instanceof T||g instanceof F)this.body.data.edges=g;else if(Array.isArray(g))this.body.data.edges=new T,this.body.data.edges.add(g);else{if(g)throw new TypeError("Array or DataSet expected");this.body.data.edges=new T}if(m&&L.forEach(this.edgesListeners,function(d,v){m.off(v,d)}),this.body.edges={},this.body.data.edges){L.forEach(this.edgesListeners,function(d,v){x.body.data.edges.on(v,d)});var h=this.body.data.edges.getIds();this.add(h,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===c&&this.body.emitter.emit("_dataChanged")}},{key:"add",value:function(g){for(var x=arguments.length>1&&void 0!==arguments[1]&&arguments[1],c=this.body.edges,m=this.body.data.edges,h=0;h<g.length;h++){var d=g[h],v=c[d];v&&v.disconnect();var C=m.get(d,{showInternalIds:!0});c[d]=this.create(C)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),!1===x&&this.body.emitter.emit("_dataChanged")}},{key:"update",value:function(g){for(var x=this.body.edges,c=this.body.data.edges,m=!1,h=0;h<g.length;h++){var d=g[h],v=c.get(d),C=x[d];void 0!==C?(C.disconnect(),m=C.setOptions(v)||m,C.connect()):(this.body.edges[d]=this.create(v),m=!0)}!0===m?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}},{key:"remove",value:function(g){var x=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(0!==g.length){var c=this.body.edges;L.forEach(g,function(m){var h=c[m];void 0!==h&&h.remove()}),x&&this.body.emitter.emit("_dataChanged")}}},{key:"refresh",value:function(){var g=this;L.forEach(this.body.edges,function(x,c){var m=g.body.data.edges._data[c];void 0!==m&&x.setOptions(m)})}},{key:"create",value:function(g){return new M(g,this.body,this.options,this.defaultOptions)}},{key:"reconnectEdges",value:function(){var g,x=this.body.nodes,c=this.body.edges;for(g in x)x.hasOwnProperty(g)&&(x[g].edges=[]);for(g in c)if(c.hasOwnProperty(g)){var m=c[g];m.from=null,m.to=null,m.connect()}}},{key:"getConnectedNodes",value:function(g){var x=[];if(void 0!==this.body.edges[g]){var c=this.body.edges[g];void 0!==c.fromId&&x.push(c.fromId),void 0!==c.toId&&x.push(c.toId)}return x}},{key:"_updateState",value:function(){this._addMissingEdges(),this._removeInvalidEdges()}},{key:"_removeInvalidEdges",value:function(){var g=this,x=[];L.forEach(this.body.edges,function(c,m){var h=g.body.nodes[c.toId],d=g.body.nodes[c.fromId];void 0!==h&&!0===h.isCluster||void 0!==d&&!0===d.isCluster||(void 0===h||void 0===d)&&x.push(m)}),this.remove(x,!1)}},{key:"_addMissingEdges",value:function(){var g=this.body.edges,c=[];this.body.data.edges.forEach(function(m,h){void 0===g[h]&&c.push(h)}),this.add(c,!0)}}]),b}();U.default=E},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=c(S(30)),P=c(S(3)),L=c(S(0)),F=c(S(1)),E=c(S(4)),y=c(S(5));function c(h){return h&&h.__esModule?h:{default:h}}var m=function(h){function d(v,C,f){return(0,L.default)(this,d),(0,E.default)(this,(d.__proto__||(0,P.default)(d)).call(this,v,C,f))}return(0,y.default)(d,h),(0,F.default)(d,[{key:"_line",value:function(C,f,p){this._bezierCurve(C,f,p[0],p[1])}},{key:"_getViaCoordinates",value:function(){var C=this.from.x-this.to.x,f=this.from.y-this.to.y,p=void 0,_=void 0,O=void 0,V=void 0,j=this.options.smooth.roundness;return(Math.abs(C)>Math.abs(f)||!0===this.options.smooth.forceDirection||"horizontal"===this.options.smooth.forceDirection)&&"vertical"!==this.options.smooth.forceDirection?(_=this.from.y,V=this.to.y,p=this.from.x-j*C,O=this.to.x+j*C):(_=this.from.y-j*f,V=this.to.y+j*f,p=this.from.x,O=this.to.x),[{x:p,y:_},{x:O,y:V}]}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_findBorderPosition",value:function(C,f){return this._findBorderPositionBezier(C,f)}},{key:"_getDistanceToEdge",value:function(C,f,p,_,O,V){var j=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates(),$=(0,D.default)(j,2);return this._getDistanceToBezierEdge(C,f,p,_,O,V,$[0],$[1])}},{key:"getPoint",value:function(C){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),p=(0,D.default)(f,2),_=p[0],O=p[1],V=C,j=[];return j[0]=Math.pow(1-V,3),j[1]=3*V*Math.pow(1-V,2),j[2]=3*Math.pow(V,2)*(1-V),j[3]=Math.pow(V,3),{x:j[0]*this.fromPoint.x+j[1]*_.x+j[2]*O.x+j[3]*this.toPoint.x,y:j[0]*this.fromPoint.y+j[1]*_.y+j[2]*O.y+j[3]*this.toPoint.y}}}]),d}(c(S(216)).default);U.default=m},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=g(S(3)),P=g(S(0)),L=g(S(1)),F=g(S(4)),E=g(S(5));function g(c){return c&&c.__esModule?c:{default:c}}var x=function(c){function m(h,d,v){return(0,P.default)(this,m),(0,F.default)(this,(m.__proto__||(0,D.default)(m)).call(this,h,d,v))}return(0,E.default)(m,c),(0,L.default)(m,[{key:"_getDistanceToBezierEdge",value:function(d,v,C,f,p,_,O,V){var j=1e9,$=void 0,W=void 0,Y=void 0,q=void 0,re=void 0,se=d,de=v,ve=[0,0,0,0];for(W=1;W<10;W++)Y=.1*W,ve[0]=Math.pow(1-Y,3),ve[1]=3*Y*Math.pow(1-Y,2),ve[2]=3*Math.pow(Y,2)*(1-Y),ve[3]=Math.pow(Y,3),q=ve[0]*d+ve[1]*O.x+ve[2]*V.x+ve[3]*C,re=ve[0]*v+ve[1]*O.y+ve[2]*V.y+ve[3]*f,W>0&&(j=($=this._getDistanceToLine(se,de,q,re,p,_))<j?$:j),se=q,de=re;return j}}]),m}(g(S(75)).default);U.default=x},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=c(S(30)),P=c(S(3)),L=c(S(0)),F=c(S(1)),E=c(S(4)),y=c(S(5));function c(h){return h&&h.__esModule?h:{default:h}}var m=function(h){function d(v,C,f){(0,L.default)(this,d);var p=(0,E.default)(this,(d.__proto__||(0,P.default)(d)).call(this,v,C,f));return p._boundFunction=function(){p.positionBezierNode()},p.body.emitter.on("_repositionBezierNodes",p._boundFunction),p}return(0,y.default)(d,h),(0,F.default)(d,[{key:"setOptions",value:function(C){var f=!1;this.options.physics!==C.physics&&(f=!0),this.options=C,this.id=this.options.id,this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.setupSupportNode(),this.connect(),!0===f&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}},{key:"connect",value:function(){this.from=this.body.nodes[this.options.from],this.to=this.body.nodes[this.options.to],this.via.setOptions(void 0===this.from||void 0===this.to||!1===this.options.physics||this.from.id===this.to.id?{physics:!1}:{physics:!0})}},{key:"cleanup",value:function(){return this.body.emitter.off("_repositionBezierNodes",this._boundFunction),void 0!==this.via&&(delete this.body.nodes[this.via.id],this.via=void 0,!0)}},{key:"setupSupportNode",value:function(){if(void 0===this.via){var C="edgeId:"+this.id,f=this.body.functions.createNode({id:C,shape:"circle",physics:!0,hidden:!0});this.body.nodes[C]=f,this.via=f,this.via.parentEdgeId=this.id,this.positionBezierNode()}}},{key:"positionBezierNode",value:function(){void 0!==this.via&&void 0!==this.from&&void 0!==this.to?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):void 0!==this.via&&(this.via.x=0,this.via.y=0)}},{key:"_line",value:function(C,f,p){this._bezierCurve(C,f,p)}},{key:"getViaNode",value:function(){return this.via}},{key:"getPoint",value:function(C){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.via,p=C,_=void 0,O=void 0;if(this.from===this.to){var V=this._getCircleData(this.from),j=(0,D.default)(V,3),W=j[1],Y=j[2],q=2*Math.PI*(1-p);_=j[0]+Y*Math.sin(q),O=W+Y-Y*(1-Math.cos(q))}else _=Math.pow(1-p,2)*this.fromPoint.x+2*p*(1-p)*f.x+Math.pow(p,2)*this.toPoint.x,O=Math.pow(1-p,2)*this.fromPoint.y+2*p*(1-p)*f.y+Math.pow(p,2)*this.toPoint.y;return{x:_,y:O}}},{key:"_findBorderPosition",value:function(C,f){return this._findBorderPositionBezier(C,f,this.via)}},{key:"_getDistanceToEdge",value:function(C,f,p,_,O,V){return this._getDistanceToBezierEdge(C,f,p,_,O,V,this.via)}}]),d}(c(S(75)).default);U.default=m},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=g(S(3)),P=g(S(0)),L=g(S(1)),F=g(S(4)),E=g(S(5));function g(c){return c&&c.__esModule?c:{default:c}}var x=function(c){function m(h,d,v){return(0,P.default)(this,m),(0,F.default)(this,(m.__proto__||(0,D.default)(m)).call(this,h,d,v))}return(0,E.default)(m,c),(0,L.default)(m,[{key:"_line",value:function(d,v,C){this._bezierCurve(d,v,C)}},{key:"getViaNode",value:function(){return this._getViaCoordinates()}},{key:"_getViaCoordinates",value:function(){var d=void 0,v=void 0,C=this.options.smooth.roundness,f=this.options.smooth.type,p=Math.abs(this.from.x-this.to.x),_=Math.abs(this.from.y-this.to.y);if("discrete"===f||"diagonalCross"===f){var O=void 0,V=void 0;O=V=p<=_?C*_:C*p,this.from.x>this.to.x&&(O=-O),this.from.y>=this.to.y&&(V=-V),d=this.from.x+O,v=this.from.y+V,"discrete"===f&&(p<=_?d=p<C*_?this.from.x:d:v=_<C*p?this.from.y:v)}else if("straightCross"===f){var j=(1-C)*p,$=(1-C)*_;p<=_?(j=0,this.from.y<this.to.y&&($=-$)):(this.from.x<this.to.x&&(j=-j),$=0),d=this.to.x+j,v=this.to.y+$}else if("horizontal"===f){var W=(1-C)*p;this.from.x<this.to.x&&(W=-W),d=this.to.x+W,v=this.from.y}else if("vertical"===f){var Y=(1-C)*_;this.from.y<this.to.y&&(Y=-Y),d=this.from.x,v=this.to.y+Y}else if("curvedCW"===f){p=this.to.x-this.from.x,_=this.from.y-this.to.y;var q=Math.sqrt(p*p+_*_),re=Math.PI,de=(Math.atan2(_,p)+(.5*C+.5)*re)%(2*re);d=this.from.x+(.5*C+.5)*q*Math.sin(de),v=this.from.y+(.5*C+.5)*q*Math.cos(de)}else if("curvedCCW"===f){p=this.to.x-this.from.x,_=this.from.y-this.to.y;var ve=Math.sqrt(p*p+_*_),Oe=Math.PI,Me=(Math.atan2(_,p)+(.5*-C+.5)*Oe)%(2*Oe);d=this.from.x+(.5*C+.5)*ve*Math.sin(Me),v=this.from.y+(.5*C+.5)*ve*Math.cos(Me)}else{var be=void 0,ue=void 0;be=ue=p<=_?C*_:C*p,this.from.x>this.to.x&&(be=-be),this.from.y>=this.to.y&&(ue=-ue),d=this.from.x+be,v=this.from.y+ue,p<=_?d=this.from.x<=this.to.x?this.to.x<d?this.to.x:d:this.to.x>d?this.to.x:d:v=this.from.y>=this.to.y?this.to.y>v?this.to.y:v:this.to.y<v?this.to.y:v}return{x:d,y:v}}},{key:"_findBorderPosition",value:function(d,v){return this._findBorderPositionBezier(d,v,(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).via)}},{key:"_getDistanceToEdge",value:function(d,v,C,f,p,_){var O=arguments.length>6&&void 0!==arguments[6]?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(d,v,C,f,p,_,O)}},{key:"getPoint",value:function(d){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this._getViaCoordinates(),C=d;return{x:Math.pow(1-C,2)*this.fromPoint.x+2*C*(1-C)*v.x+Math.pow(C,2)*this.toPoint.x,y:Math.pow(1-C,2)*this.fromPoint.y+2*C*(1-C)*v.y+Math.pow(C,2)*this.toPoint.y}}}]),m}(g(S(75)).default);U.default=x},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=g(S(3)),P=g(S(0)),L=g(S(1)),F=g(S(4)),E=g(S(5));function g(c){return c&&c.__esModule?c:{default:c}}var x=function(c){function m(h,d,v){return(0,P.default)(this,m),(0,F.default)(this,(m.__proto__||(0,D.default)(m)).call(this,h,d,v))}return(0,E.default)(m,c),(0,L.default)(m,[{key:"_line",value:function(d,v){d.beginPath(),d.moveTo(this.fromPoint.x,this.fromPoint.y),d.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(d,v),d.stroke(),this.disableShadow(d,v)}},{key:"getViaNode",value:function(){}},{key:"getPoint",value:function(d){return{x:(1-d)*this.fromPoint.x+d*this.toPoint.x,y:(1-d)*this.fromPoint.y+d*this.toPoint.y}}},{key:"_findBorderPosition",value:function(d,v){var C=this.to,f=this.from;d.id===this.from.id&&(C=this.from,f=this.to);var p=Math.atan2(C.y-f.y,C.x-f.x),_=C.x-f.x,O=C.y-f.y,V=Math.sqrt(_*_+O*O),$=(V-d.distanceToBorder(v,p))/V,W={};return W.x=(1-$)*f.x+$*C.x,W.y=(1-$)*f.y+$*C.y,W}},{key:"_getDistanceToEdge",value:function(d,v,C,f,p,_){return this._getDistanceToLine(d,v,C,f,p,_)}}]),m}(g(S(118)).default);U.default=x},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=T(S(8)),P=T(S(0)),L=T(S(1));function T(v){return v&&v.__esModule?v:{default:v}}var F=S(120).default,M=S(221).default,E=S(222).default,b=S(223).default,y=S(224).default,g=S(121).default,x=S(225).default,c=S(226).default,m=S(2),h=S(119).default,d=function(){function v(C){(0,P.default)(this,v),this.body=C,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0},m.extend(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}return(0,L.default)(v,[{key:"bindEventListeners",value:function(){var f=this;this.body.emitter.on("initPhysics",function(){f.initPhysics()}),this.body.emitter.on("_layoutFailed",function(){f.layoutFailed=!0}),this.body.emitter.on("resetPhysics",function(){f.stopSimulation(),f.ready=!1}),this.body.emitter.on("disablePhysics",function(){f.physicsEnabled=!1,f.stopSimulation()}),this.body.emitter.on("restorePhysics",function(){f.setOptions(f.options),!0===f.ready&&f.startSimulation()}),this.body.emitter.on("startSimulation",function(){!0===f.ready&&f.startSimulation()}),this.body.emitter.on("stopSimulation",function(){f.stopSimulation()}),this.body.emitter.on("destroy",function(){f.stopSimulation(!1),f.body.emitter.off()}),this.body.emitter.on("_dataChanged",function(){f.updatePhysicsData()})}},{key:"setOptions",value:function(f){void 0!==f&&(!1===f?(this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation()):!0===f?(this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation()):(this.physicsEnabled=!0,m.selectiveNotDeepExtend(["stabilization"],this.options,f),m.mergeOptions(this.options,f,"stabilization"),void 0===f.enabled&&(this.options.enabled=!0),!1===this.options.enabled&&(this.physicsEnabled=!1,this.stopSimulation()),this.timestep=this.options.timestep)),this.init()}},{key:"init",value:function(){var f;"forceAtlas2Based"===this.options.solver?(this.nodesSolver=new x(this.body,this.physicsBody,f=this.options.forceAtlas2Based),this.edgesSolver=new b(this.body,this.physicsBody,f),this.gravitySolver=new c(this.body,this.physicsBody,f)):"repulsion"===this.options.solver?(this.nodesSolver=new M(this.body,this.physicsBody,f=this.options.repulsion),this.edgesSolver=new b(this.body,this.physicsBody,f),this.gravitySolver=new g(this.body,this.physicsBody,f)):"hierarchicalRepulsion"===this.options.solver?(this.nodesSolver=new E(this.body,this.physicsBody,f=this.options.hierarchicalRepulsion),this.edgesSolver=new y(this.body,this.physicsBody,f),this.gravitySolver=new g(this.body,this.physicsBody,f)):(this.nodesSolver=new F(this.body,this.physicsBody,f=this.options.barnesHut),this.edgesSolver=new b(this.body,this.physicsBody,f),this.gravitySolver=new g(this.body,this.physicsBody,f)),this.modelOptions=f}},{key:"initPhysics",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?!0===this.options.stabilization.enabled?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}},{key:"startSimulation",value:function(){!0===this.physicsEnabled&&!0===this.options.enabled?(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),void 0===this.viewFunction&&(this.viewFunction=this.simulationStep.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))):this.body.emitter.emit("_redraw")}},{key:"stopSimulation",value:function(){var f=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.stabilized=!0,!0===f&&this._emitStabilized(),void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,!0===f&&this.body.emitter.emit("_stopRendering"))}},{key:"simulationStep",value:function(){var f=Date.now();this.physicsTick(),(Date.now()-f<.4*this.simulationInterval||!0===this.runDoubleSpeed)&&!1===this.stabilized&&(this.physicsTick(),this.runDoubleSpeed=!0),!0===this.stabilized&&this.stopSimulation()}},{key:"_emitStabilized",value:function(){var f=this,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||!0===this.startedStabilization)&&setTimeout(function(){f.body.emitter.emit("stabilized",{iterations:p}),f.startedStabilization=!1,f.stabilizationIterations=0},0)}},{key:"physicsStep",value:function(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}},{key:"adjustTimeStep",value:function(){!0===this._evaluateStepQuality()?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}},{key:"physicsTick",value:function(){this._startStabilizing(),!0!==this.stabilized&&(!0===this.adaptiveTimestep&&!0===this.adaptiveTimestepEnabled?(this.adaptiveCounter%this.adaptiveInterval==0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),!0===this.stabilized&&this.revert(),this.stabilizationIterations++)}},{key:"updatePhysicsData",value:function(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];var f=this.body.nodes,p=this.body.edges;for(var _ in f)f.hasOwnProperty(_)&&!0===f[_].options.physics&&this.physicsBody.physicsNodeIndices.push(f[_].id);for(var O in p)p.hasOwnProperty(O)&&!0===p[O].options.physics&&this.physicsBody.physicsEdgeIndices.push(p[O].id);for(var V=0;V<this.physicsBody.physicsNodeIndices.length;V++){var j=this.physicsBody.physicsNodeIndices[V];this.physicsBody.forces[j]={x:0,y:0},void 0===this.physicsBody.velocities[j]&&(this.physicsBody.velocities[j]={x:0,y:0})}for(var $ in this.physicsBody.velocities)void 0===f[$]&&delete this.physicsBody.velocities[$]}},{key:"revert",value:function(){var f=(0,D.default)(this.previousStates),p=this.body.nodes,_=this.physicsBody.velocities;this.referenceState={};for(var O=0;O<f.length;O++){var V=f[O];void 0!==p[V]?!0===p[V].options.physics&&(this.referenceState[V]={positions:{x:p[V].x,y:p[V].y}},_[V].x=this.previousStates[V].vx,_[V].y=this.previousStates[V].vy,p[V].x=this.previousStates[V].x,p[V].y=this.previousStates[V].y):delete this.previousStates[V]}}},{key:"_evaluateStepQuality",value:function(){var p=void 0,O=this.body.nodes,V=this.referenceState;for(var $ in this.referenceState)if(this.referenceState.hasOwnProperty($)&&void 0!==O[$]&&(p=O[$].y-V[$].positions.y,Math.sqrt(Math.pow(O[$].x-V[$].positions.x,2)+Math.pow(p,2))>.3))return!1;return!0}},{key:"moveNodes",value:function(){for(var f=this.physicsBody.physicsNodeIndices,p=0,_=0,V=0;V<f.length;V++){var $=this._performStep(f[V]);p=Math.max(p,$),_+=$}this.adaptiveTimestepEnabled=_/f.length<5,this.stabilized=p<this.options.minVelocity}},{key:"calculateComponentVelocity",value:function(f,p,_){f+=(p-this.modelOptions.damping*f)/_*this.timestep;var j=this.options.maxVelocity||1e9;return Math.abs(f)>j&&(f=f>0?j:-j),f}},{key:"_performStep",value:function(f){var p=this.body.nodes[f],_=this.physicsBody.forces[f],O=this.physicsBody.velocities[f];return this.previousStates[f]={x:p.x,y:p.y,vx:O.x,vy:O.y},!1===p.options.fixed.x?(O.x=this.calculateComponentVelocity(O.x,_.x,p.options.mass),p.x+=O.x*this.timestep):(_.x=0,O.x=0),!1===p.options.fixed.y?(O.y=this.calculateComponentVelocity(O.y,_.y,p.options.mass),p.y+=O.y*this.timestep):(_.y=0,O.y=0),Math.sqrt(Math.pow(O.x,2)+Math.pow(O.y,2))}},{key:"_freezeNodes",value:function(){var f=this.body.nodes;for(var p in f)if(f.hasOwnProperty(p)&&f[p].x&&f[p].y){var _=f[p].options.fixed;this.freezeCache[p]={x:_.x,y:_.y},_.x=!0,_.y=!0}}},{key:"_restoreFrozenNodes",value:function(){var f=this.body.nodes;for(var p in f)f.hasOwnProperty(p)&&void 0!==this.freezeCache[p]&&(f[p].options.fixed.x=this.freezeCache[p].x,f[p].options.fixed.y=this.freezeCache[p].y);this.freezeCache={}}},{key:"stabilize",value:function(){var f=this,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.stabilization.iterations;"number"!=typeof p&&(p=this.options.stabilization.iterations,console.log("The stabilize method needs a numeric amount of iterations. Switching to default: ",p)),0!==this.physicsBody.physicsNodeIndices.length?(this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=p,!0===this.options.stabilization.onlyDynamicEdges&&this._freezeNodes(),this.stabilizationIterations=0,setTimeout(function(){return f._stabilizationBatch()},0)):this.ready=!0}},{key:"_startStabilizing",value:function(){return!0!==this.startedStabilization&&(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}},{key:"_stabilizationBatch",value:function(){var f=this,p=function(){return!1===f.stabilized&&f.stabilizationIterations<f.targetIterations},_=function(){f.body.emitter.emit("stabilizationProgress",{iterations:f.stabilizationIterations,total:f.targetIterations})};this._startStabilizing()&&_();for(var O=0;p()&&O<this.options.stabilization.updateInterval;)this.physicsTick(),O++;_(),p()?setTimeout(this._stabilizationBatch.bind(this),0):this._finalizeStabilization()}},{key:"_finalizeStabilization",value:function(){this.body.emitter.emit("_allowRedraw"),!0===this.options.stabilization.fit&&this.body.emitter.emit("fit"),!0===this.options.stabilization.onlyDynamicEdges&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),!0===this.stabilized?this._emitStabilized():this.startSimulation(),this.ready=!0}},{key:"_drawForces",value:function(f){for(var p=0;p<this.physicsBody.physicsNodeIndices.length;p++){var _=this.physicsBody.physicsNodeIndices[p],O=this.body.nodes[_],V=this.physicsBody.forces[_],W=Math.sqrt(Math.pow(V.x,2)+Math.pow(V.x,2)),Y=Math.min(Math.max(5,W),15),q=3*Y,re=m.HSVToHex((180-180*Math.min(1,Math.max(0,.03*W)))/360,1,1),se={x:O.x+20*V.x,y:O.y+20*V.y};f.lineWidth=Y,f.strokeStyle=re,f.beginPath(),f.moveTo(O.x,O.y),f.lineTo(se.x,se.y),f.stroke();var de=Math.atan2(V.y,V.x);f.fillStyle=re,h.draw(f,{type:"arrow",point:se,angle:de,length:q}),f.fill()}}}]),v}();U.default=d},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=N(S(0)),P=N(S(1));function N(T){return T&&T.__esModule?T:{default:T}}var L=function(){function T(F,M,E){(0,D.default)(this,T),this.body=F,this.physicsBody=M,this.setOptions(E)}return(0,P.default)(T,[{key:"setOptions",value:function(M){this.options=M}},{key:"solve",value:function(){for(var M,E,b,y,g,x,c,m,h=this.body.nodes,d=this.physicsBody.physicsNodeIndices,v=this.physicsBody.forces,C=this.options.nodeDistance,f=-2/3/C,_=0;_<d.length-1;_++){c=h[d[_]];for(var O=_+1;O<d.length;O++)M=(m=h[d[O]]).x-c.x,E=m.y-c.y,0===(b=Math.sqrt(M*M+E*E))&&(M=b=.1*Math.random()),b<2*C&&(x=b<.5*C?1:f*b+1.3333333333333333,g=E*(x/=b),v[c.id].x-=y=M*x,v[c.id].y-=g,v[m.id].x+=y,v[m.id].y+=g)}}}]),T}();U.default=L},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=N(S(0)),P=N(S(1));function N(T){return T&&T.__esModule?T:{default:T}}var L=function(){function T(F,M,E){(0,D.default)(this,T),this.body=F,this.physicsBody=M,this.setOptions(E)}return(0,P.default)(T,[{key:"setOptions",value:function(M){this.options=M}},{key:"solve",value:function(){var M,E,b,y,g,x,c,m,h,d,v=this.body.nodes,C=this.physicsBody.physicsNodeIndices,f=this.physicsBody.forces,p=this.options.nodeDistance;for(h=0;h<C.length-1;h++)for(c=v[C[h]],d=h+1;d<C.length;d++)if(c.level===(m=v[C[d]]).level){M=m.x-c.x,E=m.y-c.y;x=(b=Math.sqrt(M*M+E*E))<p?-Math.pow(.05*b,2)+Math.pow(.05*p,2):0,0===b?b=.01:x/=b,g=E*x,f[c.id].x-=y=M*x,f[c.id].y-=g,f[m.id].x+=y,f[m.id].y+=g}}}]),T}();U.default=L},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=N(S(0)),P=N(S(1));function N(T){return T&&T.__esModule?T:{default:T}}var L=function(){function T(F,M,E){(0,D.default)(this,T),this.body=F,this.physicsBody=M,this.setOptions(E)}return(0,P.default)(T,[{key:"setOptions",value:function(M){this.options=M}},{key:"solve",value:function(){for(var M=void 0,E=void 0,b=this.physicsBody.physicsEdgeIndices,y=this.body.edges,x=void 0,c=void 0,m=0;m<b.length;m++)!0===(E=y[b[m]]).connected&&E.toId!==E.fromId&&void 0!==this.body.nodes[E.toId]&&void 0!==this.body.nodes[E.fromId]&&(void 0!==E.edgeType.via?(c=E.from,this._calculateSpringForce(E.to,x=E.edgeType.via,.5*(M=void 0===E.options.length?this.options.springLength:E.options.length)),this._calculateSpringForce(x,c,.5*M)):this._calculateSpringForce(E.from,E.to,M=void 0===E.options.length?1.5*this.options.springLength:E.options.length))}},{key:"_calculateSpringForce",value:function(M,E,b){var y=M.x-E.x,g=M.y-E.y,x=Math.max(Math.sqrt(y*y+g*g),.01),c=this.options.springConstant*(b-x)/x,m=y*c,h=g*c;void 0!==this.physicsBody.forces[M.id]&&(this.physicsBody.forces[M.id].x+=m,this.physicsBody.forces[M.id].y+=h),void 0!==this.physicsBody.forces[E.id]&&(this.physicsBody.forces[E.id].x-=m,this.physicsBody.forces[E.id].y-=h)}}]),T}();U.default=L},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=N(S(0)),P=N(S(1));function N(T){return T&&T.__esModule?T:{default:T}}var L=function(){function T(F,M,E){(0,D.default)(this,T),this.body=F,this.physicsBody=M,this.setOptions(E)}return(0,P.default)(T,[{key:"setOptions",value:function(M){this.options=M}},{key:"solve",value:function(){for(var M,E,b,y,g,x,c,m,h=this.body.edges,d=.5,v=this.physicsBody.physicsEdgeIndices,C=this.physicsBody.physicsNodeIndices,f=this.physicsBody.forces,p=0;p<C.length;p++){var _=C[p];f[_].springFx=0,f[_].springFy=0}for(var O=0;O<v.length;O++)!0===(E=h[v[O]]).connected&&(M=void 0===E.options.length?this.options.springLength:E.options.length,b=E.from.x-E.to.x,y=E.from.y-E.to.y,m=Math.sqrt(b*b+y*y),g=b*(c=this.options.springConstant*(M-(m=0===m?.01:m))/m),x=y*c,E.to.level!=E.from.level?(void 0!==f[E.toId]&&(f[E.toId].springFx-=g,f[E.toId].springFy-=x),void 0!==f[E.fromId]&&(f[E.fromId].springFx+=g,f[E.fromId].springFy+=x)):(void 0!==f[E.toId]&&(f[E.toId].x-=d*g,f[E.toId].y-=d*x),void 0!==f[E.fromId]&&(f[E.fromId].x+=d*g,f[E.fromId].y+=d*x)));c=1;for(var V,j,$=0;$<C.length;$++){var W=C[$];V=Math.min(c,Math.max(-c,f[W].springFx)),j=Math.min(c,Math.max(-c,f[W].springFy)),f[W].x+=V,f[W].y+=j}for(var Y=0,q=0,re=0;re<C.length;re++){var se=C[re];Y+=f[se].x,q+=f[se].y}for(var de=Y/C.length,ve=q/C.length,Oe=0;Oe<C.length;Oe++){var Ee=C[Oe];f[Ee].x-=de,f[Ee].y-=ve}}}]),T}();U.default=L},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=g(S(3)),P=g(S(0)),L=g(S(1)),F=g(S(4)),E=g(S(5));function g(c){return c&&c.__esModule?c:{default:c}}var x=function(c){function m(h,d,v){return(0,P.default)(this,m),(0,F.default)(this,(m.__proto__||(0,D.default)(m)).call(this,h,d,v))}return(0,E.default)(m,c),(0,L.default)(m,[{key:"_calculateForces",value:function(d,v,C,f,p){0===d&&(v=d=.1*Math.random()),this.overlapAvoidanceFactor<1&&f.shape.radius&&(d=Math.max(.1+this.overlapAvoidanceFactor*f.shape.radius,d-f.shape.radius));var O=this.options.gravitationalConstant*p.mass*f.options.mass*(f.edges.length+1)/Math.pow(d,2),j=C*O;this.physicsBody.forces[f.id].x+=v*O,this.physicsBody.forces[f.id].y+=j}}]),m}(g(S(120)).default);U.default=x},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=g(S(3)),P=g(S(0)),L=g(S(1)),F=g(S(4)),E=g(S(5));function g(c){return c&&c.__esModule?c:{default:c}}var x=function(c){function m(h,d,v){return(0,P.default)(this,m),(0,F.default)(this,(m.__proto__||(0,D.default)(m)).call(this,h,d,v))}return(0,E.default)(m,c),(0,L.default)(m,[{key:"_calculateForces",value:function(d,v,C,f,p){if(d>0){var O=this.options.centralGravity*(p.edges.length+1)*p.options.mass;f[p.id].x=v*O,f[p.id].y=C*O}}}]),m}(g(S(121)).default);U.default=x},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=M(S(8)),P=M(S(6)),L=M(S(0)),F=M(S(1));function M(m){return m&&m.__esModule?m:{default:m}}var E=S(2),b=S(76).default,y=S(228).default,g=S(74).default,x=S(47).default,c=function(){function m(h){var d=this;(0,L.default)(this,m),this.body=h,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},E.extend(this.options,this.defaultOptions),this.body.emitter.on("_resetData",function(){d.clusteredNodes={},d.clusteredEdges={}})}return(0,F.default)(m,[{key:"clusterByHubsize",value:function(d,v){void 0===d?d=this._getHubSize():"object"===(typeof d>"u"?"undefined":(0,P.default)(d))&&(v=this._checkOptions(d),d=this._getHubSize());for(var C=[],f=0;f<this.body.nodeIndices.length;f++){var p=this.body.nodes[this.body.nodeIndices[f]];p.edges.length>=d&&C.push(p.id)}for(var _=0;_<C.length;_++)this.clusterByConnection(C[_],v,!0);this.body.emitter.emit("_dataChanged")}},{key:"cluster",value:function(){var d=this,v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},C=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(void 0===v.joinCondition)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");v=this._checkOptions(v);var f={},p={};E.forEach(this.body.nodes,function(_,O){var V=b.cloneOptions(_);!0===v.joinCondition(V)&&(f[O]=_,E.forEach(_.edges,function(j){void 0===d.clusteredEdges[j.id]&&(p[j.id]=j)}))}),this._cluster(f,p,v,C)}},{key:"clusterByEdgeCount",value:function(d,v){var C=this,f=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];v=this._checkOptions(v);for(var p=[],_={},O=void 0,V=void 0,j=void 0,$=function(de){var ve={},Oe={},Ee=C.body.nodeIndices[de],Me=C.body.nodes[Ee];if(void 0===_[Ee]){j=0,V=[];for(var be=0;be<Me.edges.length;be++)void 0===C.clusteredEdges[(O=Me.edges[be]).id]&&(O.toId!==O.fromId&&j++,V.push(O));if(j===d){Y=function(Ye){if(null==v.joinCondition)return!0;var Ze=b.cloneOptions(Ye);return v.joinCondition(Ze)};for(var ue=!0,he=0;he<V.length;he++){var xe=C._getConnectedId(O=V[he],Ee);if(!Y(Me)){ue=!1;break}Oe[O.id]=O,ve[Ee]=Me,ve[xe]=C.body.nodes[xe],_[Ee]=!0}if((0,D.default)(ve).length>0&&(0,D.default)(Oe).length>0&&!0===ue)if(void 0!==(re=function(){for(var Ye=0;Ye<p.length;++Ye)for(var Ze in ve)if(void 0!==p[Ye].nodes[Ze])return p[Ye]}())){for(var Fe in ve)void 0===re.nodes[Fe]&&(re.nodes[Fe]=ve[Fe]);for(var Be in Oe)void 0===re.edges[Be]&&(re.edges[Be]=Oe[Be])}else p.push({nodes:ve,edges:Oe})}}},W=0;W<this.body.nodeIndices.length;W++){var Y,re;$(W)}for(W=0;W<p.length;W++)this._cluster(p[W].nodes,p[W].edges,v,!1);!0===f&&this.body.emitter.emit("_dataChanged")}},{key:"clusterOutliers",value:function(d){this.clusterByEdgeCount(1,d,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"clusterBridges",value:function(d){this.clusterByEdgeCount(2,d,!(arguments.length>1&&void 0!==arguments[1])||arguments[1])}},{key:"clusterByConnection",value:function(d,v){var C=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===d)throw new Error("No nodeId supplied to clusterByConnection!");if(void 0===this.body.nodes[d])throw new Error("The nodeId given to clusterByConnection does not exist!");var f=this.body.nodes[d];void 0===(v=this._checkOptions(v,f)).clusterNodeProperties.x&&(v.clusterNodeProperties.x=f.x),void 0===v.clusterNodeProperties.y&&(v.clusterNodeProperties.y=f.y),void 0===v.clusterNodeProperties.fixed&&(v.clusterNodeProperties.fixed={},v.clusterNodeProperties.fixed.x=f.options.fixed.x,v.clusterNodeProperties.fixed.y=f.options.fixed.y);var p={},_={},O=f.id,V=b.cloneOptions(f);p[O]=f;for(var j=0;j<f.edges.length;j++){var $=f.edges[j];if(void 0===this.clusteredEdges[$.id]){var W=this._getConnectedId($,O);if(void 0===this.clusteredNodes[W])if(W!==O)if(void 0===v.joinCondition)_[$.id]=$,p[W]=this.body.nodes[W];else{var Y=b.cloneOptions(this.body.nodes[W]);!0===v.joinCondition(V,Y)&&(_[$.id]=$,p[W]=this.body.nodes[W])}else _[$.id]=$}}var q=(0,D.default)(p).map(function(ve){return p[ve].id});for(re in p)if(p.hasOwnProperty(re))for(var re=p[re],se=0;se<re.edges.length;se++){var de=re.edges[se];q.indexOf(this._getConnectedId(de,re.id))>-1&&(_[de.id]=de)}this._cluster(p,_,v,C)}},{key:"_createClusterEdges",value:function(d,v,C,f){for(var p=void 0,_=void 0,O=void 0,V=void 0,j=void 0,$=void 0,W=(0,D.default)(d),Y=[],q=0;q<W.length;q++){O=d[_=W[q]];for(var re=0;re<O.edges.length;re++)void 0===this.clusteredEdges[(p=O.edges[re]).id]&&(p.toId==p.fromId?v[p.id]=p:p.toId==_?(V=C.id,$=j=p.fromId):(j=C.id,$=V=p.toId),void 0===d[$]&&Y.push({edge:p,fromId:j,toId:V}))}for(var se=[],de=function(ue){for(var he=0;he<se.length;he++){var xe=se[he];if(ue.fromId===xe.fromId&&ue.toId===xe.toId||ue.fromId===xe.toId&&ue.toId===xe.fromId)return xe}return null},ve=0;ve<Y.length;ve++){var Oe=Y[ve],Ee=Oe.edge,Me=de(Oe);null===Me?(Me=this._createClusteredEdge(Oe.fromId,Oe.toId,Ee,f),se.push(Me)):Me.clusteringEdgeReplacingIds.push(Ee.id),this.body.edges[Ee.id].edgeReplacedById=Me.id,this._backupEdgeOptions(Ee),Ee.setOptions({physics:!1})}}},{key:"_checkOptions",value:function(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return void 0===d.clusterEdgeProperties&&(d.clusterEdgeProperties={}),void 0===d.clusterNodeProperties&&(d.clusterNodeProperties={}),d}},{key:"_cluster",value:function(d,v,C){var f=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],p=[];for(var _ in d)d.hasOwnProperty(_)&&void 0!==this.clusteredNodes[_]&&p.push(_);for(var O=0;O<p.length;++O)delete d[p[O]];if(0!=(0,D.default)(d).length&&(1!=(0,D.default)(d).length||1==C.clusterNodeProperties.allowSingleNodeCluster)){var V=E.deepExtend({},C.clusterNodeProperties);if(void 0!==C.processProperties){var j=[];for(var $ in d)if(d.hasOwnProperty($)){var W=b.cloneOptions(d[$]);j.push(W)}var Y=[];for(var q in v)if(v.hasOwnProperty(q)&&"clusterEdge:"!==q.substr(0,12)){var re=b.cloneOptions(v[q],"edge");Y.push(re)}if(!(V=C.processProperties(V,j,Y)))throw new Error("The processProperties function does not return properties!")}void 0===V.id&&(V.id="cluster:"+E.randomUUID());var se=V.id;void 0===V.label&&(V.label="cluster");var de=void 0;void 0===V.x&&(de=this._getClusterPosition(d),V.x=de.x),void 0===V.y&&(void 0===de&&(de=this._getClusterPosition(d)),V.y=de.y),V.id=se;var ve=this.body.functions.createNode(V,y);ve.containedNodes=d,ve.containedEdges=v,ve.clusterEdgeProperties=C.clusterEdgeProperties,this.body.nodes[V.id]=ve,this._clusterEdges(d,v,V,C.clusterEdgeProperties),V.id=void 0,!0===f&&this.body.emitter.emit("_dataChanged")}}},{key:"_backupEdgeOptions",value:function(d){void 0===this.clusteredEdges[d.id]&&(this.clusteredEdges[d.id]={physics:d.options.physics})}},{key:"_restoreEdge",value:function(d){var v=this.clusteredEdges[d.id];void 0!==v&&(d.setOptions({physics:v.physics}),delete this.clusteredEdges[d.id])}},{key:"isCluster",value:function(d){return void 0!==this.body.nodes[d]?!0===this.body.nodes[d].isCluster:(console.log("Node does not exist."),!1)}},{key:"_getClusterPosition",value:function(d){for(var v=(0,D.default)(d),C=d[v[0]].x,f=d[v[0]].x,p=d[v[0]].y,_=d[v[0]].y,O=void 0,V=1;V<v.length;V++)C=(O=d[v[V]]).x<C?O.x:C,f=O.x>f?O.x:f,p=O.y<p?O.y:p,_=O.y>_?O.y:_;return{x:.5*(C+f),y:.5*(p+_)}}},{key:"openCluster",value:function(d,v){var C=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0===d)throw new Error("No clusterNodeId supplied to openCluster.");var f=this.body.nodes[d];if(void 0===f)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(!0!==f.isCluster||void 0===f.containedNodes||void 0===f.containedEdges)throw new Error("The node:"+d+" is not a valid cluster.");var p=this.findNode(d),_=p.indexOf(d)-1;if(_>=0)return this.body.nodes[p[_]]._openChildCluster(d),delete this.body.nodes[d],void(!0===C&&this.body.emitter.emit("_dataChanged"));var j=f.containedNodes,$=f.containedEdges;if(void 0!==v&&void 0!==v.releaseFunction&&"function"==typeof v.releaseFunction){var W={},Y={x:f.x,y:f.y};for(var q in j)if(j.hasOwnProperty(q)){var re=this.body.nodes[q];W[q]={x:re.x,y:re.y}}var se=v.releaseFunction(Y,W);for(var de in j)if(j.hasOwnProperty(de)){var ve=this.body.nodes[de];void 0!==se[de]&&(ve.x=void 0===se[de].x?f.x:se[de].x,ve.y=void 0===se[de].y?f.y:se[de].y)}}else E.forEach(j,function(kt){!1===kt.options.fixed.x&&(kt.x=f.x),!1===kt.options.fixed.y&&(kt.y=f.y)});for(var Oe in j)if(j.hasOwnProperty(Oe)){var Ee=this.body.nodes[Oe];Ee.vx=f.vx,Ee.vy=f.vy,Ee.setOptions({physics:!0}),delete this.clusteredNodes[Oe]}for(var Me=[],be=0;be<f.edges.length;be++)Me.push(f.edges[be]);for(var ue=0;ue<Me.length;ue++){for(var he=Me[ue],xe=this._getConnectedId(he,d),Fe=this.clusteredNodes[xe],Be=0;Be<he.clusteringEdgeReplacingIds.length;Be++){var Ye=this.body.edges[he.clusteringEdgeReplacingIds[Be]];if(void 0!==Ye)if(void 0!==Fe){var Ze=this.body.nodes[Fe.clusterId];Ze.containedEdges[Ye.id]=Ye,delete $[Ye.id];var We=Ye.fromId,qt=Ye.toId;Ye.toId==xe?qt=Fe.clusterId:We=Fe.clusterId,this._createClusteredEdge(We,qt,Ye,Ze.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(Ye)}he.remove()}for(var si in $)$.hasOwnProperty(si)&&this._restoreEdge($[si]);delete this.body.nodes[d],!0===C&&this.body.emitter.emit("_dataChanged")}},{key:"getNodesInCluster",value:function(d){var v=[];if(!0===this.isCluster(d)){var C=this.body.nodes[d].containedNodes;for(var f in C)C.hasOwnProperty(f)&&v.push(this.body.nodes[f].id)}return v}},{key:"findNode",value:function(d){for(var v=[],f=0,p=void 0;void 0!==this.clusteredNodes[d]&&f<100;){if(void 0===(p=this.body.nodes[d]))return[];v.push(p.id),d=this.clusteredNodes[d].clusterId,f++}return void 0===(p=this.body.nodes[d])?[]:(v.push(p.id),v.reverse(),v)}},{key:"updateClusteredNode",value:function(d,v){if(void 0===d)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(void 0===v)throw new Error("No newOptions supplied to updateClusteredNode.");if(void 0===this.body.nodes[d])throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[d].setOptions(v),this.body.emitter.emit("_dataChanged")}},{key:"updateEdge",value:function(d,v){if(void 0===d)throw new Error("No startEdgeId supplied to updateEdge.");if(void 0===v)throw new Error("No newOptions supplied to updateEdge.");if(void 0===this.body.edges[d])throw new Error("The startEdgeId supplied to updateEdge does not exist.");for(var C=this.getClusteredEdges(d),f=0;f<C.length;f++)this.body.edges[C[f]].setOptions(v);this.body.emitter.emit("_dataChanged")}},{key:"getClusteredEdges",value:function(d){for(var v=[],f=0;void 0!==d&&void 0!==this.body.edges[d]&&f<100;)v.push(this.body.edges[d].id),d=this.body.edges[d].edgeReplacedById,f++;return v.reverse(),v}},{key:"getBaseEdge",value:function(d){return this.getBaseEdges(d)[0]}},{key:"getBaseEdges",value:function(d){for(var v=[d],C=[],f=[],_=0;v.length>0&&_<100;){var O=v.pop();if(void 0!==O){var V=this.body.edges[O];if(void 0!==V){_++;var j=V.clusteringEdgeReplacingIds;if(void 0===j)f.push(O);else for(var $=0;$<j.length;++$){var W=j[$];-1!==v.indexOf(j)||-1!==C.indexOf(j)||v.push(W)}C.push(O)}}}return f}},{key:"_getConnectedId",value:function(d,v){return d.toId!=v?d.toId:d.fromId}},{key:"_getHubSize",value:function(){for(var d=0,v=0,C=0,f=0,p=0;p<this.body.nodeIndices.length;p++){var _=this.body.nodes[this.body.nodeIndices[p]];_.edges.length>f&&(f=_.edges.length),d+=_.edges.length,v+=Math.pow(_.edges.length,2),C+=1}d/=C;var O=(v/=C)-Math.pow(d,2),V=Math.sqrt(O),j=Math.floor(d+2*V);return j>f&&(j=f),j}},{key:"_createClusteredEdge",value:function(d,v,C,f,p){var _=b.cloneOptions(C,"edge");E.deepExtend(_,f),_.from=d,_.to=v,_.id="clusterEdge:"+E.randomUUID(),void 0!==p&&E.deepExtend(_,p);var O=this.body.functions.createEdge(_);return O.clusteringEdgeReplacingIds=[C.id],O.connect(),this.body.edges[O.id]=O,O}},{key:"_clusterEdges",value:function(d,v,C,f){if(v instanceof g){var _={};_[v.id]=v,v=_}if(d instanceof x){var V={};V[d.id]=d,d=V}if(null==C)throw new Error("_clusterEdges: parameter clusterNode required");for(var j in void 0===f&&(f=C.clusterEdgeProperties),this._createClusterEdges(d,v,C,f),v)if(v.hasOwnProperty(j)&&void 0!==this.body.edges[j]){var $=this.body.edges[j];this._backupEdgeOptions($),$.setOptions({physics:!1})}for(var W in d)d.hasOwnProperty(W)&&(this.clusteredNodes[W]={clusterId:C.id,node:this.body.nodes[W]},this.body.nodes[W].setOptions({physics:!1}))}},{key:"_getClusterNodeForNode",value:function(d){if(void 0!==d){var v=this.clusteredNodes[d];if(void 0!==v){var C=v.clusterId;if(void 0!==C)return this.body.nodes[C]}}}},{key:"_filter",value:function(d,v){var C=[];return E.forEach(d,function(f){v(f)&&C.push(f)}),C}},{key:"_updateState",value:function(){var d=this,v=void 0,C=[],f=[],p=function(q){E.forEach(d.body.nodes,function(re){!0===re.isCluster&&q(re)})};for(v in this.clusteredNodes)this.clusteredNodes.hasOwnProperty(v)&&void 0===this.body.nodes[v]&&C.push(v);p(function(Y){for(var q=0;q<C.length;q++)delete Y.containedNodes[C[q]]});for(var O=0;O<C.length;O++)delete this.clusteredNodes[C[O]];E.forEach(this.clusteredEdges,function(Y){var q=d.body.edges[Y];(void 0===q||!q.endPointsValid())&&f.push(Y)}),p(function(Y){E.forEach(Y.containedEdges,function(q,re){!q.endPointsValid()&&-1===f.indexOf(re)&&f.push(re)})}),E.forEach(this.body.edges,function(Y,q){var re=!0,se=Y.clusteringEdgeReplacingIds;if(void 0!==se){var de=0;E.forEach(se,function(ve){var Oe=d.body.edges[ve];void 0!==Oe&&Oe.endPointsValid()&&(de+=1)}),re=de>0}(!Y.endPointsValid()||!re)&&f.push(q)}),p(function(Y){E.forEach(f,function(q){delete Y.containedEdges[q],E.forEach(Y.edges,function(re,se){re.id!==q?re.clusteringEdgeReplacingIds=d._filter(re.clusteringEdgeReplacingIds,function(de){return-1===f.indexOf(de)}):Y.edges[se]=null}),Y.edges=d._filter(Y.edges,function(re){return null!==re})})}),E.forEach(f,function(Y){delete d.clusteredEdges[Y]}),E.forEach(f,function(Y){delete d.body.edges[Y]});var V=(0,D.default)(this.body.edges);E.forEach(V,function(Y){var q=d.body.edges[Y],re=d._isClusteredNode(q.fromId)||d._isClusteredNode(q.toId);if(re!==d._isClusteredEdge(q.id)){if(!re)throw new Error("remove edge from clustering not implemented!");var se=d._getClusterNodeForNode(q.fromId);void 0!==se&&d._clusterEdges(d.body.nodes[q.fromId],q,se);var de=d._getClusterNodeForNode(q.toId);void 0!==de&&d._clusterEdges(d.body.nodes[q.toId],q,de)}});for(var j=!1,$=!0,W=function(){var q=[];p(function(se){var de=(0,D.default)(se.containedNodes).length,ve=!0===se.options.allowSingleNodeCluster;(ve&&de<1||!ve&&de<2)&&q.push(se.id)});for(var re=0;re<q.length;++re)d.openCluster(q[re],{},!1);$=q.length>0,j=j||$};$;)W();j&&this._updateState()}},{key:"_isClusteredNode",value:function(d){return void 0!==this.clusteredNodes[d]}},{key:"_isClusteredEdge",value:function(d){return void 0!==this.clusteredEdges[d]}}]),m}();U.default=c},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=b(S(3)),P=b(S(0)),L=b(S(1)),F=b(S(4)),E=b(S(5));function b(c){return c&&c.__esModule?c:{default:c}}var y=S(2),x=function(c){function m(h,d,v,C,f,p){(0,P.default)(this,m);var _=(0,F.default)(this,(m.__proto__||(0,D.default)(m)).call(this,h,d,v,C,f,p));return _.isCluster=!0,_.containedNodes={},_.containedEdges={},_}return(0,E.default)(m,c),(0,L.default)(m,[{key:"_openChildCluster",value:function(d){var v=this,C=this.body.nodes[d];if(void 0===this.containedNodes[d])throw new Error("node with id: "+d+" not in current cluster");if(!C.isCluster)throw new Error("node with id: "+d+" is not a cluster");delete this.containedNodes[d],y.forEach(C.edges,function(f){delete v.containedEdges[f.id]}),y.forEach(C.containedNodes,function(f,p){v.containedNodes[p]=f}),C.containedNodes={},y.forEach(C.containedEdges,function(f,p){v.containedEdges[p]=f}),C.containedEdges={},y.forEach(C.edges,function(f){y.forEach(v.edges,function(p){var _=p.clusteringEdgeReplacingIds.indexOf(f.id);-1!==_&&(y.forEach(f.clusteringEdgeReplacingIds,function(O){p.clusteringEdgeReplacingIds.push(O),v.body.edges[O].edgeReplacedById=p.id}),p.clusteringEdgeReplacingIds.splice(_,1))})}),C.edges=[]}}]),m}(S(47).default);U.default=x},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=N(S(0)),P=N(S(1));function N(M){return M&&M.__esModule?M:{default:M}}var T=S(2),F=function(){function M(E,b){(0,D.default)(this,M),function L(){var M;void 0!==window&&(M=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame),window.requestAnimationFrame=void 0===M?function(E){E()}:M}(),this.body=E,this.canvas=b,this.redrawRequested=!1,this.renderTimer=void 0,this.requiresTimeout=!0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideNodesOnDrag:!1},T.extend(this.options,this.defaultOptions),this._determineBrowserMethod(),this.bindEventListeners()}return(0,P.default)(M,[{key:"bindEventListeners",value:function(){var b=this;this.body.emitter.on("dragStart",function(){b.dragging=!0}),this.body.emitter.on("dragEnd",function(){b.dragging=!1}),this.body.emitter.on("_resizeNodes",function(){b._resizeNodes()}),this.body.emitter.on("_redraw",function(){!1===b.renderingActive&&b._redraw()}),this.body.emitter.on("_blockRedraw",function(){b.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",function(){b.allowRedraw=!0,b.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",this._requestRedraw.bind(this)),this.body.emitter.on("_startRendering",function(){b.renderRequests+=1,b.renderingActive=!0,b._startRendering()}),this.body.emitter.on("_stopRendering",function(){b.renderRequests-=1,b.renderingActive=b.renderRequests>0,b.renderTimer=void 0}),this.body.emitter.on("destroy",function(){b.renderRequests=0,b.allowRedraw=!1,b.renderingActive=!1,!0===b.requiresTimeout?clearTimeout(b.renderTimer):window.cancelAnimationFrame(b.renderTimer),b.body.emitter.off()})}},{key:"setOptions",value:function(b){void 0!==b&&T.selectiveDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag"],this.options,b)}},{key:"_requestNextFrame",value:function(b,y){if(!(typeof window>"u")){var g=void 0,x=window;return!0===this.requiresTimeout?g=x.setTimeout(b,y):x.requestAnimationFrame&&(g=x.requestAnimationFrame(b)),g}}},{key:"_startRendering",value:function(){!0===this.renderingActive&&void 0===this.renderTimer&&(this.renderTimer=this._requestNextFrame(this._renderStep.bind(this),this.simulationInterval))}},{key:"_renderStep",value:function(){!0===this.renderingActive&&(this.renderTimer=void 0,!0===this.requiresTimeout&&this._startRendering(),this._redraw(),!1===this.requiresTimeout&&this._startRendering())}},{key:"redraw",value:function(){this.body.emitter.emit("setSize"),this._redraw()}},{key:"_requestRedraw",value:function(){var b=this;!0!==this.redrawRequested&&!1===this.renderingActive&&!0===this.allowRedraw&&(this.redrawRequested=!0,this._requestNextFrame(function(){b._redraw(!1)},0))}},{key:"_redraw",value:function(){var b=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!0===this.allowRedraw){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1,(0===this.canvas.frame.canvas.width||0===this.canvas.frame.canvas.height)&&this.canvas.setSize(),this.canvas.setTransform();var y=this.canvas.getContext(),g=this.canvas.frame.canvas.clientWidth,x=this.canvas.frame.canvas.clientHeight;if(y.clearRect(0,0,g,x),0===this.canvas.frame.clientWidth)return;y.save(),y.translate(this.body.view.translation.x,this.body.view.translation.y),y.scale(this.body.view.scale,this.body.view.scale),y.beginPath(),this.body.emitter.emit("beforeDrawing",y),y.closePath(),!1===b&&(!1===this.dragging||!0===this.dragging&&!1===this.options.hideEdgesOnDrag)&&this._drawEdges(y),(!1===this.dragging||!0===this.dragging&&!1===this.options.hideNodesOnDrag)&&this._drawNodes(y,b),y.beginPath(),this.body.emitter.emit("afterDrawing",y),y.closePath(),y.restore(),!0===b&&y.clearRect(0,0,g,x)}}},{key:"_resizeNodes",value:function(){this.canvas.setTransform();var b=this.canvas.getContext();b.save(),b.translate(this.body.view.translation.x,this.body.view.translation.y),b.scale(this.body.view.scale,this.body.view.scale);var y=this.body.nodes,g=void 0;for(var x in y)y.hasOwnProperty(x)&&((g=y[x]).resize(b),g.updateBoundingBox(b,g.selected));b.restore()}},{key:"_drawNodes",value:function(b){for(var y=arguments.length>1&&void 0!==arguments[1]&&arguments[1],g=this.body.nodes,x=this.body.nodeIndices,c=void 0,m=[],d=this.canvas.DOMtoCanvas({x:-20,y:-20}),v=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+20,y:this.canvas.frame.canvas.clientHeight+20}),C={top:d.y,left:d.x,bottom:v.y,right:v.x},f=0;f<x.length;f++)(c=g[x[f]]).isSelected()?m.push(x[f]):!0===y||!0===c.isBoundingBoxOverlappingWith(C)?c.draw(b):c.updateBoundingBox(b,c.selected);for(var p=0;p<m.length;p++)(c=g[m[p]]).draw(b)}},{key:"_drawEdges",value:function(b){for(var y=this.body.edges,g=this.body.edgeIndices,x=void 0,c=0;c<g.length;c++)!0===(x=y[g[c]]).connected&&x.draw(b)}},{key:"_determineBrowserMethod",value:function(){if(typeof window<"u"){var b=navigator.userAgent.toLowerCase();this.requiresTimeout=!1,(-1!=b.indexOf("msie 9.0")||-1!=b.indexOf("safari")&&b.indexOf("chrome")<=-1)&&(this.requiresTimeout=!0)}else this.requiresTimeout=!0}}]),M}();U.default=F},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=N(S(0)),P=N(S(1));function N(E){return E&&E.__esModule?E:{default:E}}var L=S(10),T=S(37),F=S(2),M=function(){function E(b){(0,D.default)(this,E),this.body=b,this.pixelRatio=1,this.resizeTimer=void 0,this.resizeFunction=this._onResize.bind(this),this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},F.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,P.default)(E,[{key:"bindEventListeners",value:function(){var y=this;this.body.emitter.once("resize",function(g){0!==g.width&&(y.body.view.translation.x=.5*g.width),0!==g.height&&(y.body.view.translation.y=.5*g.height)}),this.body.emitter.on("setSize",this.setSize.bind(this)),this.body.emitter.on("destroy",function(){y.hammerFrame.destroy(),y.hammer.destroy(),y._cleanUp()})}},{key:"setOptions",value:function(y){var g=this;void 0!==y&&F.selectiveDeepExtend(["width","height","autoResize"],this.options,y),!0===this.options.autoResize&&(this._cleanUp(),this.resizeTimer=setInterval(function(){!0===g.setSize()&&g.body.emitter.emit("_requestRedraw")},1e3),this.resizeFunction=this._onResize.bind(this),F.addEventListener(window,"resize",this.resizeFunction))}},{key:"_cleanUp",value:function(){void 0!==this.resizeTimer&&clearInterval(this.resizeTimer),F.removeEventListener(window,"resize",this.resizeFunction),this.resizeFunction=void 0}},{key:"_onResize",value:function(){this.setSize(),this.body.emitter.emit("_redraw")}},{key:"_getCameraState",value:function(){var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.pixelRatio;!0===this.initialized&&(this.cameraState.previousWidth=this.frame.canvas.width/y,this.cameraState.previousHeight=this.frame.canvas.height/y,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/y,y:.5*this.frame.canvas.height/y}))}},{key:"_setCameraState",value:function(){if(void 0!==this.cameraState.scale&&0!==this.frame.canvas.clientWidth&&0!==this.frame.canvas.clientHeight&&0!==this.pixelRatio&&this.cameraState.previousWidth>0){var y=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,g=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight,x=this.cameraState.scale;1!=y&&1!=g?x=.5*this.cameraState.scale*(y+g):1!=y?x=this.cameraState.scale*y:1!=g&&(x=this.cameraState.scale*g),this.body.view.scale=x;var c=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),m={x:c.x-this.cameraState.position.x,y:c.y-this.cameraState.position.y};this.body.view.translation.x+=m.x*this.body.view.scale,this.body.view.translation.y+=m.y*this.body.view.scale}}},{key:"_prepareValue",value:function(y){if("number"==typeof y)return y+"px";if("string"==typeof y){if(-1!==y.indexOf("%")||-1!==y.indexOf("px"))return y;if(-1===y.indexOf("%"))return y+"px"}throw new Error("Could not use the value supplied for width or height:"+y)}},{key:"_create",value:function(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=900,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{var y=document.createElement("DIV");y.style.color="red",y.style.fontWeight="bold",y.style.padding="10px",y.innerHTML="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(y)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}},{key:"_bindHammer",value:function(){var y=this;void 0!==this.hammer&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new L(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:L.DIRECTION_ALL}),T.onTouch(this.hammer,function(g){y.body.eventListeners.onTouch(g)}),this.hammer.on("tap",function(g){y.body.eventListeners.onTap(g)}),this.hammer.on("doubletap",function(g){y.body.eventListeners.onDoubleTap(g)}),this.hammer.on("press",function(g){y.body.eventListeners.onHold(g)}),this.hammer.on("panstart",function(g){y.body.eventListeners.onDragStart(g)}),this.hammer.on("panmove",function(g){y.body.eventListeners.onDrag(g)}),this.hammer.on("panend",function(g){y.body.eventListeners.onDragEnd(g)}),this.hammer.on("pinch",function(g){y.body.eventListeners.onPinch(g)}),this.frame.canvas.addEventListener("mousewheel",function(g){y.body.eventListeners.onMouseWheel(g)}),this.frame.canvas.addEventListener("DOMMouseScroll",function(g){y.body.eventListeners.onMouseWheel(g)}),this.frame.canvas.addEventListener("mousemove",function(g){y.body.eventListeners.onMouseMove(g)}),this.frame.canvas.addEventListener("contextmenu",function(g){y.body.eventListeners.onContext(g)}),this.hammerFrame=new L(this.frame),T.onRelease(this.hammerFrame,function(g){y.body.eventListeners.onRelease(g)})}},{key:"setSize",value:function(){var y=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options.width,g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.height;y=this._prepareValue(y),g=this._prepareValue(g);var x=!1,c=this.frame.canvas.width,m=this.frame.canvas.height,h=this.pixelRatio;if(this._setPixelRatio(),y!=this.options.width||g!=this.options.height||this.frame.style.width!=y||this.frame.style.height!=g)this._getCameraState(h),this.frame.style.width=y,this.frame.style.height=g,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=y,this.options.height=g,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},x=!0;else{var d=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),v=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==d||this.frame.canvas.height!==v)&&this._getCameraState(h),this.frame.canvas.width!==d&&(this.frame.canvas.width=d,x=!0),this.frame.canvas.height!==v&&(this.frame.canvas.height=v,x=!0)}return!0===x&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(c/this.pixelRatio),oldHeight:Math.round(m/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,x}},{key:"getContext",value:function(){return this.frame.canvas.getContext("2d")}},{key:"_determinePixelRatio",value:function(){var y=this.getContext();if(void 0===y)throw new Error("Could not get canvax context");var g=1;return typeof window<"u"&&(g=window.devicePixelRatio||1),g/(y.webkitBackingStorePixelRatio||y.mozBackingStorePixelRatio||y.msBackingStorePixelRatio||y.oBackingStorePixelRatio||y.backingStorePixelRatio||1)}},{key:"_setPixelRatio",value:function(){this.pixelRatio=this._determinePixelRatio()}},{key:"setTransform",value:function(){var y=this.getContext();if(void 0===y)throw new Error("Could not get canvax context");y.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}},{key:"_XconvertDOMtoCanvas",value:function(y){return(y-this.body.view.translation.x)/this.body.view.scale}},{key:"_XconvertCanvasToDOM",value:function(y){return y*this.body.view.scale+this.body.view.translation.x}},{key:"_YconvertDOMtoCanvas",value:function(y){return(y-this.body.view.translation.y)/this.body.view.scale}},{key:"_YconvertCanvasToDOM",value:function(y){return y*this.body.view.scale+this.body.view.translation.y}},{key:"canvasToDOM",value:function(y){return{x:this._XconvertCanvasToDOM(y.x),y:this._YconvertCanvasToDOM(y.y)}}},{key:"DOMtoCanvas",value:function(y){return{x:this._XconvertDOMtoCanvas(y.x),y:this._YconvertDOMtoCanvas(y.y)}}}]),E}();U.default=M},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=N(S(0)),P=N(S(1));function N(M){return M&&M.__esModule?M:{default:M}}var L=S(2),T=S(76).default,F=function(){function M(E,b){var y=this;(0,D.default)(this,M),this.body=E,this.canvas=b,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",this.fit.bind(this)),this.body.emitter.on("animationFinished",function(){y.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",this.releaseNode.bind(this))}return(0,P.default)(M,[{key:"setOptions",value:function(){this.options=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}}},{key:"fit",value:function(){var b=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{nodes:[]},y=arguments.length>1&&void 0!==arguments[1]&&arguments[1],g=void 0,x=void 0;if((void 0===b.nodes||0===b.nodes.length)&&(b.nodes=this.body.nodeIndices),!0===y){var c=0;for(var m in this.body.nodes)this.body.nodes.hasOwnProperty(m)&&!0===this.body.nodes[m].predefinedPosition&&(c+=1);if(c>.5*this.body.nodeIndices.length)return void this.fit(b,!1);g=T.getRange(this.body.nodes,b.nodes),x=12.662/(this.body.nodeIndices.length+7.4147)+.0964822,x*=Math.min(this.canvas.frame.canvas.clientWidth/600,this.canvas.frame.canvas.clientHeight/600)}else{this.body.emitter.emit("_resizeNodes"),g=T.getRange(this.body.nodes,b.nodes);var C=1.1*Math.abs(g.maxX-g.minX),f=1.1*Math.abs(g.maxY-g.minY),p=this.canvas.frame.canvas.clientWidth/C,_=this.canvas.frame.canvas.clientHeight/f;x=p<=_?p:_}(x>1||0===x)&&(x=1);var O=T.findCenter(g);this.moveTo({position:O,scale:x,animation:b.animation})}},{key:"focus",value:function(b){var y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};void 0!==this.body.nodes[b]?(y.position={x:this.body.nodes[b].x,y:this.body.nodes[b].y},y.lockedOnNode=b,this.moveTo(y)):console.log("Node: "+b+" cannot be found.")}},{key:"moveTo",value:function(b){void 0!==b?(void 0===b.offset&&(b.offset={x:0,y:0}),void 0===b.offset.x&&(b.offset.x=0),void 0===b.offset.y&&(b.offset.y=0),void 0===b.scale&&(b.scale=this.body.view.scale),void 0===b.position&&(b.position=this.getViewPosition()),void 0===b.animation&&(b.animation={duration:0}),!1===b.animation&&(b.animation={duration:0}),!0===b.animation&&(b.animation={}),void 0===b.animation.duration&&(b.animation.duration=1e3),void 0===b.animation.easingFunction&&(b.animation.easingFunction="easeInOutQuad"),this.animateView(b)):b={}}},{key:"animateView",value:function(b){if(void 0!==b){this.animationEasingFunction=b.animation.easingFunction,this.releaseNode(),!0===b.locked&&(this.lockedOnNodeId=b.lockedOnNode,this.lockedOnNodeOffset=b.offset),0!=this.easingTime&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=b.scale,this.body.view.scale=this.targetScale;var y=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),g={x:y.x-b.position.x,y:y.y-b.position.y};this.targetTranslation={x:this.sourceTranslation.x+g.x*this.targetScale+b.offset.x,y:this.sourceTranslation.y+g.y*this.targetScale+b.offset.y},0===b.animation.duration?null!=this.lockedOnNodeId?(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)):(this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw")):(this.animationSpeed=1/(60*b.animation.duration*.001)||1/60,this.animationEasingFunction=b.animation.easingFunction,this.viewFunction=this._transitionRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering"))}}},{key:"_lockedRedraw",value:function(){var b_x=this.body.nodes[this.lockedOnNodeId].x,b_y=this.body.nodes[this.lockedOnNodeId].y,y=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),x=this.body.view.translation;this.body.view.translation={x:x.x+(y.x-b_x)*this.body.view.scale+this.lockedOnNodeOffset.x,y:x.y+(y.y-b_y)*this.body.view.scale+this.lockedOnNodeOffset.y}}},{key:"releaseNode",value:function(){void 0!==this.lockedOnNodeId&&void 0!==this.viewFunction&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}},{key:"_transitionRedraw",value:function(){var b=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.easingTime+=this.animationSpeed,this.easingTime=!0===b?1:this.easingTime;var y=L.easingFunctions[this.animationEasingFunction](this.easingTime);this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*y,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*y,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*y},this.easingTime>=1&&(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,null!=this.lockedOnNodeId&&(this.viewFunction=this._lockedRedraw.bind(this),this.body.emitter.on("initRedraw",this.viewFunction)),this.body.emitter.emit("animationFinished"))}},{key:"getScale",value:function(){return this.body.view.scale}},{key:"getViewPosition",value:function(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}]),M}();U.default=F},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=N(S(0)),P=N(S(1));function N(E){return E&&E.__esModule?E:{default:E}}var L=S(2),T=S(233).default,F=S(104).default,M=function(){function E(b,y,g){(0,D.default)(this,E),this.body=b,this.canvas=y,this.selectionHandler=g,this.navigationHandler=new T(b,y),this.body.eventListeners.onTap=this.onTap.bind(this),this.body.eventListeners.onTouch=this.onTouch.bind(this),this.body.eventListeners.onDoubleTap=this.onDoubleTap.bind(this),this.body.eventListeners.onHold=this.onHold.bind(this),this.body.eventListeners.onDragStart=this.onDragStart.bind(this),this.body.eventListeners.onDrag=this.onDrag.bind(this),this.body.eventListeners.onDragEnd=this.onDragEnd.bind(this),this.body.eventListeners.onMouseWheel=this.onMouseWheel.bind(this),this.body.eventListeners.onPinch=this.onPinch.bind(this),this.body.eventListeners.onMouseMove=this.onMouseMove.bind(this),this.body.eventListeners.onRelease=this.onRelease.bind(this),this.body.eventListeners.onContext=this.onContext.bind(this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=this.getPointer.bind(this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0},L.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,P.default)(E,[{key:"bindEventListeners",value:function(){var y=this;this.body.emitter.on("destroy",function(){clearTimeout(y.popupTimer),delete y.body.functions.getPointer})}},{key:"setOptions",value:function(y){void 0!==y&&(L.selectiveNotDeepExtend(["hideEdgesOnDrag","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,y),L.mergeOptions(this.options,y,"keyboard"),y.tooltip&&(L.extend(this.options.tooltip,y.tooltip),y.tooltip.color&&(this.options.tooltip.color=L.parseColor(y.tooltip.color)))),this.navigationHandler.setOptions(this.options)}},{key:"getPointer",value:function(y){return{x:y.x-L.getAbsoluteLeft(this.canvas.frame.canvas),y:y.y-L.getAbsoluteTop(this.canvas.frame.canvas)}}},{key:"onTouch",value:function(y){(new Date).valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(y.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=(new Date).valueOf())}},{key:"onTap",value:function(y){var g=this.getPointer(y.center);this.checkSelectionChanges(g,y,this.selectionHandler.options.multiselect&&(y.changedPointers[0].ctrlKey||y.changedPointers[0].metaKey)),this.selectionHandler._generateClickEvent("click",y,g)}},{key:"onDoubleTap",value:function(y){var g=this.getPointer(y.center);this.selectionHandler._generateClickEvent("doubleClick",y,g)}},{key:"onHold",value:function(y){var g=this.getPointer(y.center);this.checkSelectionChanges(g,y,this.selectionHandler.options.multiselect),this.selectionHandler._generateClickEvent("click",y,g),this.selectionHandler._generateClickEvent("hold",y,g)}},{key:"onRelease",value:function(y){if((new Date).valueOf()-this.touchTime>10){var g=this.getPointer(y.center);this.selectionHandler._generateClickEvent("release",y,g),this.touchTime=(new Date).valueOf()}}},{key:"onContext",value:function(y){var g=this.getPointer({x:y.clientX,y:y.clientY});this.selectionHandler._generateClickEvent("oncontext",y,g)}},{key:"checkSelectionChanges",value:function(y,g){var x=arguments.length>2&&void 0!==arguments[2]&&arguments[2],c=this.selectionHandler.getSelection(),m=!1;m=!0===x?this.selectionHandler.selectAdditionalOnPoint(y):this.selectionHandler.selectOnPoint(y);var h=this.selectionHandler.getSelection(),d=this._determineDifference(c,h),v=this._determineDifference(h,c);d.edges.length>0&&(this.selectionHandler._generateClickEvent("deselectEdge",g,y,c),m=!0),d.nodes.length>0&&(this.selectionHandler._generateClickEvent("deselectNode",g,y,c),m=!0),v.nodes.length>0&&(this.selectionHandler._generateClickEvent("selectNode",g,y),m=!0),v.edges.length>0&&(this.selectionHandler._generateClickEvent("selectEdge",g,y),m=!0),!0===m&&this.selectionHandler._generateClickEvent("select",g,y)}},{key:"_determineDifference",value:function(y,g){var x=function(m,h){for(var d=[],v=0;v<m.length;v++){var C=m[v];-1===h.indexOf(C)&&d.push(C)}return d};return{nodes:x(y.nodes,g.nodes),edges:x(y.edges,g.edges)}}},{key:"onDragStart",value:function(y){void 0===this.drag.pointer&&this.onTouch(y);var g=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=L.extend({},this.body.view.translation),this.drag.nodeId=void 0,void 0!==g&&!0===this.options.dragNodes){this.drag.nodeId=g.id,!1===g.isSelected()&&(this.selectionHandler.unselectAll(),this.selectionHandler.selectObject(g)),this.selectionHandler._generateClickEvent("dragStart",y,this.drag.pointer);var x=this.selectionHandler.selectionObj.nodes;for(var c in x)if(x.hasOwnProperty(c)){var m=x[c],h={id:m.id,node:m,x:m.x,y:m.y,xFixed:m.options.fixed.x,yFixed:m.options.fixed.y};m.options.fixed.x=!0,m.options.fixed.y=!0,this.drag.selection.push(h)}}else this.selectionHandler._generateClickEvent("dragStart",y,this.drag.pointer,void 0,!0)}},{key:"onDrag",value:function(y){var g=this;if(!0!==this.drag.pinched){this.body.emitter.emit("unlockNode");var x=this.getPointer(y.center),c=this.drag.selection;if(c&&c.length&&!0===this.options.dragNodes){this.selectionHandler._generateClickEvent("dragging",y,x);var m=x.x-this.drag.pointer.x,h=x.y-this.drag.pointer.y;c.forEach(function(C){var f=C.node;!1===C.xFixed&&(f.x=g.canvas._XconvertDOMtoCanvas(g.canvas._XconvertCanvasToDOM(C.x)+m)),!1===C.yFixed&&(f.y=g.canvas._YconvertDOMtoCanvas(g.canvas._YconvertCanvasToDOM(C.y)+h))}),this.body.emitter.emit("startSimulation")}else if(!0===this.options.dragView){if(this.selectionHandler._generateClickEvent("dragging",y,x,void 0,!0),void 0===this.drag.pointer)return void this.onDragStart(y);this.body.view.translation={x:this.drag.translation.x+(x.x-this.drag.pointer.x),y:this.drag.translation.y+(x.y-this.drag.pointer.y)},this.body.emitter.emit("_requestRedraw")}}}},{key:"onDragEnd",value:function(y){this.drag.dragging=!1;var g=this.drag.selection;g&&g.length?(g.forEach(function(x){x.node.options.fixed.x=x.xFixed,x.node.options.fixed.y=x.yFixed}),this.selectionHandler._generateClickEvent("dragEnd",y,this.getPointer(y.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler._generateClickEvent("dragEnd",y,this.getPointer(y.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}},{key:"onPinch",value:function(y){var g=this.getPointer(y.center);this.drag.pinched=!0,void 0===this.pinch.scale&&(this.pinch.scale=1),this.zoom(this.pinch.scale*y.scale,g)}},{key:"zoom",value:function(y,g){if(!0===this.options.zoomView){var x=this.body.view.scale;y<1e-5&&(y=1e-5),y>10&&(y=10);var c=void 0;void 0!==this.drag&&!0===this.drag.dragging&&(c=this.canvas.DOMtoCanvas(this.drag.pointer));var m=this.body.view.translation,h=y/x,d=(1-h)*g.x+m.x*h,v=(1-h)*g.y+m.y*h;if(this.body.view.scale=y,this.body.view.translation={x:d,y:v},null!=c){var C=this.canvas.canvasToDOM(c);this.drag.pointer.x=C.x,this.drag.pointer.y=C.y}this.body.emitter.emit("_requestRedraw"),this.body.emitter.emit("zoom",x<y?{direction:"+",scale:this.body.view.scale,pointer:g}:{direction:"-",scale:this.body.view.scale,pointer:g})}}},{key:"onMouseWheel",value:function(y){if(!0===this.options.zoomView){var g=0;if(y.wheelDelta?g=y.wheelDelta/120:y.detail&&(g=-y.detail/3),0!==g){var x=this.body.view.scale,c=g/10;g<0&&(c/=1-c),x*=1+c;var m=this.getPointer({x:y.clientX,y:y.clientY});this.zoom(x,m)}y.preventDefault()}}},{key:"onMouseMove",value:function(y){var g=this,x=this.getPointer({x:y.clientX,y:y.clientY}),c=!1;void 0!==this.popup&&(!1===this.popup.hidden&&this._checkHidePopup(x),!1===this.popup.hidden&&(c=!0,this.popup.setPosition(x.x+3,x.y-5),this.popup.show())),!1===this.options.keyboard.bindToWindow&&!0===this.options.keyboard.enabled&&this.canvas.frame.focus(),!1===c&&(void 0!==this.popupTimer&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=setTimeout(function(){return g._checkShowPopup(x)},this.options.tooltipDelay))),!0===this.options.hover&&this.selectionHandler.hoverObject(y,x)}},{key:"_checkShowPopup",value:function(y){var g=this.canvas._XconvertDOMtoCanvas(y.x),x=this.canvas._YconvertDOMtoCanvas(y.y),c={left:g,top:x,right:g,bottom:x},m=void 0===this.popupObj?void 0:this.popupObj.id,h=!1,d="node";if(void 0===this.popupObj){for(var v=this.body.nodeIndices,C=this.body.nodes,f=void 0,p=[],_=0;_<v.length;_++)!0===(f=C[v[_]]).isOverlappingWith(c)&&void 0!==f.getTitle()&&p.push(v[_]);p.length>0&&(this.popupObj=C[p[p.length-1]],h=!0)}if(void 0===this.popupObj&&!1===h){for(var O=this.body.edgeIndices,V=this.body.edges,j=void 0,$=[],W=0;W<O.length;W++)!0===(j=V[O[W]]).isOverlappingWith(c)&&!0===j.connected&&void 0!==j.getTitle()&&$.push(O[W]);$.length>0&&(this.popupObj=V[$[$.length-1]],d="edge")}void 0!==this.popupObj?this.popupObj.id!==m&&(void 0===this.popup&&(this.popup=new F(this.canvas.frame)),this.popup.popupTargetType=d,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(y.x+3,y.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):void 0!==this.popup&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}},{key:"_checkHidePopup",value:function(y){var g=this.selectionHandler._pointerToPositionObject(y),x=!1;if("node"===this.popup.popupTargetType){if(void 0!==this.body.nodes[this.popup.popupTargetId]&&!0===(x=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(g))){var c=this.selectionHandler.getNodeAt(y);x=void 0!==c&&c.id===this.popup.popupTargetId}}else void 0===this.selectionHandler.getNodeAt(y)&&void 0!==this.body.edges[this.popup.popupTargetId]&&(x=this.body.edges[this.popup.popupTargetId].isOverlappingWith(g));!1===x&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}]),E}();U.default=M},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=N(S(0)),P=N(S(1));function N(E){return E&&E.__esModule?E:{default:E}}var L=S(10),T=S(37),F=S(35),M=function(){function E(b,y){var g=this;(0,D.default)(this,E),this.body=b,this.canvas=y,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",function(){g.activated=!0,g.configureKeyboardBindings()}),this.body.emitter.on("deactivate",function(){g.activated=!1,g.configureKeyboardBindings()}),this.body.emitter.on("destroy",function(){void 0!==g.keycharm&&g.keycharm.destroy()}),this.options={}}return(0,P.default)(E,[{key:"setOptions",value:function(y){void 0!==y&&(this.options=y,this.create())}},{key:"create",value:function(){!0===this.options.navigationButtons?!1===this.iconsCreated&&this.loadNavigationElements():!0===this.iconsCreated&&this.cleanNavigation(),this.configureKeyboardBindings()}},{key:"cleanNavigation",value:function(){if(0!=this.navigationHammers.length){for(var y=0;y<this.navigationHammers.length;y++)this.navigationHammers[y].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}},{key:"loadNavigationElements",value:function(){var y=this;this.cleanNavigation(),this.navigationDOM={};var g=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],x=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(var c=0;c<g.length;c++){this.navigationDOM[g[c]]=document.createElement("div"),this.navigationDOM[g[c]].className="vis-button vis-"+g[c],this.navigationDOM.wrapper.appendChild(this.navigationDOM[g[c]]);var m=new L(this.navigationDOM[g[c]]);T.onTouch(m,"_fit"===x[c]?this._fit.bind(this):this.bindToRedraw.bind(this,x[c])),this.navigationHammers.push(m)}var h=new L(this.canvas.frame);T.onRelease(h,function(){y._stopMovement()}),this.navigationHammers.push(h),this.iconsCreated=!0}},{key:"bindToRedraw",value:function(y){void 0===this.boundFunctions[y]&&(this.boundFunctions[y]=this[y].bind(this),this.body.emitter.on("initRedraw",this.boundFunctions[y]),this.body.emitter.emit("_startRendering"))}},{key:"unbindFromRedraw",value:function(y){void 0!==this.boundFunctions[y]&&(this.body.emitter.off("initRedraw",this.boundFunctions[y]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[y])}},{key:"_fit",value:function(){(new Date).valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=(new Date).valueOf())}},{key:"_stopMovement",value:function(){for(var y in this.boundFunctions)this.boundFunctions.hasOwnProperty(y)&&(this.body.emitter.off("initRedraw",this.boundFunctions[y]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}},{key:"_moveUp",value:function(){this.body.view.translation.y+=this.options.keyboard.speed.y}},{key:"_moveDown",value:function(){this.body.view.translation.y-=this.options.keyboard.speed.y}},{key:"_moveLeft",value:function(){this.body.view.translation.x+=this.options.keyboard.speed.x}},{key:"_moveRight",value:function(){this.body.view.translation.x-=this.options.keyboard.speed.x}},{key:"_zoomIn",value:function(){var g=this.body.view.scale*(1+this.options.keyboard.speed.zoom),x=this.body.view.translation,c=g/this.body.view.scale,m=(1-c)*this.canvas.canvasViewCenter.x+x.x*c,h=(1-c)*this.canvas.canvasViewCenter.y+x.y*c;this.body.view.scale=g,this.body.view.translation={x:m,y:h},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}},{key:"_zoomOut",value:function(){var g=this.body.view.scale/(1+this.options.keyboard.speed.zoom),x=this.body.view.translation,c=g/this.body.view.scale,m=(1-c)*this.canvas.canvasViewCenter.x+x.x*c,h=(1-c)*this.canvas.canvasViewCenter.y+x.y*c;this.body.view.scale=g,this.body.view.translation={x:m,y:h},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}},{key:"configureKeyboardBindings",value:function(){var y=this;void 0!==this.keycharm&&this.keycharm.destroy(),!0===this.options.keyboard.enabled&&(this.keycharm=F(!0===this.options.keyboard.bindToWindow?{container:window,preventDefault:!0}:{container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),!0===this.activated&&(this.keycharm.bind("up",function(){y.bindToRedraw("_moveUp")},"keydown"),this.keycharm.bind("down",function(){y.bindToRedraw("_moveDown")},"keydown"),this.keycharm.bind("left",function(){y.bindToRedraw("_moveLeft")},"keydown"),this.keycharm.bind("right",function(){y.bindToRedraw("_moveRight")},"keydown"),this.keycharm.bind("=",function(){y.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num+",function(){y.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("num-",function(){y.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("-",function(){y.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("[",function(){y.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("]",function(){y.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pageup",function(){y.bindToRedraw("_zoomIn")},"keydown"),this.keycharm.bind("pagedown",function(){y.bindToRedraw("_zoomOut")},"keydown"),this.keycharm.bind("up",function(){y.unbindFromRedraw("_moveUp")},"keyup"),this.keycharm.bind("down",function(){y.unbindFromRedraw("_moveDown")},"keyup"),this.keycharm.bind("left",function(){y.unbindFromRedraw("_moveLeft")},"keyup"),this.keycharm.bind("right",function(){y.unbindFromRedraw("_moveRight")},"keyup"),this.keycharm.bind("=",function(){y.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num+",function(){y.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("num-",function(){y.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("-",function(){y.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("[",function(){y.unbindFromRedraw("_zoomOut")},"keyup"),this.keycharm.bind("]",function(){y.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pageup",function(){y.unbindFromRedraw("_zoomIn")},"keyup"),this.keycharm.bind("pagedown",function(){y.unbindFromRedraw("_zoomOut")},"keyup")))}}]),E}();U.default=M},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=N(S(0)),P=N(S(1));function N(E){return E&&E.__esModule?E:{default:E}}var L=S(47).default,T=S(74).default,F=S(2),M=function(){function E(b,y){var g=this;(0,D.default)(this,E),this.body=b,this.canvas=y,this.selectionObj={nodes:[],edges:[]},this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},F.extend(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",function(){g.updateSelection()})}return(0,P.default)(E,[{key:"setOptions",value:function(y){void 0!==y&&F.selectiveDeepExtend(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,y)}},{key:"selectOnPoint",value:function(y){var g=!1;if(!0===this.options.selectable){var x=this.getNodeAt(y)||this.getEdgeAt(y);this.unselectAll(),void 0!==x&&(g=this.selectObject(x)),this.body.emitter.emit("_requestRedraw")}return g}},{key:"selectAdditionalOnPoint",value:function(y){var g=!1;if(!0===this.options.selectable){var x=this.getNodeAt(y)||this.getEdgeAt(y);void 0!==x&&(g=!0,!0===x.isSelected()?this.deselectObject(x):this.selectObject(x),this.body.emitter.emit("_requestRedraw"))}return g}},{key:"_initBaseEvent",value:function(y,g){var x={};return x.pointer={DOM:{x:g.x,y:g.y},canvas:this.canvas.DOMtoCanvas(g)},x.event=y,x}},{key:"_generateClickEvent",value:function(y,g,x,c){var m=arguments.length>4&&void 0!==arguments[4]&&arguments[4],h=this._initBaseEvent(g,x);if(!0===m)h.nodes=[],h.edges=[];else{var d=this.getSelection();h.nodes=d.nodes,h.edges=d.edges}void 0!==c&&(h.previousSelection=c),"click"==y&&(h.items=this.getClickedItems(x)),this.body.emitter.emit(y,h)}},{key:"selectObject",value:function(y){return void 0!==y&&(y instanceof L&&!0===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options.selectConnectedEdges)&&this._selectConnectedEdges(y),y.select(),this._addToSelection(y),!0)}},{key:"deselectObject",value:function(y){!0===y.isSelected()&&(y.selected=!1,this._removeFromSelection(y))}},{key:"_getAllNodesOverlappingWith",value:function(y){for(var g=[],x=this.body.nodes,c=0;c<this.body.nodeIndices.length;c++){var m=this.body.nodeIndices[c];x[m].isOverlappingWith(y)&&g.push(m)}return g}},{key:"_pointerToPositionObject",value:function(y){var g=this.canvas.DOMtoCanvas(y);return{left:g.x-1,top:g.y+1,right:g.x+1,bottom:g.y-1}}},{key:"getNodeAt",value:function(y){var g=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],x=this._pointerToPositionObject(y),c=this._getAllNodesOverlappingWith(x);if(c.length>0)return!0===g?this.body.nodes[c[c.length-1]]:c[c.length-1]}},{key:"_getEdgesOverlappingWith",value:function(y,g){for(var x=this.body.edges,c=0;c<this.body.edgeIndices.length;c++){var m=this.body.edgeIndices[c];x[m].isOverlappingWith(y)&&g.push(m)}}},{key:"_getAllEdgesOverlappingWith",value:function(y){var g=[];return this._getEdgesOverlappingWith(y,g),g}},{key:"getEdgeAt",value:function(y){for(var g=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],x=this.canvas.DOMtoCanvas(y),c=10,m=null,h=this.body.edges,d=0;d<this.body.edgeIndices.length;d++){var v=this.body.edgeIndices[d],C=h[v];if(C.connected){var V=C.edgeType.getDistanceToEdge(C.from.x,C.from.y,C.to.x,C.to.y,x.x,x.y);V<c&&(m=v,c=V)}}if(null!==m)return!0===g?this.body.edges[m]:m}},{key:"_addToSelection",value:function(y){y instanceof L?this.selectionObj.nodes[y.id]=y:this.selectionObj.edges[y.id]=y}},{key:"_addToHover",value:function(y){y instanceof L?this.hoverObj.nodes[y.id]=y:this.hoverObj.edges[y.id]=y}},{key:"_removeFromSelection",value:function(y){y instanceof L?(delete this.selectionObj.nodes[y.id],this._unselectConnectedEdges(y)):delete this.selectionObj.edges[y.id]}},{key:"unselectAll",value:function(){for(var y in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(y)&&this.selectionObj.nodes[y].unselect();for(var g in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(g)&&this.selectionObj.edges[g].unselect();this.selectionObj={nodes:{},edges:{}}}},{key:"_getSelectedNodeCount",value:function(){var y=0;for(var g in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(g)&&(y+=1);return y}},{key:"_getSelectedNode",value:function(){for(var y in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(y))return this.selectionObj.nodes[y]}},{key:"_getSelectedEdge",value:function(){for(var y in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(y))return this.selectionObj.edges[y]}},{key:"_getSelectedEdgeCount",value:function(){var y=0;for(var g in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(g)&&(y+=1);return y}},{key:"_getSelectedObjectCount",value:function(){var y=0;for(var g in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(g)&&(y+=1);for(var x in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(x)&&(y+=1);return y}},{key:"_selectionIsEmpty",value:function(){for(var y in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(y))return!1;for(var g in this.selectionObj.edges)if(this.selectionObj.edges.hasOwnProperty(g))return!1;return!0}},{key:"_clusterInSelection",value:function(){for(var y in this.selectionObj.nodes)if(this.selectionObj.nodes.hasOwnProperty(y)&&this.selectionObj.nodes[y].clusterSize>1)return!0;return!1}},{key:"_selectConnectedEdges",value:function(y){for(var g=0;g<y.edges.length;g++){var x=y.edges[g];x.select(),this._addToSelection(x)}}},{key:"_hoverConnectedEdges",value:function(y){for(var g=0;g<y.edges.length;g++){var x=y.edges[g];x.hover=!0,this._addToHover(x)}}},{key:"_unselectConnectedEdges",value:function(y){for(var g=0;g<y.edges.length;g++){var x=y.edges[g];x.unselect(),this._removeFromSelection(x)}}},{key:"emitBlurEvent",value:function(y,g,x){var c=this._initBaseEvent(y,g);!0===x.hover&&(x.hover=!1,x instanceof L?(c.node=x.id,this.body.emitter.emit("blurNode",c)):(c.edge=x.id,this.body.emitter.emit("blurEdge",c)))}},{key:"emitHoverEvent",value:function(y,g,x){var c=this._initBaseEvent(y,g),m=!1;return!1===x.hover&&(x.hover=!0,this._addToHover(x),m=!0,x instanceof L?(c.node=x.id,this.body.emitter.emit("hoverNode",c)):(c.edge=x.id,this.body.emitter.emit("hoverEdge",c))),m}},{key:"hoverObject",value:function(y,g){var x=this.getNodeAt(g);void 0===x&&(x=this.getEdgeAt(g));var c=!1;for(var m in this.hoverObj.nodes)this.hoverObj.nodes.hasOwnProperty(m)&&(void 0===x||x instanceof L&&x.id!=m||x instanceof T)&&(this.emitBlurEvent(y,g,this.hoverObj.nodes[m]),delete this.hoverObj.nodes[m],c=!0);for(var h in this.hoverObj.edges)this.hoverObj.edges.hasOwnProperty(h)&&(!0===c?(this.hoverObj.edges[h].hover=!1,delete this.hoverObj.edges[h]):(void 0===x||x instanceof T&&x.id!=h||x instanceof L&&!x.hover)&&(this.emitBlurEvent(y,g,this.hoverObj.edges[h]),delete this.hoverObj.edges[h],c=!0));void 0!==x&&(c=c||this.emitHoverEvent(y,g,x),x instanceof L&&!0===this.options.hoverConnectedEdges&&this._hoverConnectedEdges(x)),!0===c&&this.body.emitter.emit("_requestRedraw")}},{key:"getSelection",value:function(){return{nodes:this.getSelectedNodes(),edges:this.getSelectedEdges()}}},{key:"getSelectedNodes",value:function(){var y=[];if(!0===this.options.selectable)for(var g in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(g)&&y.push(this.selectionObj.nodes[g].id);return y}},{key:"getSelectedEdges",value:function(){var y=[];if(!0===this.options.selectable)for(var g in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(g)&&y.push(this.selectionObj.edges[g].id);return y}},{key:"setSelection",value:function(y){var g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},x=void 0,c=void 0;if(!y||!y.nodes&&!y.edges)throw"Selection must be an object with nodes and/or edges properties";if((g.unselectAll||void 0===g.unselectAll)&&this.unselectAll(),y.nodes)for(x=0;x<y.nodes.length;x++){var m=this.body.nodes[c=y.nodes[x]];if(!m)throw new RangeError('Node with id "'+c+'" not found');this.selectObject(m,g.highlightEdges)}if(y.edges)for(x=0;x<y.edges.length;x++){var h=this.body.edges[c=y.edges[x]];if(!h)throw new RangeError('Edge with id "'+c+'" not found');this.selectObject(h)}this.body.emitter.emit("_requestRedraw")}},{key:"selectNodes",value:function(y){if(!y||void 0===y.length)throw"Selection must be an array with ids";this.setSelection({nodes:y},{highlightEdges:!(arguments.length>1&&void 0!==arguments[1])||arguments[1]})}},{key:"selectEdges",value:function(y){if(!y||void 0===y.length)throw"Selection must be an array with ids";this.setSelection({edges:y})}},{key:"updateSelection",value:function(){for(var y in this.selectionObj.nodes)this.selectionObj.nodes.hasOwnProperty(y)&&(this.body.nodes.hasOwnProperty(y)||delete this.selectionObj.nodes[y]);for(var g in this.selectionObj.edges)this.selectionObj.edges.hasOwnProperty(g)&&(this.body.edges.hasOwnProperty(g)||delete this.selectionObj.edges[g])}},{key:"getClickedItems",value:function(y){for(var g=this.canvas.DOMtoCanvas(y),x=[],c=this.body.nodeIndices,m=this.body.nodes,h=c.length-1;h>=0;h--){var v=m[c[h]].getItemsOnPoint(g);x.push.apply(x,v)}for(var C=this.body.edgeIndices,f=this.body.edges,p=C.length-1;p>=0;p--){var O=f[C[p]].getItemsOnPoint(g);x.push.apply(x,O)}return x}}]),E}();U.default=M},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=b(S(30)),P=b(S(6)),L=b(S(8)),F=b(S(0)),E=b(S(1));function b(v){return v&&v.__esModule?v:{default:v}}var y=S(2),g=S(76).default,x=S(236),c=x.HorizontalStrategy,m=x.VerticalStrategy,h=function(){function v(){(0,F.default)(this,v),this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}return(0,E.default)(v,[{key:"addRelation",value:function(f,p){void 0===this.childrenReference[f]&&(this.childrenReference[f]=[]),this.childrenReference[f].push(p),void 0===this.parentReference[p]&&(this.parentReference[p]=[]),this.parentReference[p].push(f)}},{key:"checkIfTree",value:function(){for(var f in this.parentReference)if(this.parentReference[f].length>1)return void(this.isTree=!1);this.isTree=!0}},{key:"numTrees",value:function(){return this.treeIndex+1}},{key:"setTreeIndex",value:function(f,p){void 0!==p&&void 0===this.trees[f.id]&&(this.trees[f.id]=p,this.treeIndex=Math.max(p,this.treeIndex))}},{key:"ensureLevel",value:function(f){void 0===this.levels[f]&&(this.levels[f]=0)}},{key:"getMaxLevel",value:function(f){var p=this,_={};return function V(j){if(void 0!==_[j])return _[j];var $=p.levels[j];if(p.childrenReference[j]){var W=p.childrenReference[j];if(W.length>0)for(var Y=0;Y<W.length;Y++)$=Math.max($,V(W[Y]))}return _[j]=$,$}(f)}},{key:"levelDownstream",value:function(f,p){void 0===this.levels[p.id]&&(void 0===this.levels[f.id]&&(this.levels[f.id]=0),this.levels[p.id]=this.levels[f.id]+1)}},{key:"setMinLevelToZero",value:function(f){var p=1e9;for(var _ in f)f.hasOwnProperty(_)&&void 0!==this.levels[_]&&(p=Math.min(this.levels[_],p));for(var O in f)f.hasOwnProperty(O)&&void 0!==this.levels[O]&&(this.levels[O]-=p)}},{key:"getTreeSize",value:function(f,p){var _=1e9,O=-1e9,V=1e9,j=-1e9;for(var $ in this.trees)if(this.trees.hasOwnProperty($)&&this.trees[$]===p){var W=f[$];_=Math.min(W.x,_),O=Math.max(W.x,O),V=Math.min(W.y,V),j=Math.max(W.y,j)}return{min_x:_,max_x:O,min_y:V,max_y:j}}},{key:"hasSameParent",value:function(f,p){var _=this.parentReference[f.id],O=this.parentReference[p.id];if(void 0===_||void 0===O)return!1;for(var V=0;V<_.length;V++)for(var j=0;j<O.length;j++)if(_[V]==O[j])return!0;return!1}},{key:"inSameSubNetwork",value:function(f,p){return this.trees[f.id]===this.trees[p.id]}},{key:"getLevels",value:function(){return(0,L.default)(this.distributionOrdering)}},{key:"addToOrdering",value:function(f,p){void 0===this.distributionOrdering[p]&&(this.distributionOrdering[p]=[]);var _=!1,O=this.distributionOrdering[p];for(var V in O)if(O[V]===f){_=!0;break}_||(this.distributionOrdering[p].push(f),this.distributionIndex[f.id]=this.distributionOrdering[p].length-1)}}]),v}(),d=function(){function v(C){(0,F.default)(this,v),this.body=C,this.initialRandomSeed=Math.round(1e6*Math.random()),this.randomSeed=this.initialRandomSeed,this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},y.extend(this.options,this.defaultOptions),this.bindEventListeners()}return(0,E.default)(v,[{key:"bindEventListeners",value:function(){var f=this;this.body.emitter.on("_dataChanged",function(){f.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",function(){f.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",function(){f.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",function(){if(!0===f.options.hierarchical.enabled){var p=f.direction.curveType();f.body.emitter.emit("_forceDisableDynamicCurves",p,!1)}})}},{key:"setOptions",value:function(f,p){if(void 0!==f){var _=this.options.hierarchical,O=_.enabled;if(y.selectiveDeepExtend(["randomSeed","improvedLayout"],this.options,f),y.mergeOptions(this.options,f,"hierarchical"),void 0!==f.randomSeed&&(this.initialRandomSeed=f.randomSeed),!0===_.enabled)return!0===O&&this.body.emitter.emit("refresh",!0),"RL"===_.direction||"DU"===_.direction?_.levelSeparation>0&&(_.levelSeparation*=-1):_.levelSeparation<0&&(_.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(p);if(!0===O)return this.body.emitter.emit("refresh"),y.deepExtend(p,this.optionsBackup)}return p}},{key:"adaptAllOptionsForHierarchicalLayout",value:function(f){if(!0===this.options.hierarchical.enabled){var p=this.optionsBackup.physics;void 0===f.physics||!0===f.physics?(f.physics={enabled:void 0===p.enabled||p.enabled,solver:"hierarchicalRepulsion"},p.enabled=void 0===p.enabled||p.enabled,p.solver=p.solver||"barnesHut"):"object"===(0,P.default)(f.physics)?(p.enabled=void 0===f.physics.enabled||f.physics.enabled,p.solver=f.physics.solver||"barnesHut",f.physics.solver="hierarchicalRepulsion"):!1!==f.physics&&(p.solver="barnesHut",f.physics={solver:"hierarchicalRepulsion"});var _=this.direction.curveType();if(void 0===f.edges)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},f.edges={smooth:!1};else if(void 0===f.edges.smooth)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},f.edges.smooth=!1;else if("boolean"==typeof f.edges.smooth)this.optionsBackup.edges={smooth:f.edges.smooth},f.edges.smooth={enabled:f.edges.smooth,type:_};else{var O=f.edges.smooth;void 0!==O.type&&"dynamic"!==O.type&&(_=O.type),this.optionsBackup.edges={smooth:void 0===O.enabled||O.enabled,type:void 0===O.type?"dynamic":O.type,roundness:void 0===O.roundness?.5:O.roundness,forceDirection:void 0!==O.forceDirection&&O.forceDirection},f.edges.smooth={enabled:void 0===O.enabled||O.enabled,type:_,roundness:void 0===O.roundness?.5:O.roundness,forceDirection:void 0!==O.forceDirection&&O.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",_)}return f}},{key:"seededRandom",value:function(){var f=1e4*Math.sin(this.randomSeed++);return f-Math.floor(f)}},{key:"positionInitially",value:function(f){if(!0!==this.options.hierarchical.enabled){this.randomSeed=this.initialRandomSeed;for(var p=f.length+50,_=0;_<f.length;_++){var O=f[_],V=2*Math.PI*this.seededRandom();void 0===O.x&&(O.x=p*Math.cos(V)),void 0===O.y&&(O.y=p*Math.sin(V))}}}},{key:"layoutNetwork",value:function(){if(!0!==this.options.hierarchical.enabled&&!0===this.options.improvedLayout){for(var f=this.body.nodeIndices,p=0,_=0;_<f.length;_++)!0===this.body.nodes[f[_]].predefinedPosition&&(p+=1);if(p<.5*f.length){var j=0,W={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(f.length>150){for(var Y=f.length;f.length>150&&j<=10;){var q=f.length;if((j+=1)%3==0?this.body.modules.clustering.clusterBridges(W):this.body.modules.clustering.clusterOutliers(W),q==f.length&&j%3!=0)return this._declusterAll(),this.body.emitter.emit("_layoutFailed"),void console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.")}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*Y)})}j>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(f,this.body.edgeIndices,!0),this._shiftToCenter();for(var de=0;de<f.length;de++){var ve=this.body.nodes[f[de]];!1===ve.predefinedPosition&&(ve.x+=70*(.5-this.seededRandom()),ve.y+=70*(.5-this.seededRandom()))}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}},{key:"_shiftToCenter",value:function(){for(var f=g.getRangeCore(this.body.nodes,this.body.nodeIndices),p=g.findCenter(f),_=0;_<this.body.nodeIndices.length;_++){var O=this.body.nodes[this.body.nodeIndices[_]];O.x-=p.x,O.y-=p.y}}},{key:"_declusterAll",value:function(){for(var f=!0;!0===f;){f=!1;for(var p=0;p<this.body.nodeIndices.length;p++)!0===this.body.nodes[this.body.nodeIndices[p]].isCluster&&(f=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[p],{},!1));!0===f&&this.body.emitter.emit("_dataChanged")}}},{key:"getSeed",value:function(){return this.initialRandomSeed}},{key:"setupHierarchicalLayout",value:function(){if(!0===this.options.hierarchical.enabled&&this.body.nodeIndices.length>0){var f=void 0,p=void 0,_=!1,O=!1;for(p in this.lastNodeOnLevel={},this.hierarchical=new h,this.body.nodes)this.body.nodes.hasOwnProperty(p)&&(void 0!==(f=this.body.nodes[p]).options.level?(_=!0,this.hierarchical.levels[p]=f.options.level):O=!0);if(!0===O&&!0===_)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");if(!0===O){var V=this.options.hierarchical.sortMethod;"hubsize"===V?this._determineLevelsByHubsize():"directed"===V?this._determineLevelsDirected():"custom"===V&&this._determineLevelsCustomCallback()}for(var j in this.body.nodes)this.body.nodes.hasOwnProperty(j)&&this.hierarchical.ensureLevel(j);var $=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy($),this._condenseHierarchy(),this._shiftToCenter()}}},{key:"_condenseHierarchy",value:function(){var f=this,p=!1,_={},V=function(be,ue){var he=f.hierarchical.trees;for(var xe in he)he.hasOwnProperty(xe)&&he[xe]===be&&f.direction.shift(xe,ue)},j=function(){for(var be=[],ue=0;ue<f.hierarchical.numTrees();ue++)be.push(f.direction.getTreeSize(ue));return be},$=function Me(be,ue){if(!ue[be.id]&&(ue[be.id]=!0,f.hierarchical.childrenReference[be.id])){var he=f.hierarchical.childrenReference[be.id];if(he.length>0)for(var xe=0;xe<he.length;xe++)Me(f.body.nodes[he[xe]],ue)}},W=function(be){var ue=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e9,he=1e9,xe=1e9,Fe=1e9,Be=-1e9;for(var Re in be)if(be.hasOwnProperty(Re)){var Ye=f.body.nodes[Re],Ze=f.hierarchical.levels[Ye.id],We=f.direction.getPosition(Ye),qt=f._getSpaceAroundNode(Ye,be),si=(0,D.default)(qt,2),nt=si[1];he=Math.min(si[0],he),xe=Math.min(nt,xe),Ze<=ue&&(Fe=Math.min(We,Fe),Be=Math.max(We,Be))}return[Fe,Be,he,xe]},q=function(be,ue,he){for(var xe=f.hierarchical,Fe=0;Fe<ue.length;Fe++){var Re=xe.distributionOrdering[ue[Fe]];if(Re.length>1)for(var Ye=0;Ye<Re.length-1;Ye++){var Ze=Re[Ye],We=Re[Ye+1];xe.hasSameParent(Ze,We)&&xe.inSameSubNetwork(Ze,We)&&be(Ze,We,he)}}},re=function(be,ue){var he=arguments.length>2&&void 0!==arguments[2]&&arguments[2],xe=f.direction.getPosition(be),Fe=f.direction.getPosition(ue),Be=Math.abs(Fe-xe),Re=f.options.hierarchical.nodeSpacing;if(Be>Re){var Ye={},Ze={};$(be,Ye),$(ue,Ze);var We=function(be,ue){var he=f.hierarchical.getMaxLevel(be.id),xe=f.hierarchical.getMaxLevel(ue.id);return Math.min(he,xe)}(be,ue),qt=W(Ye,We),si=W(Ze,We),kt=qt[1],nt=si[0],Kt=si[2];if(Math.abs(kt-nt)>Re){var hi=kt-nt+Re;hi<-Kt+Re&&(hi=-Kt+Re),hi<0&&(f._shiftBlock(ue.id,hi),p=!0,!0===he&&f._centerParent(ue))}}},se=function(be,ue){for(var he=ue.id,xe=ue.edges,Fe=f.hierarchical.levels[ue.id],Be=f.options.hierarchical.levelSeparation*f.options.hierarchical.levelSeparation,Re={},Ye=[],Ze=0;Ze<xe.length;Ze++){var We=xe[Ze];if(We.toId!=We.fromId){var qt=We.toId==he?We.from:We.to;Re[xe[Ze].id]=qt,f.hierarchical.levels[qt.id]<Fe&&Ye.push(We)}}var lt,Ve,$e,st,Ot,Qe,oi,si=function(lt,Ve){for(var $e=0,st=0;st<Ve.length;st++)if(void 0!==Re[Ve[st].id]){var Ot=f.direction.getPosition(Re[Ve[st].id])-lt;$e+=Ot/Math.sqrt(Ot*Ot+Be)}return $e},kt=function(lt,Ve){for(var $e=0,st=0;st<Ve.length;st++)if(void 0!==Re[Ve[st].id]){var Ot=f.direction.getPosition(Re[Ve[st].id])-lt;$e-=Be*Math.pow(Ot*Ot+Be,-1.5)}return $e},nt=function(lt,Ve){for(var $e=f.direction.getPosition(ue),st={},Ot=0;Ot<lt;Ot++){var Jt=si($e,Ve),Qe=kt($e,Ve);if(void 0!==st[$e-=Math.max(-40,Math.min(40,Math.round(Jt/Qe)))])break;st[$e]=Ot}return $e},hi=nt(be,Ye);(function(lt){var Ve=f.direction.getPosition(ue);if(void 0===_[ue.id]){var $e={};$(ue,$e),_[ue.id]=$e}var st=W(_[ue.id]),Ot=st[2],Qe=lt-Ve,oi=0;Qe>0?oi=Math.min(Qe,st[3]-f.options.hierarchical.nodeSpacing):Qe<0&&(oi=-Math.min(-Qe,Ot-f.options.hierarchical.nodeSpacing)),0!=oi&&(f._shiftBlock(ue.id,oi),p=!0)})(hi),lt=hi=nt(be,xe),Ve=f.direction.getPosition(ue),$e=f._getSpaceAroundNode(ue),st=(0,D.default)($e,2),Ot=st[0],oi=Ve,(Qe=lt-Ve)>0?oi=Math.min(Ve+(st[1]-f.options.hierarchical.nodeSpacing),lt):Qe<0&&(oi=Math.max(Ve-(Ot-f.options.hierarchical.nodeSpacing),lt)),oi!==Ve&&(f.direction.setPosition(ue,oi),p=!0)};!0===this.options.hierarchical.blockShifting&&(function(be){var ue=f.hierarchical.getLevels();ue=ue.reverse();for(var he=0;he<5&&(p=!1,q(re,ue,!0),!0===p);he++);}(),function(){for(var be in f.body.nodes)f.body.nodes.hasOwnProperty(be)&&f._centerParent(f.body.nodes[be])}()),!0===this.options.hierarchical.edgeMinimization&&function(be){var ue=f.hierarchical.getLevels();ue=ue.reverse();for(var he=0;he<be;he++){p=!1;for(var xe=0;xe<ue.length;xe++)for(var Be=f.hierarchical.distributionOrdering[ue[xe]],Re=0;Re<Be.length;Re++)se(1e3,Be[Re]);if(!0!==p)break}}(20),!0===this.options.hierarchical.parentCentralization&&function(){var be=f.hierarchical.getLevels();be=be.reverse();for(var ue=0;ue<be.length;ue++)for(var xe=f.hierarchical.distributionOrdering[be[ue]],Fe=0;Fe<xe.length;Fe++)f._centerParent(xe[Fe])}(),function(){for(var be=j(),ue=0,he=0;he<be.length-1;he++)V(he+1,ue+=be[he].max-be[he+1].min+f.options.hierarchical.treeSpacing)}()}},{key:"_getSpaceAroundNode",value:function(f,p){var _=!0;void 0===p&&(_=!1);var O=this.hierarchical.levels[f.id];if(void 0!==O){var V=this.hierarchical.distributionIndex[f.id],j=this.direction.getPosition(f),$=this.hierarchical.distributionOrdering[O],W=1e9,Y=1e9;if(0!==V){var q=$[V-1];(!0===_&&void 0===p[q.id]||!1===_)&&(W=j-this.direction.getPosition(q))}if(V!=$.length-1){var se=$[V+1];if(!0===_&&void 0===p[se.id]||!1===_){var de=this.direction.getPosition(se);Y=Math.min(Y,de-j)}}return[W,Y]}return[0,0]}},{key:"_centerParent",value:function(f){if(this.hierarchical.parentReference[f.id])for(var p=this.hierarchical.parentReference[f.id],_=0;_<p.length;_++){var O=p[_],V=this.body.nodes[O],j=this.hierarchical.childrenReference[O];if(void 0!==j){var $=this._getCenterPosition(j),W=this.direction.getPosition(V),Y=this._getSpaceAroundNode(V),q=(0,D.default)(Y,2),re=q[0],se=q[1],de=W-$;(de<0&&Math.abs(de)<se-this.options.hierarchical.nodeSpacing||de>0&&Math.abs(de)<re-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(V,$)}}}},{key:"_placeNodesByHierarchy",value:function(f){for(var p in this.positionedNodes={},f)if(f.hasOwnProperty(p)){var _=(0,L.default)(f[p]);_=this._indexArrayToNodes(_),this.direction.sort(_);for(var O=0,V=0;V<_.length;V++){var j=_[V];if(void 0===this.positionedNodes[j.id]){var $=this.options.hierarchical.nodeSpacing,W=$*O;O>0&&(W=this.direction.getPosition(_[V-1])+$),this.direction.setPosition(j,W,p),this._validatePositionAndContinue(j,p,W),O++}}}}},{key:"_placeBranchNodes",value:function(f,p){var _=this.hierarchical.childrenReference[f];if(void 0!==_){for(var O=[],V=0;V<_.length;V++)O.push(this.body.nodes[_[V]]);this.direction.sort(O);for(var j=0;j<O.length;j++){var $=O[j],W=this.hierarchical.levels[$.id];if(!(W>p&&void 0===this.positionedNodes[$.id]))return;var q,Y=this.options.hierarchical.nodeSpacing;q=0===j?this.direction.getPosition(this.body.nodes[f]):this.direction.getPosition(O[j-1])+Y,this.direction.setPosition($,q,W),this._validatePositionAndContinue($,W,q)}var re=this._getCenterPosition(O);this.direction.setPosition(this.body.nodes[f],re,p)}}},{key:"_validatePositionAndContinue",value:function(f,p,_){if(this.hierarchical.isTree){if(void 0!==this.lastNodeOnLevel[p]){var O=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[p]]);if(_-O<this.options.hierarchical.nodeSpacing){var V=O+this.options.hierarchical.nodeSpacing-_,j=this._findCommonParent(this.lastNodeOnLevel[p],f.id);this._shiftBlock(j.withChild,V)}}this.lastNodeOnLevel[p]=f.id,this.positionedNodes[f.id]=!0,this._placeBranchNodes(f.id,p)}}},{key:"_indexArrayToNodes",value:function(f){for(var p=[],_=0;_<f.length;_++)p.push(this.body.nodes[f[_]]);return p}},{key:"_getDistribution",value:function(){var f={},p=void 0,_=void 0;for(p in this.body.nodes)if(this.body.nodes.hasOwnProperty(p)){var O=void 0===this.hierarchical.levels[p]?0:this.hierarchical.levels[p];this.direction.fix(_=this.body.nodes[p],O),void 0===f[O]&&(f[O]={}),f[O][p]=_}return f}},{key:"_getActiveEdges",value:function(f){var p=this,_=[];return y.forEach(f.edges,function(O){-1!==p.body.edgeIndices.indexOf(O.id)&&_.push(O)}),_}},{key:"_getHubSizes",value:function(){var f=this,p={};y.forEach(this.body.nodeIndices,function(V){var $=f._getActiveEdges(f.body.nodes[V]).length;p[$]=!0});var O=[];return y.forEach(p,function(V){O.push(Number(V))}),O.sort(function(V,j){return j-V}),O}},{key:"_determineLevelsByHubsize",value:function(){for(var f=this,p=function(W,Y){f.hierarchical.levelDownstream(W,Y)},_=this._getHubSizes(),O=function(W){var Y=_[W];if(0===Y)return"break";y.forEach(f.body.nodeIndices,function(q){Y===f._getActiveEdges(f.body.nodes[q]).length&&f._crawlNetwork(p,q)})},V=0;V<_.length&&"break"!==O(V);++V);}},{key:"_determineLevelsCustomCallback",value:function(){var f=this;this._crawlNetwork(function(j,$,W){var Y=f.hierarchical.levels[j.id];void 0===Y&&(Y=f.hierarchical.levels[j.id]=1e5);var q=(g.cloneOptions(j,"node"),g.cloneOptions($,"node"),void g.cloneOptions(W,"edge"));f.hierarchical.levels[$.id]=Y+q}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_determineLevelsDirected",value:function(){var f=this;this._crawlNetwork(function(j,$,W){var Y=f.hierarchical.levels[j.id],q=f.hierarchical.levels[$.id];(function(j){return y.forEach(f.body.edges,function($){if($.toId===j.fromId&&$.fromId===j.toId)return!0}),!1})(W)&&void 0!==Y&&void 0!==q||(void 0===Y&&(Y=f.hierarchical.levels[j.id]=1e4),f.hierarchical.levels[$.id]=W.toId==$.id?Y+1:Y-1)}),this.hierarchical.setMinLevelToZero(this.body.nodes)}},{key:"_generateMap",value:function(){var f=this;this._crawlNetwork(function(O,V){f.hierarchical.levels[V.id]>f.hierarchical.levels[O.id]&&f.hierarchical.addRelation(O.id,V.id)}),this.hierarchical.checkIfTree()}},{key:"_crawlNetwork",value:function(){var f=this,p=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){},_=arguments[1],O={},V=function re(se,de){if(void 0===O[se.id]){f.hierarchical.setTreeIndex(se,de),O[se.id]=!0;for(var ve=void 0,Oe=f._getActiveEdges(se),Ee=0;Ee<Oe.length;Ee++){var Me=Oe[Ee];!0===Me.connected&&se.id!=(ve=Me.toId==se.id?Me.from:Me.to).id&&(p(se,ve,Me),re(ve,de))}}};if(void 0===_)for(var j=0,$=0;$<this.body.nodeIndices.length;$++){var W=this.body.nodeIndices[$];void 0===O[W]&&(V(this.body.nodes[W],j),j+=1)}else{var q=this.body.nodes[_];if(void 0===q)return void console.error("Node not found:",_);V(q)}}},{key:"_shiftBlock",value:function(f,p){var _=this,O={};!function j($){if(!O[$]){O[$]=!0,_.direction.shift($,p);var W=_.hierarchical.childrenReference[$];if(void 0!==W)for(var Y=0;Y<W.length;Y++)j(W[Y])}}(f)}},{key:"_findCommonParent",value:function(f,p){var _=this,O={};return function $(W,Y){var q=_.hierarchical.parentReference[Y];if(void 0!==q)for(var re=0;re<q.length;re++){var se=q[re];W[se]=!0,$(W,se)}}(O,f),function $(W,Y){var q=_.hierarchical.parentReference[Y];if(void 0!==q)for(var re=0;re<q.length;re++){var se=q[re];if(void 0!==W[se])return{foundParent:se,withChild:Y};var de=$(W,se);if(null!==de.foundParent)return de}return{foundParent:null,withChild:Y}}(O,p)}},{key:"setDirectionStrategy",value:function(){this.direction="UD"===this.options.hierarchical.direction||"DU"===this.options.hierarchical.direction?new m(this):new c(this)}},{key:"_getCenterPosition",value:function(f){for(var p=1e9,_=-1e9,O=0;O<f.length;O++){var $=this.direction.getPosition(void 0!==f[O].id?f[O]:this.body.nodes[f[O]]);p=Math.min(p,$),_=Math.max(_,$)}return.5*(p+_)}}]),v}();U.default=d},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0}),U.VerticalStrategy=U.HorizontalStrategy=void 0;var D=b(S(3)),P=b(S(4)),L=b(S(5)),F=b(S(0)),E=b(S(1));function b(c){return c&&c.__esModule?c:{default:c}}var y=function(){function c(){(0,F.default)(this,c)}return(0,E.default)(c,[{key:"abstract",value:function(){throw new Error("Can't instantiate abstract class!")}},{key:"fake_use",value:function(){}},{key:"curveType",value:function(){return this.abstract()}},{key:"getPosition",value:function(h){return this.fake_use(h),this.abstract()}},{key:"setPosition",value:function(h,d){this.fake_use(h,d,arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0),this.abstract()}},{key:"getTreeSize",value:function(h){return this.fake_use(h),this.abstract()}},{key:"sort",value:function(h){this.fake_use(h),this.abstract()}},{key:"fix",value:function(h,d){this.fake_use(h,d),this.abstract()}},{key:"shift",value:function(h,d){this.fake_use(h,d),this.abstract()}}]),c}(),g=function(c){function m(h){(0,F.default)(this,m);var d=(0,P.default)(this,(m.__proto__||(0,D.default)(m)).call(this));return d.layout=h,d}return(0,L.default)(m,c),(0,E.default)(m,[{key:"curveType",value:function(){return"horizontal"}},{key:"getPosition",value:function(d){return d.x}},{key:"setPosition",value:function(d,v){var C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==C&&this.layout.hierarchical.addToOrdering(d,C),d.x=v}},{key:"getTreeSize",value:function(d){var v=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,d);return{min:v.min_x,max:v.max_x}}},{key:"sort",value:function(d){d.sort(function(v,C){return void 0===v.x||void 0===C.x?0:v.x-C.x})}},{key:"fix",value:function(d,v){d.y=this.layout.options.hierarchical.levelSeparation*v,d.options.fixed.y=!0}},{key:"shift",value:function(d,v){this.layout.body.nodes[d].x+=v}}]),m}(y),x=function(c){function m(h){(0,F.default)(this,m);var d=(0,P.default)(this,(m.__proto__||(0,D.default)(m)).call(this));return d.layout=h,d}return(0,L.default)(m,c),(0,E.default)(m,[{key:"curveType",value:function(){return"vertical"}},{key:"getPosition",value:function(d){return d.y}},{key:"setPosition",value:function(d,v){var C=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;void 0!==C&&this.layout.hierarchical.addToOrdering(d,C),d.y=v}},{key:"getTreeSize",value:function(d){var v=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,d);return{min:v.min_y,max:v.max_y}}},{key:"sort",value:function(d){d.sort(function(v,C){return void 0===v.y||void 0===C.y?0:v.y-C.y})}},{key:"fix",value:function(d,v){d.x=this.layout.options.hierarchical.levelSeparation*v,d.options.fixed.x=!0}},{key:"shift",value:function(d,v){this.layout.body.nodes[d].y+=v}}]),m}(y);U.HorizontalStrategy=x,U.VerticalStrategy=g},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=b(S(8)),P=b(S(19)),L=b(S(6)),F=b(S(0)),E=b(S(1));function b(m){return m&&m.__esModule?m:{default:m}}var y=S(2),g=S(10),x=S(37),c=function(){function m(h,d,v){var C=this;(0,F.default)(this,m),this.body=h,this.canvas=d,this.selectionHandler=v,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this.manipulationHammers=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},y.extend(this.options,this.defaultOptions),this.body.emitter.on("destroy",function(){C._clean()}),this.body.emitter.on("_dataChanged",this._restore.bind(this)),this.body.emitter.on("_resetData",this._restore.bind(this))}return(0,E.default)(m,[{key:"_restore",value:function(){!1!==this.inMode&&(!0===this.options.initiallyActive?this.enableEditMode():this.disableEditMode())}},{key:"setOptions",value:function(d,v,C){void 0!==v&&(this.options.locale=void 0!==v.locale?v.locale:C.locale,this.options.locales=void 0!==v.locales?v.locales:C.locales),void 0!==d&&("boolean"==typeof d?this.options.enabled=d:(this.options.enabled=!0,y.deepExtend(this.options,d)),!0===this.options.initiallyActive&&(this.editMode=!0),this._setup())}},{key:"toggleEditMode",value:function(){!0===this.editMode?this.disableEditMode():this.enableEditMode()}},{key:"enableEditMode",value:function(){this.editMode=!0,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}},{key:"disableEditMode",value:function(){this.editMode=!1,this._clean(),!0===this.guiEnabled&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}},{key:"showManipulatorToolbar",value:function(){if(this._clean(),this.manipulationDOM={},!0===this.guiEnabled){this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";var d=this.selectionHandler._getSelectedNodeCount(),v=this.selectionHandler._getSelectedEdgeCount(),C=d+v,f=this.options.locales[this.options.locale],p=!1;!1!==this.options.addNode&&(this._createAddNodeButton(f),p=!0),!1!==this.options.addEdge&&(!0===p?this._createSeperator(1):p=!0,this._createAddEdgeButton(f)),1===d&&"function"==typeof this.options.editNode?(!0===p?this._createSeperator(2):p=!0,this._createEditNodeButton(f)):1===v&&0===d&&!1!==this.options.editEdge&&(!0===p?this._createSeperator(3):p=!0,this._createEditEdgeButton(f)),0!==C&&(d>0&&!1!==this.options.deleteNode||0===d&&!1!==this.options.deleteEdge)&&(!0===p&&this._createSeperator(4),this._createDeleteButton(f)),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this)),this._temporaryBindEvent("select",this.showManipulatorToolbar.bind(this))}this.body.emitter.emit("_redraw")}},{key:"addNodeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addNode",!0===this.guiEnabled){var d=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(d),this._createSeperator(),this._createDescription(d.addDescription||this.options.locales.en.addDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindEvent("click",this._performAddNode.bind(this))}},{key:"editNode",value:function(){var d=this;!0!==this.editMode&&this.enableEditMode(),this._clean();var v=this.selectionHandler._getSelectedNode();if(void 0!==v){if(this.inMode="editNode","function"!=typeof this.options.editNode)throw new Error("No function has been configured to handle the editing of nodes.");if(!0!==v.isCluster){var C=y.deepExtend({},v.options,!1);if(C.x=v.x,C.y=v.y,2!==this.options.editNode.length)throw new Error("The function for edit does not support two arguments (data, callback)");this.options.editNode(C,function(f){null!=f&&"editNode"===d.inMode&&d.body.data.nodes.getDataSet().update(f),d.showManipulatorToolbar()})}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError)}else this.showManipulatorToolbar()}},{key:"addEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="addEdge",!0===this.guiEnabled){var d=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(d),this._createSeperator(),this._createDescription(d.edgeDescription||this.options.locales.en.edgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}this._temporaryBindUI("onTouch",this._handleConnect.bind(this)),this._temporaryBindUI("onDragEnd",this._finishConnect.bind(this)),this._temporaryBindUI("onDrag",this._dragControlNode.bind(this)),this._temporaryBindUI("onRelease",this._finishConnect.bind(this)),this._temporaryBindUI("onDragStart",this._dragStartEdge.bind(this)),this._temporaryBindUI("onHold",function(){})}},{key:"editEdgeMode",value:function(){if(!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="editEdge","object"!==(0,L.default)(this.options.editEdge)||"function"!=typeof this.options.editEdge.editWithoutDrag||(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0===this.edgeBeingEditedId)){if(!0===this.guiEnabled){var v=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(v),this._createSeperator(),this._createDescription(v.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindHammerToDiv(this.closeDiv,this.toggleEditMode.bind(this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdges()[0],void 0!==this.edgeBeingEditedId){var C=this.body.edges[this.edgeBeingEditedId],f=this._getNewTargetNode(C.from.x,C.from.y),p=this._getNewTargetNode(C.to.x,C.to.y);this.temporaryIds.nodes.push(f.id),this.temporaryIds.nodes.push(p.id),this.body.nodes[f.id]=f,this.body.nodeIndices.push(f.id),this.body.nodes[p.id]=p,this.body.nodeIndices.push(p.id),this._temporaryBindUI("onTouch",this._controlNodeTouch.bind(this)),this._temporaryBindUI("onTap",function(){}),this._temporaryBindUI("onHold",function(){}),this._temporaryBindUI("onDragStart",this._controlNodeDragStart.bind(this)),this._temporaryBindUI("onDrag",this._controlNodeDrag.bind(this)),this._temporaryBindUI("onDragEnd",this._controlNodeDragEnd.bind(this)),this._temporaryBindUI("onMouseMove",function(){}),this._temporaryBindEvent("beforeDrawing",function(_){var O=C.edgeType.findBorderPositions(_);!1===f.selected&&(f.x=O.from.x,f.y=O.from.y),!1===p.selected&&(p.x=O.to.x,p.y=O.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}else{var d=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(d.from,d.to)}}},{key:"deleteSelected",value:function(){var d=this;!0!==this.editMode&&this.enableEditMode(),this._clean(),this.inMode="delete";var v=this.selectionHandler.getSelectedNodes(),C=this.selectionHandler.getSelectedEdges(),f=void 0;if(v.length>0){for(var p=0;p<v.length;p++)if(!0===this.body.nodes[v[p]].isCluster)return void alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);"function"==typeof this.options.deleteNode&&(f=this.options.deleteNode)}else C.length>0&&"function"==typeof this.options.deleteEdge&&(f=this.options.deleteEdge);if("function"==typeof f){var _={nodes:v,edges:C};if(2!==f.length)throw new Error("The function for delete does not support two arguments (data, callback)");f(_,function(O){null!=O&&"delete"===d.inMode?(d.body.data.edges.getDataSet().remove(O.edges),d.body.data.nodes.getDataSet().remove(O.nodes),d.body.emitter.emit("startSimulation"),d.showManipulatorToolbar()):(d.body.emitter.emit("startSimulation"),d.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().remove(C),this.body.data.nodes.getDataSet().remove(v),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}},{key:"_setup",value:function(){!0===this.options.enabled?(this.guiEnabled=!0,this._createWrappers(),!1===this.editMode?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}},{key:"_createWrappers",value:function(){void 0===this.manipulationDiv&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.manipulationDiv.style.display=!0===this.editMode?"block":"none",this.canvas.frame.appendChild(this.manipulationDiv)),void 0===this.editModeDiv&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editModeDiv.style.display=!0===this.editMode?"none":"block",this.canvas.frame.appendChild(this.editModeDiv)),void 0===this.closeDiv&&(this.closeDiv=document.createElement("div"),this.closeDiv.className="vis-close",this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv))}},{key:"_getNewTargetNode",value:function(d,v){var C=y.deepExtend({},this.options.controlNodeStyle);C.id="targetNode"+y.randomUUID(),C.hidden=!1,C.physics=!1,C.x=d,C.y=v;var f=this.body.functions.createNode(C);return f.shape.boundingBox={left:d,right:d,top:v,bottom:v},f}},{key:"_createEditButton",value:function(){this._clean(),this.manipulationDOM={},y.recursiveDOMDelete(this.editModeDiv);var v=this._createButton("editMode","vis-button vis-edit vis-edit-mode",this.options.locales[this.options.locale].edit||this.options.locales.en.edit);this.editModeDiv.appendChild(v),this._bindHammerToDiv(v,this.toggleEditMode.bind(this))}},{key:"_clean",value:function(){this.inMode=!1,!0===this.guiEnabled&&(y.recursiveDOMDelete(this.editModeDiv),y.recursiveDOMDelete(this.manipulationDiv),this._cleanManipulatorHammers()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}},{key:"_cleanManipulatorHammers",value:function(){if(0!=this.manipulationHammers.length){for(var d=0;d<this.manipulationHammers.length;d++)this.manipulationHammers[d].destroy();this.manipulationHammers=[]}}},{key:"_removeManipulationDOM",value:function(){this._clean(),y.recursiveDOMDelete(this.manipulationDiv),y.recursiveDOMDelete(this.editModeDiv),y.recursiveDOMDelete(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}},{key:"_createSeperator",value:function(){var d=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+d]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+d].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+d])}},{key:"_createAddNodeButton",value:function(d){var v=this._createButton("addNode","vis-button vis-add",d.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(v),this._bindHammerToDiv(v,this.addNodeMode.bind(this))}},{key:"_createAddEdgeButton",value:function(d){var v=this._createButton("addEdge","vis-button vis-connect",d.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(v),this._bindHammerToDiv(v,this.addEdgeMode.bind(this))}},{key:"_createEditNodeButton",value:function(d){var v=this._createButton("editNode","vis-button vis-edit",d.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(v),this._bindHammerToDiv(v,this.editNode.bind(this))}},{key:"_createEditEdgeButton",value:function(d){var v=this._createButton("editEdge","vis-button vis-edit",d.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(v),this._bindHammerToDiv(v,this.editEdgeMode.bind(this))}},{key:"_createDeleteButton",value:function(d){var C=this._createButton("delete",this.options.rtl?"vis-button vis-delete-rtl":"vis-button vis-delete",d.del||this.options.locales.en.del);this.manipulationDiv.appendChild(C),this._bindHammerToDiv(C,this.deleteSelected.bind(this))}},{key:"_createBackButton",value:function(d){var v=this._createButton("back","vis-button vis-back",d.back||this.options.locales.en.back);this.manipulationDiv.appendChild(v),this._bindHammerToDiv(v,this.showManipulatorToolbar.bind(this))}},{key:"_createButton",value:function(d,v,C){var f=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"vis-label";return this.manipulationDOM[d+"Div"]=document.createElement("div"),this.manipulationDOM[d+"Div"].className=v,this.manipulationDOM[d+"Label"]=document.createElement("div"),this.manipulationDOM[d+"Label"].className=f,this.manipulationDOM[d+"Label"].innerHTML=C,this.manipulationDOM[d+"Div"].appendChild(this.manipulationDOM[d+"Label"]),this.manipulationDOM[d+"Div"]}},{key:"_createDescription",value:function(d){this.manipulationDiv.appendChild(this._createButton("description","vis-button vis-none",d))}},{key:"_temporaryBindEvent",value:function(d,v){this.temporaryEventFunctions.push({event:d,boundFunction:v}),this.body.emitter.on(d,v)}},{key:"_temporaryBindUI",value:function(d,v){if(void 0===this.body.eventListeners[d])throw new Error("This UI function does not exist. Typo? You tried: "+d+" possible are: "+(0,P.default)((0,D.default)(this.body.eventListeners)));this.temporaryUIFunctions[d]=this.body.eventListeners[d],this.body.eventListeners[d]=v}},{key:"_unbindTemporaryUIs",value:function(){for(var d in this.temporaryUIFunctions)this.temporaryUIFunctions.hasOwnProperty(d)&&(this.body.eventListeners[d]=this.temporaryUIFunctions[d],delete this.temporaryUIFunctions[d]);this.temporaryUIFunctions={}}},{key:"_unbindTemporaryEvents",value:function(){for(var d=0;d<this.temporaryEventFunctions.length;d++)this.body.emitter.off(this.temporaryEventFunctions[d].event,this.temporaryEventFunctions[d].boundFunction);this.temporaryEventFunctions=[]}},{key:"_bindHammerToDiv",value:function(d,v){var C=new g(d,{});x.onTouch(C,v),this.manipulationHammers.push(C)}},{key:"_cleanupTemporaryNodesAndEdges",value:function(){for(var d=0;d<this.temporaryIds.edges.length;d++){this.body.edges[this.temporaryIds.edges[d]].disconnect(),delete this.body.edges[this.temporaryIds.edges[d]];var v=this.body.edgeIndices.indexOf(this.temporaryIds.edges[d]);-1!==v&&this.body.edgeIndices.splice(v,1)}for(var C=0;C<this.temporaryIds.nodes.length;C++){delete this.body.nodes[this.temporaryIds.nodes[C]];var f=this.body.nodeIndices.indexOf(this.temporaryIds.nodes[C]);-1!==f&&this.body.nodeIndices.splice(f,1)}this.temporaryIds={nodes:[],edges:[]}}},{key:"_controlNodeTouch",value:function(d){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(d.center),this.lastTouch.translation=y.extend({},this.body.view.translation)}},{key:"_controlNodeDragStart",value:function(d){var C=this.selectionHandler._pointerToPositionObject(this.lastTouch),f=this.body.nodes[this.temporaryIds.nodes[0]],p=this.body.nodes[this.temporaryIds.nodes[1]],_=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;var O=f.isOverlappingWith(C),V=p.isOverlappingWith(C);!0===O?(this.selectedControlNode=f,_.edgeType.from=f):!0===V&&(this.selectedControlNode=p,_.edgeType.to=p),void 0!==this.selectedControlNode&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}},{key:"_controlNodeDrag",value:function(d){this.body.emitter.emit("disablePhysics");var v=this.body.functions.getPointer(d.center),C=this.canvas.DOMtoCanvas(v);void 0!==this.selectedControlNode?(this.selectedControlNode.x=C.x,this.selectedControlNode.y=C.y):this.body.view.translation={x:this.lastTouch.translation.x+(v.x-this.lastTouch.x),y:this.lastTouch.translation.y+(v.y-this.lastTouch.y)},this.body.emitter.emit("_redraw")}},{key:"_controlNodeDragEnd",value:function(d){var v=this.body.functions.getPointer(d.center),C=this.selectionHandler._pointerToPositionObject(v),f=this.body.edges[this.edgeBeingEditedId];if(void 0!==this.selectedControlNode){this.selectionHandler.unselectAll();for(var p=this.selectionHandler._getAllNodesOverlappingWith(C),_=void 0,O=p.length-1;O>=0;O--)if(p[O]!==this.selectedControlNode.id){_=this.body.nodes[p[O]];break}void 0!==_&&void 0!==this.selectedControlNode?!0===_.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.selectedControlNode.id===this.body.nodes[this.temporaryIds.nodes[0]].id?this._performEditEdge(_.id,f.to.id):this._performEditEdge(f.from.id,_.id):(f.updateEdgeType(),this.body.emitter.emit("restorePhysics")),this.body.emitter.emit("_redraw")}}},{key:"_handleConnect",value:function(d){if((new Date).valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(d.center),this.lastTouch.translation=y.extend({},this.body.view.translation);var C=this.selectionHandler.getNodeAt(this.lastTouch);if(void 0!==C)if(!0===C.isCluster)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{var f=this._getNewTargetNode(C.x,C.y);this.body.nodes[f.id]=f,this.body.nodeIndices.push(f.id);var p=this.body.functions.createEdge({id:"connectionEdge"+y.randomUUID(),from:C.id,to:f.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[p.id]=p,this.body.edgeIndices.push(p.id),this.temporaryIds.nodes.push(f.id),this.temporaryIds.edges.push(p.id)}this.touchTime=(new Date).valueOf()}}},{key:"_dragControlNode",value:function(d){var v=this.body.functions.getPointer(d.center);if(void 0!==this.temporaryIds.nodes[0]){var C=this.body.nodes[this.temporaryIds.nodes[0]];C.x=this.canvas._XconvertDOMtoCanvas(v.x),C.y=this.canvas._YconvertDOMtoCanvas(v.y),this.body.emitter.emit("_redraw")}else this.body.view.translation={x:this.lastTouch.translation.x+(v.x-this.lastTouch.x),y:this.lastTouch.translation.y+(v.y-this.lastTouch.y)}}},{key:"_finishConnect",value:function(d){var v=this.body.functions.getPointer(d.center),C=this.selectionHandler._pointerToPositionObject(v),f=void 0;void 0!==this.temporaryIds.edges[0]&&(f=this.body.edges[this.temporaryIds.edges[0]].fromId);for(var p=this.selectionHandler._getAllNodesOverlappingWith(C),_=void 0,O=p.length-1;O>=0;O--)if(-1===this.temporaryIds.nodes.indexOf(p[O])){_=this.body.nodes[p[O]];break}this._cleanupTemporaryNodesAndEdges(),void 0!==_&&(!0===_.isCluster?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):void 0!==this.body.nodes[f]&&void 0!==this.body.nodes[_.id]&&this._performAddEdge(f,_.id)),this.body.emitter.emit("_redraw")}},{key:"_dragStartEdge",value:function(d){this.selectionHandler._generateClickEvent("dragStart",d,this.lastTouch,void 0,!0)}},{key:"_performAddNode",value:function(d){var v=this,C={id:y.randomUUID(),x:d.pointer.canvas.x,y:d.pointer.canvas.y,label:"new"};if("function"==typeof this.options.addNode){if(2!==this.options.addNode.length)throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");this.options.addNode(C,function(f){null!=f&&"addNode"===v.inMode&&(v.body.data.nodes.getDataSet().add(f),v.showManipulatorToolbar())})}else this.body.data.nodes.getDataSet().add(C),this.showManipulatorToolbar()}},{key:"_performAddEdge",value:function(d,v){var C=this,f={from:d,to:v};if("function"==typeof this.options.addEdge){if(2!==this.options.addEdge.length)throw new Error("The function for connect does not support two arguments (data,callback)");this.options.addEdge(f,function(p){null!=p&&"addEdge"===C.inMode&&(C.body.data.edges.getDataSet().add(p),C.selectionHandler.unselectAll(),C.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().add(f),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}},{key:"_performEditEdge",value:function(d,v){var C=this,f={id:this.edgeBeingEditedId,from:d,to:v,label:this.body.data.edges._data[this.edgeBeingEditedId].label},p=this.options.editEdge;if("object"===(typeof p>"u"?"undefined":(0,L.default)(p))&&(p=p.editWithoutDrag),"function"==typeof p){if(2!==p.length)throw new Error("The function for edit does not support two arguments (data, callback)");p(f,function(_){null==_||"editEdge"!==C.inMode?(C.body.edges[f.id].updateEdgeType(),C.body.emitter.emit("_redraw"),C.showManipulatorToolbar()):(C.body.data.edges.getDataSet().update(_),C.selectionHandler.unselectAll(),C.showManipulatorToolbar())})}else this.body.data.edges.getDataSet().update(f),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}]),m}();U.default=c},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=M(S(30)),P=M(S(0)),L=M(S(1)),F=M(S(239));function M(b){return b&&b.__esModule?b:{default:b}}var E=function(){function b(y,g,x){(0,P.default)(this,b),this.body=y,this.springLength=g,this.springConstant=x,this.distanceSolver=new F.default}return(0,L.default)(b,[{key:"setOptions",value:function(g){g&&(g.springLength&&(this.springLength=g.springLength),g.springConstant&&(this.springConstant=g.springConstant))}},{key:"solve",value:function(g,x){var c=arguments.length>2&&void 0!==arguments[2]&&arguments[2],m=this.distanceSolver.getDistances(this.body,g,x);this._createL_matrix(m),this._createK_matrix(m),this._createE_matrix();for(var v=0,C=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),p=1e9,_=0,O=0,V=0,j=0,$=0;p>.01&&v<C;){v+=1;var W=this._getHighestEnergyNode(c),Y=(0,D.default)(W,4);for(_=Y[0],O=Y[2],V=Y[3],j=p=Y[1],$=0;j>1&&$<5;){$+=1,this._moveNode(_,O,V);var q=this._getEnergy(_),re=(0,D.default)(q,3);j=re[0],O=re[1],V=re[2]}}}},{key:"_getHighestEnergyNode",value:function(g){for(var x=this.body.nodeIndices,c=this.body.nodes,m=0,h=x[0],d=0,v=0,C=0;C<x.length;C++){var f=x[C];if(!1===c[f].predefinedPosition||!0===c[f].isCluster&&!0===g||!0===c[f].options.fixed.x||!0===c[f].options.fixed.y){var p=this._getEnergy(f),_=(0,D.default)(p,3),O=_[0];m<O&&(m=O,h=f,d=_[1],v=_[2])}}return[h,m,d,v]}},{key:"_getEnergy",value:function(g){var x=(0,D.default)(this.E_sums[g],2),c=x[0],m=x[1];return[Math.sqrt(Math.pow(c,2)+Math.pow(m,2)),c,m]}},{key:"_moveNode",value:function(g,x,c){for(var m=this.body.nodeIndices,h=this.body.nodes,d=0,v=0,C=0,f=h[g].x,p=h[g].y,_=this.K_matrix[g],O=this.L_matrix[g],V=0;V<m.length;V++){var j=m[V];if(j!==g){var $=h[j].x,W=h[j].y,Y=_[j],q=O[j],re=1/Math.pow(Math.pow(f-$,2)+Math.pow(p-W,2),1.5);d+=Y*(1-q*Math.pow(p-W,2)*re),v+=Y*(q*(f-$)*(p-W)*re),C+=Y*(1-q*Math.pow(f-$,2)*re)}}var Me=(x/d+c/v)/(v/d-C/v);h[g].x+=-(v*Me+x)/d,h[g].y+=Me,this._updateE_matrix(g)}},{key:"_createL_matrix",value:function(g){var x=this.body.nodeIndices,c=this.springLength;this.L_matrix=[];for(var m=0;m<x.length;m++){this.L_matrix[x[m]]={};for(var h=0;h<x.length;h++)this.L_matrix[x[m]][x[h]]=c*g[x[m]][x[h]]}}},{key:"_createK_matrix",value:function(g){var x=this.body.nodeIndices,c=this.springConstant;this.K_matrix=[];for(var m=0;m<x.length;m++){this.K_matrix[x[m]]={};for(var h=0;h<x.length;h++)this.K_matrix[x[m]][x[h]]=c*Math.pow(g[x[m]][x[h]],-2)}}},{key:"_createE_matrix",value:function(){var g=this.body.nodeIndices,x=this.body.nodes;this.E_matrix={},this.E_sums={};for(var c=0;c<g.length;c++)this.E_matrix[g[c]]=[];for(var m=0;m<g.length;m++){for(var h=g[m],d=x[h].x,v=x[h].y,C=0,f=0,p=m;p<g.length;p++){var _=g[p];if(_!==h){var O=x[_].x,V=x[_].y,j=1/Math.sqrt(Math.pow(d-O,2)+Math.pow(v-V,2));this.E_matrix[h][p]=[this.K_matrix[h][_]*(d-O-this.L_matrix[h][_]*(d-O)*j),this.K_matrix[h][_]*(v-V-this.L_matrix[h][_]*(v-V)*j)],this.E_matrix[_][m]=this.E_matrix[h][p],C+=this.E_matrix[h][p][0],f+=this.E_matrix[h][p][1]}}this.E_sums[h]=[C,f]}}},{key:"_updateE_matrix",value:function(g){for(var x=this.body.nodeIndices,c=this.body.nodes,m=this.E_matrix[g],h=this.K_matrix[g],d=this.L_matrix[g],v=c[g].x,C=c[g].y,f=0,p=0,_=0;_<x.length;_++){var O=x[_];if(O!==g){var V=m[_],j=V[0],$=V[1],W=c[O].x,Y=c[O].y,q=1/Math.sqrt(Math.pow(v-W,2)+Math.pow(C-Y,2)),re=h[O]*(v-W-d[O]*(v-W)*q),se=h[O]*(C-Y-d[O]*(C-Y)*q);m[_]=[re,se],f+=re,p+=se;var de=this.E_sums[O];de[0]+=re-j,de[1]+=se-$}}this.E_sums[g]=[f,p]}}]),b}();U.default=E},function(ee,U,S){Object.defineProperty(U,"__esModule",{value:!0});var D=N(S(0)),P=N(S(1));function N(T){return T&&T.__esModule?T:{default:T}}var L=function(){function T(){(0,D.default)(this,T)}return(0,P.default)(T,[{key:"getDistances",value:function(M,E,b){for(var y={},g=M.edges,x=0;x<E.length;x++){var m={};y[E[x]]=m;for(var h=0;h<E.length;h++)m[E[h]]=x==h?0:1e9}for(var d=0;d<b.length;d++){var v=g[b[d]];!0===v.connected&&void 0!==y[v.fromId]&&void 0!==y[v.toId]&&(y[v.fromId][v.toId]=1,y[v.toId][v.fromId]=1)}for(var C=E.length,f=0;f<C;f++)for(var p=E[f],_=y[p],O=0;O<C-1;O++)for(var V=E[O],j=y[V],$=O+1;$<C;$++){var W=E[$],Y=y[W],q=Math.min(j[W],j[p]+_[W]);j[W]=q,Y[V]=q}return y}}]),T}();U.default=L}])}},na=>{na(na.s=827)}]);
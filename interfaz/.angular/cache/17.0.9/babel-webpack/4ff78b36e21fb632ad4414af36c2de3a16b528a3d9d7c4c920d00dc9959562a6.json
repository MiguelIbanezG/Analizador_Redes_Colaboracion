{"ast":null,"code":"import _asyncToGenerator from \"/home/miguel/Analizador_Redes_Colaboracion/interfaz/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../api.service\";\nimport * as i3 from \"../seleccion.service\";\nimport * as i4 from \"@angular/common/http\";\nimport * as i5 from \"@angular/common\";\nfunction ConfigComponent_tr_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const paper_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(paper_r1.ipName);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(paper_r1.authorName);\n  }\n}\nexport class ConfigComponent {\n  constructor(route, apiService, seleccionService, http) {\n    this.route = route;\n    this.apiService = apiService;\n    this.seleccionService = seleccionService;\n    this.http = http;\n    this.titulosSeleccionados = [];\n    this.yearsSeleccionados = [];\n    this.conferenceOption = \"\";\n    this.venueName = [];\n    this.papers = [];\n    this.colaboraciones = [];\n    this.singleAuthor = [];\n    this.estadisticas = [];\n    this.researchers = [];\n    this.papersWithAuthors = [];\n    this.autoresPorPapersTable = [];\n    this.papersPorAutoresTable = [];\n    this.decadeStats = [];\n    this.sortedProceedings = [];\n    this.commonNames = {};\n    this.options = {\n      // if width is between 0 and 1 it will be set to the width of the upper element multiplied by the value\n      width: 500,\n      // if height is between 0 and 1 it will be set to the height of the upper element multiplied by the value\n      height: 200,\n      overflow: false,\n      realignOnResize: false,\n      strict: false,\n      step: 2\n    };\n    this.cloudData = [];\n  }\n  ngOnInit() {\n    //LLamada a la funcion principal para la ejecucion de todo\n    this.main();\n  }\n  obtenerBooks() {\n    this.apiService.obtenerbooks(this.titulosSeleccionados, this.venueName).subscribe({\n      next: response => {\n        console.log(\"resss\" + response);\n        this.sortedProceedings = response;\n      },\n      error: error => {\n        console.error('Error al obtener los resultados filtrados:', error);\n      }\n    });\n  }\n  obtenerAuthorsBooks() {\n    var _this = this;\n    this.apiService.obtenerAuthorsNames(this.titulosSeleccionados, this.conferenceOption, this.venueName).subscribe({\n      next: function () {\n        var _ref = _asyncToGenerator(function* (response) {\n          console.log(\"wpoiefjwpej\" + response);\n          _this.singleAuthor = response;\n          _this.statsSingleAuthor();\n        });\n        return function next(_x) {\n          return _ref.apply(this, arguments);\n        };\n      }(),\n      error: error => {\n        console.error('Error al obtener los Author Papers:', error);\n      }\n    });\n  }\n  statsSingleAuthor() {\n    const papersWithAuthors = [];\n    // Iterar sobre los datos para crear la estructura papersWithAuthors\n    this.singleAuthor.forEach(author => {\n      papersWithAuthors.push({\n        ipName: author.ipName,\n        authorName: author.researcher,\n        year: author.year\n      });\n    });\n    this.papersWithAuthors = papersWithAuthors;\n  }\n  main() {\n    var _this2 = this;\n    return _asyncToGenerator(function* () {\n      try {\n        _this2.titulosSeleccionados = _this2.seleccionService.obtenerTitulosSeleccionados();\n        _this2.conferenceOption = _this2.seleccionService.obtenerOpcionConferencia();\n        _this2.venueName = _this2.seleccionService.obtenerNombreVenue();\n        _this2.obtenerAuthorsBooks();\n      } catch (error) {\n        console.error('Error al obtener los datos:', error);\n      }\n    })();\n  }\n  static #_ = this.ɵfac = function ConfigComponent_Factory(t) {\n    return new (t || ConfigComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i2.ApiService), i0.ɵɵdirectiveInject(i3.SeleccionService), i0.ɵɵdirectiveInject(i4.HttpClient));\n  };\n  static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: ConfigComponent,\n    selectors: [[\"app-config\"]],\n    decls: 10,\n    vars: 1,\n    consts: [[1, \"tabla\"], [\"id\", \"autoresTabla\"], [1, \"tabla1\"], [1, \"tabla2\"], [4, \"ngFor\", \"ngForOf\"]],\n    template: function ConfigComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"table\", 1)(2, \"thead\")(3, \"tr\")(4, \"th\", 2);\n        i0.ɵɵtext(5, \"Paper\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(6, \"th\", 3);\n        i0.ɵɵtext(7, \"Author\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(8, \"tbody\");\n        i0.ɵɵtemplate(9, ConfigComponent_tr_9_Template, 5, 2, \"tr\", 4);\n        i0.ɵɵelementEnd()()();\n      }\n      if (rf & 2) {\n        i0.ɵɵadvance(9);\n        i0.ɵɵproperty(\"ngForOf\", ctx.papersWithAuthors);\n      }\n    },\n    dependencies: [i5.NgForOf],\n    styles: [\".tabla[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: start stretch;\\n}\\n\\n.tabla1[_ngcontent-%COMP%] {\\n  display: flex;\\n  justify-content: start stretch;\\n}\\n\\n.tabla2[_ngcontent-%COMP%] {\\n  padding-right: 300px;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvY29uZmlnL2NvbmZpZy5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNDLGFBQUE7RUFDQSw4QkFBQTtBQUNEOztBQUVBO0VBQ0ksYUFBQTtFQUNBLDhCQUFBO0FBQ0o7O0FBRUE7RUFDSSxvQkFBQTtBQUNKIiwic291cmNlc0NvbnRlbnQiOlsiLnRhYmxhe1xuIGRpc3BsYXk6IGZsZXg7XG4ganVzdGlmeS1jb250ZW50OiBzdGFydCBzdHJldGNoO1xufVxuXG4udGFibGExe1xuICAgIGRpc3BsYXk6IGZsZXg7XG4gICAganVzdGlmeS1jb250ZW50OiBzdGFydCBzdHJldGNoO1xufVxuXG4udGFibGEye1xuICAgIHBhZGRpbmctcmlnaHQ6IDMwMHB4O1xufSJdLCJzb3VyY2VSb290IjoiIn0= */\"]\n  });\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵtextInterpolate","paper_r1","ipName","authorName","ConfigComponent","constructor","route","apiService","seleccionService","http","titulosSeleccionados","yearsSeleccionados","conferenceOption","venueName","papers","colaboraciones","singleAuthor","estadisticas","researchers","papersWithAuthors","autoresPorPapersTable","papersPorAutoresTable","decadeStats","sortedProceedings","commonNames","options","width","height","overflow","realignOnResize","strict","step","cloudData","ngOnInit","main","obtenerBooks","obtenerbooks","subscribe","next","response","console","log","error","obtenerAuthorsBooks","_this","obtenerAuthorsNames","_ref","_asyncToGenerator","statsSingleAuthor","_x","apply","arguments","forEach","author","push","researcher","year","_this2","obtenerTitulosSeleccionados","obtenerOpcionConferencia","obtenerNombreVenue","_","ɵɵdirectiveInject","i1","ActivatedRoute","i2","ApiService","i3","SeleccionService","i4","HttpClient","_2","selectors","decls","vars","consts","template","ConfigComponent_Template","rf","ctx","ɵɵtemplate","ConfigComponent_tr_9_Template","ɵɵproperty"],"sources":["/home/miguel/Analizador_Redes_Colaboracion/interfaz/src/app/config/config.component.ts","/home/miguel/Analizador_Redes_Colaboracion/interfaz/src/app/config/config.component.html"],"sourcesContent":["import { Component, OnInit, ViewChild, ElementRef, AfterViewInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ApiService } from '../api.service';\nimport { SeleccionService } from '../seleccion.service';\nimport { HttpClient } from '@angular/common/http';\nimport { CloudData, CloudOptions } from 'angular-tag-cloud-module';\nimport { singular } from 'pluralize';\nimport * as Chart from 'chart.js';\n\n\ninterface Author {\n  ipNames: string[];\n  numPublications: number;\n  researcher: string;\n  year: string;\n}\n\ninterface DecadeStats {\n  label: string;\n  startYear: number;\n  endYear: number;\n  authors: Author[];\n}\n\ninterface GeneroCounts {\n  hombres: number;\n  mujeres: number;\n  desconocidos: number;\n}\n\ninterface GeneroData {\n  [anio: string]: GeneroCounts;\n}\n\n\n@Component({\n  selector: 'app-config',\n  templateUrl: './config.component.html',\n  styleUrls: ['./config.component.scss']\n})\nexport class ConfigComponent implements OnInit{\n  titulosSeleccionados: any[] = [];\n  yearsSeleccionados: any[] = [];\n  conferenceOption: string = \"\";\n  venueName: any[] = [];\n  papers: any[] = [];\n  colaboraciones: any[] = [];\n  singleAuthor: any[] = [];\n  estadisticas: any[] = [];\n  researchers: any[] = [];\n  papersWithAuthors: any[] = [];\n  autoresPorPapersTable: any[] = [];\n  papersPorAutoresTable: any[] = [];\n  decadeStats: any[] = [];\n  sortedProceedings: any[] = [];\n  \n  commonNames: { [key: string]: { frec_paises: { [key: string]: number }, genero: string } } = {};\n  options: CloudOptions = {\n    // if width is between 0 and 1 it will be set to the width of the upper element multiplied by the value\n    width: 500,\n    // if height is between 0 and 1 it will be set to the height of the upper element multiplied by the value\n    height: 200,\n    overflow: false,\n    realignOnResize: false,\n    strict: false,\n    step: 2,\n  };\n  cloudData: CloudData[] = []\n\n  constructor(\n    private route: ActivatedRoute,\n    private apiService: ApiService,\n    private seleccionService: SeleccionService,\n    private http: HttpClient\n  ) {}\n\n\n\n  ngOnInit() {\n    //LLamada a la funcion principal para la ejecucion de todo\n    this.main();\n  }\n\n  obtenerBooks(){\n    this.apiService.obtenerbooks(this.titulosSeleccionados, this.venueName).subscribe({\n      next: (response: any[]) => {\n      console.log(\"resss\"+response)\n      this.sortedProceedings = response\n      },\n      error: (error: any) => {\n        console.error('Error al obtener los resultados filtrados:', error);\n      }\n    });\n  }\n\n  obtenerAuthorsBooks() {\n      this.apiService.obtenerAuthorsNames(this.titulosSeleccionados, this.conferenceOption, this.venueName)\n        .subscribe({\n          next: async (response: any) => {\n            console.log(\"wpoiefjwpej\"+response)\n            this.singleAuthor = response;\n            this.statsSingleAuthor();\n          },\n          error: (error: any) => {\n            console.error('Error al obtener los Author Papers:', error);\n          }\n        });\n  }\n\n\n  statsSingleAuthor() {\n    const papersWithAuthors: { ipName: string, authorName: string, year: string }[] = [];\n  \n    // Iterar sobre los datos para crear la estructura papersWithAuthors\n    this.singleAuthor.forEach((author: { ipName: string, researcher: string, year: string }) => {\n      papersWithAuthors.push({\n        ipName: author.ipName,\n        authorName: author.researcher,\n        year: author.year\n      });\n    });\n  \n    this.papersWithAuthors = papersWithAuthors;\n\n  }\n\n  async main(){\n    try {\n      this.titulosSeleccionados = this.seleccionService.obtenerTitulosSeleccionados();\n      this.conferenceOption = this.seleccionService.obtenerOpcionConferencia();\n      this.venueName = this.seleccionService.obtenerNombreVenue();\n\n      this.obtenerAuthorsBooks();\n    \n\n  } catch (error) {\n    console.error('Error al obtener los datos:', error);\n  }\n  }\n \n}\n\n","<div class=\"tabla\">\n  <table id=\"autoresTabla\">\n    <thead>\n      <tr>\n        <th class=\"tabla1\">Paper</th>\n        <th class=\"tabla2\" >Author</th>\n      </tr>\n    </thead>\n    <tbody>\n      <tr *ngFor=\"let paper of papersWithAuthors\">\n        <td>{{ paper.ipName }}</td>\n        <td>{{ paper.authorName }}</td>\n      </tr>\n    </tbody>\n  </table>\n</div>\n"],"mappings":";;;;;;;;;ICSMA,EAAA,CAAAC,cAAA,SAA4C;IACtCD,EAAA,CAAAE,MAAA,GAAkB;IAAAF,EAAA,CAAAG,YAAA,EAAK;IAC3BH,EAAA,CAAAC,cAAA,SAAI;IAAAD,EAAA,CAAAE,MAAA,GAAsB;IAAAF,EAAA,CAAAG,YAAA,EAAK;;;;IAD3BH,EAAA,CAAAI,SAAA,GAAkB;IAAlBJ,EAAA,CAAAK,iBAAA,CAAAC,QAAA,CAAAC,MAAA,CAAkB;IAClBP,EAAA,CAAAI,SAAA,GAAsB;IAAtBJ,EAAA,CAAAK,iBAAA,CAAAC,QAAA,CAAAE,UAAA,CAAsB;;;AD6BlC,OAAM,MAAOC,eAAe;EA6B1BC,YACUC,KAAqB,EACrBC,UAAsB,EACtBC,gBAAkC,EAClCC,IAAgB;IAHhB,KAAAH,KAAK,GAALA,KAAK;IACL,KAAAC,UAAU,GAAVA,UAAU;IACV,KAAAC,gBAAgB,GAAhBA,gBAAgB;IAChB,KAAAC,IAAI,GAAJA,IAAI;IAhCd,KAAAC,oBAAoB,GAAU,EAAE;IAChC,KAAAC,kBAAkB,GAAU,EAAE;IAC9B,KAAAC,gBAAgB,GAAW,EAAE;IAC7B,KAAAC,SAAS,GAAU,EAAE;IACrB,KAAAC,MAAM,GAAU,EAAE;IAClB,KAAAC,cAAc,GAAU,EAAE;IAC1B,KAAAC,YAAY,GAAU,EAAE;IACxB,KAAAC,YAAY,GAAU,EAAE;IACxB,KAAAC,WAAW,GAAU,EAAE;IACvB,KAAAC,iBAAiB,GAAU,EAAE;IAC7B,KAAAC,qBAAqB,GAAU,EAAE;IACjC,KAAAC,qBAAqB,GAAU,EAAE;IACjC,KAAAC,WAAW,GAAU,EAAE;IACvB,KAAAC,iBAAiB,GAAU,EAAE;IAE7B,KAAAC,WAAW,GAAkF,EAAE;IAC/F,KAAAC,OAAO,GAAiB;MACtB;MACAC,KAAK,EAAE,GAAG;MACV;MACAC,MAAM,EAAE,GAAG;MACXC,QAAQ,EAAE,KAAK;MACfC,eAAe,EAAE,KAAK;MACtBC,MAAM,EAAE,KAAK;MACbC,IAAI,EAAE;KACP;IACD,KAAAC,SAAS,GAAgB,EAAE;EAOxB;EAIHC,QAAQA,CAAA;IACN;IACA,IAAI,CAACC,IAAI,EAAE;EACb;EAEAC,YAAYA,CAAA;IACV,IAAI,CAAC5B,UAAU,CAAC6B,YAAY,CAAC,IAAI,CAAC1B,oBAAoB,EAAE,IAAI,CAACG,SAAS,CAAC,CAACwB,SAAS,CAAC;MAChFC,IAAI,EAAGC,QAAe,IAAI;QAC1BC,OAAO,CAACC,GAAG,CAAC,OAAO,GAACF,QAAQ,CAAC;QAC7B,IAAI,CAAChB,iBAAiB,GAAGgB,QAAQ;MACjC,CAAC;MACDG,KAAK,EAAGA,KAAU,IAAI;QACpBF,OAAO,CAACE,KAAK,CAAC,4CAA4C,EAAEA,KAAK,CAAC;MACpE;KACD,CAAC;EACJ;EAEAC,mBAAmBA,CAAA;IAAA,IAAAC,KAAA;IACf,IAAI,CAACrC,UAAU,CAACsC,mBAAmB,CAAC,IAAI,CAACnC,oBAAoB,EAAE,IAAI,CAACE,gBAAgB,EAAE,IAAI,CAACC,SAAS,CAAC,CAClGwB,SAAS,CAAC;MACTC,IAAI;QAAA,IAAAQ,IAAA,GAAAC,iBAAA,CAAE,WAAOR,QAAa,EAAI;UAC5BC,OAAO,CAACC,GAAG,CAAC,aAAa,GAACF,QAAQ,CAAC;UACnCK,KAAI,CAAC5B,YAAY,GAAGuB,QAAQ;UAC5BK,KAAI,CAACI,iBAAiB,EAAE;QAC1B,CAAC;QAAA,gBAAAV,KAAAW,EAAA;UAAA,OAAAH,IAAA,CAAAI,KAAA,OAAAC,SAAA;QAAA;MAAA;MACDT,KAAK,EAAGA,KAAU,IAAI;QACpBF,OAAO,CAACE,KAAK,CAAC,qCAAqC,EAAEA,KAAK,CAAC;MAC7D;KACD,CAAC;EACR;EAGAM,iBAAiBA,CAAA;IACf,MAAM7B,iBAAiB,GAA2D,EAAE;IAEpF;IACA,IAAI,CAACH,YAAY,CAACoC,OAAO,CAAEC,MAA4D,IAAI;MACzFlC,iBAAiB,CAACmC,IAAI,CAAC;QACrBpD,MAAM,EAAEmD,MAAM,CAACnD,MAAM;QACrBC,UAAU,EAAEkD,MAAM,CAACE,UAAU;QAC7BC,IAAI,EAAEH,MAAM,CAACG;OACd,CAAC;IACJ,CAAC,CAAC;IAEF,IAAI,CAACrC,iBAAiB,GAAGA,iBAAiB;EAE5C;EAEMe,IAAIA,CAAA;IAAA,IAAAuB,MAAA;IAAA,OAAAV,iBAAA;MACR,IAAI;QACFU,MAAI,CAAC/C,oBAAoB,GAAG+C,MAAI,CAACjD,gBAAgB,CAACkD,2BAA2B,EAAE;QAC/ED,MAAI,CAAC7C,gBAAgB,GAAG6C,MAAI,CAACjD,gBAAgB,CAACmD,wBAAwB,EAAE;QACxEF,MAAI,CAAC5C,SAAS,GAAG4C,MAAI,CAACjD,gBAAgB,CAACoD,kBAAkB,EAAE;QAE3DH,MAAI,CAACd,mBAAmB,EAAE;OAG7B,CAAC,OAAOD,KAAK,EAAE;QACdF,OAAO,CAACE,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;;IACpD;EACD;EAAC,QAAAmB,CAAA,G;qBAlGUzD,eAAe,EAAAT,EAAA,CAAAmE,iBAAA,CAAAC,EAAA,CAAAC,cAAA,GAAArE,EAAA,CAAAmE,iBAAA,CAAAG,EAAA,CAAAC,UAAA,GAAAvE,EAAA,CAAAmE,iBAAA,CAAAK,EAAA,CAAAC,gBAAA,GAAAzE,EAAA,CAAAmE,iBAAA,CAAAO,EAAA,CAAAC,UAAA;EAAA;EAAA,QAAAC,EAAA,G;UAAfnE,eAAe;IAAAoE,SAAA;IAAAC,KAAA;IAAAC,IAAA;IAAAC,MAAA;IAAAC,QAAA,WAAAC,yBAAAC,EAAA,EAAAC,GAAA;MAAA,IAAAD,EAAA;QCxC5BnF,EAAA,CAAAC,cAAA,aAAmB;QAIQD,EAAA,CAAAE,MAAA,YAAK;QAAAF,EAAA,CAAAG,YAAA,EAAK;QAC7BH,EAAA,CAAAC,cAAA,YAAoB;QAAAD,EAAA,CAAAE,MAAA,aAAM;QAAAF,EAAA,CAAAG,YAAA,EAAK;QAGnCH,EAAA,CAAAC,cAAA,YAAO;QACLD,EAAA,CAAAqF,UAAA,IAAAC,6BAAA,gBAGK;QACPtF,EAAA,CAAAG,YAAA,EAAQ;;;QAJgBH,EAAA,CAAAI,SAAA,GAAoB;QAApBJ,EAAA,CAAAuF,UAAA,YAAAH,GAAA,CAAA5D,iBAAA,CAAoB"},"metadata":{},"sourceType":"module","externalDependencies":[]}
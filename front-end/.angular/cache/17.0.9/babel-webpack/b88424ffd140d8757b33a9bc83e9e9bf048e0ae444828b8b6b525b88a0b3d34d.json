{"ast":null,"code":"import _asyncToGenerator from \"/home/miguel/Collaboration_Networks/front-end/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet AuthorsComponent = class AuthorsComponent {\n  constructor(apiService, homeService, authorService, networkInitService, router) {\n    this.apiService = apiService;\n    this.homeService = homeService;\n    this.authorService = authorService;\n    this.networkInitService = networkInitService;\n    this.router = router;\n    this.filtersBOX = '';\n    this.completeAuthor = [];\n    this.authorsQuery = [];\n    this.publications = [];\n    this.showPublications = false;\n    this.noResults = false;\n    this.repeated = false;\n  }\n  // API CALL: Function to autocomplete the text box.\n  autocompleteAuthor(term) {\n    term = this.replaceAuthor(term);\n    this.apiService.autocompleteAuthors(term).subscribe({\n      next: response => {\n        this.completeAuthor = this.includeAccentMarks(response);\n        this.normalized();\n      },\n      error: error => {\n        console.error('Error in autocompleteConference', error);\n      }\n    });\n  }\n  // Function to delete author errors in the database\n  normalized() {\n    const uniqueAuthors = [];\n    const processedAuthors = [];\n    for (const author of this.completeAuthor) {\n      const normalizedAuthor = author.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\n      if (!processedAuthors.includes(normalizedAuthor)) {\n        uniqueAuthors.push(author);\n        processedAuthors.push(normalizedAuthor);\n      } else {\n        uniqueAuthors.push(normalizedAuthor);\n        const index = uniqueAuthors.findIndex(a => a.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\") === normalizedAuthor);\n        if (index !== -1) {\n          uniqueAuthors.splice(index, 1);\n        }\n      }\n    }\n    this.completeAuthor = uniqueAuthors;\n  }\n  // API CALL: Function to find the authors' publications.\n  getAuthorsPublications() {\n    this.publications = [];\n    this.authorsQuery = this.replaceAccentMarks(this.authorService.Authors);\n    this.apiService.getAuthorsPublications(this.authorsQuery).subscribe({\n      next: response => {\n        this.publications = response;\n        this.showPublications = true;\n        this.generateTablePublications(this.publications);\n      },\n      error: error => {\n        console.error('Error in getAuthorsPublications', error);\n      }\n    });\n  }\n  // API CALL: Function to find authors with common publications\n  getNetworksAuthor() {\n    this.authorsQuery = this.replaceAccentMarks(this.authorService.Authors);\n    this.networkInitService.nameAuthors = [];\n    this.networkInitService.completeAuthors = [];\n    this.apiService.getNetworksAuthor(this.authorsQuery).subscribe({\n      next: response => {\n        this.networkInitService.nameAuthors = response;\n        this.networkInitService.completeAuthors = response;\n      },\n      error: error => {\n        console.error('Error in getNetworksAuthor', error);\n      }\n    });\n    this.waitNetworks();\n  }\n  // Function to check that the chosen Author exists and is not duplicated\n  completeSuggestion(suggestion) {\n    if (suggestion.trim() !== '') {\n      const author = suggestion.trim();\n      if (this.authorService.Authors.includes(suggestion.trim())) {\n        this.repeated = true;\n      } else {\n        this.repeated = false;\n      }\n      const authorQuery = [this.replaceAuthor(author)];\n      this.apiService.getAuthorsPublications(authorQuery).subscribe({\n        next: response => {\n          if (response.length == 0) {\n            this.noResults = true;\n          } else {\n            this.noResults = false;\n            if (this.repeated == false) {\n              this.authorService.Authors.push(suggestion.trim());\n              this.networkInitService.selectedAuthors = this.authorService.Authors;\n            }\n          }\n        },\n        error: error => {\n          console.error('Error in getAuthorsPublications', error);\n        }\n      });\n    }\n  }\n  // Function for select author\n  selectSuggestion(suggestion) {\n    this.filtersBOX = suggestion;\n  }\n  // Function for delete author\n  deleteFilter(filter) {\n    const i = this.authorService.Authors.indexOf(filter);\n    if (i !== -1) {\n      this.authorService.Authors.splice(i, 1);\n    }\n  }\n  // Function for generate table publications\n  generateTablePublications(publications) {\n    const table = document.querySelector('#tablePublications tbody');\n    if (table instanceof HTMLElement) {\n      table.innerHTML = '';\n      publications.forEach(({\n        title,\n        DayOfPublication,\n        AuthorName,\n        PublicationType\n      }) => {\n        const row = document.createElement('tr');\n        let color;\n        switch (PublicationType) {\n          case 'Journal Article':\n            color = 'red';\n            break;\n          case 'Workshop Paper':\n            color = 'blue';\n            break;\n          case 'Part in Books or Collection':\n            color = 'yellow';\n            break;\n          default:\n            color = 'black';\n        }\n        const formattedAuthorNames = AuthorName.join(', ');\n        row.innerHTML = `<td style=\"background-color: ${color}; width: 15px; border: 1px solid black; height: 10px; max-height: 10px;white-space: nowrap;\"></td><td style=\"padding-left: 20px; padding-right: 50px;\">${title}</td><td style=\"padding-right: 30px; white-space: nowrap;\">${DayOfPublication}</td><td>${formattedAuthorNames}</td>`;\n        table.appendChild(row);\n      });\n    }\n  }\n  // Function for activate Link Authors in NavBar\n  activateLink() {\n    this.homeService.setActiveLinkNetwork(true);\n  }\n  // Function for wait data\n  waitNetworks() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      while (!_this.networkInitService.nameAuthors || _this.networkInitService.nameAuthors.length === 0) {\n        yield new Promise(resolve => setTimeout(resolve, 100));\n      }\n      _this.activateLink();\n      _this.router.navigateByUrl('/network');\n    })();\n  }\n  // Function replace Accent Marks\n  replaceAccentMarks(str) {\n    str = str.map(author => {\n      author = author.replace(/á/g, '&aacute;').replace(/é/g, '&eacute;').replace(/í/g, '&iacute;').replace(/ó/g, '&oacute;').replace(/ú/g, '&uacute;').replace(/ñ/g, '&ntilde;').replace(/Á/g, '&Aacute;').replace(/É/g, '&Eacute;').replace(/Í/g, '&Iacute;').replace(/Ó/g, '&Oacute;').replace(/Ú/g, '&Uacute;').replace(/Ñ/g, '&Ntilde;').replace(/à/g, '&agrave;').replace(/è/g, '&egrave;').replace(/ò/g, '&ograve;').replace(/À/g, '&Agrave;').replace(/È/g, '&Egrave;').replace(/Ò/g, '&Ograve;').replace(/â/g, '&acirc;').replace(/Â/g, '&Acirc;').replace(/ã/g, '&atilde;').replace(/Ã/g, '&Atilde;').replace(/ö/g, '&ouml;').replace(/Ö/g, '&Ouml;');\n      return author;\n    });\n    return str;\n  }\n  // Function include Accent Marks\n  includeAccentMarks(str) {\n    str = str.map(author => {\n      author = author.replace(/&aacute;/g, 'á').replace(/&eacute;/g, 'é').replace(/&iacute;/g, 'í').replace(/&oacute;/g, 'ó').replace(/&uacute;/g, 'ú').replace(/&ntilde;/g, 'ñ').replace(/&Aacute;/g, 'Á').replace(/&Eacute;/g, 'É').replace(/&Iacute;/g, 'Í').replace(/&Oacute;/g, 'Ó').replace(/&Uacute;/g, 'Ú').replace(/&Ntilde;/g, 'Ñ').replace(/&agrave;/g, 'à').replace(/&egrave;/g, 'è').replace(/&ograve;/g, 'ò').replace(/&Agrave;/g, 'À').replace(/&Egrave;/g, 'È').replace(/&Ograve;/g, 'Ò').replace(/&acirc;/g, 'â').replace(/&Acirc;/g, 'Â').replace(/&atilde;/g, 'ã').replace(/&Atilde;/g, 'Ã').replace(/&ouml;/g, 'ö').replace(/&Ouml;/g, 'Ö');\n      return author;\n    });\n    return str;\n  }\n  // Function replace AuthorName\n  replaceAuthor(author) {\n    author = author.replace(/á/g, '&aacute;').replace(/é/g, '&eacute;').replace(/í/g, '&iacute;').replace(/ó/g, '&oacute;').replace(/ú/g, '&uacute;').replace(/ñ/g, '&ntilde;').replace(/Á/g, '&Aacute;').replace(/É/g, '&Eacute;').replace(/Í/g, '&Iacute;').replace(/Ó/g, '&Oacute;').replace(/Ú/g, '&Uacute;').replace(/Ñ/g, '&Ntilde;').replace(/à/g, '&agrave;').replace(/è/g, '&egrave;').replace(/ò/g, '&ograve;').replace(/À/g, '&Agrave;').replace(/È/g, '&Egrave;').replace(/Ò/g, '&Ograve;').replace(/â/g, '&acirc;').replace(/Â/g, '&Acirc;').replace(/ã/g, '&atilde;').replace(/Ã/g, '&Atilde;').replace(/ö/g, '&ouml;').replace(/Ö/g, '&Ouml;');\n    return author;\n  }\n};\nAuthorsComponent = __decorate([Component({\n  selector: 'app-authors',\n  templateUrl: './authors.component.html',\n  styleUrl: './authors.component.scss'\n})], AuthorsComponent);\nexport { AuthorsComponent };","map":{"version":3,"names":["Component","AuthorsComponent","constructor","apiService","homeService","authorService","networkInitService","router","filtersBOX","completeAuthor","authorsQuery","publications","showPublications","noResults","repeated","autocompleteAuthor","term","replaceAuthor","autocompleteAuthors","subscribe","next","response","includeAccentMarks","normalized","error","console","uniqueAuthors","processedAuthors","author","normalizedAuthor","normalize","replace","includes","push","index","findIndex","a","splice","getAuthorsPublications","replaceAccentMarks","Authors","generateTablePublications","getNetworksAuthor","nameAuthors","completeAuthors","waitNetworks","completeSuggestion","suggestion","trim","authorQuery","length","selectedAuthors","selectSuggestion","deleteFilter","filter","i","indexOf","table","document","querySelector","HTMLElement","innerHTML","forEach","title","DayOfPublication","AuthorName","PublicationType","row","createElement","color","formattedAuthorNames","join","appendChild","activateLink","setActiveLinkNetwork","_this","_asyncToGenerator","Promise","resolve","setTimeout","navigateByUrl","str","map","__decorate","selector","templateUrl","styleUrl"],"sources":["/home/miguel/Collaboration_Networks/front-end/src/app/authors/authors.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ApiService } from '../services/api.service';\nimport { HomeService } from '../services/home.service';\nimport { AppNetworkInitService } from '../services/network.init.service';\nimport { Router } from '@angular/router';\nimport { AuthorsService } from '../services/authors.service';\n\n@Component({\n  selector: 'app-authors',\n  templateUrl: './authors.component.html',\n  styleUrl: './authors.component.scss'\n})\n\nexport class AuthorsComponent {\n\n  filtersBOX: string = '';\n  completeAuthor: string[] = [];\n  authorsQuery: string[] = [];\n  publications: string[] = [];\n  showPublications = false;\n  noResults = false;\n  repeated = false;\n\n  constructor(\n    private apiService: ApiService,\n    public homeService: HomeService,\n    public authorService: AuthorsService,\n    private networkInitService: AppNetworkInitService,\n    private router: Router,\n  ) { }\n\n  // API CALL: Function to autocomplete the text box.\n  autocompleteAuthor(term: string): void {\n    term = this.replaceAuthor(term);\n    this.apiService.autocompleteAuthors(term).subscribe({\n      next: (response: string[]) => {\n\n        this.completeAuthor = this.includeAccentMarks(response)\n        this.normalized()\n      },\n      error: (error: any) => {\n        console.error('Error in autocompleteConference', error);\n      }\n    });\n  }\n\n  // Function to delete author errors in the database\n  normalized() {\n    const uniqueAuthors: string[] = [];\n    const processedAuthors: string[] = [];\n\n    for (const author of this.completeAuthor) {\n      const normalizedAuthor = author.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\");\n\n      if (!processedAuthors.includes(normalizedAuthor)) {\n        uniqueAuthors.push(author);\n        processedAuthors.push(normalizedAuthor);\n      } else {\n        uniqueAuthors.push(normalizedAuthor);\n        const index = uniqueAuthors.findIndex(a => a.normalize(\"NFD\").replace(/[\\u0300-\\u036f]/g, \"\") === normalizedAuthor);\n        if (index !== -1) {\n          uniqueAuthors.splice(index, 1); \n        }\n      }\n    }\n    this.completeAuthor = uniqueAuthors;\n  }\n\n  // API CALL: Function to find the authors' publications.\n  getAuthorsPublications(): void {\n    this.publications = []\n    this.authorsQuery = this.replaceAccentMarks(this.authorService.Authors);\n    this.apiService.getAuthorsPublications(this.authorsQuery).subscribe({\n      next: (response: string[]) => {\n        this.publications = response;\n        this.showPublications = true;\n        this.generateTablePublications(this.publications);\n      },\n      error: (error: any) => {\n        console.error('Error in getAuthorsPublications', error);\n      }\n    });\n  }\n\n  // API CALL: Function to find authors with common publications\n  getNetworksAuthor(): void {\n    this.authorsQuery = this.replaceAccentMarks(this.authorService.Authors);\n    this.networkInitService.nameAuthors = [];\n    this.networkInitService.completeAuthors = [];\n    this.apiService.getNetworksAuthor(this.authorsQuery).subscribe({\n      next: (response: string[]) => {\n        this.networkInitService.nameAuthors = response;\n        this.networkInitService.completeAuthors = response;\n      },\n      error: (error: any) => {\n        console.error('Error in getNetworksAuthor', error);\n      }\n    });\n    this.waitNetworks();\n  }\n\n  // Function to check that the chosen Author exists and is not duplicated\n  completeSuggestion(suggestion: string) {\n\n    if (suggestion.trim() !== '') {\n      const author: string = suggestion.trim()\n\n      if (this.authorService.Authors.includes(suggestion.trim())) {\n        this.repeated = true;\n      } else {\n        this.repeated = false;\n      }\n\n      const authorQuery:string[] = [this.replaceAuthor(author)]\n\n      this.apiService.getAuthorsPublications(authorQuery).subscribe({\n        next: (response: string[]) => {\n          if (response.length == 0) {\n            this.noResults = true;\n\n          } else {\n            this.noResults = false;\n\n            if (this.repeated == false) {\n              this.authorService.Authors.push(suggestion.trim());\n              this.networkInitService.selectedAuthors = this.authorService.Authors;\n            }\n          }\n        },\n        error: (error: any) => {\n          console.error('Error in getAuthorsPublications', error);\n        }\n      });\n    }\n  }\n\n  // Function for select author\n  selectSuggestion(suggestion: string) {\n    this.filtersBOX = suggestion;\n  }\n\n  // Function for delete author\n  deleteFilter(filter: string) {\n\n    const i = this.authorService.Authors.indexOf(filter);\n    if (i !== -1) {\n      this.authorService.Authors.splice(i, 1);\n    }\n  }\n\n  // Function for generate table publications\n  generateTablePublications(publications: any[]) {\n    const table = document.querySelector('#tablePublications tbody');\n\n    if (table instanceof HTMLElement) {\n      table.innerHTML = '';\n      publications.forEach(({ title, DayOfPublication, AuthorName, PublicationType }) => {\n        const row = document.createElement('tr');\n        let color;\n        switch (PublicationType) {\n          case 'Journal Article':\n            color = 'red';\n            break;\n          case 'Workshop Paper':\n            color = 'blue';\n            break;\n          case 'Part in Books or Collection':\n            color = 'yellow';\n            break;\n          default:\n            color = 'black';\n        }\n        const formattedAuthorNames = AuthorName.join(', ');\n        row.innerHTML = `<td style=\"background-color: ${color}; width: 15px; border: 1px solid black; height: 10px; max-height: 10px;white-space: nowrap;\"></td><td style=\"padding-left: 20px; padding-right: 50px;\">${title}</td><td style=\"padding-right: 30px; white-space: nowrap;\">${DayOfPublication}</td><td>${formattedAuthorNames}</td>`;\n\n        table.appendChild(row);\n      });\n    }\n  }\n\n  // Function for activate Link Authors in NavBar\n  activateLink() {\n    this.homeService.setActiveLinkNetwork(true);\n  }\n\n  // Function for wait data\n  async waitNetworks() {\n    while (!this.networkInitService.nameAuthors || this.networkInitService.nameAuthors.length === 0) {\n      await new Promise(resolve => setTimeout(resolve, 100));\n    }\n    this.activateLink();\n    this.router.navigateByUrl('/network');\n  }\n\n  // Function replace Accent Marks\n  replaceAccentMarks( str: string[]) {\n    str = str.map(author => {\n      author = author.replace(/á/g, '&aacute;')\n        .replace(/é/g, '&eacute;')\n        .replace(/í/g, '&iacute;')\n        .replace(/ó/g, '&oacute;')\n        .replace(/ú/g, '&uacute;')\n        .replace(/ñ/g, '&ntilde;')\n        .replace(/Á/g, '&Aacute;')\n        .replace(/É/g, '&Eacute;')\n        .replace(/Í/g, '&Iacute;')\n        .replace(/Ó/g, '&Oacute;')\n        .replace(/Ú/g, '&Uacute;')\n        .replace(/Ñ/g, '&Ntilde;')\n        .replace(/à/g, '&agrave;')\n        .replace(/è/g, '&egrave;')\n        .replace(/ò/g, '&ograve;')\n        .replace(/À/g, '&Agrave;')\n        .replace(/È/g, '&Egrave;')\n        .replace(/Ò/g, '&Ograve;')\n        .replace(/â/g, '&acirc;')\n        .replace(/Â/g, '&Acirc;')\n        .replace(/ã/g, '&atilde;')\n        .replace(/Ã/g, '&Atilde;')\n        .replace(/ö/g, '&ouml;')\n        .replace(/Ö/g, '&Ouml;');\n      return author;\n    });\n    return str\n  }\n\n  // Function include Accent Marks\n  includeAccentMarks( str: string[]) {\n    str = str.map(author => {\n      author = author.replace(/&aacute;/g, 'á')\n        .replace(/&eacute;/g, 'é')\n        .replace(/&iacute;/g, 'í')\n        .replace(/&oacute;/g, 'ó')\n        .replace(/&uacute;/g, 'ú')\n        .replace(/&ntilde;/g, 'ñ')\n        .replace(/&Aacute;/g, 'Á')\n        .replace(/&Eacute;/g, 'É')\n        .replace(/&Iacute;/g, 'Í')\n        .replace(/&Oacute;/g, 'Ó')\n        .replace(/&Uacute;/g, 'Ú')\n        .replace(/&Ntilde;/g, 'Ñ')\n        .replace(/&agrave;/g, 'à')\n        .replace(/&egrave;/g, 'è')\n        .replace(/&ograve;/g, 'ò')\n        .replace(/&Agrave;/g, 'À')\n        .replace(/&Egrave;/g, 'È')\n        .replace(/&Ograve;/g, 'Ò')\n        .replace(/&acirc;/g, 'â')\n        .replace(/&Acirc;/g, 'Â')\n        .replace(/&atilde;/g, 'ã')\n        .replace(/&Atilde;/g, 'Ã')\n        .replace(/&ouml;/g, 'ö')\n        .replace(/&Ouml;/g, 'Ö');\n      return author;\n    });\n    return str\n  }\n\n  // Function replace AuthorName\n  replaceAuthor(author: string) {\n      author = author.replace(/á/g, '&aacute;')\n        .replace(/é/g, '&eacute;')\n        .replace(/í/g, '&iacute;')\n        .replace(/ó/g, '&oacute;')\n        .replace(/ú/g, '&uacute;')\n        .replace(/ñ/g, '&ntilde;')\n        .replace(/Á/g, '&Aacute;')\n        .replace(/É/g, '&Eacute;')\n        .replace(/Í/g, '&Iacute;')\n        .replace(/Ó/g, '&Oacute;')\n        .replace(/Ú/g, '&Uacute;')\n        .replace(/Ñ/g, '&Ntilde;')\n        .replace(/à/g, '&agrave;')\n        .replace(/è/g, '&egrave;')\n        .replace(/ò/g, '&ograve;')\n        .replace(/À/g, '&Agrave;')\n        .replace(/È/g, '&Egrave;')\n        .replace(/Ò/g, '&Ograve;')\n        .replace(/â/g, '&acirc;')\n        .replace(/Â/g, '&Acirc;')\n        .replace(/ã/g, '&atilde;')\n        .replace(/Ã/g, '&Atilde;')\n        .replace(/ö/g, '&ouml;')\n        .replace(/Ö/g, '&Ouml;');\n      return author;\n  }\n\n\n}\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}